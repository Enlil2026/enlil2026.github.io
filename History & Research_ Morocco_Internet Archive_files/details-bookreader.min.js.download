// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
(()=>{var Ev=Object.defineProperty,G5=Object.defineProperties;var Y5=Object.getOwnPropertyDescriptors;var Cd=Object.getOwnPropertySymbols;var Tv=Object.prototype.hasOwnProperty,$v=Object.prototype.propertyIsEnumerable;var Bp=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),xn=Math.pow,Np=(e,t,r)=>t in e?Ev(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ur=(e,t)=>{for(var r in t||(t={}))Tv.call(t,r)&&Np(e,r,t[r]);if(Cd)for(var r of Cd(t))$v.call(t,r)&&Np(e,r,t[r]);return e},Ir=(e,t)=>G5(e,Y5(t));var en=(e,t)=>{var r={};for(var a in e)Tv.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Cd)for(var a of Cd(e))t.indexOf(a)<0&&$v.call(e,a)&&(r[a]=e[a]);return r};var Wt=(e,t)=>()=>(e&&(t=e(e=0)),t);var On=(e,t)=>{for(var r in t)Ev(e,r,{get:t[r],enumerable:!0})};var Pv=(e,t,r)=>(Np(e,typeof t!="symbol"?t+"":t,r),r),Ov=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var Ed=(e,t,r)=>(Ov(e,t,"read from private field"),r?r.call(e):t.get(e)),Mv=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Iv=(e,t,r,a)=>(Ov(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r);var Vt=(e,t,r)=>new Promise((a,l)=>{var o=c=>{try{n(r.next(c))}catch(d){l(d)}},u=c=>{try{n(r.throw(c))}catch(d){l(d)}},n=c=>c.done?a(c.value):Promise.resolve(c.value).then(o,u);n((r=r.apply(e,t)).next())}),K5=function(e,t){this[0]=e,this[1]=t};var Td=e=>{var t=e[Bp("asyncIterator")],r=!1,a,l={};return t==null?(t=e[Bp("iterator")](),a=o=>l[o]=u=>t[o](u)):(t=t.call(e),a=o=>l[o]=u=>{if(r){if(r=!1,o==="throw")throw u;return u}return r=!0,{done:!1,value:new K5(new Promise(n=>{var c=t[o](u);if(!(c instanceof Object))throw TypeError("Object expected");n(c)}),1)}}),l[Bp("iterator")]=()=>l,a("next"),"throw"in t?a("throw"):l.throw=o=>{throw o},"return"in t&&a("return"),l};function eu(e,t,r){var a=r||{},l=a.noTrailing,o=l===void 0?!1:l,u=a.noLeading,n=u===void 0?!1:u,c=a.debounceMode,d=c===void 0?void 0:c,f,p=!1,v=0;function y(){f&&clearTimeout(f)}function w(A){var C=A||{},x=C.upcomingOnly,S=x===void 0?!1:x;y(),p=!S}function k(){for(var A=arguments.length,C=new Array(A),x=0;x<A;x++)C[x]=arguments[x];var S=this,s=Date.now()-v;if(p)return;function h(){v=Date.now(),t.apply(S,C)}function g(){f=void 0}!n&&d&&!f&&h(),y(),d===void 0&&s>e?n?(v=Date.now(),o||(f=setTimeout(d?g:h,e))):h():o!==!0&&(f=setTimeout(d?g:h,d===void 0?e-s:e))}return k.cancel=w,k}var ec=Wt(()=>{});function Y(e,t,r,a){var l=arguments.length,o=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,a);else for(var n=e.length-1;n>=0;n--)(u=e[n])&&(o=(l<3?u(o):l>3?u(t,r,o):u(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o}function Hs(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function jo(e,t,r,a){function l(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function n(f){try{d(a.next(f))}catch(p){u(p)}}function c(f){try{d(a.throw(f))}catch(p){u(p)}}function d(f){f.done?o(f.value):l(f.value).then(n,c)}d((a=a.apply(e,t||[])).next())})}var Zi=Wt(()=>{});var $d,Pd,Fp,Lv,zp,Dv,Le,Hp,Od,Up=Wt(()=>{$d=window,Pd=$d.ShadowRoot&&($d.ShadyCSS===void 0||$d.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Fp=Symbol(),Lv=new WeakMap,zp=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==Fp)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(Pd&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=Lv.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Lv.set(t,e))}return e}toString(){return this.cssText}},Dv=e=>new zp(typeof e=="string"?e:e+"",void 0,Fp),Le=(e,...t)=>{let r=e.length===1?e[0]:t.reduce((a,l,o)=>a+(u=>{if(u._$cssResult$===!0)return u.cssText;if(typeof u=="number")return u;throw Error("Value passed to 'css' function must be a 'css' function result: "+u+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+e[o+1],e[0]);return new zp(r,e,Fp)},Hp=(e,t)=>{Pd?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{let a=document.createElement("style"),l=$d.litNonce;l!==void 0&&a.setAttribute("nonce",l),a.textContent=r.cssText,e.appendChild(a)})},Od=Pd?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let a of t.cssRules)r+=a.cssText;return Dv(r)})(e):e;});var Wp,Md,Rv,Z5,Vp,Gp,jv,qp,Yp,Us,tc=Wt(()=>{Up();Up();Md=window,Rv=Md.trustedTypes,Z5=Rv?Rv.emptyScript:"",Vp=Md.reactiveElementPolyfillSupport,Gp={toAttribute(e,t){switch(t){case Boolean:e=e?Z5:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(a){r=null}}return r}},jv=(e,t)=>t!==e&&(t==t||e==e),qp={attribute:!0,type:String,converter:Gp,reflect:!1,hasChanged:jv},Yp="finalized",Us=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,r)=>{let a=this._$Ep(r,t);a!==void 0&&(this._$Ev.set(a,r),e.push(a))}),e}static createProperty(e,t=qp){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,a=this.getPropertyDescriptor(e,r,t);a!==void 0&&Object.defineProperty(this.prototype,e,a)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(a){let l=this[e];this[t]=a,this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||qp}static finalize(){if(this.hasOwnProperty(Yp))return!1;this[Yp]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let a of r)this.createProperty(a,t[a])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let a of r)t.unshift(Od(a))}else e!==void 0&&t.push(Od(e));return t}static _$Ep(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Hp(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostConnected)===null||r===void 0?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostDisconnected)===null||r===void 0?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=qp){var a;let l=this.constructor._$Ep(e,r);if(l!==void 0&&r.reflect===!0){let o=(((a=r.converter)===null||a===void 0?void 0:a.toAttribute)!==void 0?r.converter:Gp).toAttribute(t,r.type);this._$El=e,o==null?this.removeAttribute(l):this.setAttribute(l,o),this._$El=null}}_$AK(e,t){var r;let a=this.constructor,l=a._$Ev.get(e);if(l!==void 0&&this._$El!==l){let o=a.getPropertyOptions(l),u=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:Gp;this._$El=l,this[l]=u.fromAttribute(t,o.type),this._$El=null}}requestUpdate(e,t,r){let a=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||jv)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):a=!1),!this.isUpdatePending&&a&&(this._$E_=this._$Ej())}_$Ej(){return Vt(this,null,function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((a,l)=>this[l]=a),this._$Ei=void 0);let t=!1,r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(a=>{var l;return(l=a.hostUpdate)===null||l===void 0?void 0:l.call(a)}),this.update(r)):this._$Ek()}catch(a){throw t=!1,this._$Ek(),a}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var a;return(a=r.hostUpdated)===null||a===void 0?void 0:a.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,r)=>this._$EO(r,this[r],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Us[Yp]=!0,Us.elementProperties=new Map,Us.elementStyles=[],Us.shadowRootOptions={mode:"open"},Vp==null||Vp({ReactiveElement:Us}),((Wp=Md.reactiveElementVersions)!==null&&Wp!==void 0?Wp:Md.reactiveElementVersions=[]).push("1.6.3");});function Yv(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Bv!==void 0?Bv.createHTML(t):t}function iu(e,t,r=e,a){var l,o,u,n;if(t===Gs)return t;let c=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,d=nc(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==d&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),d===void 0?c=void 0:(c=new d(e),c._$AT(e,r,a)),a!==void 0?((u=(n=r)._$Co)!==null&&u!==void 0?u:n._$Co=[])[a]=c:r._$Cl=c),c!==void 0&&(t=iu(e,c._$AS(e,t.values),c,a)),t}var Kp,Id,tu,Bv,Xp,gs,Wv,J5,qs,rc,nc,Vv,X5,Zp,ic,Nv,Fv,Ws,zv,Hv,qv,Gv,we,ln,Gs,ei,Uv,Vs,Q5,Qp,e4,ef,Ld,t4,i4,r4,n4,o4,Jp,Dd,ru=Wt(()=>{Id=window,tu=Id.trustedTypes,Bv=tu?tu.createPolicy("lit-html",{createHTML:e=>e}):void 0,Xp="$lit$",gs=`lit$${(Math.random()+"").slice(9)}$`,Wv="?"+gs,J5=`<${Wv}>`,qs=document,rc=()=>qs.createComment(""),nc=e=>e===null||typeof e!="object"&&typeof e!="function",Vv=Array.isArray,X5=e=>Vv(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Zp=`[ 	
\f\r]`,ic=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Nv=/-->/g,Fv=/>/g,Ws=RegExp(`>|${Zp}(?:([^\\s"'>=/]+)(${Zp}*=${Zp}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),zv=/'/g,Hv=/"/g,qv=/^(?:script|style|textarea|title)$/i,Gv=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),we=Gv(1),ln=Gv(2),Gs=Symbol.for("lit-noChange"),ei=Symbol.for("lit-nothing"),Uv=new WeakMap,Vs=qs.createTreeWalker(qs,129,null,!1);Q5=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",u=ic;for(let n=0;n<r;n++){let c=e[n],d,f,p=-1,v=0;for(;v<c.length&&(u.lastIndex=v,f=u.exec(c),f!==null);)v=u.lastIndex,u===ic?f[1]==="!--"?u=Nv:f[1]!==void 0?u=Fv:f[2]!==void 0?(qv.test(f[2])&&(l=RegExp("</"+f[2],"g")),u=Ws):f[3]!==void 0&&(u=Ws):u===Ws?f[0]===">"?(u=l!=null?l:ic,p=-1):f[1]===void 0?p=-2:(p=u.lastIndex-f[2].length,d=f[1],u=f[3]===void 0?Ws:f[3]==='"'?Hv:zv):u===Hv||u===zv?u=Ws:u===Nv||u===Fv?u=ic:(u=Ws,l=void 0);let y=u===Ws&&e[n+1].startsWith("/>")?" ":"";o+=u===ic?c+J5:p>=0?(a.push(d),c.slice(0,p)+Xp+c.slice(p)+gs+y):c+gs+(p===-2?(a.push(void 0),n):y)}return[Yv(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Qp=class Kv{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,u=0,n=t.length-1,c=this.parts,[d,f]=Q5(t,r);if(this.el=Kv.createElement(d,a),Vs.currentNode=this.el.content,r===2){let p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(l=Vs.nextNode())!==null&&c.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let p=[];for(let v of l.getAttributeNames())if(v.endsWith(Xp)||v.startsWith(gs)){let y=f[u++];if(p.push(v),y!==void 0){let w=l.getAttribute(y.toLowerCase()+Xp).split(gs),k=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?t4:k[1]==="?"?r4:k[1]==="@"?n4:Ld})}else c.push({type:6,index:o})}for(let v of p)l.removeAttribute(v)}if(qv.test(l.tagName)){let p=l.textContent.split(gs),v=p.length-1;if(v>0){l.textContent=tu?tu.emptyScript:"";for(let y=0;y<v;y++)l.append(p[y],rc()),Vs.nextNode(),c.push({type:2,index:++o});l.append(p[v],rc())}}}else if(l.nodeType===8)if(l.data===Wv)c.push({type:2,index:o});else{let p=-1;for(;(p=l.data.indexOf(gs,p+1))!==-1;)c.push({type:7,index:o}),p+=gs.length-1}o++}}static createElement(t,r){let a=qs.createElement("template");return a.innerHTML=t,a}};e4=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:qs).importNode(r,!0);Vs.currentNode=l;let o=Vs.nextNode(),u=0,n=0,c=a[0];for(;c!==void 0;){if(u===c.index){let d;c.type===2?d=new ef(o,o.nextSibling,this,e):c.type===1?d=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(d=new o4(o,this,e)),this._$AV.push(d),c=a[++n]}u!==(c==null?void 0:c.index)&&(o=Vs.nextNode(),u++)}return Vs.currentNode=qs,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},ef=class Zv{constructor(t,r,a,l){var o;this.type=2,this._$AH=ei,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=iu(this,t,r),nc(t)?t===ei||t==null||t===""?(this._$AH!==ei&&this._$AR(),this._$AH=ei):t!==this._$AH&&t!==Gs&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):X5(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==ei&&nc(this._$AH)?this._$AA.nextSibling.data=t:this.$(qs.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Qp.createElement(Yv(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let u=new e4(o,this),n=u.u(this.options);u.v(a),this.$(n),this._$AH=u}}_$AC(t){let r=Uv.get(t.strings);return r===void 0&&Uv.set(t.strings,r=new Qp(t)),r}T(t){Vv(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new Zv(this.k(rc()),this.k(rc()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Ld=class{constructor(e,t,r,a,l){this.type=1,this._$AH=ei,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=ei}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=iu(this,e,t,0),o=!nc(e)||e!==this._$AH&&e!==Gs,o&&(this._$AH=e);else{let u=e,n,c;for(e=l[0],n=0;n<l.length-1;n++)c=iu(this,u[r+n],t,n),c===Gs&&(c=this._$AH[n]),o||(o=!nc(c)||c!==this._$AH[n]),c===ei?e=ei:e!==ei&&(e+=(c!=null?c:"")+l[n+1]),this._$AH[n]=c}o&&!a&&this.j(e)}j(e){e===ei?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},t4=class extends Ld{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ei?void 0:e}},i4=tu?tu.emptyScript:"",r4=class extends Ld{constructor(){super(...arguments),this.type=4}j(e){e&&e!==ei?this.element.setAttribute(this.name,i4):this.element.removeAttribute(this.name)}},n4=class extends Ld{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=iu(this,e,t,0))!==null&&r!==void 0?r:ei)===Gs)return;let a=this._$AH,l=e===ei&&a!==ei||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==ei&&(a===ei||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},o4=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){iu(this,e)}},Jp=Id.litHtmlPolyfillSupport;Jp==null||Jp(Qp,ef),((Kp=Id.litHtmlVersions)!==null&&Kp!==void 0?Kp:Id.litHtmlVersions=[]).push("2.8.0");Dd=(e,t,r)=>{var a,l;let o=(a=r==null?void 0:r.renderBefore)!==null&&a!==void 0?a:t,u=o._$litPart$;if(u===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=u=new ef(t.insertBefore(rc(),n),n,void 0,r!=null?r:{})}return u._$AI(e),u};});var tf,rf,Yt,nf,of=Wt(()=>{tc();tc();ru();ru();Yt=class extends Us{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let r=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=r.firstChild),r}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Dd(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Gs}};Yt.finalized=!0,Yt._$litElement$=!0,(tf=globalThis.litElementHydrateSupport)===null||tf===void 0||tf.call(globalThis,{LitElement:Yt});nf=globalThis.litElementPolyfillSupport;nf==null||nf({LitElement:Yt});((rf=globalThis.litElementVersions)!==null&&rf!==void 0?rf:globalThis.litElementVersions=[]).push("3.3.3");});var af=Wt(()=>{});var ti=Wt(()=>{tc();ru();of();af()});var Fi,Jv=Wt(()=>{Fi=e=>t=>typeof t=="function"?((r,a)=>(customElements.define(r,a),a))(e,t):((r,a)=>{let{kind:l,elements:o}=a;return{kind:l,elements:o,finisher(u){customElements.define(r,u)}}})(e,t);});function St(e){return(t,r)=>r!==void 0?s4(e,t,r):a4(e,t)}var a4,s4,sf=Wt(()=>{a4=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?Ir(ur({},t),{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}},s4=(e,t,r)=>{t.constructor.createProperty(r,e)};});function Er(e){return St(Ir(ur({},e),{state:!0}))}var Xv=Wt(()=>{sf();});var vs,Ys=Wt(()=>{vs=({finisher:e,descriptor:t})=>(r,a)=>{var l;if(a===void 0){let o=(l=r.originalKey)!==null&&l!==void 0?l:r.key,u=t!=null?{kind:"method",placement:"prototype",key:o,descriptor:t(r.key)}:Ir(ur({},r),{key:o});return e!=null&&(u.finisher=function(n){e(n,o)}),u}{let o=r.constructor;t!==void 0&&Object.defineProperty(r,a,t(a)),e==null||e(o,a)}};});var Qv=Wt(()=>{Ys();});function wr(e,t){return vs({descriptor:r=>{let a={get(){var l,o;return(o=(l=this.renderRoot)===null||l===void 0?void 0:l.querySelector(e))!==null&&o!==void 0?o:null},enumerable:!0,configurable:!0};if(t){let l=typeof r=="symbol"?Symbol():"__"+r;a.get=function(){var o,u;return this[l]===void 0&&(this[l]=(u=(o=this.renderRoot)===null||o===void 0?void 0:o.querySelector(e))!==null&&u!==void 0?u:null),this[l]}}return a}})}var eb=Wt(()=>{Ys();});var tb=Wt(()=>{Ys();});var ib=Wt(()=>{Ys();});function uf(e){let{slot:t,selector:r}=e!=null?e:{};return vs({descriptor:a=>({get(){var l;let o="slot"+(t?`[name=${t}]`:":not([name])"),u=(l=this.renderRoot)===null||l===void 0?void 0:l.querySelector(o),n=u!=null?l4(u,e):[];return r?n.filter(c=>c.matches(r)):n},enumerable:!0,configurable:!0})})}var lf,l4,cf=Wt(()=>{Ys();l4=((lf=window.HTMLSlotElement)===null||lf===void 0?void 0:lf.prototype.assignedElements)!=null?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter(r=>r.nodeType===Node.ELEMENT_NODE);});var rb=Wt(()=>{Ys();cf();});var Ar=Wt(()=>{Jv();sf();Xv();Qv();eb();tb();ib();cf();rb()});var u4,c4,Rd=Wt(()=>{ti();ti();u4=we`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="closeTitleID closeDescID"
>
  <title id="closeTitleID">Close icon</title>
  <desc id="closeDescID">A line drawing of an X</desc>
  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>
</svg>
`,c4=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return u4}};customElements.define("ia-icon-close",c4)});var ff={};On(ff,{default:()=>ys});var y4,db,w4,_4,k4,x4,S4,A4,C4,E4,ub,cb,ys,sc=Wt(()=>{y4=Object.create,db=Object.defineProperty,w4=Object.getOwnPropertyDescriptor,_4=Object.getOwnPropertyNames,k4=Object.getPrototypeOf,x4=Object.prototype.hasOwnProperty,S4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),A4=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of _4(t))!x4.call(e,l)&&l!==r&&db(e,l,{get:()=>t[l],enumerable:!(a=w4(t,l))||a.enumerable});return e},C4=(e,t,r)=>(r=e!=null?y4(k4(e)):{},A4(t||!e||!e.__esModule?db(r,"default",{value:e,enumerable:!0}):r,e)),E4=S4((e,t)=>{(function(r,a){"use strict";typeof t=="object"&&typeof t.exports=="object"?t.exports=r.document?a(r,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return a(l)}:a(r)})(typeof window<"u"?window:e,function(r,a){"use strict";var l=[],o=Object.getPrototypeOf,u=l.slice,n=l.flat?function(P){return l.flat.call(P)}:function(P){return l.concat.apply([],P)},c=l.push,d=l.indexOf,f={},p=f.toString,v=f.hasOwnProperty,y=v.toString,w=y.call(Object),k={},A=function(P){return typeof P=="function"&&typeof P.nodeType!="number"&&typeof P.item!="function"},C=function(P){return P!=null&&P===P.window},x=r.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function s(P,N,Z){Z=Z||x;var re,Ie,Ne=Z.createElement("script");if(Ne.text=P,N)for(re in S)Ie=N[re]||N.getAttribute&&N.getAttribute(re),Ie&&Ne.setAttribute(re,Ie);Z.head.appendChild(Ne).parentNode.removeChild(Ne)}function h(P){return P==null?P+"":typeof P=="object"||typeof P=="function"?f[p.call(P)]||"object":typeof P}var g="3.6.1",m=function(P,N){return new m.fn.init(P,N)};m.fn=m.prototype={jquery:g,constructor:m,length:0,toArray:function(){return u.call(this)},get:function(P){return P==null?u.call(this):P<0?this[P+this.length]:this[P]},pushStack:function(P){var N=m.merge(this.constructor(),P);return N.prevObject=this,N},each:function(P){return m.each(this,P)},map:function(P){return this.pushStack(m.map(this,function(N,Z){return P.call(N,Z,N)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,function(P,N){return(N+1)%2}))},odd:function(){return this.pushStack(m.grep(this,function(P,N){return N%2}))},eq:function(P){var N=this.length,Z=+P+(P<0?N:0);return this.pushStack(Z>=0&&Z<N?[this[Z]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:l.sort,splice:l.splice},m.extend=m.fn.extend=function(){var P,N,Z,re,Ie,Ne,Qe=arguments[0]||{},Lt=1,Pt=arguments.length,Kt=!1;for(typeof Qe=="boolean"&&(Kt=Qe,Qe=arguments[Lt]||{},Lt++),typeof Qe!="object"&&!A(Qe)&&(Qe={}),Lt===Pt&&(Qe=this,Lt--);Lt<Pt;Lt++)if((P=arguments[Lt])!=null)for(N in P)re=P[N],!(N==="__proto__"||Qe===re)&&(Kt&&re&&(m.isPlainObject(re)||(Ie=Array.isArray(re)))?(Z=Qe[N],Ie&&!Array.isArray(Z)?Ne=[]:!Ie&&!m.isPlainObject(Z)?Ne={}:Ne=Z,Ie=!1,Qe[N]=m.extend(Kt,Ne,re)):re!==void 0&&(Qe[N]=re));return Qe},m.extend({expando:"jQuery"+(g+Math.random()).replace(/\D/g,""),isReady:!0,error:function(P){throw new Error(P)},noop:function(){},isPlainObject:function(P){var N,Z;return!P||p.call(P)!=="[object Object]"?!1:(N=o(P),N?(Z=v.call(N,"constructor")&&N.constructor,typeof Z=="function"&&y.call(Z)===w):!0)},isEmptyObject:function(P){var N;for(N in P)return!1;return!0},globalEval:function(P,N,Z){s(P,{nonce:N&&N.nonce},Z)},each:function(P,N){var Z,re=0;if(b(P))for(Z=P.length;re<Z&&N.call(P[re],re,P[re])!==!1;re++);else for(re in P)if(N.call(P[re],re,P[re])===!1)break;return P},makeArray:function(P,N){var Z=N||[];return P!=null&&(b(Object(P))?m.merge(Z,typeof P=="string"?[P]:P):c.call(Z,P)),Z},inArray:function(P,N,Z){return N==null?-1:d.call(N,P,Z)},merge:function(P,N){for(var Z=+N.length,re=0,Ie=P.length;re<Z;re++)P[Ie++]=N[re];return P.length=Ie,P},grep:function(P,N,Z){for(var re,Ie=[],Ne=0,Qe=P.length,Lt=!Z;Ne<Qe;Ne++)re=!N(P[Ne],Ne),re!==Lt&&Ie.push(P[Ne]);return Ie},map:function(P,N,Z){var re,Ie,Ne=0,Qe=[];if(b(P))for(re=P.length;Ne<re;Ne++)Ie=N(P[Ne],Ne,Z),Ie!=null&&Qe.push(Ie);else for(Ne in P)Ie=N(P[Ne],Ne,Z),Ie!=null&&Qe.push(Ie);return n(Qe)},guid:1,support:k}),typeof Symbol=="function"&&(m.fn[Symbol.iterator]=l[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(P,N){f["[object "+N+"]"]=N.toLowerCase()});function b(P){var N=!!P&&"length"in P&&P.length,Z=h(P);return A(P)||C(P)?!1:Z==="array"||N===0||typeof N=="number"&&N>0&&N-1 in P}var _=function(P){var N,Z,re,Ie,Ne,Qe,Lt,Pt,Kt,si,Ai,Qt,hi,dr,xr,sr,wn,pn,Jn,Xr="sizzle"+1*new Date,$r=P.document,Ur=0,Or=0,qr=Ti(),Io=Ti(),Lo=Ti(),Ln=Ti(),Zo=function(ct,$t){return ct===$t&&(Ai=!0),0},po={}.hasOwnProperty,ri=[],Xn=ri.pop,B=ri.push,O=ri.push,L=ri.slice,F=function(ct,$t){for(var zt=0,bi=ct.length;zt<bi;zt++)if(ct[zt]===$t)return zt;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",le="[\\x20\\t\\r\\n\\f]",ye="(?:\\\\[\\da-fA-F]{1,6}"+le+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",gt="\\["+le+"*("+ye+")(?:"+le+"*([*^$|!~]?=)"+le+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ye+"))|)"+le+"*\\]",bt=":("+ye+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+gt+")*)|.*)\\)|)",Tt=new RegExp(le+"+","g"),Ut=new RegExp("^"+le+"+|((?:^|[^\\\\])(?:\\\\.)*)"+le+"+$","g"),Xt=new RegExp("^"+le+"*,"+le+"*"),gi=new RegExp("^"+le+"*([>+~]|"+le+")"+le+"*"),ci=new RegExp(le+"|>"),zi=new RegExp(bt),Ui=new RegExp("^"+ye+"$"),Pr={ID:new RegExp("^#("+ye+")"),CLASS:new RegExp("^\\.("+ye+")"),TAG:new RegExp("^("+ye+"|[*])"),ATTR:new RegExp("^"+gt),PSEUDO:new RegExp("^"+bt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+le+"*(even|odd|(([+-]|)(\\d*)n|)"+le+"*(?:([+-]|)"+le+"*(\\d+)|))"+le+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+le+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+le+"*((?:-\\d)?\\d*)"+le+"*\\)|)(?=[^-]|$)","i")},tr=/HTML$/i,Cr=/^(?:input|select|textarea|button)$/i,Nr=/^h\d$/i,zr=/^[^{]+\{\s*\[native \w/,Rr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Hi=/[+~]/,li=new RegExp("\\\\[\\da-fA-F]{1,6}"+le+"?|\\\\([^\\r\\n\\f])","g"),_i=function(ct,$t){var zt="0x"+ct.slice(1)-65536;return $t||(zt<0?String.fromCharCode(zt+65536):String.fromCharCode(zt>>10|55296,zt&1023|56320))},lr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Wr=function(ct,$t){return $t?ct==="\0"?"\uFFFD":ct.slice(0,-1)+"\\"+ct.charCodeAt(ct.length-1).toString(16)+" ":"\\"+ct},Qi=function(){Qt()},Bi=Zr(function(ct){return ct.disabled===!0&&ct.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{O.apply(ri=L.call($r.childNodes),$r.childNodes),ri[$r.childNodes.length].nodeType}catch(ct){O={apply:ri.length?function($t,zt){B.apply($t,L.call(zt))}:function($t,zt){for(var bi=$t.length,Gt=0;$t[bi++]=zt[Gt++];);$t.length=bi-1}}}function er(ct,$t,zt,bi){var Gt,yi,Ci,Di,qi,kr,vr,yr=$t&&$t.ownerDocument,Vr=$t?$t.nodeType:9;if(zt=zt||[],typeof ct!="string"||!ct||Vr!==1&&Vr!==9&&Vr!==11)return zt;if(!bi&&(Qt($t),$t=$t||hi,xr)){if(Vr!==11&&(qi=Rr.exec(ct)))if(Gt=qi[1]){if(Vr===9)if(Ci=$t.getElementById(Gt)){if(Ci.id===Gt)return zt.push(Ci),zt}else return zt;else if(yr&&(Ci=yr.getElementById(Gt))&&Jn($t,Ci)&&Ci.id===Gt)return zt.push(Ci),zt}else{if(qi[2])return O.apply(zt,$t.getElementsByTagName(ct)),zt;if((Gt=qi[3])&&Z.getElementsByClassName&&$t.getElementsByClassName)return O.apply(zt,$t.getElementsByClassName(Gt)),zt}if(Z.qsa&&!Ln[ct+" "]&&(!sr||!sr.test(ct))&&(Vr!==1||$t.nodeName.toLowerCase()!=="object")){if(vr=ct,yr=$t,Vr===1&&(ci.test(ct)||gi.test(ct))){for(yr=Hi.test(ct)&&Xo($t.parentNode)||$t,(yr!==$t||!Z.scope)&&((Di=$t.getAttribute("id"))?Di=Di.replace(lr,Wr):$t.setAttribute("id",Di=Xr)),kr=Qe(ct),yi=kr.length;yi--;)kr[yi]=(Di?"#"+Di:":scope")+" "+_n(kr[yi]);vr=kr.join(",")}try{return O.apply(zt,yr.querySelectorAll(vr)),zt}catch(cn){Ln(ct,!0)}finally{Di===Xr&&$t.removeAttribute("id")}}}return Pt(ct.replace(Ut,"$1"),$t,zt,bi)}function Ti(){var ct=[];function $t(zt,bi){return ct.push(zt+" ")>re.cacheLength&&delete $t[ct.shift()],$t[zt+" "]=bi}return $t}function Si(ct){return ct[Xr]=!0,ct}function Vi(ct){var $t=hi.createElement("fieldset");try{return!!ct($t)}catch(zt){return!1}finally{$t.parentNode&&$t.parentNode.removeChild($t),$t=null}}function Ei(ct,$t){for(var zt=ct.split("|"),bi=zt.length;bi--;)re.attrHandle[zt[bi]]=$t}function jr(ct,$t){var zt=$t&&ct,bi=zt&&ct.nodeType===1&&$t.nodeType===1&&ct.sourceIndex-$t.sourceIndex;if(bi)return bi;if(zt){for(;zt=zt.nextSibling;)if(zt===$t)return-1}return ct?1:-1}function Fr(ct){return function($t){var zt=$t.nodeName.toLowerCase();return zt==="input"&&$t.type===ct}}function Jo(ct){return function($t){var zt=$t.nodeName.toLowerCase();return(zt==="input"||zt==="button")&&$t.type===ct}}function Do(ct){return function($t){return"form"in $t?$t.parentNode&&$t.disabled===!1?"label"in $t?"label"in $t.parentNode?$t.parentNode.disabled===ct:$t.disabled===ct:$t.isDisabled===ct||$t.isDisabled!==!ct&&Bi($t)===ct:$t.disabled===ct:"label"in $t?$t.disabled===ct:!1}}function fo(ct){return Si(function($t){return $t=+$t,Si(function(zt,bi){for(var Gt,yi=ct([],zt.length,$t),Ci=yi.length;Ci--;)zt[Gt=yi[Ci]]&&(zt[Gt]=!(bi[Gt]=zt[Gt]))})})}function Xo(ct){return ct&&typeof ct.getElementsByTagName<"u"&&ct}Z=er.support={},Ne=er.isXML=function(ct){var $t=ct&&ct.namespaceURI,zt=ct&&(ct.ownerDocument||ct).documentElement;return!tr.test($t||zt&&zt.nodeName||"HTML")},Qt=er.setDocument=function(ct){var $t,zt,bi=ct?ct.ownerDocument||ct:$r;return bi==hi||bi.nodeType!==9||!bi.documentElement||(hi=bi,dr=hi.documentElement,xr=!Ne(hi),$r!=hi&&(zt=hi.defaultView)&&zt.top!==zt&&(zt.addEventListener?zt.addEventListener("unload",Qi,!1):zt.attachEvent&&zt.attachEvent("onunload",Qi)),Z.scope=Vi(function(Gt){return dr.appendChild(Gt).appendChild(hi.createElement("div")),typeof Gt.querySelectorAll<"u"&&!Gt.querySelectorAll(":scope fieldset div").length}),Z.attributes=Vi(function(Gt){return Gt.className="i",!Gt.getAttribute("className")}),Z.getElementsByTagName=Vi(function(Gt){return Gt.appendChild(hi.createComment("")),!Gt.getElementsByTagName("*").length}),Z.getElementsByClassName=zr.test(hi.getElementsByClassName),Z.getById=Vi(function(Gt){return dr.appendChild(Gt).id=Xr,!hi.getElementsByName||!hi.getElementsByName(Xr).length}),Z.getById?(re.filter.ID=function(Gt){var yi=Gt.replace(li,_i);return function(Ci){return Ci.getAttribute("id")===yi}},re.find.ID=function(Gt,yi){if(typeof yi.getElementById<"u"&&xr){var Ci=yi.getElementById(Gt);return Ci?[Ci]:[]}}):(re.filter.ID=function(Gt){var yi=Gt.replace(li,_i);return function(Ci){var Di=typeof Ci.getAttributeNode<"u"&&Ci.getAttributeNode("id");return Di&&Di.value===yi}},re.find.ID=function(Gt,yi){if(typeof yi.getElementById<"u"&&xr){var Ci,Di,qi,kr=yi.getElementById(Gt);if(kr){if(Ci=kr.getAttributeNode("id"),Ci&&Ci.value===Gt)return[kr];for(qi=yi.getElementsByName(Gt),Di=0;kr=qi[Di++];)if(Ci=kr.getAttributeNode("id"),Ci&&Ci.value===Gt)return[kr]}return[]}}),re.find.TAG=Z.getElementsByTagName?function(Gt,yi){if(typeof yi.getElementsByTagName<"u")return yi.getElementsByTagName(Gt);if(Z.qsa)return yi.querySelectorAll(Gt)}:function(Gt,yi){var Ci,Di=[],qi=0,kr=yi.getElementsByTagName(Gt);if(Gt==="*"){for(;Ci=kr[qi++];)Ci.nodeType===1&&Di.push(Ci);return Di}return kr},re.find.CLASS=Z.getElementsByClassName&&function(Gt,yi){if(typeof yi.getElementsByClassName<"u"&&xr)return yi.getElementsByClassName(Gt)},wn=[],sr=[],(Z.qsa=zr.test(hi.querySelectorAll))&&(Vi(function(Gt){var yi;dr.appendChild(Gt).innerHTML="<a id='"+Xr+"'></a><select id='"+Xr+"-\r\\' msallowcapture=''><option selected=''></option></select>",Gt.querySelectorAll("[msallowcapture^='']").length&&sr.push("[*^$]="+le+`*(?:''|"")`),Gt.querySelectorAll("[selected]").length||sr.push("\\["+le+"*(?:value|"+ee+")"),Gt.querySelectorAll("[id~="+Xr+"-]").length||sr.push("~="),yi=hi.createElement("input"),yi.setAttribute("name",""),Gt.appendChild(yi),Gt.querySelectorAll("[name='']").length||sr.push("\\["+le+"*name"+le+"*="+le+`*(?:''|"")`),Gt.querySelectorAll(":checked").length||sr.push(":checked"),Gt.querySelectorAll("a#"+Xr+"+*").length||sr.push(".#.+[+~]"),Gt.querySelectorAll("\\\f"),sr.push("[\\r\\n\\f]")}),Vi(function(Gt){Gt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var yi=hi.createElement("input");yi.setAttribute("type","hidden"),Gt.appendChild(yi).setAttribute("name","D"),Gt.querySelectorAll("[name=d]").length&&sr.push("name"+le+"*[*^$|!~]?="),Gt.querySelectorAll(":enabled").length!==2&&sr.push(":enabled",":disabled"),dr.appendChild(Gt).disabled=!0,Gt.querySelectorAll(":disabled").length!==2&&sr.push(":enabled",":disabled"),Gt.querySelectorAll("*,:x"),sr.push(",.*:")})),(Z.matchesSelector=zr.test(pn=dr.matches||dr.webkitMatchesSelector||dr.mozMatchesSelector||dr.oMatchesSelector||dr.msMatchesSelector))&&Vi(function(Gt){Z.disconnectedMatch=pn.call(Gt,"*"),pn.call(Gt,"[s!='']:x"),wn.push("!=",bt)}),sr=sr.length&&new RegExp(sr.join("|")),wn=wn.length&&new RegExp(wn.join("|")),$t=zr.test(dr.compareDocumentPosition),Jn=$t||zr.test(dr.contains)?function(Gt,yi){var Ci=Gt.nodeType===9?Gt.documentElement:Gt,Di=yi&&yi.parentNode;return Gt===Di||!!(Di&&Di.nodeType===1&&(Ci.contains?Ci.contains(Di):Gt.compareDocumentPosition&&Gt.compareDocumentPosition(Di)&16))}:function(Gt,yi){if(yi){for(;yi=yi.parentNode;)if(yi===Gt)return!0}return!1},Zo=$t?function(Gt,yi){if(Gt===yi)return Ai=!0,0;var Ci=!Gt.compareDocumentPosition-!yi.compareDocumentPosition;return Ci||(Ci=(Gt.ownerDocument||Gt)==(yi.ownerDocument||yi)?Gt.compareDocumentPosition(yi):1,Ci&1||!Z.sortDetached&&yi.compareDocumentPosition(Gt)===Ci?Gt==hi||Gt.ownerDocument==$r&&Jn($r,Gt)?-1:yi==hi||yi.ownerDocument==$r&&Jn($r,yi)?1:si?F(si,Gt)-F(si,yi):0:Ci&4?-1:1)}:function(Gt,yi){if(Gt===yi)return Ai=!0,0;var Ci,Di=0,qi=Gt.parentNode,kr=yi.parentNode,vr=[Gt],yr=[yi];if(!qi||!kr)return Gt==hi?-1:yi==hi?1:qi?-1:kr?1:si?F(si,Gt)-F(si,yi):0;if(qi===kr)return jr(Gt,yi);for(Ci=Gt;Ci=Ci.parentNode;)vr.unshift(Ci);for(Ci=yi;Ci=Ci.parentNode;)yr.unshift(Ci);for(;vr[Di]===yr[Di];)Di++;return Di?jr(vr[Di],yr[Di]):vr[Di]==$r?-1:yr[Di]==$r?1:0}),hi},er.matches=function(ct,$t){return er(ct,null,null,$t)},er.matchesSelector=function(ct,$t){if(Qt(ct),Z.matchesSelector&&xr&&!Ln[$t+" "]&&(!wn||!wn.test($t))&&(!sr||!sr.test($t)))try{var zt=pn.call(ct,$t);if(zt||Z.disconnectedMatch||ct.document&&ct.document.nodeType!==11)return zt}catch(bi){Ln($t,!0)}return er($t,hi,null,[ct]).length>0},er.contains=function(ct,$t){return(ct.ownerDocument||ct)!=hi&&Qt(ct),Jn(ct,$t)},er.attr=function(ct,$t){(ct.ownerDocument||ct)!=hi&&Qt(ct);var zt=re.attrHandle[$t.toLowerCase()],bi=zt&&po.call(re.attrHandle,$t.toLowerCase())?zt(ct,$t,!xr):void 0;return bi!==void 0?bi:Z.attributes||!xr?ct.getAttribute($t):(bi=ct.getAttributeNode($t))&&bi.specified?bi.value:null},er.escape=function(ct){return(ct+"").replace(lr,Wr)},er.error=function(ct){throw new Error("Syntax error, unrecognized expression: "+ct)},er.uniqueSort=function(ct){var $t,zt=[],bi=0,Gt=0;if(Ai=!Z.detectDuplicates,si=!Z.sortStable&&ct.slice(0),ct.sort(Zo),Ai){for(;$t=ct[Gt++];)$t===ct[Gt]&&(bi=zt.push(Gt));for(;bi--;)ct.splice(zt[bi],1)}return si=null,ct},Ie=er.getText=function(ct){var $t,zt="",bi=0,Gt=ct.nodeType;if(Gt){if(Gt===1||Gt===9||Gt===11){if(typeof ct.textContent=="string")return ct.textContent;for(ct=ct.firstChild;ct;ct=ct.nextSibling)zt+=Ie(ct)}else if(Gt===3||Gt===4)return ct.nodeValue}else for(;$t=ct[bi++];)zt+=Ie($t);return zt},re=er.selectors={cacheLength:50,createPseudo:Si,match:Pr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ct){return ct[1]=ct[1].replace(li,_i),ct[3]=(ct[3]||ct[4]||ct[5]||"").replace(li,_i),ct[2]==="~="&&(ct[3]=" "+ct[3]+" "),ct.slice(0,4)},CHILD:function(ct){return ct[1]=ct[1].toLowerCase(),ct[1].slice(0,3)==="nth"?(ct[3]||er.error(ct[0]),ct[4]=+(ct[4]?ct[5]+(ct[6]||1):2*(ct[3]==="even"||ct[3]==="odd")),ct[5]=+(ct[7]+ct[8]||ct[3]==="odd")):ct[3]&&er.error(ct[0]),ct},PSEUDO:function(ct){var $t,zt=!ct[6]&&ct[2];return Pr.CHILD.test(ct[0])?null:(ct[3]?ct[2]=ct[4]||ct[5]||"":zt&&zi.test(zt)&&($t=Qe(zt,!0))&&($t=zt.indexOf(")",zt.length-$t)-zt.length)&&(ct[0]=ct[0].slice(0,$t),ct[2]=zt.slice(0,$t)),ct.slice(0,3))}},filter:{TAG:function(ct){var $t=ct.replace(li,_i).toLowerCase();return ct==="*"?function(){return!0}:function(zt){return zt.nodeName&&zt.nodeName.toLowerCase()===$t}},CLASS:function(ct){var $t=qr[ct+" "];return $t||($t=new RegExp("(^|"+le+")"+ct+"("+le+"|$)"))&&qr(ct,function(zt){return $t.test(typeof zt.className=="string"&&zt.className||typeof zt.getAttribute<"u"&&zt.getAttribute("class")||"")})},ATTR:function(ct,$t,zt){return function(bi){var Gt=er.attr(bi,ct);return Gt==null?$t==="!=":$t?(Gt+="",$t==="="?Gt===zt:$t==="!="?Gt!==zt:$t==="^="?zt&&Gt.indexOf(zt)===0:$t==="*="?zt&&Gt.indexOf(zt)>-1:$t==="$="?zt&&Gt.slice(-zt.length)===zt:$t==="~="?(" "+Gt.replace(Tt," ")+" ").indexOf(zt)>-1:$t==="|="?Gt===zt||Gt.slice(0,zt.length+1)===zt+"-":!1):!0}},CHILD:function(ct,$t,zt,bi,Gt){var yi=ct.slice(0,3)!=="nth",Ci=ct.slice(-4)!=="last",Di=$t==="of-type";return bi===1&&Gt===0?function(qi){return!!qi.parentNode}:function(qi,kr,vr){var yr,Vr,cn,Sr,zn,Vn,jn=yi!==Ci?"nextSibling":"previousSibling",fn=qi.parentNode,Bs=Di&&qi.nodeName.toLowerCase(),bo=!vr&&!Di,mo=!1;if(fn){if(yi){for(;jn;){for(Sr=qi;Sr=Sr[jn];)if(Di?Sr.nodeName.toLowerCase()===Bs:Sr.nodeType===1)return!1;Vn=jn=ct==="only"&&!Vn&&"nextSibling"}return!0}if(Vn=[Ci?fn.firstChild:fn.lastChild],Ci&&bo){for(Sr=fn,cn=Sr[Xr]||(Sr[Xr]={}),Vr=cn[Sr.uniqueID]||(cn[Sr.uniqueID]={}),yr=Vr[ct]||[],zn=yr[0]===Ur&&yr[1],mo=zn&&yr[2],Sr=zn&&fn.childNodes[zn];Sr=++zn&&Sr&&Sr[jn]||(mo=zn=0)||Vn.pop();)if(Sr.nodeType===1&&++mo&&Sr===qi){Vr[ct]=[Ur,zn,mo];break}}else if(bo&&(Sr=qi,cn=Sr[Xr]||(Sr[Xr]={}),Vr=cn[Sr.uniqueID]||(cn[Sr.uniqueID]={}),yr=Vr[ct]||[],zn=yr[0]===Ur&&yr[1],mo=zn),mo===!1)for(;(Sr=++zn&&Sr&&Sr[jn]||(mo=zn=0)||Vn.pop())&&!((Di?Sr.nodeName.toLowerCase()===Bs:Sr.nodeType===1)&&++mo&&(bo&&(cn=Sr[Xr]||(Sr[Xr]={}),Vr=cn[Sr.uniqueID]||(cn[Sr.uniqueID]={}),Vr[ct]=[Ur,mo]),Sr===qi)););return mo-=Gt,mo===bi||mo%bi===0&&mo/bi>=0}}},PSEUDO:function(ct,$t){var zt,bi=re.pseudos[ct]||re.setFilters[ct.toLowerCase()]||er.error("unsupported pseudo: "+ct);return bi[Xr]?bi($t):bi.length>1?(zt=[ct,ct,"",$t],re.setFilters.hasOwnProperty(ct.toLowerCase())?Si(function(Gt,yi){for(var Ci,Di=bi(Gt,$t),qi=Di.length;qi--;)Ci=F(Gt,Di[qi]),Gt[Ci]=!(yi[Ci]=Di[qi])}):function(Gt){return bi(Gt,0,zt)}):bi}},pseudos:{not:Si(function(ct){var $t=[],zt=[],bi=Lt(ct.replace(Ut,"$1"));return bi[Xr]?Si(function(Gt,yi,Ci,Di){for(var qi,kr=bi(Gt,null,Di,[]),vr=Gt.length;vr--;)(qi=kr[vr])&&(Gt[vr]=!(yi[vr]=qi))}):function(Gt,yi,Ci){return $t[0]=Gt,bi($t,null,Ci,zt),$t[0]=null,!zt.pop()}}),has:Si(function(ct){return function($t){return er(ct,$t).length>0}}),contains:Si(function(ct){return ct=ct.replace(li,_i),function($t){return($t.textContent||Ie($t)).indexOf(ct)>-1}}),lang:Si(function(ct){return Ui.test(ct||"")||er.error("unsupported lang: "+ct),ct=ct.replace(li,_i).toLowerCase(),function($t){var zt;do if(zt=xr?$t.lang:$t.getAttribute("xml:lang")||$t.getAttribute("lang"))return zt=zt.toLowerCase(),zt===ct||zt.indexOf(ct+"-")===0;while(($t=$t.parentNode)&&$t.nodeType===1);return!1}}),target:function(ct){var $t=P.location&&P.location.hash;return $t&&$t.slice(1)===ct.id},root:function(ct){return ct===dr},focus:function(ct){return ct===hi.activeElement&&(!hi.hasFocus||hi.hasFocus())&&!!(ct.type||ct.href||~ct.tabIndex)},enabled:Do(!1),disabled:Do(!0),checked:function(ct){var $t=ct.nodeName.toLowerCase();return $t==="input"&&!!ct.checked||$t==="option"&&!!ct.selected},selected:function(ct){return ct.parentNode&&ct.parentNode.selectedIndex,ct.selected===!0},empty:function(ct){for(ct=ct.firstChild;ct;ct=ct.nextSibling)if(ct.nodeType<6)return!1;return!0},parent:function(ct){return!re.pseudos.empty(ct)},header:function(ct){return Nr.test(ct.nodeName)},input:function(ct){return Cr.test(ct.nodeName)},button:function(ct){var $t=ct.nodeName.toLowerCase();return $t==="input"&&ct.type==="button"||$t==="button"},text:function(ct){var $t;return ct.nodeName.toLowerCase()==="input"&&ct.type==="text"&&(($t=ct.getAttribute("type"))==null||$t.toLowerCase()==="text")},first:fo(function(){return[0]}),last:fo(function(ct,$t){return[$t-1]}),eq:fo(function(ct,$t,zt){return[zt<0?zt+$t:zt]}),even:fo(function(ct,$t){for(var zt=0;zt<$t;zt+=2)ct.push(zt);return ct}),odd:fo(function(ct,$t){for(var zt=1;zt<$t;zt+=2)ct.push(zt);return ct}),lt:fo(function(ct,$t,zt){for(var bi=zt<0?zt+$t:zt>$t?$t:zt;--bi>=0;)ct.push(bi);return ct}),gt:fo(function(ct,$t,zt){for(var bi=zt<0?zt+$t:zt;++bi<$t;)ct.push(bi);return ct})}},re.pseudos.nth=re.pseudos.eq;for(N in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})re.pseudos[N]=Fr(N);for(N in{submit:!0,reset:!0})re.pseudos[N]=Jo(N);function Ro(){}Ro.prototype=re.filters=re.pseudos,re.setFilters=new Ro,Qe=er.tokenize=function(ct,$t){var zt,bi,Gt,yi,Ci,Di,qi,kr=Io[ct+" "];if(kr)return $t?0:kr.slice(0);for(Ci=ct,Di=[],qi=re.preFilter;Ci;){(!zt||(bi=Xt.exec(Ci)))&&(bi&&(Ci=Ci.slice(bi[0].length)||Ci),Di.push(Gt=[])),zt=!1,(bi=gi.exec(Ci))&&(zt=bi.shift(),Gt.push({value:zt,type:bi[0].replace(Ut," ")}),Ci=Ci.slice(zt.length));for(yi in re.filter)(bi=Pr[yi].exec(Ci))&&(!qi[yi]||(bi=qi[yi](bi)))&&(zt=bi.shift(),Gt.push({value:zt,type:yi,matches:bi}),Ci=Ci.slice(zt.length));if(!zt)break}return $t?Ci.length:Ci?er.error(ct):Io(ct,Di).slice(0)};function _n(ct){for(var $t=0,zt=ct.length,bi="";$t<zt;$t++)bi+=ct[$t].value;return bi}function Zr(ct,$t,zt){var bi=$t.dir,Gt=$t.next,yi=Gt||bi,Ci=zt&&yi==="parentNode",Di=Or++;return $t.first?function(qi,kr,vr){for(;qi=qi[bi];)if(qi.nodeType===1||Ci)return ct(qi,kr,vr);return!1}:function(qi,kr,vr){var yr,Vr,cn,Sr=[Ur,Di];if(vr){for(;qi=qi[bi];)if((qi.nodeType===1||Ci)&&ct(qi,kr,vr))return!0}else for(;qi=qi[bi];)if(qi.nodeType===1||Ci)if(cn=qi[Xr]||(qi[Xr]={}),Vr=cn[qi.uniqueID]||(cn[qi.uniqueID]={}),Gt&&Gt===qi.nodeName.toLowerCase())qi=qi[bi]||qi;else{if((yr=Vr[yi])&&yr[0]===Ur&&yr[1]===Di)return Sr[2]=yr[2];if(Vr[yi]=Sr,Sr[2]=ct(qi,kr,vr))return!0}return!1}}function Va(ct){return ct.length>1?function($t,zt,bi){for(var Gt=ct.length;Gt--;)if(!ct[Gt]($t,zt,bi))return!1;return!0}:ct[0]}function fs(ct,$t,zt){for(var bi=0,Gt=$t.length;bi<Gt;bi++)er(ct,$t[bi],zt);return zt}function Qo(ct,$t,zt,bi,Gt){for(var yi,Ci=[],Di=0,qi=ct.length,kr=$t!=null;Di<qi;Di++)(yi=ct[Di])&&(!zt||zt(yi,bi,Gt))&&(Ci.push(yi),kr&&$t.push(Di));return Ci}function Rn(ct,$t,zt,bi,Gt,yi){return bi&&!bi[Xr]&&(bi=Rn(bi)),Gt&&!Gt[Xr]&&(Gt=Rn(Gt,yi)),Si(function(Ci,Di,qi,kr){var vr,yr,Vr,cn=[],Sr=[],zn=Di.length,Vn=Ci||fs($t||"*",qi.nodeType?[qi]:qi,[]),jn=ct&&(Ci||!$t)?Qo(Vn,cn,ct,qi,kr):Vn,fn=zt?Gt||(Ci?ct:zn||bi)?[]:Di:jn;if(zt&&zt(jn,fn,qi,kr),bi)for(vr=Qo(fn,Sr),bi(vr,[],qi,kr),yr=vr.length;yr--;)(Vr=vr[yr])&&(fn[Sr[yr]]=!(jn[Sr[yr]]=Vr));if(Ci){if(Gt||ct){if(Gt){for(vr=[],yr=fn.length;yr--;)(Vr=fn[yr])&&vr.push(jn[yr]=Vr);Gt(null,fn=[],vr,kr)}for(yr=fn.length;yr--;)(Vr=fn[yr])&&(vr=Gt?F(Ci,Vr):cn[yr])>-1&&(Ci[vr]=!(Di[vr]=Vr))}}else fn=Qo(fn===Di?fn.splice(zn,fn.length):fn),Gt?Gt(null,Di,fn,kr):O.apply(Di,fn)})}function ka(ct){for(var $t,zt,bi,Gt=ct.length,yi=re.relative[ct[0].type],Ci=yi||re.relative[" "],Di=yi?1:0,qi=Zr(function(yr){return yr===$t},Ci,!0),kr=Zr(function(yr){return F($t,yr)>-1},Ci,!0),vr=[function(yr,Vr,cn){var Sr=!yi&&(cn||Vr!==Kt)||(($t=Vr).nodeType?qi(yr,Vr,cn):kr(yr,Vr,cn));return $t=null,Sr}];Di<Gt;Di++)if(zt=re.relative[ct[Di].type])vr=[Zr(Va(vr),zt)];else{if(zt=re.filter[ct[Di].type].apply(null,ct[Di].matches),zt[Xr]){for(bi=++Di;bi<Gt&&!re.relative[ct[bi].type];bi++);return Rn(Di>1&&Va(vr),Di>1&&_n(ct.slice(0,Di-1).concat({value:ct[Di-2].type===" "?"*":""})).replace(Ut,"$1"),zt,Di<bi&&ka(ct.slice(Di,bi)),bi<Gt&&ka(ct=ct.slice(bi)),bi<Gt&&_n(ct))}vr.push(zt)}return Va(vr)}function ho(ct,$t){var zt=$t.length>0,bi=ct.length>0,Gt=function(yi,Ci,Di,qi,kr){var vr,yr,Vr,cn=0,Sr="0",zn=yi&&[],Vn=[],jn=Kt,fn=yi||bi&&re.find.TAG("*",kr),Bs=Ur+=jn==null?1:Math.random()||.1,bo=fn.length;for(kr&&(Kt=Ci==hi||Ci||kr);Sr!==bo&&(vr=fn[Sr])!=null;Sr++){if(bi&&vr){for(yr=0,!Ci&&vr.ownerDocument!=hi&&(Qt(vr),Di=!xr);Vr=ct[yr++];)if(Vr(vr,Ci||hi,Di)){qi.push(vr);break}kr&&(Ur=Bs)}zt&&((vr=!Vr&&vr)&&cn--,yi&&zn.push(vr))}if(cn+=Sr,zt&&Sr!==cn){for(yr=0;Vr=$t[yr++];)Vr(zn,Vn,Ci,Di);if(yi){if(cn>0)for(;Sr--;)zn[Sr]||Vn[Sr]||(Vn[Sr]=Xn.call(qi));Vn=Qo(Vn)}O.apply(qi,Vn),kr&&!yi&&Vn.length>0&&cn+$t.length>1&&er.uniqueSort(qi)}return kr&&(Ur=Bs,Kt=jn),zn};return zt?Si(Gt):Gt}return Lt=er.compile=function(ct,$t){var zt,bi=[],Gt=[],yi=Lo[ct+" "];if(!yi){for($t||($t=Qe(ct)),zt=$t.length;zt--;)yi=ka($t[zt]),yi[Xr]?bi.push(yi):Gt.push(yi);yi=Lo(ct,ho(Gt,bi)),yi.selector=ct}return yi},Pt=er.select=function(ct,$t,zt,bi){var Gt,yi,Ci,Di,qi,kr=typeof ct=="function"&&ct,vr=!bi&&Qe(ct=kr.selector||ct);if(zt=zt||[],vr.length===1){if(yi=vr[0]=vr[0].slice(0),yi.length>2&&(Ci=yi[0]).type==="ID"&&$t.nodeType===9&&xr&&re.relative[yi[1].type]){if($t=(re.find.ID(Ci.matches[0].replace(li,_i),$t)||[])[0],$t)kr&&($t=$t.parentNode);else return zt;ct=ct.slice(yi.shift().value.length)}for(Gt=Pr.needsContext.test(ct)?0:yi.length;Gt--&&(Ci=yi[Gt],!re.relative[Di=Ci.type]);)if((qi=re.find[Di])&&(bi=qi(Ci.matches[0].replace(li,_i),Hi.test(yi[0].type)&&Xo($t.parentNode)||$t))){if(yi.splice(Gt,1),ct=bi.length&&_n(yi),!ct)return O.apply(zt,bi),zt;break}}return(kr||Lt(ct,vr))(bi,$t,!xr,zt,!$t||Hi.test(ct)&&Xo($t.parentNode)||$t),zt},Z.sortStable=Xr.split("").sort(Zo).join("")===Xr,Z.detectDuplicates=!!Ai,Qt(),Z.sortDetached=Vi(function(ct){return ct.compareDocumentPosition(hi.createElement("fieldset"))&1}),Vi(function(ct){return ct.innerHTML="<a href='#'></a>",ct.firstChild.getAttribute("href")==="#"})||Ei("type|href|height|width",function(ct,$t,zt){if(!zt)return ct.getAttribute($t,$t.toLowerCase()==="type"?1:2)}),(!Z.attributes||!Vi(function(ct){return ct.innerHTML="<input/>",ct.firstChild.setAttribute("value",""),ct.firstChild.getAttribute("value")===""}))&&Ei("value",function(ct,$t,zt){if(!zt&&ct.nodeName.toLowerCase()==="input")return ct.defaultValue}),Vi(function(ct){return ct.getAttribute("disabled")==null})||Ei(ee,function(ct,$t,zt){var bi;if(!zt)return ct[$t]===!0?$t.toLowerCase():(bi=ct.getAttributeNode($t))&&bi.specified?bi.value:null}),er}(r);m.find=_,m.expr=_.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=_.uniqueSort,m.text=_.getText,m.isXMLDoc=_.isXML,m.contains=_.contains,m.escapeSelector=_.escape;var E=function(P,N,Z){for(var re=[],Ie=Z!==void 0;(P=P[N])&&P.nodeType!==9;)if(P.nodeType===1){if(Ie&&m(P).is(Z))break;re.push(P)}return re},R=function(P,N){for(var Z=[];P;P=P.nextSibling)P.nodeType===1&&P!==N&&Z.push(P);return Z},j=m.expr.match.needsContext;function H(P,N){return P.nodeName&&P.nodeName.toLowerCase()===N.toLowerCase()}var G=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function q(P,N,Z){return A(N)?m.grep(P,function(re,Ie){return!!N.call(re,Ie,re)!==Z}):N.nodeType?m.grep(P,function(re){return re===N!==Z}):typeof N!="string"?m.grep(P,function(re){return d.call(N,re)>-1!==Z}):m.filter(N,P,Z)}m.filter=function(P,N,Z){var re=N[0];return Z&&(P=":not("+P+")"),N.length===1&&re.nodeType===1?m.find.matchesSelector(re,P)?[re]:[]:m.find.matches(P,m.grep(N,function(Ie){return Ie.nodeType===1}))},m.fn.extend({find:function(P){var N,Z,re=this.length,Ie=this;if(typeof P!="string")return this.pushStack(m(P).filter(function(){for(N=0;N<re;N++)if(m.contains(Ie[N],this))return!0}));for(Z=this.pushStack([]),N=0;N<re;N++)m.find(P,Ie[N],Z);return re>1?m.uniqueSort(Z):Z},filter:function(P){return this.pushStack(q(this,P||[],!1))},not:function(P){return this.pushStack(q(this,P||[],!0))},is:function(P){return!!q(this,typeof P=="string"&&j.test(P)?m(P):P||[],!1).length}});var K,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,te=m.fn.init=function(P,N,Z){var re,Ie;if(!P)return this;if(Z=Z||K,typeof P=="string")if(P[0]==="<"&&P[P.length-1]===">"&&P.length>=3?re=[null,P,null]:re=ue.exec(P),re&&(re[1]||!N))if(re[1]){if(N=N instanceof m?N[0]:N,m.merge(this,m.parseHTML(re[1],N&&N.nodeType?N.ownerDocument||N:x,!0)),G.test(re[1])&&m.isPlainObject(N))for(re in N)A(this[re])?this[re](N[re]):this.attr(re,N[re]);return this}else return Ie=x.getElementById(re[2]),Ie&&(this[0]=Ie,this.length=1),this;else return!N||N.jquery?(N||Z).find(P):this.constructor(N).find(P);else{if(P.nodeType)return this[0]=P,this.length=1,this;if(A(P))return Z.ready!==void 0?Z.ready(P):P(m)}return m.makeArray(P,this)};te.prototype=m.fn,K=m(x);var D=/^(?:parents|prev(?:Until|All))/,J={children:!0,contents:!0,next:!0,prev:!0};m.fn.extend({has:function(P){var N=m(P,this),Z=N.length;return this.filter(function(){for(var re=0;re<Z;re++)if(m.contains(this,N[re]))return!0})},closest:function(P,N){var Z,re=0,Ie=this.length,Ne=[],Qe=typeof P!="string"&&m(P);if(!j.test(P)){for(;re<Ie;re++)for(Z=this[re];Z&&Z!==N;Z=Z.parentNode)if(Z.nodeType<11&&(Qe?Qe.index(Z)>-1:Z.nodeType===1&&m.find.matchesSelector(Z,P))){Ne.push(Z);break}}return this.pushStack(Ne.length>1?m.uniqueSort(Ne):Ne)},index:function(P){return P?typeof P=="string"?d.call(m(P),this[0]):d.call(this,P.jquery?P[0]:P):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(P,N){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(P,N))))},addBack:function(P){return this.add(P==null?this.prevObject:this.prevObject.filter(P))}});function Q(P,N){for(;(P=P[N])&&P.nodeType!==1;);return P}m.each({parent:function(P){var N=P.parentNode;return N&&N.nodeType!==11?N:null},parents:function(P){return E(P,"parentNode")},parentsUntil:function(P,N,Z){return E(P,"parentNode",Z)},next:function(P){return Q(P,"nextSibling")},prev:function(P){return Q(P,"previousSibling")},nextAll:function(P){return E(P,"nextSibling")},prevAll:function(P){return E(P,"previousSibling")},nextUntil:function(P,N,Z){return E(P,"nextSibling",Z)},prevUntil:function(P,N,Z){return E(P,"previousSibling",Z)},siblings:function(P){return R((P.parentNode||{}).firstChild,P)},children:function(P){return R(P.firstChild)},contents:function(P){return P.contentDocument!=null&&o(P.contentDocument)?P.contentDocument:(H(P,"template")&&(P=P.content||P),m.merge([],P.childNodes))}},function(P,N){m.fn[P]=function(Z,re){var Ie=m.map(this,N,Z);return P.slice(-5)!=="Until"&&(re=Z),re&&typeof re=="string"&&(Ie=m.filter(re,Ie)),this.length>1&&(J[P]||m.uniqueSort(Ie),D.test(P)&&Ie.reverse()),this.pushStack(Ie)}});var ne=/[^\x20\t\r\n\f]+/g;function ie(P){var N={};return m.each(P.match(ne)||[],function(Z,re){N[re]=!0}),N}m.Callbacks=function(P){P=typeof P=="string"?ie(P):m.extend({},P);var N,Z,re,Ie,Ne=[],Qe=[],Lt=-1,Pt=function(){for(Ie=Ie||P.once,re=N=!0;Qe.length;Lt=-1)for(Z=Qe.shift();++Lt<Ne.length;)Ne[Lt].apply(Z[0],Z[1])===!1&&P.stopOnFalse&&(Lt=Ne.length,Z=!1);P.memory||(Z=!1),N=!1,Ie&&(Z?Ne=[]:Ne="")},Kt={add:function(){return Ne&&(Z&&!N&&(Lt=Ne.length-1,Qe.push(Z)),function si(Ai){m.each(Ai,function(Qt,hi){A(hi)?(!P.unique||!Kt.has(hi))&&Ne.push(hi):hi&&hi.length&&h(hi)!=="string"&&si(hi)})}(arguments),Z&&!N&&Pt()),this},remove:function(){return m.each(arguments,function(si,Ai){for(var Qt;(Qt=m.inArray(Ai,Ne,Qt))>-1;)Ne.splice(Qt,1),Qt<=Lt&&Lt--}),this},has:function(si){return si?m.inArray(si,Ne)>-1:Ne.length>0},empty:function(){return Ne&&(Ne=[]),this},disable:function(){return Ie=Qe=[],Ne=Z="",this},disabled:function(){return!Ne},lock:function(){return Ie=Qe=[],!Z&&!N&&(Ne=Z=""),this},locked:function(){return!!Ie},fireWith:function(si,Ai){return Ie||(Ai=Ai||[],Ai=[si,Ai.slice?Ai.slice():Ai],Qe.push(Ai),N||Pt()),this},fire:function(){return Kt.fireWith(this,arguments),this},fired:function(){return!!re}};return Kt};function W(P){return P}function V(P){throw P}function se(P,N,Z,re){var Ie;try{P&&A(Ie=P.promise)?Ie.call(P).done(N).fail(Z):P&&A(Ie=P.then)?Ie.call(P,N,Z):N.apply(void 0,[P].slice(re))}catch(Ne){Z.apply(void 0,[Ne])}}m.extend({Deferred:function(P){var N=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],Z="pending",re={state:function(){return Z},always:function(){return Ie.done(arguments).fail(arguments),this},catch:function(Ne){return re.then(null,Ne)},pipe:function(){var Ne=arguments;return m.Deferred(function(Qe){m.each(N,function(Lt,Pt){var Kt=A(Ne[Pt[4]])&&Ne[Pt[4]];Ie[Pt[1]](function(){var si=Kt&&Kt.apply(this,arguments);si&&A(si.promise)?si.promise().progress(Qe.notify).done(Qe.resolve).fail(Qe.reject):Qe[Pt[0]+"With"](this,Kt?[si]:arguments)})}),Ne=null}).promise()},then:function(Ne,Qe,Lt){var Pt=0;function Kt(si,Ai,Qt,hi){return function(){var dr=this,xr=arguments,sr=function(){var pn,Jn;if(!(si<Pt)){if(pn=Qt.apply(dr,xr),pn===Ai.promise())throw new TypeError("Thenable self-resolution");Jn=pn&&(typeof pn=="object"||typeof pn=="function")&&pn.then,A(Jn)?hi?Jn.call(pn,Kt(Pt,Ai,W,hi),Kt(Pt,Ai,V,hi)):(Pt++,Jn.call(pn,Kt(Pt,Ai,W,hi),Kt(Pt,Ai,V,hi),Kt(Pt,Ai,W,Ai.notifyWith))):(Qt!==W&&(dr=void 0,xr=[pn]),(hi||Ai.resolveWith)(dr,xr))}},wn=hi?sr:function(){try{sr()}catch(pn){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(pn,wn.stackTrace),si+1>=Pt&&(Qt!==V&&(dr=void 0,xr=[pn]),Ai.rejectWith(dr,xr))}};si?wn():(m.Deferred.getStackHook&&(wn.stackTrace=m.Deferred.getStackHook()),r.setTimeout(wn))}}return m.Deferred(function(si){N[0][3].add(Kt(0,si,A(Lt)?Lt:W,si.notifyWith)),N[1][3].add(Kt(0,si,A(Ne)?Ne:W)),N[2][3].add(Kt(0,si,A(Qe)?Qe:V))}).promise()},promise:function(Ne){return Ne!=null?m.extend(Ne,re):re}},Ie={};return m.each(N,function(Ne,Qe){var Lt=Qe[2],Pt=Qe[5];re[Qe[1]]=Lt.add,Pt&&Lt.add(function(){Z=Pt},N[3-Ne][2].disable,N[3-Ne][3].disable,N[0][2].lock,N[0][3].lock),Lt.add(Qe[3].fire),Ie[Qe[0]]=function(){return Ie[Qe[0]+"With"](this===Ie?void 0:this,arguments),this},Ie[Qe[0]+"With"]=Lt.fireWith}),re.promise(Ie),P&&P.call(Ie,Ie),Ie},when:function(P){var N=arguments.length,Z=N,re=Array(Z),Ie=u.call(arguments),Ne=m.Deferred(),Qe=function(Lt){return function(Pt){re[Lt]=this,Ie[Lt]=arguments.length>1?u.call(arguments):Pt,--N||Ne.resolveWith(re,Ie)}};if(N<=1&&(se(P,Ne.done(Qe(Z)).resolve,Ne.reject,!N),Ne.state()==="pending"||A(Ie[Z]&&Ie[Z].then)))return Ne.then();for(;Z--;)se(Ie[Z],Qe(Z),Ne.reject);return Ne.promise()}});var Ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(P,N){r.console&&r.console.warn&&P&&Ae.test(P.name)&&r.console.warn("jQuery.Deferred exception: "+P.message,P.stack,N)},m.readyException=function(P){r.setTimeout(function(){throw P})};var Oe=m.Deferred();m.fn.ready=function(P){return Oe.then(P).catch(function(N){m.readyException(N)}),this},m.extend({isReady:!1,readyWait:1,ready:function(P){(P===!0?--m.readyWait:m.isReady)||(m.isReady=!0,!(P!==!0&&--m.readyWait>0)&&Oe.resolveWith(x,[m]))}}),m.ready.then=Oe.then;function je(){x.removeEventListener("DOMContentLoaded",je),r.removeEventListener("load",je),m.ready()}x.readyState==="complete"||x.readyState!=="loading"&&!x.documentElement.doScroll?r.setTimeout(m.ready):(x.addEventListener("DOMContentLoaded",je),r.addEventListener("load",je));var De=function(P,N,Z,re,Ie,Ne,Qe){var Lt=0,Pt=P.length,Kt=Z==null;if(h(Z)==="object"){Ie=!0;for(Lt in Z)De(P,N,Lt,Z[Lt],!0,Ne,Qe)}else if(re!==void 0&&(Ie=!0,A(re)||(Qe=!0),Kt&&(Qe?(N.call(P,re),N=null):(Kt=N,N=function(si,Ai,Qt){return Kt.call(m(si),Qt)})),N))for(;Lt<Pt;Lt++)N(P[Lt],Z,Qe?re:re.call(P[Lt],Lt,N(P[Lt],Z)));return Ie?P:Kt?N.call(P):Pt?N(P[0],Z):Ne},Se=/^-ms-/,de=/-([a-z])/g;function Xe(P,N){return N.toUpperCase()}function ht(P){return P.replace(Se,"ms-").replace(de,Xe)}var nt=function(P){return P.nodeType===1||P.nodeType===9||!+P.nodeType};function lt(){this.expando=m.expando+lt.uid++}lt.uid=1,lt.prototype={cache:function(P){var N=P[this.expando];return N||(N={},nt(P)&&(P.nodeType?P[this.expando]=N:Object.defineProperty(P,this.expando,{value:N,configurable:!0}))),N},set:function(P,N,Z){var re,Ie=this.cache(P);if(typeof N=="string")Ie[ht(N)]=Z;else for(re in N)Ie[ht(re)]=N[re];return Ie},get:function(P,N){return N===void 0?this.cache(P):P[this.expando]&&P[this.expando][ht(N)]},access:function(P,N,Z){return N===void 0||N&&typeof N=="string"&&Z===void 0?this.get(P,N):(this.set(P,N,Z),Z!==void 0?Z:N)},remove:function(P,N){var Z,re=P[this.expando];if(re!==void 0){if(N!==void 0)for(Array.isArray(N)?N=N.map(ht):(N=ht(N),N=N in re?[N]:N.match(ne)||[]),Z=N.length;Z--;)delete re[N[Z]];(N===void 0||m.isEmptyObject(re))&&(P.nodeType?P[this.expando]=void 0:delete P[this.expando])}},hasData:function(P){var N=P[this.expando];return N!==void 0&&!m.isEmptyObject(N)}};var ot=new lt,ve=new lt,pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function xe(P){return P==="true"?!0:P==="false"?!1:P==="null"?null:P===+P+""?+P:pe.test(P)?JSON.parse(P):P}function Ce(P,N,Z){var re;if(Z===void 0&&P.nodeType===1)if(re="data-"+N.replace(tt,"-$&").toLowerCase(),Z=P.getAttribute(re),typeof Z=="string"){try{Z=xe(Z)}catch(Ie){}ve.set(P,N,Z)}else Z=void 0;return Z}m.extend({hasData:function(P){return ve.hasData(P)||ot.hasData(P)},data:function(P,N,Z){return ve.access(P,N,Z)},removeData:function(P,N){ve.remove(P,N)},_data:function(P,N,Z){return ot.access(P,N,Z)},_removeData:function(P,N){ot.remove(P,N)}}),m.fn.extend({data:function(P,N){var Z,re,Ie,Ne=this[0],Qe=Ne&&Ne.attributes;if(P===void 0){if(this.length&&(Ie=ve.get(Ne),Ne.nodeType===1&&!ot.get(Ne,"hasDataAttrs"))){for(Z=Qe.length;Z--;)Qe[Z]&&(re=Qe[Z].name,re.indexOf("data-")===0&&(re=ht(re.slice(5)),Ce(Ne,re,Ie[re])));ot.set(Ne,"hasDataAttrs",!0)}return Ie}return typeof P=="object"?this.each(function(){ve.set(this,P)}):De(this,function(Lt){var Pt;if(Ne&&Lt===void 0)return Pt=ve.get(Ne,P),Pt!==void 0||(Pt=Ce(Ne,P),Pt!==void 0)?Pt:void 0;this.each(function(){ve.set(this,P,Lt)})},null,N,arguments.length>1,null,!0)},removeData:function(P){return this.each(function(){ve.remove(this,P)})}}),m.extend({queue:function(P,N,Z){var re;if(P)return N=(N||"fx")+"queue",re=ot.get(P,N),Z&&(!re||Array.isArray(Z)?re=ot.access(P,N,m.makeArray(Z)):re.push(Z)),re||[]},dequeue:function(P,N){N=N||"fx";var Z=m.queue(P,N),re=Z.length,Ie=Z.shift(),Ne=m._queueHooks(P,N),Qe=function(){m.dequeue(P,N)};Ie==="inprogress"&&(Ie=Z.shift(),re--),Ie&&(N==="fx"&&Z.unshift("inprogress"),delete Ne.stop,Ie.call(P,Qe,Ne)),!re&&Ne&&Ne.empty.fire()},_queueHooks:function(P,N){var Z=N+"queueHooks";return ot.get(P,Z)||ot.access(P,Z,{empty:m.Callbacks("once memory").add(function(){ot.remove(P,[N+"queue",Z])})})}}),m.fn.extend({queue:function(P,N){var Z=2;return typeof P!="string"&&(N=P,P="fx",Z--),arguments.length<Z?m.queue(this[0],P):N===void 0?this:this.each(function(){var re=m.queue(this,P,N);m._queueHooks(this,P),P==="fx"&&re[0]!=="inprogress"&&m.dequeue(this,P)})},dequeue:function(P){return this.each(function(){m.dequeue(this,P)})},clearQueue:function(P){return this.queue(P||"fx",[])},promise:function(P,N){var Z,re=1,Ie=m.Deferred(),Ne=this,Qe=this.length,Lt=function(){--re||Ie.resolveWith(Ne,[Ne])};for(typeof P!="string"&&(N=P,P=void 0),P=P||"fx";Qe--;)Z=ot.get(Ne[Qe],P+"queueHooks"),Z&&Z.empty&&(re++,Z.empty.add(Lt));return Lt(),Ie.promise(N)}});var Ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=new RegExp("^(?:([+-])=|)("+Ue+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],Me=x.documentElement,mt=function(P){return m.contains(P.ownerDocument,P)},He={composed:!0};Me.getRootNode&&(mt=function(P){return m.contains(P.ownerDocument,P)||P.getRootNode(He)===P.ownerDocument});var We=function(P,N){return P=N||P,P.style.display==="none"||P.style.display===""&&mt(P)&&m.css(P,"display")==="none"};function yt(P,N,Z,re){var Ie,Ne,Qe=20,Lt=re?function(){return re.cur()}:function(){return m.css(P,N,"")},Pt=Lt(),Kt=Z&&Z[3]||(m.cssNumber[N]?"":"px"),si=P.nodeType&&(m.cssNumber[N]||Kt!=="px"&&+Pt)&&Te.exec(m.css(P,N));if(si&&si[3]!==Kt){for(Pt=Pt/2,Kt=Kt||si[3],si=+Pt||1;Qe--;)m.style(P,N,si+Kt),(1-Ne)*(1-(Ne=Lt()/Pt||.5))<=0&&(Qe=0),si=si/Ne;si=si*2,m.style(P,N,si+Kt),Z=Z||[]}return Z&&(si=+si||+Pt||0,Ie=Z[1]?si+(Z[1]+1)*Z[2]:+Z[2],re&&(re.unit=Kt,re.start=si,re.end=Ie)),Ie}var Ot={};function Ft(P){var N,Z=P.ownerDocument,re=P.nodeName,Ie=Ot[re];return Ie||(N=Z.body.appendChild(Z.createElement(re)),Ie=m.css(N,"display"),N.parentNode.removeChild(N),Ie==="none"&&(Ie="block"),Ot[re]=Ie,Ie)}function rt(P,N){for(var Z,re,Ie=[],Ne=0,Qe=P.length;Ne<Qe;Ne++)re=P[Ne],re.style&&(Z=re.style.display,N?(Z==="none"&&(Ie[Ne]=ot.get(re,"display")||null,Ie[Ne]||(re.style.display="")),re.style.display===""&&We(re)&&(Ie[Ne]=Ft(re))):Z!=="none"&&(Ie[Ne]="none",ot.set(re,"display",Z)));for(Ne=0;Ne<Qe;Ne++)Ie[Ne]!=null&&(P[Ne].style.display=Ie[Ne]);return P}m.fn.extend({show:function(){return rt(this,!0)},hide:function(){return rt(this)},toggle:function(P){return typeof P=="boolean"?P?this.show():this.hide():this.each(function(){We(this)?m(this).show():m(this).hide()})}});var oe=/^(?:checkbox|radio)$/i,Pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ze=/^$|^module$|\/(?:java|ecma)script/i;(function(){var P=x.createDocumentFragment(),N=P.appendChild(x.createElement("div")),Z=x.createElement("input");Z.setAttribute("type","radio"),Z.setAttribute("checked","checked"),Z.setAttribute("name","t"),N.appendChild(Z),k.checkClone=N.cloneNode(!0).cloneNode(!0).lastChild.checked,N.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!N.cloneNode(!0).lastChild.defaultValue,N.innerHTML="<option></option>",k.option=!!N.lastChild})();var Je={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,k.option||(Je.optgroup=Je.option=[1,"<select multiple='multiple'>","</select>"]);function qe(P,N){var Z;return typeof P.getElementsByTagName<"u"?Z=P.getElementsByTagName(N||"*"):typeof P.querySelectorAll<"u"?Z=P.querySelectorAll(N||"*"):Z=[],N===void 0||N&&H(P,N)?m.merge([P],Z):Z}function M(P,N){for(var Z=0,re=P.length;Z<re;Z++)ot.set(P[Z],"globalEval",!N||ot.get(N[Z],"globalEval"))}var be=/<|&#?\w+;/;function he(P,N,Z,re,Ie){for(var Ne,Qe,Lt,Pt,Kt,si,Ai=N.createDocumentFragment(),Qt=[],hi=0,dr=P.length;hi<dr;hi++)if(Ne=P[hi],Ne||Ne===0)if(h(Ne)==="object")m.merge(Qt,Ne.nodeType?[Ne]:Ne);else if(!be.test(Ne))Qt.push(N.createTextNode(Ne));else{for(Qe=Qe||Ai.appendChild(N.createElement("div")),Lt=(Pe.exec(Ne)||["",""])[1].toLowerCase(),Pt=Je[Lt]||Je._default,Qe.innerHTML=Pt[1]+m.htmlPrefilter(Ne)+Pt[2],si=Pt[0];si--;)Qe=Qe.lastChild;m.merge(Qt,Qe.childNodes),Qe=Ai.firstChild,Qe.textContent=""}for(Ai.textContent="",hi=0;Ne=Qt[hi++];){if(re&&m.inArray(Ne,re)>-1){Ie&&Ie.push(Ne);continue}if(Kt=mt(Ne),Qe=qe(Ai.appendChild(Ne),"script"),Kt&&M(Qe),Z)for(si=0;Ne=Qe[si++];)Ze.test(Ne.type||"")&&Z.push(Ne)}return Ai}var Ge=/^([^.]*)(?:\.(.+)|)/;function vt(){return!0}function kt(){return!1}function ce(P,N){return P===_e()==(N==="focus")}function _e(){try{return x.activeElement}catch(P){}}function Re(P,N,Z,re,Ie,Ne){var Qe,Lt;if(typeof N=="object"){typeof Z!="string"&&(re=re||Z,Z=void 0);for(Lt in N)Re(P,Lt,Z,re,N[Lt],Ne);return P}if(re==null&&Ie==null?(Ie=Z,re=Z=void 0):Ie==null&&(typeof Z=="string"?(Ie=re,re=void 0):(Ie=re,re=Z,Z=void 0)),Ie===!1)Ie=kt;else if(!Ie)return P;return Ne===1&&(Qe=Ie,Ie=function(Pt){return m().off(Pt),Qe.apply(this,arguments)},Ie.guid=Qe.guid||(Qe.guid=m.guid++)),P.each(function(){m.event.add(this,N,Ie,re,Z)})}m.event={global:{},add:function(P,N,Z,re,Ie){var Ne,Qe,Lt,Pt,Kt,si,Ai,Qt,hi,dr,xr,sr=ot.get(P);if(nt(P))for(Z.handler&&(Ne=Z,Z=Ne.handler,Ie=Ne.selector),Ie&&m.find.matchesSelector(Me,Ie),Z.guid||(Z.guid=m.guid++),(Pt=sr.events)||(Pt=sr.events=Object.create(null)),(Qe=sr.handle)||(Qe=sr.handle=function(wn){return typeof m<"u"&&m.event.triggered!==wn.type?m.event.dispatch.apply(P,arguments):void 0}),N=(N||"").match(ne)||[""],Kt=N.length;Kt--;)Lt=Ge.exec(N[Kt])||[],hi=xr=Lt[1],dr=(Lt[2]||"").split(".").sort(),hi&&(Ai=m.event.special[hi]||{},hi=(Ie?Ai.delegateType:Ai.bindType)||hi,Ai=m.event.special[hi]||{},si=m.extend({type:hi,origType:xr,data:re,handler:Z,guid:Z.guid,selector:Ie,needsContext:Ie&&m.expr.match.needsContext.test(Ie),namespace:dr.join(".")},Ne),(Qt=Pt[hi])||(Qt=Pt[hi]=[],Qt.delegateCount=0,(!Ai.setup||Ai.setup.call(P,re,dr,Qe)===!1)&&P.addEventListener&&P.addEventListener(hi,Qe)),Ai.add&&(Ai.add.call(P,si),si.handler.guid||(si.handler.guid=Z.guid)),Ie?Qt.splice(Qt.delegateCount++,0,si):Qt.push(si),m.event.global[hi]=!0)},remove:function(P,N,Z,re,Ie){var Ne,Qe,Lt,Pt,Kt,si,Ai,Qt,hi,dr,xr,sr=ot.hasData(P)&&ot.get(P);if(!(!sr||!(Pt=sr.events))){for(N=(N||"").match(ne)||[""],Kt=N.length;Kt--;){if(Lt=Ge.exec(N[Kt])||[],hi=xr=Lt[1],dr=(Lt[2]||"").split(".").sort(),!hi){for(hi in Pt)m.event.remove(P,hi+N[Kt],Z,re,!0);continue}for(Ai=m.event.special[hi]||{},hi=(re?Ai.delegateType:Ai.bindType)||hi,Qt=Pt[hi]||[],Lt=Lt[2]&&new RegExp("(^|\\.)"+dr.join("\\.(?:.*\\.|)")+"(\\.|$)"),Qe=Ne=Qt.length;Ne--;)si=Qt[Ne],(Ie||xr===si.origType)&&(!Z||Z.guid===si.guid)&&(!Lt||Lt.test(si.namespace))&&(!re||re===si.selector||re==="**"&&si.selector)&&(Qt.splice(Ne,1),si.selector&&Qt.delegateCount--,Ai.remove&&Ai.remove.call(P,si));Qe&&!Qt.length&&((!Ai.teardown||Ai.teardown.call(P,dr,sr.handle)===!1)&&m.removeEvent(P,hi,sr.handle),delete Pt[hi])}m.isEmptyObject(Pt)&&ot.remove(P,"handle events")}},dispatch:function(P){var N,Z,re,Ie,Ne,Qe,Lt=new Array(arguments.length),Pt=m.event.fix(P),Kt=(ot.get(this,"events")||Object.create(null))[Pt.type]||[],si=m.event.special[Pt.type]||{};for(Lt[0]=Pt,N=1;N<arguments.length;N++)Lt[N]=arguments[N];if(Pt.delegateTarget=this,!(si.preDispatch&&si.preDispatch.call(this,Pt)===!1)){for(Qe=m.event.handlers.call(this,Pt,Kt),N=0;(Ie=Qe[N++])&&!Pt.isPropagationStopped();)for(Pt.currentTarget=Ie.elem,Z=0;(Ne=Ie.handlers[Z++])&&!Pt.isImmediatePropagationStopped();)(!Pt.rnamespace||Ne.namespace===!1||Pt.rnamespace.test(Ne.namespace))&&(Pt.handleObj=Ne,Pt.data=Ne.data,re=((m.event.special[Ne.origType]||{}).handle||Ne.handler).apply(Ie.elem,Lt),re!==void 0&&(Pt.result=re)===!1&&(Pt.preventDefault(),Pt.stopPropagation()));return si.postDispatch&&si.postDispatch.call(this,Pt),Pt.result}},handlers:function(P,N){var Z,re,Ie,Ne,Qe,Lt=[],Pt=N.delegateCount,Kt=P.target;if(Pt&&Kt.nodeType&&!(P.type==="click"&&P.button>=1)){for(;Kt!==this;Kt=Kt.parentNode||this)if(Kt.nodeType===1&&!(P.type==="click"&&Kt.disabled===!0)){for(Ne=[],Qe={},Z=0;Z<Pt;Z++)re=N[Z],Ie=re.selector+" ",Qe[Ie]===void 0&&(Qe[Ie]=re.needsContext?m(Ie,this).index(Kt)>-1:m.find(Ie,this,null,[Kt]).length),Qe[Ie]&&Ne.push(re);Ne.length&&Lt.push({elem:Kt,handlers:Ne})}}return Kt=this,Pt<N.length&&Lt.push({elem:Kt,handlers:N.slice(Pt)}),Lt},addProp:function(P,N){Object.defineProperty(m.Event.prototype,P,{enumerable:!0,configurable:!0,get:A(N)?function(){if(this.originalEvent)return N(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[P]},set:function(Z){Object.defineProperty(this,P,{enumerable:!0,configurable:!0,writable:!0,value:Z})}})},fix:function(P){return P[m.expando]?P:new m.Event(P)},special:{load:{noBubble:!0},click:{setup:function(P){var N=this||P;return oe.test(N.type)&&N.click&&H(N,"input")&&st(N,"click",vt),!1},trigger:function(P){var N=this||P;return oe.test(N.type)&&N.click&&H(N,"input")&&st(N,"click"),!0},_default:function(P){var N=P.target;return oe.test(N.type)&&N.click&&H(N,"input")&&ot.get(N,"click")||H(N,"a")}},beforeunload:{postDispatch:function(P){P.result!==void 0&&P.originalEvent&&(P.originalEvent.returnValue=P.result)}}}};function st(P,N,Z){if(!Z){ot.get(P,N)===void 0&&m.event.add(P,N,vt);return}ot.set(P,N,!1),m.event.add(P,N,{namespace:!1,handler:function(re){var Ie,Ne,Qe=ot.get(this,N);if(re.isTrigger&1&&this[N]){if(Qe.length)(m.event.special[N]||{}).delegateType&&re.stopPropagation();else if(Qe=u.call(arguments),ot.set(this,N,Qe),Ie=Z(this,N),this[N](),Ne=ot.get(this,N),Qe!==Ne||Ie?ot.set(this,N,!1):Ne={},Qe!==Ne)return re.stopImmediatePropagation(),re.preventDefault(),Ne&&Ne.value}else Qe.length&&(ot.set(this,N,{value:m.event.trigger(m.extend(Qe[0],m.Event.prototype),Qe.slice(1),this)}),re.stopImmediatePropagation())}})}m.removeEvent=function(P,N,Z){P.removeEventListener&&P.removeEventListener(N,Z)},m.Event=function(P,N){if(!(this instanceof m.Event))return new m.Event(P,N);P&&P.type?(this.originalEvent=P,this.type=P.type,this.isDefaultPrevented=P.defaultPrevented||P.defaultPrevented===void 0&&P.returnValue===!1?vt:kt,this.target=P.target&&P.target.nodeType===3?P.target.parentNode:P.target,this.currentTarget=P.currentTarget,this.relatedTarget=P.relatedTarget):this.type=P,N&&m.extend(this,N),this.timeStamp=P&&P.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var P=this.originalEvent;this.isDefaultPrevented=vt,P&&!this.isSimulated&&P.preventDefault()},stopPropagation:function(){var P=this.originalEvent;this.isPropagationStopped=vt,P&&!this.isSimulated&&P.stopPropagation()},stopImmediatePropagation:function(){var P=this.originalEvent;this.isImmediatePropagationStopped=vt,P&&!this.isSimulated&&P.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},m.event.addProp),m.each({focus:"focusin",blur:"focusout"},function(P,N){m.event.special[P]={setup:function(){return st(this,P,ce),!1},trigger:function(){return st(this,P),!0},_default:function(Z){return ot.get(Z.target,P)},delegateType:N}}),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(P,N){m.event.special[P]={delegateType:N,bindType:N,handle:function(Z){var re,Ie=this,Ne=Z.relatedTarget,Qe=Z.handleObj;return(!Ne||Ne!==Ie&&!m.contains(Ie,Ne))&&(Z.type=Qe.origType,re=Qe.handler.apply(this,arguments),Z.type=N),re}}}),m.fn.extend({on:function(P,N,Z,re){return Re(this,P,N,Z,re)},one:function(P,N,Z,re){return Re(this,P,N,Z,re,1)},off:function(P,N,Z){var re,Ie;if(P&&P.preventDefault&&P.handleObj)return re=P.handleObj,m(P.delegateTarget).off(re.namespace?re.origType+"."+re.namespace:re.origType,re.selector,re.handler),this;if(typeof P=="object"){for(Ie in P)this.off(Ie,N,P[Ie]);return this}return(N===!1||typeof N=="function")&&(Z=N,N=void 0),Z===!1&&(Z=kt),this.each(function(){m.event.remove(this,P,Z,N)})}});var xt=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Bt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Rt(P,N){return H(P,"table")&&H(N.nodeType!==11?N:N.firstChild,"tr")&&m(P).children("tbody")[0]||P}function qt(P){return P.type=(P.getAttribute("type")!==null)+"/"+P.type,P}function Be(P){return(P.type||"").slice(0,5)==="true/"?P.type=P.type.slice(5):P.removeAttribute("type"),P}function me(P,N){var Z,re,Ie,Ne,Qe,Lt,Pt;if(N.nodeType===1){if(ot.hasData(P)&&(Ne=ot.get(P),Pt=Ne.events,Pt)){ot.remove(N,"handle events");for(Ie in Pt)for(Z=0,re=Pt[Ie].length;Z<re;Z++)m.event.add(N,Ie,Pt[Ie][Z])}ve.hasData(P)&&(Qe=ve.access(P),Lt=m.extend({},Qe),ve.set(N,Lt))}}function ze(P,N){var Z=N.nodeName.toLowerCase();Z==="input"&&oe.test(P.type)?N.checked=P.checked:(Z==="input"||Z==="textarea")&&(N.defaultValue=P.defaultValue)}function Ye(P,N,Z,re){N=n(N);var Ie,Ne,Qe,Lt,Pt,Kt,si=0,Ai=P.length,Qt=Ai-1,hi=N[0],dr=A(hi);if(dr||Ai>1&&typeof hi=="string"&&!k.checkClone&&Mt.test(hi))return P.each(function(xr){var sr=P.eq(xr);dr&&(N[0]=hi.call(this,xr,sr.html())),Ye(sr,N,Z,re)});if(Ai&&(Ie=he(N,P[0].ownerDocument,!1,P,re),Ne=Ie.firstChild,Ie.childNodes.length===1&&(Ie=Ne),Ne||re)){for(Qe=m.map(qe(Ie,"script"),qt),Lt=Qe.length;si<Ai;si++)Pt=Ie,si!==Qt&&(Pt=m.clone(Pt,!0,!0),Lt&&m.merge(Qe,qe(Pt,"script"))),Z.call(P[si],Pt,si);if(Lt)for(Kt=Qe[Qe.length-1].ownerDocument,m.map(Qe,Be),si=0;si<Lt;si++)Pt=Qe[si],Ze.test(Pt.type||"")&&!ot.access(Pt,"globalEval")&&m.contains(Kt,Pt)&&(Pt.src&&(Pt.type||"").toLowerCase()!=="module"?m._evalUrl&&!Pt.noModule&&m._evalUrl(Pt.src,{nonce:Pt.nonce||Pt.getAttribute("nonce")},Kt):s(Pt.textContent.replace(Bt,""),Pt,Kt))}return P}function ut(P,N,Z){for(var re,Ie=N?m.filter(N,P):P,Ne=0;(re=Ie[Ne])!=null;Ne++)!Z&&re.nodeType===1&&m.cleanData(qe(re)),re.parentNode&&(Z&&mt(re)&&M(qe(re,"script")),re.parentNode.removeChild(re));return P}m.extend({htmlPrefilter:function(P){return P},clone:function(P,N,Z){var re,Ie,Ne,Qe,Lt=P.cloneNode(!0),Pt=mt(P);if(!k.noCloneChecked&&(P.nodeType===1||P.nodeType===11)&&!m.isXMLDoc(P))for(Qe=qe(Lt),Ne=qe(P),re=0,Ie=Ne.length;re<Ie;re++)ze(Ne[re],Qe[re]);if(N)if(Z)for(Ne=Ne||qe(P),Qe=Qe||qe(Lt),re=0,Ie=Ne.length;re<Ie;re++)me(Ne[re],Qe[re]);else me(P,Lt);return Qe=qe(Lt,"script"),Qe.length>0&&M(Qe,!Pt&&qe(P,"script")),Lt},cleanData:function(P){for(var N,Z,re,Ie=m.event.special,Ne=0;(Z=P[Ne])!==void 0;Ne++)if(nt(Z)){if(N=Z[ot.expando]){if(N.events)for(re in N.events)Ie[re]?m.event.remove(Z,re):m.removeEvent(Z,re,N.handle);Z[ot.expando]=void 0}Z[ve.expando]&&(Z[ve.expando]=void 0)}}}),m.fn.extend({detach:function(P){return ut(this,P,!0)},remove:function(P){return ut(this,P)},text:function(P){return De(this,function(N){return N===void 0?m.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=N)})},null,P,arguments.length)},append:function(){return Ye(this,arguments,function(P){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=Rt(this,P);N.appendChild(P)}})},prepend:function(){return Ye(this,arguments,function(P){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=Rt(this,P);N.insertBefore(P,N.firstChild)}})},before:function(){return Ye(this,arguments,function(P){this.parentNode&&this.parentNode.insertBefore(P,this)})},after:function(){return Ye(this,arguments,function(P){this.parentNode&&this.parentNode.insertBefore(P,this.nextSibling)})},empty:function(){for(var P,N=0;(P=this[N])!=null;N++)P.nodeType===1&&(m.cleanData(qe(P,!1)),P.textContent="");return this},clone:function(P,N){return P=P!=null?P:!1,N=N!=null?N:P,this.map(function(){return m.clone(this,P,N)})},html:function(P){return De(this,function(N){var Z=this[0]||{},re=0,Ie=this.length;if(N===void 0&&Z.nodeType===1)return Z.innerHTML;if(typeof N=="string"&&!xt.test(N)&&!Je[(Pe.exec(N)||["",""])[1].toLowerCase()]){N=m.htmlPrefilter(N);try{for(;re<Ie;re++)Z=this[re]||{},Z.nodeType===1&&(m.cleanData(qe(Z,!1)),Z.innerHTML=N);Z=0}catch(Ne){}}Z&&this.empty().append(N)},null,P,arguments.length)},replaceWith:function(){var P=[];return Ye(this,arguments,function(N){var Z=this.parentNode;m.inArray(this,P)<0&&(m.cleanData(qe(this)),Z&&Z.replaceChild(N,this))},P)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(P,N){m.fn[P]=function(Z){for(var re,Ie=[],Ne=m(Z),Qe=Ne.length-1,Lt=0;Lt<=Qe;Lt++)re=Lt===Qe?this:this.clone(!0),m(Ne[Lt])[N](re),c.apply(Ie,re.get());return this.pushStack(Ie)}});var ft=new RegExp("^("+Ue+")(?!px)[a-z%]+$","i"),dt=/^--/,at=function(P){var N=P.ownerDocument.defaultView;return(!N||!N.opener)&&(N=r),N.getComputedStyle(P)},Fe=function(P,N,Z){var re,Ie,Ne={};for(Ie in N)Ne[Ie]=P.style[Ie],P.style[Ie]=N[Ie];re=Z.call(P);for(Ie in N)P.style[Ie]=Ne[Ie];return re},pt=new RegExp(it.join("|"),"i"),Ct="[\\x20\\t\\r\\n\\f]",Nt=new RegExp("^"+Ct+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ct+"+$","g");(function(){function P(){if(Kt){Pt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Kt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Me.appendChild(Pt).appendChild(Kt);var si=r.getComputedStyle(Kt);Z=si.top!=="1%",Lt=N(si.marginLeft)===12,Kt.style.right="60%",Ne=N(si.right)===36,re=N(si.width)===36,Kt.style.position="absolute",Ie=N(Kt.offsetWidth/3)===12,Me.removeChild(Pt),Kt=null}}function N(si){return Math.round(parseFloat(si))}var Z,re,Ie,Ne,Qe,Lt,Pt=x.createElement("div"),Kt=x.createElement("div");Kt.style&&(Kt.style.backgroundClip="content-box",Kt.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=Kt.style.backgroundClip==="content-box",m.extend(k,{boxSizingReliable:function(){return P(),re},pixelBoxStyles:function(){return P(),Ne},pixelPosition:function(){return P(),Z},reliableMarginLeft:function(){return P(),Lt},scrollboxSize:function(){return P(),Ie},reliableTrDimensions:function(){var si,Ai,Qt,hi;return Qe==null&&(si=x.createElement("table"),Ai=x.createElement("tr"),Qt=x.createElement("div"),si.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ai.style.cssText="border:1px solid",Ai.style.height="1px",Qt.style.height="9px",Qt.style.display="block",Me.appendChild(si).appendChild(Ai).appendChild(Qt),hi=r.getComputedStyle(Ai),Qe=parseInt(hi.height,10)+parseInt(hi.borderTopWidth,10)+parseInt(hi.borderBottomWidth,10)===Ai.offsetHeight,Me.removeChild(si)),Qe}}))})();function ke(P,N,Z){var re,Ie,Ne,Qe,Lt=dt.test(N),Pt=P.style;return Z=Z||at(P),Z&&(Qe=Z.getPropertyValue(N)||Z[N],Lt&&(Qe=Qe.replace(Nt,"$1")),Qe===""&&!mt(P)&&(Qe=m.style(P,N)),!k.pixelBoxStyles()&&ft.test(Qe)&&pt.test(N)&&(re=Pt.width,Ie=Pt.minWidth,Ne=Pt.maxWidth,Pt.minWidth=Pt.maxWidth=Pt.width=Qe,Qe=Z.width,Pt.width=re,Pt.minWidth=Ie,Pt.maxWidth=Ne)),Qe!==void 0?Qe+"":Qe}function It(P,N){return{get:function(){if(P()){delete this.get;return}return(this.get=N).apply(this,arguments)}}}var Dt=["Webkit","Moz","ms"],Et=x.createElement("div").style,ui={};function ki(P){for(var N=P[0].toUpperCase()+P.slice(1),Z=Dt.length;Z--;)if(P=Dt[Z]+N,P in Et)return P}function vi(P){var N=m.cssProps[P]||ui[P];return N||(P in Et?P:ui[P]=ki(P)||P)}var nr=/^(none|table(?!-c[ea]).+)/,Li={position:"absolute",visibility:"hidden",display:"block"},Ri={letterSpacing:"0",fontWeight:"400"};function xi(P,N,Z){var re=Te.exec(N);return re?Math.max(0,re[2]-(Z||0))+(re[3]||"px"):N}function ai(P,N,Z,re,Ie,Ne){var Qe=N==="width"?1:0,Lt=0,Pt=0;if(Z===(re?"border":"content"))return 0;for(;Qe<4;Qe+=2)Z==="margin"&&(Pt+=m.css(P,Z+it[Qe],!0,Ie)),re?(Z==="content"&&(Pt-=m.css(P,"padding"+it[Qe],!0,Ie)),Z!=="margin"&&(Pt-=m.css(P,"border"+it[Qe]+"Width",!0,Ie))):(Pt+=m.css(P,"padding"+it[Qe],!0,Ie),Z!=="padding"?Pt+=m.css(P,"border"+it[Qe]+"Width",!0,Ie):Lt+=m.css(P,"border"+it[Qe]+"Width",!0,Ie));return!re&&Ne>=0&&(Pt+=Math.max(0,Math.ceil(P["offset"+N[0].toUpperCase()+N.slice(1)]-Ne-Pt-Lt-.5))||0),Pt}function wi(P,N,Z){var re=at(P),Ie=!k.boxSizingReliable()||Z,Ne=Ie&&m.css(P,"boxSizing",!1,re)==="border-box",Qe=Ne,Lt=ke(P,N,re),Pt="offset"+N[0].toUpperCase()+N.slice(1);if(ft.test(Lt)){if(!Z)return Lt;Lt="auto"}return(!k.boxSizingReliable()&&Ne||!k.reliableTrDimensions()&&H(P,"tr")||Lt==="auto"||!parseFloat(Lt)&&m.css(P,"display",!1,re)==="inline")&&P.getClientRects().length&&(Ne=m.css(P,"boxSizing",!1,re)==="border-box",Qe=Pt in P,Qe&&(Lt=P[Pt])),Lt=parseFloat(Lt)||0,Lt+ai(P,N,Z||(Ne?"border":"content"),Qe,re,Lt)+"px"}m.extend({cssHooks:{opacity:{get:function(P,N){if(N){var Z=ke(P,"opacity");return Z===""?"1":Z}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(P,N,Z,re){if(!(!P||P.nodeType===3||P.nodeType===8||!P.style)){var Ie,Ne,Qe,Lt=ht(N),Pt=dt.test(N),Kt=P.style;if(Pt||(N=vi(Lt)),Qe=m.cssHooks[N]||m.cssHooks[Lt],Z!==void 0){if(Ne=typeof Z,Ne==="string"&&(Ie=Te.exec(Z))&&Ie[1]&&(Z=yt(P,N,Ie),Ne="number"),Z==null||Z!==Z)return;Ne==="number"&&!Pt&&(Z+=Ie&&Ie[3]||(m.cssNumber[Lt]?"":"px")),!k.clearCloneStyle&&Z===""&&N.indexOf("background")===0&&(Kt[N]="inherit"),(!Qe||!("set"in Qe)||(Z=Qe.set(P,Z,re))!==void 0)&&(Pt?Kt.setProperty(N,Z):Kt[N]=Z)}else return Qe&&"get"in Qe&&(Ie=Qe.get(P,!1,re))!==void 0?Ie:Kt[N]}},css:function(P,N,Z,re){var Ie,Ne,Qe,Lt=ht(N),Pt=dt.test(N);return Pt||(N=vi(Lt)),Qe=m.cssHooks[N]||m.cssHooks[Lt],Qe&&"get"in Qe&&(Ie=Qe.get(P,!0,Z)),Ie===void 0&&(Ie=ke(P,N,re)),Ie==="normal"&&N in Ri&&(Ie=Ri[N]),Z===""||Z?(Ne=parseFloat(Ie),Z===!0||isFinite(Ne)?Ne||0:Ie):Ie}}),m.each(["height","width"],function(P,N){m.cssHooks[N]={get:function(Z,re,Ie){if(re)return nr.test(m.css(Z,"display"))&&(!Z.getClientRects().length||!Z.getBoundingClientRect().width)?Fe(Z,Li,function(){return wi(Z,N,Ie)}):wi(Z,N,Ie)},set:function(Z,re,Ie){var Ne,Qe=at(Z),Lt=!k.scrollboxSize()&&Qe.position==="absolute",Pt=Lt||Ie,Kt=Pt&&m.css(Z,"boxSizing",!1,Qe)==="border-box",si=Ie?ai(Z,N,Ie,Kt,Qe):0;return Kt&&Lt&&(si-=Math.ceil(Z["offset"+N[0].toUpperCase()+N.slice(1)]-parseFloat(Qe[N])-ai(Z,N,"border",!1,Qe)-.5)),si&&(Ne=Te.exec(re))&&(Ne[3]||"px")!=="px"&&(Z.style[N]=re,re=m.css(Z,N)),xi(Z,re,si)}}}),m.cssHooks.marginLeft=It(k.reliableMarginLeft,function(P,N){if(N)return(parseFloat(ke(P,"marginLeft"))||P.getBoundingClientRect().left-Fe(P,{marginLeft:0},function(){return P.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(P,N){m.cssHooks[P+N]={expand:function(Z){for(var re=0,Ie={},Ne=typeof Z=="string"?Z.split(" "):[Z];re<4;re++)Ie[P+it[re]+N]=Ne[re]||Ne[re-2]||Ne[0];return Ie}},P!=="margin"&&(m.cssHooks[P+N].set=xi)}),m.fn.extend({css:function(P,N){return De(this,function(Z,re,Ie){var Ne,Qe,Lt={},Pt=0;if(Array.isArray(re)){for(Ne=at(Z),Qe=re.length;Pt<Qe;Pt++)Lt[re[Pt]]=m.css(Z,re[Pt],!1,Ne);return Lt}return Ie!==void 0?m.style(Z,re,Ie):m.css(Z,re)},P,N,arguments.length>1)}});function _r(P,N,Z,re,Ie){return new _r.prototype.init(P,N,Z,re,Ie)}m.Tween=_r,_r.prototype={constructor:_r,init:function(P,N,Z,re,Ie,Ne){this.elem=P,this.prop=Z,this.easing=Ie||m.easing._default,this.options=N,this.start=this.now=this.cur(),this.end=re,this.unit=Ne||(m.cssNumber[Z]?"":"px")},cur:function(){var P=_r.propHooks[this.prop];return P&&P.get?P.get(this):_r.propHooks._default.get(this)},run:function(P){var N,Z=_r.propHooks[this.prop];return this.options.duration?this.pos=N=m.easing[this.easing](P,this.options.duration*P,0,1,this.options.duration):this.pos=N=P,this.now=(this.end-this.start)*N+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Z&&Z.set?Z.set(this):_r.propHooks._default.set(this),this}},_r.prototype.init.prototype=_r.prototype,_r.propHooks={_default:{get:function(P){var N;return P.elem.nodeType!==1||P.elem[P.prop]!=null&&P.elem.style[P.prop]==null?P.elem[P.prop]:(N=m.css(P.elem,P.prop,""),!N||N==="auto"?0:N)},set:function(P){m.fx.step[P.prop]?m.fx.step[P.prop](P):P.elem.nodeType===1&&(m.cssHooks[P.prop]||P.elem.style[vi(P.prop)]!=null)?m.style(P.elem,P.prop,P.now+P.unit):P.elem[P.prop]=P.now}}},_r.propHooks.scrollTop=_r.propHooks.scrollLeft={set:function(P){P.elem.nodeType&&P.elem.parentNode&&(P.elem[P.prop]=P.now)}},m.easing={linear:function(P){return P},swing:function(P){return .5-Math.cos(P*Math.PI)/2},_default:"swing"},m.fx=_r.prototype.init,m.fx.step={};var Jr,pr,Gi=/^(?:toggle|show|hide)$/,Dr=/queueHooks$/;function ji(){pr&&(x.hidden===!1&&r.requestAnimationFrame?r.requestAnimationFrame(ji):r.setTimeout(ji,m.fx.interval),m.fx.tick())}function Ii(){return r.setTimeout(function(){Jr=void 0}),Jr=Date.now()}function ar(P,N){var Z,re=0,Ie={height:P};for(N=N?1:0;re<4;re+=2-N)Z=it[re],Ie["margin"+Z]=Ie["padding"+Z]=P;return N&&(Ie.opacity=Ie.width=P),Ie}function Oi(P,N,Z){for(var re,Ie=(wt.tweeners[N]||[]).concat(wt.tweeners["*"]),Ne=0,Qe=Ie.length;Ne<Qe;Ne++)if(re=Ie[Ne].call(Z,N,P))return re}function Tr(P,N,Z){var re,Ie,Ne,Qe,Lt,Pt,Kt,si,Ai="width"in N||"height"in N,Qt=this,hi={},dr=P.style,xr=P.nodeType&&We(P),sr=ot.get(P,"fxshow");Z.queue||(Qe=m._queueHooks(P,"fx"),Qe.unqueued==null&&(Qe.unqueued=0,Lt=Qe.empty.fire,Qe.empty.fire=function(){Qe.unqueued||Lt()}),Qe.unqueued++,Qt.always(function(){Qt.always(function(){Qe.unqueued--,m.queue(P,"fx").length||Qe.empty.fire()})}));for(re in N)if(Ie=N[re],Gi.test(Ie)){if(delete N[re],Ne=Ne||Ie==="toggle",Ie===(xr?"hide":"show"))if(Ie==="show"&&sr&&sr[re]!==void 0)xr=!0;else continue;hi[re]=sr&&sr[re]||m.style(P,re)}if(Pt=!m.isEmptyObject(N),!(!Pt&&m.isEmptyObject(hi))){Ai&&P.nodeType===1&&(Z.overflow=[dr.overflow,dr.overflowX,dr.overflowY],Kt=sr&&sr.display,Kt==null&&(Kt=ot.get(P,"display")),si=m.css(P,"display"),si==="none"&&(Kt?si=Kt:(rt([P],!0),Kt=P.style.display||Kt,si=m.css(P,"display"),rt([P]))),(si==="inline"||si==="inline-block"&&Kt!=null)&&m.css(P,"float")==="none"&&(Pt||(Qt.done(function(){dr.display=Kt}),Kt==null&&(si=dr.display,Kt=si==="none"?"":si)),dr.display="inline-block")),Z.overflow&&(dr.overflow="hidden",Qt.always(function(){dr.overflow=Z.overflow[0],dr.overflowX=Z.overflow[1],dr.overflowY=Z.overflow[2]})),Pt=!1;for(re in hi)Pt||(sr?"hidden"in sr&&(xr=sr.hidden):sr=ot.access(P,"fxshow",{display:Kt}),Ne&&(sr.hidden=!xr),xr&&rt([P],!0),Qt.done(function(){xr||rt([P]),ot.remove(P,"fxshow");for(re in hi)m.style(P,re,hi[re])})),Pt=Oi(xr?sr[re]:0,re,Qt),re in sr||(sr[re]=Pt.start,xr&&(Pt.end=Pt.start,Pt.start=0))}}function ge(P,N){var Z,re,Ie,Ne,Qe;for(Z in P)if(re=ht(Z),Ie=N[re],Ne=P[Z],Array.isArray(Ne)&&(Ie=Ne[1],Ne=P[Z]=Ne[0]),Z!==re&&(P[re]=Ne,delete P[Z]),Qe=m.cssHooks[re],Qe&&"expand"in Qe){Ne=Qe.expand(Ne),delete P[re];for(Z in Ne)Z in P||(P[Z]=Ne[Z],N[Z]=Ie)}else N[re]=Ie}function wt(P,N,Z){var re,Ie,Ne=0,Qe=wt.prefilters.length,Lt=m.Deferred().always(function(){delete Pt.elem}),Pt=function(){if(Ie)return!1;for(var Ai=Jr||Ii(),Qt=Math.max(0,Kt.startTime+Kt.duration-Ai),hi=Qt/Kt.duration||0,dr=1-hi,xr=0,sr=Kt.tweens.length;xr<sr;xr++)Kt.tweens[xr].run(dr);return Lt.notifyWith(P,[Kt,dr,Qt]),dr<1&&sr?Qt:(sr||Lt.notifyWith(P,[Kt,1,0]),Lt.resolveWith(P,[Kt]),!1)},Kt=Lt.promise({elem:P,props:m.extend({},N),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},Z),originalProperties:N,originalOptions:Z,startTime:Jr||Ii(),duration:Z.duration,tweens:[],createTween:function(Ai,Qt){var hi=m.Tween(P,Kt.opts,Ai,Qt,Kt.opts.specialEasing[Ai]||Kt.opts.easing);return Kt.tweens.push(hi),hi},stop:function(Ai){var Qt=0,hi=Ai?Kt.tweens.length:0;if(Ie)return this;for(Ie=!0;Qt<hi;Qt++)Kt.tweens[Qt].run(1);return Ai?(Lt.notifyWith(P,[Kt,1,0]),Lt.resolveWith(P,[Kt,Ai])):Lt.rejectWith(P,[Kt,Ai]),this}}),si=Kt.props;for(ge(si,Kt.opts.specialEasing);Ne<Qe;Ne++)if(re=wt.prefilters[Ne].call(Kt,P,si,Kt.opts),re)return A(re.stop)&&(m._queueHooks(Kt.elem,Kt.opts.queue).stop=re.stop.bind(re)),re;return m.map(si,Oi,Kt),A(Kt.opts.start)&&Kt.opts.start.call(P,Kt),Kt.progress(Kt.opts.progress).done(Kt.opts.done,Kt.opts.complete).fail(Kt.opts.fail).always(Kt.opts.always),m.fx.timer(m.extend(Pt,{elem:P,anim:Kt,queue:Kt.opts.queue})),Kt}m.Animation=m.extend(wt,{tweeners:{"*":[function(P,N){var Z=this.createTween(P,N);return yt(Z.elem,P,Te.exec(N),Z),Z}]},tweener:function(P,N){A(P)?(N=P,P=["*"]):P=P.match(ne);for(var Z,re=0,Ie=P.length;re<Ie;re++)Z=P[re],wt.tweeners[Z]=wt.tweeners[Z]||[],wt.tweeners[Z].unshift(N)},prefilters:[Tr],prefilter:function(P,N){N?wt.prefilters.unshift(P):wt.prefilters.push(P)}}),m.speed=function(P,N,Z){var re=P&&typeof P=="object"?m.extend({},P):{complete:Z||!Z&&N||A(P)&&P,duration:P,easing:Z&&N||N&&!A(N)&&N};return m.fx.off?re.duration=0:typeof re.duration!="number"&&(re.duration in m.fx.speeds?re.duration=m.fx.speeds[re.duration]:re.duration=m.fx.speeds._default),(re.queue==null||re.queue===!0)&&(re.queue="fx"),re.old=re.complete,re.complete=function(){A(re.old)&&re.old.call(this),re.queue&&m.dequeue(this,re.queue)},re},m.fn.extend({fadeTo:function(P,N,Z,re){return this.filter(We).css("opacity",0).show().end().animate({opacity:N},P,Z,re)},animate:function(P,N,Z,re){var Ie=m.isEmptyObject(P),Ne=m.speed(N,Z,re),Qe=function(){var Lt=wt(this,m.extend({},P),Ne);(Ie||ot.get(this,"finish"))&&Lt.stop(!0)};return Qe.finish=Qe,Ie||Ne.queue===!1?this.each(Qe):this.queue(Ne.queue,Qe)},stop:function(P,N,Z){var re=function(Ie){var Ne=Ie.stop;delete Ie.stop,Ne(Z)};return typeof P!="string"&&(Z=N,N=P,P=void 0),N&&this.queue(P||"fx",[]),this.each(function(){var Ie=!0,Ne=P!=null&&P+"queueHooks",Qe=m.timers,Lt=ot.get(this);if(Ne)Lt[Ne]&&Lt[Ne].stop&&re(Lt[Ne]);else for(Ne in Lt)Lt[Ne]&&Lt[Ne].stop&&Dr.test(Ne)&&re(Lt[Ne]);for(Ne=Qe.length;Ne--;)Qe[Ne].elem===this&&(P==null||Qe[Ne].queue===P)&&(Qe[Ne].anim.stop(Z),Ie=!1,Qe.splice(Ne,1));(Ie||!Z)&&m.dequeue(this,P)})},finish:function(P){return P!==!1&&(P=P||"fx"),this.each(function(){var N,Z=ot.get(this),re=Z[P+"queue"],Ie=Z[P+"queueHooks"],Ne=m.timers,Qe=re?re.length:0;for(Z.finish=!0,m.queue(this,P,[]),Ie&&Ie.stop&&Ie.stop.call(this,!0),N=Ne.length;N--;)Ne[N].elem===this&&Ne[N].queue===P&&(Ne[N].anim.stop(!0),Ne.splice(N,1));for(N=0;N<Qe;N++)re[N]&&re[N].finish&&re[N].finish.call(this);delete Z.finish})}}),m.each(["toggle","show","hide"],function(P,N){var Z=m.fn[N];m.fn[N]=function(re,Ie,Ne){return re==null||typeof re=="boolean"?Z.apply(this,arguments):this.animate(ar(N,!0),re,Ie,Ne)}}),m.each({slideDown:ar("show"),slideUp:ar("hide"),slideToggle:ar("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(P,N){m.fn[P]=function(Z,re,Ie){return this.animate(N,Z,re,Ie)}}),m.timers=[],m.fx.tick=function(){var P,N=0,Z=m.timers;for(Jr=Date.now();N<Z.length;N++)P=Z[N],!P()&&Z[N]===P&&Z.splice(N--,1);Z.length||m.fx.stop(),Jr=void 0},m.fx.timer=function(P){m.timers.push(P),m.fx.start()},m.fx.interval=13,m.fx.start=function(){pr||(pr=!0,ji())},m.fx.stop=function(){pr=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(P,N){return P=m.fx&&m.fx.speeds[P]||P,N=N||"fx",this.queue(N,function(Z,re){var Ie=r.setTimeout(Z,P);re.stop=function(){r.clearTimeout(Ie)}})},function(){var P=x.createElement("input"),N=x.createElement("select"),Z=N.appendChild(x.createElement("option"));P.type="checkbox",k.checkOn=P.value!=="",k.optSelected=Z.selected,P=x.createElement("input"),P.value="t",P.type="radio",k.radioValue=P.value==="t"}();var Ht,pi=m.expr.attrHandle;m.fn.extend({attr:function(P,N){return De(this,m.attr,P,N,arguments.length>1)},removeAttr:function(P){return this.each(function(){m.removeAttr(this,P)})}}),m.extend({attr:function(P,N,Z){var re,Ie,Ne=P.nodeType;if(!(Ne===3||Ne===8||Ne===2)){if(typeof P.getAttribute>"u")return m.prop(P,N,Z);if((Ne!==1||!m.isXMLDoc(P))&&(Ie=m.attrHooks[N.toLowerCase()]||(m.expr.match.bool.test(N)?Ht:void 0)),Z!==void 0){if(Z===null){m.removeAttr(P,N);return}return Ie&&"set"in Ie&&(re=Ie.set(P,Z,N))!==void 0?re:(P.setAttribute(N,Z+""),Z)}return Ie&&"get"in Ie&&(re=Ie.get(P,N))!==null?re:(re=m.find.attr(P,N),re!=null?re:void 0)}},attrHooks:{type:{set:function(P,N){if(!k.radioValue&&N==="radio"&&H(P,"input")){var Z=P.value;return P.setAttribute("type",N),Z&&(P.value=Z),N}}}},removeAttr:function(P,N){var Z,re=0,Ie=N&&N.match(ne);if(Ie&&P.nodeType===1)for(;Z=Ie[re++];)P.removeAttribute(Z)}}),Ht={set:function(P,N,Z){return N===!1?m.removeAttr(P,Z):P.setAttribute(Z,Z),Z}},m.each(m.expr.match.bool.source.match(/\w+/g),function(P,N){var Z=pi[N]||m.find.attr;pi[N]=function(re,Ie,Ne){var Qe,Lt,Pt=Ie.toLowerCase();return Ne||(Lt=pi[Pt],pi[Pt]=Qe,Qe=Z(re,Ie,Ne)!=null?Pt:null,pi[Pt]=Lt),Qe}});var ii=/^(?:input|select|textarea|button)$/i,Yi=/^(?:a|area)$/i;m.fn.extend({prop:function(P,N){return De(this,m.prop,P,N,arguments.length>1)},removeProp:function(P){return this.each(function(){delete this[m.propFix[P]||P]})}}),m.extend({prop:function(P,N,Z){var re,Ie,Ne=P.nodeType;if(!(Ne===3||Ne===8||Ne===2))return(Ne!==1||!m.isXMLDoc(P))&&(N=m.propFix[N]||N,Ie=m.propHooks[N]),Z!==void 0?Ie&&"set"in Ie&&(re=Ie.set(P,Z,N))!==void 0?re:P[N]=Z:Ie&&"get"in Ie&&(re=Ie.get(P,N))!==null?re:P[N]},propHooks:{tabIndex:{get:function(P){var N=m.find.attr(P,"tabindex");return N?parseInt(N,10):ii.test(P.nodeName)||Yi.test(P.nodeName)&&P.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),k.optSelected||(m.propHooks.selected={get:function(P){var N=P.parentNode;return N&&N.parentNode&&N.parentNode.selectedIndex,null},set:function(P){var N=P.parentNode;N&&(N.selectedIndex,N.parentNode&&N.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});function Ji(P){var N=P.match(ne)||[];return N.join(" ")}function cr(P){return P.getAttribute&&P.getAttribute("class")||""}function on(P){return Array.isArray(P)?P:typeof P=="string"?P.match(ne)||[]:[]}m.fn.extend({addClass:function(P){var N,Z,re,Ie,Ne,Qe;return A(P)?this.each(function(Lt){m(this).addClass(P.call(this,Lt,cr(this)))}):(N=on(P),N.length?this.each(function(){if(re=cr(this),Z=this.nodeType===1&&" "+Ji(re)+" ",Z){for(Ne=0;Ne<N.length;Ne++)Ie=N[Ne],Z.indexOf(" "+Ie+" ")<0&&(Z+=Ie+" ");Qe=Ji(Z),re!==Qe&&this.setAttribute("class",Qe)}}):this)},removeClass:function(P){var N,Z,re,Ie,Ne,Qe;return A(P)?this.each(function(Lt){m(this).removeClass(P.call(this,Lt,cr(this)))}):arguments.length?(N=on(P),N.length?this.each(function(){if(re=cr(this),Z=this.nodeType===1&&" "+Ji(re)+" ",Z){for(Ne=0;Ne<N.length;Ne++)for(Ie=N[Ne];Z.indexOf(" "+Ie+" ")>-1;)Z=Z.replace(" "+Ie+" "," ");Qe=Ji(Z),re!==Qe&&this.setAttribute("class",Qe)}}):this):this.attr("class","")},toggleClass:function(P,N){var Z,re,Ie,Ne,Qe=typeof P,Lt=Qe==="string"||Array.isArray(P);return A(P)?this.each(function(Pt){m(this).toggleClass(P.call(this,Pt,cr(this),N),N)}):typeof N=="boolean"&&Lt?N?this.addClass(P):this.removeClass(P):(Z=on(P),this.each(function(){if(Lt)for(Ne=m(this),Ie=0;Ie<Z.length;Ie++)re=Z[Ie],Ne.hasClass(re)?Ne.removeClass(re):Ne.addClass(re);else(P===void 0||Qe==="boolean")&&(re=cr(this),re&&ot.set(this,"__className__",re),this.setAttribute&&this.setAttribute("class",re||P===!1?"":ot.get(this,"__className__")||""))}))},hasClass:function(P){var N,Z,re=0;for(N=" "+P+" ";Z=this[re++];)if(Z.nodeType===1&&(" "+Ji(cr(Z))+" ").indexOf(N)>-1)return!0;return!1}});var un=/\r/g;m.fn.extend({val:function(P){var N,Z,re,Ie=this[0];return arguments.length?(re=A(P),this.each(function(Ne){var Qe;this.nodeType===1&&(re?Qe=P.call(this,Ne,m(this).val()):Qe=P,Qe==null?Qe="":typeof Qe=="number"?Qe+="":Array.isArray(Qe)&&(Qe=m.map(Qe,function(Lt){return Lt==null?"":Lt+""})),N=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],(!N||!("set"in N)||N.set(this,Qe,"value")===void 0)&&(this.value=Qe))})):Ie?(N=m.valHooks[Ie.type]||m.valHooks[Ie.nodeName.toLowerCase()],N&&"get"in N&&(Z=N.get(Ie,"value"))!==void 0?Z:(Z=Ie.value,typeof Z=="string"?Z.replace(un,""):Z!=null?Z:"")):void 0}}),m.extend({valHooks:{option:{get:function(P){var N=m.find.attr(P,"value");return N!=null?N:Ji(m.text(P))}},select:{get:function(P){var N,Z,re,Ie=P.options,Ne=P.selectedIndex,Qe=P.type==="select-one",Lt=Qe?null:[],Pt=Qe?Ne+1:Ie.length;for(Ne<0?re=Pt:re=Qe?Ne:0;re<Pt;re++)if(Z=Ie[re],(Z.selected||re===Ne)&&!Z.disabled&&(!Z.parentNode.disabled||!H(Z.parentNode,"optgroup"))){if(N=m(Z).val(),Qe)return N;Lt.push(N)}return Lt},set:function(P,N){for(var Z,re,Ie=P.options,Ne=m.makeArray(N),Qe=Ie.length;Qe--;)re=Ie[Qe],(re.selected=m.inArray(m.valHooks.option.get(re),Ne)>-1)&&(Z=!0);return Z||(P.selectedIndex=-1),Ne}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(P,N){if(Array.isArray(N))return P.checked=m.inArray(m(P).val(),N)>-1}},k.checkOn||(m.valHooks[this].get=function(P){return P.getAttribute("value")===null?"on":P.value})}),k.focusin="onfocusin"in r;var Kr=/^(?:focusinfocus|focusoutblur)$/,ae=function(P){P.stopPropagation()};m.extend(m.event,{trigger:function(P,N,Z,re){var Ie,Ne,Qe,Lt,Pt,Kt,si,Ai,Qt=[Z||x],hi=v.call(P,"type")?P.type:P,dr=v.call(P,"namespace")?P.namespace.split("."):[];if(Ne=Ai=Qe=Z=Z||x,!(Z.nodeType===3||Z.nodeType===8)&&!Kr.test(hi+m.event.triggered)&&(hi.indexOf(".")>-1&&(dr=hi.split("."),hi=dr.shift(),dr.sort()),Pt=hi.indexOf(":")<0&&"on"+hi,P=P[m.expando]?P:new m.Event(hi,typeof P=="object"&&P),P.isTrigger=re?2:3,P.namespace=dr.join("."),P.rnamespace=P.namespace?new RegExp("(^|\\.)"+dr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,P.result=void 0,P.target||(P.target=Z),N=N==null?[P]:m.makeArray(N,[P]),si=m.event.special[hi]||{},!(!re&&si.trigger&&si.trigger.apply(Z,N)===!1))){if(!re&&!si.noBubble&&!C(Z)){for(Lt=si.delegateType||hi,Kr.test(Lt+hi)||(Ne=Ne.parentNode);Ne;Ne=Ne.parentNode)Qt.push(Ne),Qe=Ne;Qe===(Z.ownerDocument||x)&&Qt.push(Qe.defaultView||Qe.parentWindow||r)}for(Ie=0;(Ne=Qt[Ie++])&&!P.isPropagationStopped();)Ai=Ne,P.type=Ie>1?Lt:si.bindType||hi,Kt=(ot.get(Ne,"events")||Object.create(null))[P.type]&&ot.get(Ne,"handle"),Kt&&Kt.apply(Ne,N),Kt=Pt&&Ne[Pt],Kt&&Kt.apply&&nt(Ne)&&(P.result=Kt.apply(Ne,N),P.result===!1&&P.preventDefault());return P.type=hi,!re&&!P.isDefaultPrevented()&&(!si._default||si._default.apply(Qt.pop(),N)===!1)&&nt(Z)&&Pt&&A(Z[hi])&&!C(Z)&&(Qe=Z[Pt],Qe&&(Z[Pt]=null),m.event.triggered=hi,P.isPropagationStopped()&&Ai.addEventListener(hi,ae),Z[hi](),P.isPropagationStopped()&&Ai.removeEventListener(hi,ae),m.event.triggered=void 0,Qe&&(Z[Pt]=Qe)),P.result}},simulate:function(P,N,Z){var re=m.extend(new m.Event,Z,{type:P,isSimulated:!0});m.event.trigger(re,null,N)}}),m.fn.extend({trigger:function(P,N){return this.each(function(){m.event.trigger(P,N,this)})},triggerHandler:function(P,N){var Z=this[0];if(Z)return m.event.trigger(P,N,Z,!0)}}),k.focusin||m.each({focus:"focusin",blur:"focusout"},function(P,N){var Z=function(re){m.event.simulate(N,re.target,m.event.fix(re))};m.event.special[N]={setup:function(){var re=this.ownerDocument||this.document||this,Ie=ot.access(re,N);Ie||re.addEventListener(P,Z,!0),ot.access(re,N,(Ie||0)+1)},teardown:function(){var re=this.ownerDocument||this.document||this,Ie=ot.access(re,N)-1;Ie?ot.access(re,N,Ie):(re.removeEventListener(P,Z,!0),ot.remove(re,N))}}});var ro=r.location,Dn={guid:Date.now()},Fn=/\?/;m.parseXML=function(P){var N,Z;if(!P||typeof P!="string")return null;try{N=new r.DOMParser().parseFromString(P,"text/xml")}catch(re){}return Z=N&&N.getElementsByTagName("parsererror")[0],(!N||Z)&&m.error("Invalid XML: "+(Z?m.map(Z.childNodes,function(re){return re.textContent}).join(`
`):P)),N};var Mn=/\[\]$/,Zt=/\r?\n/g,di=/^(?:submit|button|image|reset|file)$/i,ni=/^(?:input|select|textarea|keygen)/i;function Xi(P,N,Z,re){var Ie;if(Array.isArray(N))m.each(N,function(Ne,Qe){Z||Mn.test(P)?re(P,Qe):Xi(P+"["+(typeof Qe=="object"&&Qe!=null?Ne:"")+"]",Qe,Z,re)});else if(!Z&&h(N)==="object")for(Ie in N)Xi(P+"["+Ie+"]",N[Ie],Z,re);else re(P,N)}m.param=function(P,N){var Z,re=[],Ie=function(Ne,Qe){var Lt=A(Qe)?Qe():Qe;re[re.length]=encodeURIComponent(Ne)+"="+encodeURIComponent(Lt!=null?Lt:"")};if(P==null)return"";if(Array.isArray(P)||P.jquery&&!m.isPlainObject(P))m.each(P,function(){Ie(this.name,this.value)});else for(Z in P)Xi(Z,P[Z],N,Ie);return re.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var P=m.prop(this,"elements");return P?m.makeArray(P):this}).filter(function(){var P=this.type;return this.name&&!m(this).is(":disabled")&&ni.test(this.nodeName)&&!di.test(P)&&(this.checked||!oe.test(P))}).map(function(P,N){var Z=m(this).val();return Z==null?null:Array.isArray(Z)?m.map(Z,function(re){return{name:N.name,value:re.replace(Zt,`\r
`)}}):{name:N.name,value:Z.replace(Zt,`\r
`)}}).get()}});var Wi=/%20/g,hn=/#.*$/,Wn=/([?&])_=[^&]*/,sa=/^(.*?):[ \t]*([^\r\n]*)$/mg,To=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rs=/^(?:GET|HEAD)$/,wa=/^\/\//,_a={},$n={},sn="*/".concat("*"),Ko=x.createElement("a");Ko.href=ro.href;function js(P){return function(N,Z){typeof N!="string"&&(Z=N,N="*");var re,Ie=0,Ne=N.toLowerCase().match(ne)||[];if(A(Z))for(;re=Ne[Ie++];)re[0]==="+"?(re=re.slice(1)||"*",(P[re]=P[re]||[]).unshift(Z)):(P[re]=P[re]||[]).push(Z)}}function Zl(P,N,Z,re){var Ie={},Ne=P===$n;function Qe(Lt){var Pt;return Ie[Lt]=!0,m.each(P[Lt]||[],function(Kt,si){var Ai=si(N,Z,re);if(typeof Ai=="string"&&!Ne&&!Ie[Ai])return N.dataTypes.unshift(Ai),Qe(Ai),!1;if(Ne)return!(Pt=Ai)}),Pt}return Qe(N.dataTypes[0])||!Ie["*"]&&Qe("*")}function Zn(P,N){var Z,re,Ie=m.ajaxSettings.flatOptions||{};for(Z in N)N[Z]!==void 0&&((Ie[Z]?P:re||(re={}))[Z]=N[Z]);return re&&m.extend(!0,P,re),P}function us(P,N,Z){for(var re,Ie,Ne,Qe,Lt=P.contents,Pt=P.dataTypes;Pt[0]==="*";)Pt.shift(),re===void 0&&(re=P.mimeType||N.getResponseHeader("Content-Type"));if(re){for(Ie in Lt)if(Lt[Ie]&&Lt[Ie].test(re)){Pt.unshift(Ie);break}}if(Pt[0]in Z)Ne=Pt[0];else{for(Ie in Z){if(!Pt[0]||P.converters[Ie+" "+Pt[0]]){Ne=Ie;break}Qe||(Qe=Ie)}Ne=Ne||Qe}if(Ne)return Ne!==Pt[0]&&Pt.unshift(Ne),Z[Ne]}function no(P,N,Z,re){var Ie,Ne,Qe,Lt,Pt,Kt={},si=P.dataTypes.slice();if(si[1])for(Qe in P.converters)Kt[Qe.toLowerCase()]=P.converters[Qe];for(Ne=si.shift();Ne;)if(P.responseFields[Ne]&&(Z[P.responseFields[Ne]]=N),!Pt&&re&&P.dataFilter&&(N=P.dataFilter(N,P.dataType)),Pt=Ne,Ne=si.shift(),Ne){if(Ne==="*")Ne=Pt;else if(Pt!=="*"&&Pt!==Ne){if(Qe=Kt[Pt+" "+Ne]||Kt["* "+Ne],!Qe){for(Ie in Kt)if(Lt=Ie.split(" "),Lt[1]===Ne&&(Qe=Kt[Pt+" "+Lt[0]]||Kt["* "+Lt[0]],Qe)){Qe===!0?Qe=Kt[Ie]:Kt[Ie]!==!0&&(Ne=Lt[0],si.unshift(Lt[1]));break}}if(Qe!==!0)if(Qe&&P.throws)N=Qe(N);else try{N=Qe(N)}catch(Ai){return{state:"parsererror",error:Qe?Ai:"No conversion from "+Pt+" to "+Ne}}}}return{state:"success",data:N}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ro.href,type:"GET",isLocal:To.test(ro.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(P,N){return N?Zn(Zn(P,m.ajaxSettings),N):Zn(m.ajaxSettings,P)},ajaxPrefilter:js(_a),ajaxTransport:js($n),ajax:function(P,N){typeof P=="object"&&(N=P,P=void 0),N=N||{};var Z,re,Ie,Ne,Qe,Lt,Pt,Kt,si,Ai,Qt=m.ajaxSetup({},N),hi=Qt.context||Qt,dr=Qt.context&&(hi.nodeType||hi.jquery)?m(hi):m.event,xr=m.Deferred(),sr=m.Callbacks("once memory"),wn=Qt.statusCode||{},pn={},Jn={},Xr="canceled",$r={readyState:0,getResponseHeader:function(Or){var qr;if(Pt){if(!Ne)for(Ne={};qr=sa.exec(Ie);)Ne[qr[1].toLowerCase()+" "]=(Ne[qr[1].toLowerCase()+" "]||[]).concat(qr[2]);qr=Ne[Or.toLowerCase()+" "]}return qr==null?null:qr.join(", ")},getAllResponseHeaders:function(){return Pt?Ie:null},setRequestHeader:function(Or,qr){return Pt==null&&(Or=Jn[Or.toLowerCase()]=Jn[Or.toLowerCase()]||Or,pn[Or]=qr),this},overrideMimeType:function(Or){return Pt==null&&(Qt.mimeType=Or),this},statusCode:function(Or){var qr;if(Or)if(Pt)$r.always(Or[$r.status]);else for(qr in Or)wn[qr]=[wn[qr],Or[qr]];return this},abort:function(Or){var qr=Or||Xr;return Z&&Z.abort(qr),Ur(0,qr),this}};if(xr.promise($r),Qt.url=((P||Qt.url||ro.href)+"").replace(wa,ro.protocol+"//"),Qt.type=N.method||N.type||Qt.method||Qt.type,Qt.dataTypes=(Qt.dataType||"*").toLowerCase().match(ne)||[""],Qt.crossDomain==null){Lt=x.createElement("a");try{Lt.href=Qt.url,Lt.href=Lt.href,Qt.crossDomain=Ko.protocol+"//"+Ko.host!=Lt.protocol+"//"+Lt.host}catch(Or){Qt.crossDomain=!0}}if(Qt.data&&Qt.processData&&typeof Qt.data!="string"&&(Qt.data=m.param(Qt.data,Qt.traditional)),Zl(_a,Qt,N,$r),Pt)return $r;Kt=m.event&&Qt.global,Kt&&m.active++===0&&m.event.trigger("ajaxStart"),Qt.type=Qt.type.toUpperCase(),Qt.hasContent=!Rs.test(Qt.type),re=Qt.url.replace(hn,""),Qt.hasContent?Qt.data&&Qt.processData&&(Qt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Qt.data=Qt.data.replace(Wi,"+")):(Ai=Qt.url.slice(re.length),Qt.data&&(Qt.processData||typeof Qt.data=="string")&&(re+=(Fn.test(re)?"&":"?")+Qt.data,delete Qt.data),Qt.cache===!1&&(re=re.replace(Wn,"$1"),Ai=(Fn.test(re)?"&":"?")+"_="+Dn.guid+++Ai),Qt.url=re+Ai),Qt.ifModified&&(m.lastModified[re]&&$r.setRequestHeader("If-Modified-Since",m.lastModified[re]),m.etag[re]&&$r.setRequestHeader("If-None-Match",m.etag[re])),(Qt.data&&Qt.hasContent&&Qt.contentType!==!1||N.contentType)&&$r.setRequestHeader("Content-Type",Qt.contentType),$r.setRequestHeader("Accept",Qt.dataTypes[0]&&Qt.accepts[Qt.dataTypes[0]]?Qt.accepts[Qt.dataTypes[0]]+(Qt.dataTypes[0]!=="*"?", "+sn+"; q=0.01":""):Qt.accepts["*"]);for(si in Qt.headers)$r.setRequestHeader(si,Qt.headers[si]);if(Qt.beforeSend&&(Qt.beforeSend.call(hi,$r,Qt)===!1||Pt))return $r.abort();if(Xr="abort",sr.add(Qt.complete),$r.done(Qt.success),$r.fail(Qt.error),Z=Zl($n,Qt,N,$r),!Z)Ur(-1,"No Transport");else{if($r.readyState=1,Kt&&dr.trigger("ajaxSend",[$r,Qt]),Pt)return $r;Qt.async&&Qt.timeout>0&&(Qe=r.setTimeout(function(){$r.abort("timeout")},Qt.timeout));try{Pt=!1,Z.send(pn,Ur)}catch(Or){if(Pt)throw Or;Ur(-1,Or)}}function Ur(Or,qr,Io,Lo){var Ln,Zo,po,ri,Xn,B=qr;Pt||(Pt=!0,Qe&&r.clearTimeout(Qe),Z=void 0,Ie=Lo||"",$r.readyState=Or>0?4:0,Ln=Or>=200&&Or<300||Or===304,Io&&(ri=us(Qt,$r,Io)),!Ln&&m.inArray("script",Qt.dataTypes)>-1&&m.inArray("json",Qt.dataTypes)<0&&(Qt.converters["text script"]=function(){}),ri=no(Qt,ri,$r,Ln),Ln?(Qt.ifModified&&(Xn=$r.getResponseHeader("Last-Modified"),Xn&&(m.lastModified[re]=Xn),Xn=$r.getResponseHeader("etag"),Xn&&(m.etag[re]=Xn)),Or===204||Qt.type==="HEAD"?B="nocontent":Or===304?B="notmodified":(B=ri.state,Zo=ri.data,po=ri.error,Ln=!po)):(po=B,(Or||!B)&&(B="error",Or<0&&(Or=0))),$r.status=Or,$r.statusText=(qr||B)+"",Ln?xr.resolveWith(hi,[Zo,B,$r]):xr.rejectWith(hi,[$r,B,po]),$r.statusCode(wn),wn=void 0,Kt&&dr.trigger(Ln?"ajaxSuccess":"ajaxError",[$r,Qt,Ln?Zo:po]),sr.fireWith(hi,[$r,B]),Kt&&(dr.trigger("ajaxComplete",[$r,Qt]),--m.active||m.event.trigger("ajaxStop")))}return $r},getJSON:function(P,N,Z){return m.get(P,N,Z,"json")},getScript:function(P,N){return m.get(P,void 0,N,"script")}}),m.each(["get","post"],function(P,N){m[N]=function(Z,re,Ie,Ne){return A(re)&&(Ne=Ne||Ie,Ie=re,re=void 0),m.ajax(m.extend({url:Z,type:N,dataType:Ne,data:re,success:Ie},m.isPlainObject(Z)&&Z))}}),m.ajaxPrefilter(function(P){var N;for(N in P.headers)N.toLowerCase()==="content-type"&&(P.contentType=P.headers[N]||"")}),m._evalUrl=function(P,N,Z){return m.ajax({url:P,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(re){m.globalEval(re,N,Z)}})},m.fn.extend({wrapAll:function(P){var N;return this[0]&&(A(P)&&(P=P.call(this[0])),N=m(P,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&N.insertBefore(this[0]),N.map(function(){for(var Z=this;Z.firstElementChild;)Z=Z.firstElementChild;return Z}).append(this)),this},wrapInner:function(P){return A(P)?this.each(function(N){m(this).wrapInner(P.call(this,N))}):this.each(function(){var N=m(this),Z=N.contents();Z.length?Z.wrapAll(P):N.append(P)})},wrap:function(P){var N=A(P);return this.each(function(Z){m(this).wrapAll(N?P.call(this,Z):P)})},unwrap:function(P){return this.parent(P).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(P){return!m.expr.pseudos.visible(P)},m.expr.pseudos.visible=function(P){return!!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(P){}};var cs={0:200,1223:204},Wa=m.ajaxSettings.xhr();k.cors=!!Wa&&"withCredentials"in Wa,k.ajax=Wa=!!Wa,m.ajaxTransport(function(P){var N,Z;if(k.cors||Wa&&!P.crossDomain)return{send:function(re,Ie){var Ne,Qe=P.xhr();if(Qe.open(P.type,P.url,P.async,P.username,P.password),P.xhrFields)for(Ne in P.xhrFields)Qe[Ne]=P.xhrFields[Ne];P.mimeType&&Qe.overrideMimeType&&Qe.overrideMimeType(P.mimeType),!P.crossDomain&&!re["X-Requested-With"]&&(re["X-Requested-With"]="XMLHttpRequest");for(Ne in re)Qe.setRequestHeader(Ne,re[Ne]);N=function(Lt){return function(){N&&(N=Z=Qe.onload=Qe.onerror=Qe.onabort=Qe.ontimeout=Qe.onreadystatechange=null,Lt==="abort"?Qe.abort():Lt==="error"?typeof Qe.status!="number"?Ie(0,"error"):Ie(Qe.status,Qe.statusText):Ie(cs[Qe.status]||Qe.status,Qe.statusText,(Qe.responseType||"text")!=="text"||typeof Qe.responseText!="string"?{binary:Qe.response}:{text:Qe.responseText},Qe.getAllResponseHeaders()))}},Qe.onload=N(),Z=Qe.onerror=Qe.ontimeout=N("error"),Qe.onabort!==void 0?Qe.onabort=Z:Qe.onreadystatechange=function(){Qe.readyState===4&&r.setTimeout(function(){N&&Z()})},N=N("abort");try{Qe.send(P.hasContent&&P.data||null)}catch(Lt){if(N)throw Lt}},abort:function(){N&&N()}}}),m.ajaxPrefilter(function(P){P.crossDomain&&(P.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(P){return m.globalEval(P),P}}}),m.ajaxPrefilter("script",function(P){P.cache===void 0&&(P.cache=!1),P.crossDomain&&(P.type="GET")}),m.ajaxTransport("script",function(P){if(P.crossDomain||P.scriptAttrs){var N,Z;return{send:function(re,Ie){N=m("<script>").attr(P.scriptAttrs||{}).prop({charset:P.scriptCharset,src:P.url}).on("load error",Z=function(Ne){N.remove(),Z=null,Ne&&Ie(Ne.type==="error"?404:200,Ne.type)}),x.head.appendChild(N[0])},abort:function(){Z&&Z()}}}});var ds=[],hs=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var P=ds.pop()||m.expando+"_"+Dn.guid++;return this[P]=!0,P}}),m.ajaxPrefilter("json jsonp",function(P,N,Z){var re,Ie,Ne,Qe=P.jsonp!==!1&&(hs.test(P.url)?"url":typeof P.data=="string"&&(P.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&hs.test(P.data)&&"data");if(Qe||P.dataTypes[0]==="jsonp")return re=P.jsonpCallback=A(P.jsonpCallback)?P.jsonpCallback():P.jsonpCallback,Qe?P[Qe]=P[Qe].replace(hs,"$1"+re):P.jsonp!==!1&&(P.url+=(Fn.test(P.url)?"&":"?")+P.jsonp+"="+re),P.converters["script json"]=function(){return Ne||m.error(re+" was not called"),Ne[0]},P.dataTypes[0]="json",Ie=r[re],r[re]=function(){Ne=arguments},Z.always(function(){Ie===void 0?m(r).removeProp(re):r[re]=Ie,P[re]&&(P.jsonpCallback=N.jsonpCallback,ds.push(re)),Ne&&A(Ie)&&Ie(Ne[0]),Ne=Ie=void 0}),"script"}),k.createHTMLDocument=function(){var P=x.implementation.createHTMLDocument("").body;return P.innerHTML="<form></form><form></form>",P.childNodes.length===2}(),m.parseHTML=function(P,N,Z){if(typeof P!="string")return[];typeof N=="boolean"&&(Z=N,N=!1);var re,Ie,Ne;return N||(k.createHTMLDocument?(N=x.implementation.createHTMLDocument(""),re=N.createElement("base"),re.href=x.location.href,N.head.appendChild(re)):N=x),Ie=G.exec(P),Ne=!Z&&[],Ie?[N.createElement(Ie[1])]:(Ie=he([P],N,Ne),Ne&&Ne.length&&m(Ne).remove(),m.merge([],Ie.childNodes))},m.fn.load=function(P,N,Z){var re,Ie,Ne,Qe=this,Lt=P.indexOf(" ");return Lt>-1&&(re=Ji(P.slice(Lt)),P=P.slice(0,Lt)),A(N)?(Z=N,N=void 0):N&&typeof N=="object"&&(Ie="POST"),Qe.length>0&&m.ajax({url:P,type:Ie||"GET",dataType:"html",data:N}).done(function(Pt){Ne=arguments,Qe.html(re?m("<div>").append(m.parseHTML(Pt)).find(re):Pt)}).always(Z&&function(Pt,Kt){Qe.each(function(){Z.apply(this,Ne||[Pt.responseText,Kt,Pt])})}),this},m.expr.pseudos.animated=function(P){return m.grep(m.timers,function(N){return P===N.elem}).length},m.offset={setOffset:function(P,N,Z){var re,Ie,Ne,Qe,Lt,Pt,Kt,si=m.css(P,"position"),Ai=m(P),Qt={};si==="static"&&(P.style.position="relative"),Lt=Ai.offset(),Ne=m.css(P,"top"),Pt=m.css(P,"left"),Kt=(si==="absolute"||si==="fixed")&&(Ne+Pt).indexOf("auto")>-1,Kt?(re=Ai.position(),Qe=re.top,Ie=re.left):(Qe=parseFloat(Ne)||0,Ie=parseFloat(Pt)||0),A(N)&&(N=N.call(P,Z,m.extend({},Lt))),N.top!=null&&(Qt.top=N.top-Lt.top+Qe),N.left!=null&&(Qt.left=N.left-Lt.left+Ie),"using"in N?N.using.call(P,Qt):Ai.css(Qt)}},m.fn.extend({offset:function(P){if(arguments.length)return P===void 0?this:this.each(function(Ie){m.offset.setOffset(this,P,Ie)});var N,Z,re=this[0];if(re)return re.getClientRects().length?(N=re.getBoundingClientRect(),Z=re.ownerDocument.defaultView,{top:N.top+Z.pageYOffset,left:N.left+Z.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var P,N,Z,re=this[0],Ie={top:0,left:0};if(m.css(re,"position")==="fixed")N=re.getBoundingClientRect();else{for(N=this.offset(),Z=re.ownerDocument,P=re.offsetParent||Z.documentElement;P&&(P===Z.body||P===Z.documentElement)&&m.css(P,"position")==="static";)P=P.parentNode;P&&P!==re&&P.nodeType===1&&(Ie=m(P).offset(),Ie.top+=m.css(P,"borderTopWidth",!0),Ie.left+=m.css(P,"borderLeftWidth",!0))}return{top:N.top-Ie.top-m.css(re,"marginTop",!0),left:N.left-Ie.left-m.css(re,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var P=this.offsetParent;P&&m.css(P,"position")==="static";)P=P.offsetParent;return P||Me})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(P,N){var Z=N==="pageYOffset";m.fn[P]=function(re){return De(this,function(Ie,Ne,Qe){var Lt;if(C(Ie)?Lt=Ie:Ie.nodeType===9&&(Lt=Ie.defaultView),Qe===void 0)return Lt?Lt[N]:Ie[Ne];Lt?Lt.scrollTo(Z?Lt.pageXOffset:Qe,Z?Qe:Lt.pageYOffset):Ie[Ne]=Qe},P,re,arguments.length)}}),m.each(["top","left"],function(P,N){m.cssHooks[N]=It(k.pixelPosition,function(Z,re){if(re)return re=ke(Z,N),ft.test(re)?m(Z).position()[N]+"px":re})}),m.each({Height:"height",Width:"width"},function(P,N){m.each({padding:"inner"+P,content:N,"":"outer"+P},function(Z,re){m.fn[re]=function(Ie,Ne){var Qe=arguments.length&&(Z||typeof Ie!="boolean"),Lt=Z||(Ie===!0||Ne===!0?"margin":"border");return De(this,function(Pt,Kt,si){var Ai;return C(Pt)?re.indexOf("outer")===0?Pt["inner"+P]:Pt.document.documentElement["client"+P]:Pt.nodeType===9?(Ai=Pt.documentElement,Math.max(Pt.body["scroll"+P],Ai["scroll"+P],Pt.body["offset"+P],Ai["offset"+P],Ai["client"+P])):si===void 0?m.css(Pt,Kt,Lt):m.style(Pt,Kt,si,Lt)},N,Qe?Ie:void 0,Qe)}})}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(P,N){m.fn[N]=function(Z){return this.on(N,Z)}}),m.fn.extend({bind:function(P,N,Z){return this.on(P,null,N,Z)},unbind:function(P,N){return this.off(P,null,N)},delegate:function(P,N,Z,re){return this.on(N,P,Z,re)},undelegate:function(P,N,Z){return arguments.length===1?this.off(P,"**"):this.off(N,P||"**",Z)},hover:function(P,N){return this.mouseenter(P).mouseleave(N||P)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(P,N){m.fn[N]=function(Z,re){return arguments.length>0?this.on(N,null,Z,re):this.trigger(N)}});var ps=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;m.proxy=function(P,N){var Z,re,Ie;if(typeof N=="string"&&(Z=P[N],N=P,P=Z),!!A(P))return re=u.call(arguments,2),Ie=function(){return P.apply(N||this,re.concat(u.call(arguments)))},Ie.guid=P.guid=P.guid||m.guid++,Ie},m.holdReady=function(P){P?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=H,m.isFunction=A,m.isWindow=C,m.camelCase=ht,m.type=h,m.now=Date.now,m.isNumeric=function(P){var N=m.type(P);return(N==="number"||N==="string")&&!isNaN(P-parseFloat(P))},m.trim=function(P){return P==null?"":(P+"").replace(ps,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return m});var Mo=r.jQuery,In=r.$;return m.noConflict=function(P){return r.$===m&&(r.$=In),P&&r.jQuery===m&&(r.jQuery=Mo),m},typeof a>"u"&&(r.jQuery=r.$=m),m})}),ub=C4(E4()),ys=(cb=ub.default)!=null?cb:ub;});var jd=Wt(()=>{sc();sc()});var mf,mi,gf=Wt(()=>{jd();mf="jQuery"in window&&"$"in window?window.$:ys;window.jQuery=mf;window.$=mf;mi=mf});function T4(e,t=!1,r=!1){var u,n;let a=r?null:"",l=(n=(u=globalThis.window)==null?void 0:u.location)!=null?n:location;if(typeof l=="undefined")return a;let o=t&&location.search===""?l.href.slice(1).split("&"):l.search.slice(1).split("&");for(let c=0;c<o.length;c++)if(o[c].slice(0,o[c].indexOf("="))===e){let d=o[c].slice(o[c].indexOf("=")+1);return d.length>0?unescape(d):a}return a}var Sa,Bd=Wt(()=>{Sa=T4});var hb,Ni,Nd,Ga=Wt(()=>{Ni=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.endsWith(".dev.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((hb=globalThis==null?void 0:globalThis.navigator)==null?void 0:hb.onLine)===!1?console.log.bind(console):()=>{},Nd=console.error.bind(console)});function $4(e,t,r="false",a=null){if(typeof e!="string")throw new Error("first arg should be a string");$(e).on("click",a,l=>{let o=t(l);return r==="callback"&&o?o:r==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})}var ea,vf=Wt(()=>{ea=$4});var pb=Wt(()=>{window.jwplayer=function(e){function t(d){for(var f,p,v=d[0],y=d[1],w=0,k=[];w<v.length;w++)p=v[w],Object.prototype.hasOwnProperty.call(a,p)&&a[p]&&k.push(a[p][0]),a[p]=0;for(f in y)Object.prototype.hasOwnProperty.call(y,f)&&(e[f]=y[f]);for(c&&c(d);k.length;)k.shift()()}var r={},a={0:0};function l(d){if(r[d])return r[d].exports;var f=r[d]={i:d,l:!1,exports:{}};return e[d].call(f.exports,f,f.exports,l),f.l=!0,f.exports}l.e=function(d){var f=[],p=a[d];if(p!==0)if(p)f.push(p[2]);else{var v=new Promise(function(C,x){p=a[d]=[C,x]});f.push(p[2]=v);var y,w=document.createElement("script");w.charset="utf-8",w.timeout=120,l.nc&&w.setAttribute("nonce",l.nc),w.src=function(C){return l.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[C]||C)+".js"}(d);var k=new Error;y=function(C){w.onerror=w.onload=null,clearTimeout(A);var x=a[d];if(x!==0){if(x){var S=C&&(C.type==="load"?"missing":C.type),s=C&&C.target&&C.target.src;k.message="Loading chunk "+d+` failed.
(`+S+": "+s+")",k.name="ChunkLoadError",k.type=S,k.request=s,x[1](k)}a[d]=void 0}};var A=setTimeout(function(){y({type:"timeout",target:w})},12e4);w.onerror=w.onload=y,document.head.appendChild(w)}return Promise.all(f)},l.m=e,l.c=r,l.d=function(d,f,p){l.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:p})},l.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},l.t=function(d,f){if(1&f&&(d=l(d)),8&f||4&f&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(l.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&f&&typeof d!="string")for(var v in d)l.d(p,v,function(y){return d[y]}.bind(null,v));return p},l.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(f,"a",f),f},l.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},l.p="",l.oe=function(d){throw console.error(d),d};var o=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var n=0;n<o.length;n++)t(o[n]);var c=u;return l(l.s=56)}([function(e,t,r){"use strict";r.d(t,"f",function(){return m}),r.d(t,"v",function(){return _}),r.d(t,"i",function(){return q}),r.d(t,"h",function(){return ue}),r.d(t,"z",function(){return Oe}),r.d(t,"b",function(){return je}),r.d(t,"j",function(){return Se}),r.d(t,"e",function(){return de}),r.d(t,"l",function(){return Xe}),r.d(t,"a",function(){return nt}),r.d(t,"A",function(){return tt}),r.d(t,"m",function(){return Ue}),r.d(t,"d",function(){return Te}),r.d(t,"g",function(){return it}),r.d(t,"x",function(){return Me}),r.d(t,"p",function(){return Ft}),r.d(t,"r",function(){return rt}),r.d(t,"s",function(){return oe}),r.d(t,"o",function(){return Pe}),r.d(t,"q",function(){return Ze}),r.d(t,"n",function(){return Je}),r.d(t,"t",function(){return qe}),r.d(t,"k",function(){return be}),r.d(t,"y",function(){return he}),r.d(t,"w",function(){return Ge}),r.d(t,"u",function(){return kt});var a=r(16),l={},o=Array.prototype,u=Object.prototype,n=Function.prototype,c=o.slice,d=o.concat,f=u.toString,p=u.hasOwnProperty,v=o.map,y=o.reduce,w=o.forEach,k=o.filter,A=o.every,C=o.some,x=o.indexOf,S=Array.isArray,s=Object.keys,h=n.bind,g=window.isFinite,m=function(ce,_e,Re){var st,xt;if(ce==null)return ce;if(w&&ce.forEach===w)ce.forEach(_e,Re);else if(ce.length===+ce.length){for(st=0,xt=ce.length;st<xt;st++)if(_e.call(Re,ce[st],st,ce)===l)return}else{var Mt=xe(ce);for(st=0,xt=Mt.length;st<xt;st++)if(_e.call(Re,ce[Mt[st]],Mt[st],ce)===l)return}return ce},b=m,_=function(ce,_e,Re){var st=[];return ce==null?st:v&&ce.map===v?ce.map(_e,Re):(m(ce,function(xt,Mt,Bt){st.push(_e.call(Re,xt,Mt,Bt))}),st)},E=_,R="Reduce of empty array with no initial value",j=function(ce,_e,Re,st){var xt=arguments.length>2;if(ce==null&&(ce=[]),y&&ce.reduce===y)return st&&(_e=nt(_e,st)),xt?ce.reduce(_e,Re):ce.reduce(_e);if(m(ce,function(Mt,Bt,Rt){xt?Re=_e.call(st,Re,Mt,Bt,Rt):(Re=Mt,xt=!0)}),!xt)throw new TypeError(R);return Re},H=j,G=j,q=function(ce,_e,Re){var st;return Q(ce,function(xt,Mt,Bt){if(_e.call(Re,xt,Mt,Bt))return st=xt,!0}),st},K=q,ue=function(ce,_e,Re){var st=[];return ce==null?st:k&&ce.filter===k?ce.filter(_e,Re):(m(ce,function(xt,Mt,Bt){_e.call(Re,xt,Mt,Bt)&&st.push(xt)}),st)},te=ue,D=function(ce,_e,Re){_e||(_e=be);var st=!0;return ce==null?st:A&&ce.every===A?ce.every(_e,Re):(m(ce,function(xt,Mt,Bt){if(!(st=st&&_e.call(Re,xt,Mt,Bt)))return l}),!!st)},J=D,Q=function(ce,_e,Re){_e||(_e=be);var st=!1;return ce==null?st:C&&ce.some===C?ce.some(_e,Re):(m(ce,function(xt,Mt,Bt){if(st||(st=_e.call(Re,xt,Mt,Bt)))return l}),!!st)},ne=Q,ie=function(ce,_e){var Re;return function(){return--ce>0&&(Re=_e.apply(this,arguments)),ce<=1&&(_e=null),Re}},W=function(ce){return ce==null?be:Ft(ce)?ce:he(ce)},V=function(ce){return function(_e,Re,st){var xt={};return Re=W(Re),m(_e,function(Mt,Bt){var Rt=Re.call(st,Mt,Bt,_e);ce(xt,Rt,Mt)}),xt}},se=V(function(ce,_e,Re){M(ce,_e)?ce[_e].push(Re):ce[_e]=[Re]}),Ae=V(function(ce,_e,Re){ce[_e]=Re}),Oe=function(ce,_e,Re,st){for(var xt=(Re=W(Re)).call(st,_e),Mt=0,Bt=ce.length;Mt<Bt;){var Rt=Mt+Bt>>>1;Re.call(st,ce[Rt])<xt?Mt=Rt+1:Bt=Rt}return Mt},je=function(ce,_e){return ce!=null&&(ce.length!==+ce.length&&(ce=Ce(ce)),Xe(ce,_e)>=0)},De=je,Se=function(ce,_e){return q(ce,Ge(_e))},de=function(ce){var _e=d.apply(o,c.call(arguments,1));return ue(ce,function(Re){return!je(_e,Re)})},Xe=function(ce,_e,Re){if(ce==null)return-1;var st=0,xt=ce.length;if(Re){if(typeof Re!="number")return ce[st=Oe(ce,_e)]===_e?st:-1;st=Re<0?Math.max(0,xt+Re):Re}if(x&&ce.indexOf===x)return ce.indexOf(_e,Re);for(;st<xt;st++)if(ce[st]===_e)return st;return-1},ht=function(){},nt=function(ce,_e){var Re,st;if(h&&ce.bind===h)return h.apply(ce,c.call(arguments,1));if(!Ft(ce))throw new TypeError;return Re=c.call(arguments,2),st=function(){if(!(this instanceof st))return ce.apply(_e,Re.concat(c.call(arguments)));ht.prototype=ce.prototype;var xt=new ht;ht.prototype=null;var Mt=ce.apply(xt,Re.concat(c.call(arguments)));return Object(Mt)===Mt?Mt:xt}},lt=function(ce){var _e=c.call(arguments,1);return function(){for(var Re=0,st=_e.slice(),xt=0,Mt=st.length;xt<Mt;xt++)M(st[xt],"partial")&&(st[xt]=arguments[Re++]);for(;Re<arguments.length;)st.push(arguments[Re++]);return ce.apply(this,st)}},ot=lt(ie,2),ve=function(ce,_e){var Re=c.call(arguments,2);return setTimeout(function(){return ce.apply(null,Re)},_e)},pe=lt(ve,{partial:lt},1),tt=function(ce,_e,Re){var st,xt,Mt,Bt=null,Rt=0;Re||(Re={});var qt=function(){Rt=Re.leading===!1?0:vt(),Bt=null,Mt=ce.apply(st,xt),st=xt=null};return function(){Rt||Re.leading!==!1||(Rt=vt);var Be=_e-(vt-Rt);return st=this,xt=arguments,Be<=0?(clearTimeout(Bt),Bt=null,Rt=vt,Mt=ce.apply(st,xt),st=xt=null):Bt||Re.trailing===!1||(Bt=setTimeout(qt,Be)),Mt}},xe=function(ce){if(!He(ce))return[];if(s)return s(ce);var _e=[];for(var Re in ce)M(ce,Re)&&_e.push(Re);return _e},Ce=function(ce){for(var _e=xe(ce),Re=xe.length,st=Array(Re),xt=0;xt<Re;xt++)st[xt]=ce[_e[xt]];return st},Ue=function(ce){for(var _e={},Re=xe(ce),st=0,xt=Re.length;st<xt;st++)_e[ce[Re[st]]]=Re[st];return _e},Te=function(ce){return m(c.call(arguments,1),function(_e){if(_e)for(var Re in _e)ce[Re]===void 0&&(ce[Re]=_e[Re])}),ce},it=Object.assign||function(ce){return m(c.call(arguments,1),function(_e){if(_e)for(var Re in _e)Object.prototype.hasOwnProperty.call(_e,Re)&&(ce[Re]=_e[Re])}),ce},Me=function(ce){var _e={},Re=d.apply(o,c.call(arguments,1));return m(Re,function(st){st in ce&&(_e[st]=ce[st])}),_e},mt=S||function(ce){return f.call(ce)=="[object Array]"},He=function(ce){return ce===Object(ce)},We=[];m(["Function","String","Number","Date","RegExp"],function(ce){We[ce]=function(_e){return f.call(_e)=="[object "+ce+"]"}}),We.Function=function(ce){return typeof ce=="function"};var yt=We.Date,Ot=We.RegExp,Ft=We.Function,rt=We.Number,oe=We.String,Pe=function(ce){return g(ce)&&!Ze(parseFloat(ce))},Ze=function(ce){return rt(ce)&&ce!=+ce},Je=function(ce){return ce===!0||ce===!1||f.call(ce)=="[object Boolean]"},qe=function(ce){return ce===void 0},M=function(ce,_e){return p.call(ce,_e)},be=function(ce){return ce},he=function(ce){return function(_e){return _e[ce]}},Ge=function(ce){return function(_e){if(_e===ce)return!0;for(var Re in ce)if(ce[Re]!==_e[Re])return!1;return!0}},vt=a.a,kt=function(ce){return rt(ce)&&!Ze(ce)};t.c={after:function(ce,_e){return function(){if(--ce<1)return _e.apply(this,arguments)}},all:D,any:Q,before:ie,bind:nt,clone:function(ce){return He(ce)?mt(ce)?ce.slice():it({},ce):ce},collect:E,compact:function(ce){return ue(ce,be)},constant:function(ce){return function(){return ce}},contains:je,debounce:function(ce,_e){var Re;return _e===void 0&&(_e=100),function(){for(var st=this,xt=arguments.length,Mt=new Array(xt),Bt=0;Bt<xt;Bt++)Mt[Bt]=arguments[Bt];clearTimeout(Re),Re=setTimeout(function(){ce.apply(st,Mt)},_e)}},defaults:Te,defer:pe,delay:ve,detect:K,difference:de,each:m,every:J,extend:it,filter:ue,find:q,findWhere:Se,foldl:H,forEach:b,groupBy:se,has:M,identity:be,include:De,indexBy:Ae,indexOf:Xe,inject:G,invert:Ue,isArray:mt,isBoolean:Je,isDate:yt,isFinite:Pe,isFunction:Ft,isNaN:Ze,isNull:function(ce){return ce===null},isNumber:rt,isObject:He,isRegExp:Ot,isString:oe,isUndefined:qe,isValidNumber:kt,keys:xe,last:function(ce,_e,Re){if(ce!=null)return _e==null||Re?ce[ce.length-1]:c.call(ce,Math.max(ce.length-_e,0))},map:_,matches:Ge,max:function(ce,_e,Re){if(!_e&&mt(ce)&&ce[0]===+ce[0]&&ce.length<65535)return Math.max.apply(Math,ce);var st=-1/0,xt=-1/0;return m(ce,function(Mt,Bt,Rt){var qt=_e?_e.call(Re,Mt,Bt,Rt):Mt;qt>xt&&(st=Mt,xt=qt)}),st},memoize:function(ce,_e){var Re={};return _e||(_e=be),function(){var st=_e.apply(this,arguments);return M(Re,st)?Re[st]:Re[st]=ce.apply(this,arguments)}},now:vt,omit:function(ce){var _e={},Re=d.apply(o,c.call(arguments,1));for(var st in ce)je(Re,st)||(_e[st]=ce[st]);return _e},once:ot,partial:lt,pick:Me,pluck:function(ce,_e){return _(ce,he(_e))},property:he,propertyOf:function(ce){return ce==null?function(){}:function(_e){return ce[_e]}},reduce:j,reject:function(ce,_e,Re){return ue(ce,function(st,xt,Mt){return!_e.call(Re,st,xt,Mt)},Re)},result:function(ce,_e){if(ce!=null){var Re=ce[_e];return Ft(Re)?Re.call(ce):Re}},select:te,size:function(ce){return ce==null?0:ce.length===+ce.length?ce.length:xe(ce).length},some:ne,sortedIndex:Oe,throttle:tt,where:function(ce,_e){return ue(ce,Ge(_e))},without:function(ce){return de(ce,c.call(arguments,1))}}},function(e,t,r){"use strict";r.d(t,"v",function(){return l}),r.d(t,"u",function(){return o}),r.d(t,"t",function(){return u}),r.d(t,"q",function(){return n}),r.d(t,"r",function(){return c}),r.d(t,"p",function(){return d}),r.d(t,"b",function(){return f}),r.d(t,"d",function(){return p}),r.d(t,"s",function(){return v}),r.d(t,"e",function(){return y}),r.d(t,"i",function(){return w}),r.d(t,"a",function(){return k}),r.d(t,"f",function(){return A}),r.d(t,"c",function(){return C}),r.d(t,"g",function(){return x}),r.d(t,"h",function(){return S}),r.d(t,"l",function(){return s}),r.d(t,"j",function(){return h}),r.d(t,"k",function(){return g}),r.d(t,"m",function(){return m}),r.d(t,"n",function(){return b}),r.d(t,"o",function(){return _}),r.d(t,"x",function(){return E}),r.d(t,"w",function(){return R}),r.d(t,"y",function(){return j});var a=r(0),l=1e5,o=100001,u=100002,n=101e3,c=102e3,d=102700,f=200001,p=202e3,v=104e3,y=203e3,w=203640,k=203700,A=204e3,C=306e3,x=308e3,S=308640,s="cantPlayVideo",h="badConnection",g="cantLoadPlayer",m="liveStreamDown",b="technicalError",_=function(){function H(G,q,K){this.code=Object(a.u)(q)?q:0,this.sourceError=K||null,G&&(this.key=G)}return H.logMessage=function(G){var q=G%1e3,K=Math.floor((G-q)/1e3),ue=G.toString();return q>=400&&q<600&&(ue=K+"400-"+K+"599"),"JW Player "+(G>299999&&G<4e5?"Warning":"Error")+" "+G+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+ue},H}();function E(H,G,q){return q instanceof _&&q.code?q:new _(H,G,q)}function R(H,G){var q=E(b,G,H);return q.code=(H&&H instanceof _&&H.code||0)+G,q}function j(H){var G=H.name,q=H.message;switch(G){case"AbortError":return/pause/.test(q)?303213:/load/.test(q)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}}},function(e,t,r){"use strict";r.d(t,"i",function(){return o}),r.d(t,"e",function(){return u}),r.d(t,"j",function(){return n}),r.d(t,"a",function(){return c}),r.d(t,"b",function(){return d}),r.d(t,"g",function(){return f}),r.d(t,"d",function(){return p}),r.d(t,"f",function(){return v}),r.d(t,"h",function(){return y}),r.d(t,"c",function(){return w});var a=r(0),l=window.parseFloat;function o(k){return k.replace(/^\s+|\s+$/g,"")}function u(k,A,C){for(k=""+k,C=C||"0";k.length<A;)k=C+k;return k}function n(k,A){for(var C=k.attributes,x=0;x<C.length;x++)if(C[x].name&&C[x].name.toLowerCase()===A.toLowerCase())return C[x].value.toString();return""}function c(k){if(!k||k.substr(0,4)==="rtmp")return"";var A=/[(,]format=(m3u8|mpd)-/i.exec(k);if(A)return A[1];var C=k.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return C!==k?C.toLowerCase():(k=k.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?k.substr(k.lastIndexOf(".")+1,k.length).toLowerCase():""}function d(k){var A=(k/60|0)%60,C=k%60;return u((k/3600|0).toString(),2)+":"+u(A.toString(),2)+":"+u(C.toFixed(3),6)}function f(k,A){if(!k)return 0;if(Object(a.u)(k))return k;var C=k.replace(",","."),x=C.slice(-1),S=C.split(":"),s=S.length,h=0;if(x==="s")h=l(C);else if(x==="m")h=60*l(C);else if(x==="h")h=3600*l(C);else if(s>1){var g=s-1;s===4&&(A&&(h=l(S[g])/A),g-=1),h+=l(S[g]),h+=60*l(S[g-1]),s>=3&&(h+=3600*l(S[g-2]))}else h=l(C);return Object(a.u)(h)?h:0}function p(k,A,C){if(Object(a.s)(k)&&k.slice(-1)==="%"){var x=l(k);return A&&Object(a.u)(A)&&Object(a.u)(x)?A*x/100:null}return f(k,C)}function v(k,A){return k.map(function(C){return A+C})}function y(k,A){return k.map(function(C){return C+A})}function w(k){return!!k&&Object(a.s)(k)&&k.slice(-1)==="%"}},function(e,t,r){"use strict";r.d(t,"jb",function(){return a}),r.d(t,"mb",function(){return l}),r.d(t,"kb",function(){return o}),r.d(t,"ob",function(){return u}),r.d(t,"pb",function(){return n}),r.d(t,"lb",function(){return c}),r.d(t,"nb",function(){return d}),r.d(t,"qb",function(){return f}),r.d(t,"s",function(){return p}),r.d(t,"u",function(){return v}),r.d(t,"t",function(){return y}),r.d(t,"o",function(){return w}),r.d(t,"r",function(){return k}),r.d(t,"Z",function(){return A}),r.d(t,"W",function(){return C}),r.d(t,"v",function(){return x}),r.d(t,"Y",function(){return S}),r.d(t,"w",function(){return s}),r.d(t,"ub",function(){return h}),r.d(t,"a",function(){return g}),r.d(t,"b",function(){return m}),r.d(t,"c",function(){return b}),r.d(t,"d",function(){return _}),r.d(t,"e",function(){return E}),r.d(t,"f",function(){return R}),r.d(t,"i",function(){return j}),r.d(t,"F",function(){return H}),r.d(t,"gb",function(){return G}),r.d(t,"Q",function(){return q}),r.d(t,"C",function(){return K}),r.d(t,"B",function(){return ue}),r.d(t,"E",function(){return te}),r.d(t,"q",function(){return D}),r.d(t,"cb",function(){return J}),r.d(t,"n",function(){return Q}),r.d(t,"G",function(){return ne}),r.d(t,"H",function(){return ie}),r.d(t,"N",function(){return W}),r.d(t,"O",function(){return V}),r.d(t,"R",function(){return se}),r.d(t,"ib",function(){return Ae}),r.d(t,"bb",function(){return Oe}),r.d(t,"D",function(){return je}),r.d(t,"S",function(){return De}),r.d(t,"P",function(){return Se}),r.d(t,"T",function(){return de}),r.d(t,"V",function(){return Xe}),r.d(t,"M",function(){return ht}),r.d(t,"L",function(){return nt}),r.d(t,"K",function(){return lt}),r.d(t,"I",function(){return ot}),r.d(t,"J",function(){return ve}),r.d(t,"U",function(){return pe}),r.d(t,"p",function(){return tt}),r.d(t,"y",function(){return xe}),r.d(t,"hb",function(){return Ce}),r.d(t,"db",function(){return Ue}),r.d(t,"eb",function(){return Te}),r.d(t,"g",function(){return it}),r.d(t,"h",function(){return Me}),r.d(t,"rb",function(){return mt}),r.d(t,"sb",function(){return He}),r.d(t,"ab",function(){return We}),r.d(t,"A",function(){return yt}),r.d(t,"m",function(){return Ot}),r.d(t,"l",function(){return Ft}),r.d(t,"fb",function(){return rt}),r.d(t,"tb",function(){return oe}),r.d(t,"z",function(){return Pe}),r.d(t,"k",function(){return Ze}),r.d(t,"X",function(){return Je}),r.d(t,"j",function(){return qe}),r.d(t,"x",function(){return M});var a="buffering",l="idle",o="complete",u="paused",n="playing",c="error",d="loading",f="stalled",p="drag",v="dragStart",y="dragEnd",w="click",k="doubleClick",A="over",C="move",x="enter",S="out",s=c,h="warning",g="adClick",m="mediaLoaded",b="adPause",_="adPlay",E="adSkipped",R="adTime",j="autostartNotAllowed",H=o,G="ready",q="seek",K="beforePlay",ue="beforeComplete",te="bufferFull",D="displayClick",J="playlistComplete",Q="cast",ne="mediaError",ie="firstFrame",W="playAttempt",V="playAttemptFailed",se="seeked",Ae="setupError",Oe="state",je="bufferChange",De="time",Se="ratechange",de="mediaType",Xe="volume",ht="mute",nt="metadataCueParsed",lt="meta",ot="levels",ve="levelsChanged",pe="visualQuality",tt="controls",xe="fullscreen",Ce="resize",Ue="playlistItem",Te="playlist",it="audioTracks",Me="audioTrackChanged",mt="subtitlesTracks",He="subtitlesTrackChanged",We="playbackRateChanged",yt="logoClick",Ot="captionsList",Ft="captionsChanged",rt="providerFirstFrame",oe="userAction",Pe="instreamClick",Ze="breakpoint",Je="fullscreenchange",qe="bandwidthEstimate",M="float"},function(e,t,r){"use strict";r.d(t,"b",function(){return l}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return u}),r.d(t,"c",function(){return n});var a=r(2);function l(c){var d="";return c&&(c.localName?d=c.localName:c.baseName&&(d=c.baseName)),d}function o(c){var d="";return c&&(c.textContent?d=Object(a.i)(c.textContent):c.text&&(d=Object(a.i)(c.text))),d}function u(c,d){return c.childNodes[d]}function n(c){return c.childNodes?c.childNodes.length:0}},function(e,t,r){"use strict";function a(b){return navigator.userAgent.match(b)!==null}r.d(t,"f",function(){return o}),r.d(t,"l",function(){return u}),r.d(t,"k",function(){return n}),r.d(t,"p",function(){return c}),r.d(t,"g",function(){return d}),r.d(t,"e",function(){return f}),r.d(t,"n",function(){return p}),r.d(t,"r",function(){return v}),r.d(t,"s",function(){return y}),r.d(t,"d",function(){return w}),r.d(t,"i",function(){return k}),r.d(t,"q",function(){return A}),r.d(t,"j",function(){return C}),r.d(t,"c",function(){return x}),r.d(t,"b",function(){return S}),r.d(t,"o",function(){return s}),r.d(t,"m",function(){return h}),r.d(t,"h",function(){return g}),r.d(t,"a",function(){return m});var l=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},o=function(){return a(/gecko\//i)},u=function(){return a(/iP(hone|od)/i)},n=function(){return a(/iPad/i)||l()},c=function(){return a(/Macintosh/i)&&!l()},d=function(){return a(/FBAV/i)},f=function(){return a(/\sEdge?\/\d+/i)},p=function(){return a(/msie/i)},v=function(){return a(/SMART-TV/)},y=function(){return v()&&!a(/SamsungBrowser/)},w=function(){return a(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!f()&&!a(/UCBrowser/i)&&!v()},k=function(){return!a(/\sEdg\/\d+/i)&&(f()||a(/trident\/.+rv:\s*11/i)||p())},A=function(){return a(/safari/i)&&!a(/(?:Chrome|CriOS|chromium|android|phantom)/i)||v()},C=function(){return a(/iP(hone|ad|od)/i)||l()};function x(){return!(a(/chrome\/[123456789]/i)&&!a(/chrome\/18/i)&&!o())&&S()}var S=function(){return a(/Android/i)&&!a(/Windows Phone/i)},s=function(){return C()||S()||a(/Windows Phone/i)};function h(){try{return window.self!==window.top}catch(b){return!0}}var g=function(){return!1},m=function(){return 0}},function(e,t,r){"use strict";r.d(t,"j",function(){return d}),r.d(t,"f",function(){return f}),r.d(t,"r",function(){return p}),r.d(t,"k",function(){return v}),r.d(t,"t",function(){return y}),r.d(t,"s",function(){return k}),r.d(t,"v",function(){return A}),r.d(t,"e",function(){return S}),r.d(t,"b",function(){return s}),r.d(t,"p",function(){return h}),r.d(t,"q",function(){return g}),r.d(t,"w",function(){return m}),r.d(t,"u",function(){return b}),r.d(t,"i",function(){return _}),r.d(t,"c",function(){return E}),r.d(t,"h",function(){return R}),r.d(t,"d",function(){return j}),r.d(t,"n",function(){return H}),r.d(t,"l",function(){return G}),r.d(t,"o",function(){return q}),r.d(t,"m",function(){return K}),r.d(t,"g",function(){return ue}),r.d(t,"a",function(){return te});var a,l=r(0),o=r(2),u=r(7),n=window.DOMParser,c=!0;function d(D,J){return D.classList.contains(J)}function f(D){return v(D).firstChild}function p(D,J){_(D),function(Q,ne){if(ne){for(var ie=document.createDocumentFragment(),W=v(ne).childNodes,V=0;V<W.length;V++)ie.appendChild(W[V].cloneNode(!0));Q.appendChild(ie)}}(D,J)}function v(D){var J=function(ie){if(a||(a=new n,c=function(){try{if(a.parseFromString("","text/html"))return!0}catch(V){}return!1}()),c)return a.parseFromString(ie,"text/html").body;var W=document.implementation.createHTMLDocument("");return ie.toLowerCase().indexOf("<!doctype")>-1?W.documentElement.innerHTML=ie:W.body.innerHTML=ie,W.body}(D);y(J);for(var Q=J.querySelectorAll("*"),ne=Q.length;ne--;)k(Q[ne]);return J}function y(D){for(var J=D.querySelectorAll("script,object,iframe,meta"),Q=J.length;Q--;){var ne=J[Q];ne.parentNode.removeChild(ne)}return D}var w=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/);function k(D){for(var J=D.attributes,Q=J.length;Q--;){var ne=J[Q].name;if(/^on/.test(ne)&&D.removeAttribute(ne),/href/.test(ne)){var ie=J[Q].value;/javascript:|javascript&colon;/.test(ie)||!w.test(ie)?D.removeAttribute(ne):console.warn("Invalid or unsafe URL")}}return D}function A(D){return D+(D.toString().indexOf("%")>0?"":"px")}function C(D){return Object(l.s)(D.className)?D.className.split(" "):[]}function x(D,J){J=Object(o.i)(J),D.className!==J&&(D.className=J)}function S(D){return D.classList?D.classList:C(D)}function s(D,J){var Q=C(D);(Array.isArray(J)?J:J.split(" ")).forEach(function(ne){Object(l.b)(Q,ne)||Q.push(ne)}),x(D,Q.join(" "))}function h(D,J){var Q=C(D),ne=Array.isArray(J)?J:J.split(" ");x(D,Object(l.e)(Q,ne).join(" "))}function g(D,J,Q){var ne=D.className||"";J.test(ne)?ne=ne.replace(J,Q):Q&&(ne+=" "+Q),x(D,ne)}function m(D,J,Q){var ne=d(D,J);(Q=Object(l.n)(Q)?Q:!ne)!==ne&&(Q?s(D,J):h(D,J))}function b(D,J,Q){D.setAttribute(J,Q)}function _(D){for(;D.firstChild;)D.removeChild(D.firstChild)}function E(D){var J=document.createElement("link");J.rel="stylesheet",J.href=D,document.getElementsByTagName("head")[0].appendChild(J)}function R(D){D&&_(D)}function j(D){var J={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!D||!document.body.contains(D))return J;var Q=D.getBoundingClientRect(),ne=window.pageYOffset,ie=window.pageXOffset;return(Q.width||Q.height||Q.left||Q.top)&&(J.left=Q.left+ie,J.right=Q.right+ie,J.top=Q.top+ne,J.bottom=Q.bottom+ne,J.width=Q.right-Q.left,J.height=Q.bottom-Q.top),J}function H(D,J){D.insertBefore(J,D.firstChild)}function G(D){return D.nextElementSibling}function q(D){return D.previousElementSibling}function K(D,J,Q){if(Q===void 0&&(Q={}),w.test(D)){var ne=document.createElement("a");ne.href=D,ne.target=J,ne=k(Object(l.g)(ne,Q)),u.Browser.firefox?ne.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):ne.click()}}function ue(){var D=window.screen.orientation;return!!D&&(D.type==="landscape-primary"||D.type==="landscape-secondary")||window.orientation===90||window.orientation===-90}function te(D){return function(J){var Q=document.createElement("textarea");return Q.innerHTML=J,Q.value}(D).replace(/&|<|>|"|''/gm,function(J){return"&#"+J.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")}},function(e,t,r){"use strict";r.r(t);var a=r(5);function l(f,p){var v=f.exec(p);if(v&&v.length>1)return v[1]}r.d(t,"Browser",function(){return n}),r.d(t,"OS",function(){return c}),r.d(t,"Features",function(){return d});var o=navigator.userAgent,u=function(){},n={get androidNative(){return Object(a.c)()},get chrome(){return Object(a.d)()},get edge(){return Object(a.e)()},get facebook(){return Object(a.g)()},get firefox(){return Object(a.f)()},get ie(){return Object(a.i)()},get msie(){return Object(a.n)()},get safari(){return Object(a.q)()},get version(){return function(f,p){var v,y,w,k;if(f.chrome)v=p.indexOf("Chrome")!==-1?p.substring(p.indexOf("Chrome")+7):p.substring(p.indexOf("CriOS")+6);else if(f.safari)v=p.substring(p.indexOf("Version")+8);else if(f.firefox)v=p.substring(p.indexOf("Firefox")+8);else if(f.edge){var A=p.indexOf("Edge");A===-1?A=p.indexOf("Edg")+4:A+=5,v=p.substring(A)}else f.ie&&(p.indexOf("rv:")!==-1?v=p.substring(p.indexOf("rv:")+3):p.indexOf("MSIE")!==-1&&(v=p.substring(p.indexOf("MSIE")+5)));return v&&((k=v.indexOf(";"))!==-1&&(v=v.substring(0,k)),(k=v.indexOf(" "))!==-1&&(v=v.substring(0,k)),(k=v.indexOf(")"))!==-1&&(v=v.substring(0,k)),y=parseInt(v,10),w=parseInt(v.split(".")[1],10)),{version:v,major:y,minor:w}}(this,o)}},c={get android(){return Object(a.b)()},get iOS(){return Object(a.j)()},get mobile(){return Object(a.o)()},get mac(){return Object(a.p)()},get iPad(){return Object(a.k)()},get iPhone(){return Object(a.l)()},get windows(){return o.indexOf("Windows")>-1},get tizen(){return Object(a.r)()},get tizenApp(){return Object(a.s)()},get version(){return function(f,p){var v,y,w;if(f.windows)switch(v=l(/Windows(?: NT|)? ([._\d]+)/,p)){case"6.1":v="7.0";break;case"6.2":v="8.0";break;case"6.3":v="8.1"}else f.android?v=l(/Android ([._\d]+)/,p):f.iOS?v=l(/OS ([._\d]+)/,p):f.mac?v=l(/Mac OS X ([._\d]+)/,p):f.tizen&&(v=l(/Tizen ([._\d]+)/,p));if(v){y=parseInt(v,10);var k=v.split(/[._]/);k&&(w=parseInt(k[1],10))}return{version:v,major:y,minor:w}}(this,o)}},d={get flash(){return Object(a.h)()},get flashVersion(){return Object(a.a)()},get iframe(){return Object(a.m)()},get passiveEvents(){return function(){var f=!1;try{var p=Object.defineProperty({},"passive",{get:function(){return f=!0}});window.addEventListener("testPassive",u,p),window.removeEventListener("testPassive",u,p)}catch(v){}return f}()},get backgroundLoading(){return!(c.iOS||n.safari||c.tizen)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return o}),r.d(t,"b",function(){return u}),r.d(t,"e",function(){return n}),r.d(t,"f",function(){return c});var a=function(){function v(){}var y=v.prototype;return y.on=function(w,k,A){if(!f(this,"on",w,[k,A])||!k)return this;var C=this._events||(this._events={});return(C[w]||(C[w]=[])).push({callback:k,context:A}),this},y.once=function(w,k,A){if(!f(this,"once",w,[k,A])||!k)return this;var C=0,x=this,S=function s(){C++||(x.off(w,s),k.apply(this,arguments))};return S._callback=k,this.on(w,S,A)},y.off=function(w,k,A){if(!this._events||!f(this,"off",w,[k,A]))return this;if(!w&&!k&&!A)return delete this._events,this;for(var C=w?[w]:Object.keys(this._events),x=0,S=C.length;x<S;x++){w=C[x];var s=this._events[w];if(s){var h=this._events[w]=[];if(k||A)for(var g=0,m=s.length;g<m;g++){var b=s[g];(k&&k!==b.callback&&k!==b.callback._callback||A&&A!==b.context)&&h.push(b)}h.length||delete this._events[w]}}return this},y.trigger=function(w){for(var k=arguments.length,A=new Array(k>1?k-1:0),C=1;C<k;C++)A[C-1]=arguments[C];if(!this._events)return this;if(!f(this,"trigger",w,A))return this;var x=this._events[w],S=this._events.all;return x&&p(x,A,this),S&&p(S,arguments,this),this},y.triggerSafe=function(w){for(var k=arguments.length,A=new Array(k>1?k-1:0),C=1;C<k;C++)A[C-1]=arguments[C];if(!this._events)return this;if(!f(this,"trigger",w,A))return this;var x=this._events[w],S=this._events.all;return x&&p(x,A,this,w),S&&p(S,arguments,this,w),this},v}(),l=a.prototype.on,o=a.prototype.once,u=a.prototype.off,n=a.prototype.trigger,c=a.prototype.triggerSafe;a.on=l,a.once=o,a.off=u,a.trigger=n;var d=/\s+/;function f(v,y,w,k){if(!w)return!0;if(typeof w=="object"){for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&v[y].apply(v,[A,w[A]].concat(k));return!1}if(d.test(w)){for(var C=w.split(d),x=0,S=C.length;x<S;x++)v[y].apply(v,[C[x]].concat(k));return!1}return!0}function p(v,y,w,k){for(var A=-1,C=v.length;++A<C;){var x=v[A];if(k)try{x.callback.apply(x.context||w,y)}catch(S){console.log('Error in "'+k+'" event handler:',S)}else x.callback.apply(x.context||w,y)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return u}),r.d(t,"d",function(){return n});var a=r(1),l={};function o(c,d){return function(){throw new a.o(a.k,c,d)}}function u(c,d){return function(){throw new a.o(null,c,d)}}function n(){return r.e(3).then(function(c){return r(54).default}.bind(null,r)).catch(o(a.q+101))}},function(e,t,r){"use strict";r.r(t),r.d(t,"exists",function(){return l}),r.d(t,"isHTTPS",function(){return o}),r.d(t,"isFileProtocol",function(){return u}),r.d(t,"isRtmp",function(){return n}),r.d(t,"isYouTube",function(){return c}),r.d(t,"typeOf",function(){return d}),r.d(t,"isDeepKeyCompliant",function(){return f});var a=window.location.protocol;function l(p){switch(typeof p){case"string":return p.length>0;case"object":return p!==null;case"undefined":return!1;default:return!0}}function o(){return a==="https:"}function u(){return a==="file:"}function n(p,v){return p.indexOf("rtmp:")===0||v==="rtmp"}function c(p,v){return v==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(p)}function d(p){if(p===null)return"null";var v=typeof p;return v==="object"&&Array.isArray(p)?"array":v}function f(p,v,y){var w=Object.keys(p);return Object.keys(v).length>=w.length&&w.every(function(k){var A=p[k],C=v[k];return A&&typeof A=="object"?!(!C||typeof C!="object")&&f(A,C,y):y(k,p)})}},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return d}),r.d(t,"e",function(){return v}),r.d(t,"c",function(){return y});var a,l=r(2),o=r(31),u=r.n(o),n=u.a.clear;function c(w,k,A,C){A=A||"all-players";var x="";if(typeof k=="object"){var S=document.createElement("div");d(S,k);var s=S.style.cssText;Object.prototype.hasOwnProperty.call(k,"content")&&s&&(s=s+' content: "'+k.content+'";'),C&&s&&(s=s.replace(/;/g," !important;")),x="{"+s+"}"}else typeof k=="string"&&(x=k);x!==""&&x!=="{}"?u.a.style([[w,w+x]],A):u.a.clear(A,w)}function d(w,k){if(w!=null){var A;w.length===void 0&&(w=[w]);var C={};for(A in k)Object.prototype.hasOwnProperty.call(k,A)&&(C[A]=p(A,k[A]));for(var x=0;x<w.length;x++){var S=w[x],s=void 0;if(S!=null)for(A in C)Object.prototype.hasOwnProperty.call(C,A)&&(s=f(A),S.style[s]!==C[A]&&(S.style[s]=C[A]))}}}function f(w){w=w.split("-");for(var k=1;k<w.length;k++)w[k]=w[k].charAt(0).toUpperCase()+w[k].slice(1);return w.join("")}function p(w,k){return k===""||k==null?"":typeof k=="string"&&isNaN(k)?/png|gif|jpe?g/i.test(k)&&k.indexOf("url")<0?"url("+k+")":k:k===0||w==="z-index"||w==="opacity"?""+k:/color/i.test(w)?"#"+Object(l.e)(k.toString(16).replace(/^0x/i,""),6):Math.ceil(k)+"px"}function v(w,k){d(w,{transform:k})}function y(w,k){var A="rgb",C=k!==void 0&&k!==100;if(C&&(A+="a"),!a){var x=document.createElement("canvas");x.height=1,x.width=1,a=x.getContext("2d")}w?isNaN(parseInt(w,16))||(w="#"+w):w="#000000",a.clearRect(0,0,1,1),a.fillStyle=w,a.fillRect(0,0,1,1);var S=a.getImageData(0,0,1,1).data;return A+="("+S[0]+", "+S[1]+", "+S[2],C&&(A+=", "+k/100),A+")"}},function(e,t,r){"use strict";r.r(t),r.d(t,"getAbsolutePath",function(){return o}),r.d(t,"isAbsolutePath",function(){return u}),r.d(t,"parseXML",function(){return n}),r.d(t,"serialize",function(){return c}),r.d(t,"parseDimension",function(){return d}),r.d(t,"timeFormat",function(){return f});var a=r(10),l=r(0);function o(p,v){if(v&&Object(a.exists)(v)||(v=document.location.href),!Object(a.exists)(p))return"";if(u(p))return p;var y,w=v.substring(0,v.indexOf("://")+3),k=v.substring(w.length,v.indexOf("/",w.length+1));if(p.indexOf("/")===0)y=p.split("/");else{var A=v.split("?")[0];y=(A=A.substring(w.length+k.length+1,A.lastIndexOf("/"))).split("/").concat(p.split("/"))}for(var C=[],x=0;x<y.length;x++)y[x]&&Object(a.exists)(y[x])&&y[x]!=="."&&(y[x]===".."?C.pop():C.push(y[x]));return w+k+"/"+C.join("/")}function u(p){return/^(?:(?:https?|file):)?\/\//.test(p)}function n(p){var v=null;try{(v=new window.DOMParser().parseFromString(p,"text/xml")).querySelector("parsererror")&&(v=null)}catch(y){}return v}function c(p){if(p===void 0)return null;if(typeof p=="string"&&p.length<6){var v=p.toLowerCase();if(v==="true")return!0;if(v==="false")return!1;if(!Object(l.q)(Number(p))&&!Object(l.q)(parseFloat(p)))return Number(p)}return p}function d(p){return Object(l.u)(p)?p:p===""?0:p.lastIndexOf("%")>-1?p:parseInt(p.replace("px",""),10)}function f(p,v){if(Object(l.q)(p)&&(p=parseInt(p.toString())),Object(l.q)(p)||!isFinite(p)||p<=0&&!v)return"00:00";var y=p<0?"-":"";p=Math.abs(p);var w=Math.floor(p/3600),k=Math.floor((p-3600*w)/60),A=Math.floor(p%60);return y+(w?w+":":"")+(k<10?"0":"")+k+":"+(A<10?"0":"")+A}},function(e,t,r){"use strict";r.d(t,"h",function(){return v}),r.d(t,"c",function(){return w}),r.d(t,"e",function(){return A}),r.d(t,"f",function(){return C}),r.d(t,"b",function(){return x}),r.d(t,"d",function(){return s}),r.d(t,"g",function(){return h}),r.d(t,"a",function(){return g});var a=r(0),l=r(5),o=r(21),u=r(10),n=r(30),c={},d={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(a.m)(d);function f(b){var _=p(b),E=_.indexOf("_");return E===-1?_:_.substring(0,E)}function p(b){return b.toLowerCase().replace("-","_")}function v(b){return b?Object.keys(b).reduce(function(_,E){return _[p(E)]=b[E],_},{}):{}}function y(b){var _=b.querySelector("html");return _?_.getAttribute("lang"):null}function w(){var b=y(document);if(!b&&Object(l.m)())try{b=y(window.top.document)}catch(_){}return b||navigator.language||"en"}var k=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"];function A(b){return b.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(b)}function C(b){return k.indexOf(f(b))>=0}function x(b,_,E){return Object(a.g)({},function(R){var j=R.advertising,H=R.related,G=R.sharing,q=R.abouttext,K=Object(a.g)({},R.localization);j&&(K.advertising=K.advertising||{},S(K.advertising,j,"admessage"),S(K.advertising,j,"cuetext"),S(K.advertising,j,"loadingAd"),S(K.advertising,j,"podmessage"),S(K.advertising,j,"skipmessage"),S(K.advertising,j,"skiptext")),typeof K.related=="string"?K.related={heading:K.related}:K.related=K.related||{},H&&S(K.related,H,"autoplaymessage"),G&&(K.sharing=K.sharing||{},S(K.sharing,G,"heading"),S(K.sharing,G,"copied")),q&&S(K,R,"abouttext");var ue=K.close||K.nextUpClose;return ue&&(K.close=ue),K}(b),_[f(E)],_[p(E)])}function S(b,_,E){var R=b[E]||_[E];R&&(b[E]=R)}function s(b){return Object(u.isDeepKeyCompliant)(n.a,b,function(_,E){return typeof E[_]=="string"})}function h(b,_){var E,R=c[_];if(!R){var j=b+"translations/"+(E=f(_),(/^n[bn]$/.test(E)?"no":E)+".json");c[_]=R=new Promise(function(H,G){Object(o.a)({url:j,oncomplete:H,onerror:function(q,K,ue,te){c[_]=null,G(te)},responseType:"json"})})}return R}function g(b,_){var E=Object(a.g)({},b,_);return m(E,"errors",b,_),m(E,"related",b,_),m(E,"sharing",b,_),m(E,"advertising",b,_),m(E,"shortcuts",b,_),m(E,"captionsStyles",b,_),E}function m(b,_,E,R){b[_]=Object(a.g)({},E[_],R[_])}},function(e,t,r){"use strict";t.a=[]},function(e,t,r){"use strict";var a=r(49),l=r(10),o=document.createElement("video");r.d(t,"a",function(){return n});var u={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},n=[{name:"html5",supports:function(c){if(!o||!o.canPlayType||Object(a.a)(c)===!1)return!1;var d=c.file,f=c.type;if(Object(l.isRtmp)(d,f))return!1;var p=c.mimeType||u[f];if(!p)return!1;var v=c.mediaTypes;return v&&v.length&&(p=[p].concat(v.slice()).join("; ")),!!o.canPlayType(p)}}]},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a=Date.now||function(){return new Date().getTime()}},function(e,t,r){"use strict";t.a={debug:!1}},function(e,t,r){"use strict";var a=r(0),l={none:!0,metadata:!0,auto:!0};function o(S,s){return l[S]?S:l[s]?s:"metadata"}var u=r(24),n=r(27),c=r(32),d=r(1);r.d(t,"b",function(){return f}),r.d(t,"e",function(){return p}),r.d(t,"d",function(){return v}),r.d(t,"f",function(){return y}),r.d(t,"c",function(){return w});function f(S,s,h){var g=Object(a.g)({},h);return delete g.playlist,S.map(function(m){return v(s,m,g)}).filter(function(m){return!!m})}function p(S){if(!Array.isArray(S)||S.length===0)throw new d.o(d.l,630)}function v(S,s,h){var g=S.getProviders(),m=S.get("preload"),b=Object(a.g)({},s);if(b.preload=o(s.preload,m),b.allSources=k(b,S),b.sources=A(b.allSources,g),b.sources.length)return b.file=b.sources[0].file,b.feedData=h,function(_){var E=_.sources[0].liveSyncDuration;return E&&(_.liveSyncDuration=_.dvrSeekLimit=E),_}(b)}function y(S,s){var h=(parseInt(S,10)||0)%s;return h<0&&(h+=s),h}var w=function(S,s){return A(k(S,s),s.getProviders())};function k(S,s){var h=s.attributes,g=S.sources,m=S.allSources,b=S.preload,_=S.drm,E=C(S.withCredentials,h.withCredentials);return(m||g).map(function(R){if(R!==Object(R))return null;x(R,h,"androidhls"),x(R,h,"hlsjsdefault"),x(R,h,"safarihlsjs"),function(G,q,K){if(!G.liveSyncDuration){var ue=q.liveSyncDuration?q:K;x(G,ue,"liveSyncDuration")}}(R,S,h),x(R,h,"_hlsjsProgressive"),R.preload=o(R.preload,b);var j=R.drm||_||h.drm;j&&(R.drm=j);var H=C(R.withCredentials,E);return H!==void 0&&(R.withCredentials=H),Object(n.a)(R)}).filter(function(R){return!!R})}function A(S,s){s&&s.choose||(s=new c.a);var h=function(b,_){for(var E=0;E<b.length;E++){var R=b[E],j=_.choose(R).providerToCheck;if(j)return{type:R.type,provider:j}}return null}(S,s);if(!h)return[];var g=h.provider,m=h.type;return S.filter(function(b){return b.type===m&&s.providerSupports(g,b)})}function C(S,s){return S===void 0?s:S}function x(S,s,h){h in s&&(S[h]=s[h])}t.a=function(S){return(Array.isArray(S)?S:[S]).map(u.a)}},function(e,t,r){"use strict";r.r(t),r.d(t,"getScriptPath",function(){return l}),r.d(t,"repo",function(){return o}),r.d(t,"versionCheck",function(){return u}),r.d(t,"loadFrom",function(){return n});var a=r(22),l=(r(10),function(c){for(var d=document.getElementsByTagName("script"),f=0;f<d.length;f++){var p=d[f].src;if(p){var v=p.lastIndexOf("/"+c);if(v>=0)return p.substr(0,v+1)}}return""}),o=function(){return l("jwplayer.js")},u=function(c){var d=("0"+c).split(/\W/),f=a.a.split(/\W/),p=parseFloat(d[0]),v=parseFloat(f[0]);return!(p>v)&&!(p===v&&parseFloat("0"+d[1])>parseFloat(f[1]))},n=function(){return l("jwplayer.js")}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var a=r(26),l=r(15),o=r(50),u=r(0);r(8);function n(c){var d=c.getName().name;if(!a.a[d]){if(!Object(u.i)(l.a,Object(u.w)({name:d}))){if(!Object(u.p)(c.supports))throw new Error("Tried to register a provider with an invalid object");l.a.unshift({name:d,supports:c.supports})}Object(u.d)(c.prototype,o.a),a.a[d]=c}}},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var a=r(0),l=r(12),o=r(10),u=r(1),n=function(){};function c(v,y,w,k){var A;v===Object(v)&&(v=(k=v).url);var C=Object(a.g)({xhr:null,url:v,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:y||n,onerror:w||n,mimeType:k&&!k.responseType?"text/xml":"",requireValidXML:!1,responseType:k&&k.plainText?"text":"",useDomParser:!1,requestFilter:null},k),x=function(s,h){return function(g,m){var b=g.currentTarget||h.xhr;if(clearTimeout(h.timeoutId),h.retryWithoutCredentials&&h.xhr.withCredentials)return d(b),void c(Object(a.g)({},h,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!m&&b.status>=400&&b.status<600&&(m=b.status),f(h,m?u.l:u.n,m||6,g)}}(0,C);if("XMLHttpRequest"in window){if(A=C.xhr=C.xhr||new window.XMLHttpRequest,typeof C.requestFilter=="function"){var S;try{S=C.requestFilter({url:v,xhr:A})}catch(s){return x(s,5),A}S&&"open"in S&&"send"in S&&(A=C.xhr=S)}A.onreadystatechange=function(s){return function(h){var g=h.currentTarget||s.xhr;if(g.readyState===4){clearTimeout(s.timeoutId);var m=g.status;if(m>=400)return void f(s,u.l,m<600?m:6);if(m===200)return function(b){return function(_){var E=_.currentTarget||b.xhr;if(clearTimeout(b.timeoutId),b.responseType){if(b.responseType==="json")return function(H,G){if(!H.response||typeof H.response=="string"&&H.responseText.substr(1)!=='"')try{H=Object(a.g)({},H,{response:JSON.parse(H.responseText)})}catch(q){return void f(G,u.l,611,q)}return G.oncomplete(H)}(E,b)}else{var R,j=E.responseXML;if(j)try{R=j.firstChild}catch(H){}if(j&&R||b.useDomParser&&E.responseText&&!j&&(j=Object(l.parseXML)(E.responseText))&&j.firstChild)return p(E,j,b);if(b.requireValidXML)return void f(b,u.l,602)}b.oncomplete(E)}}(s)(h);m===0&&Object(o.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(s.url)&&f(s,u.l,7)}}}(C),A.onerror=x,"overrideMimeType"in A?C.mimeType&&A.overrideMimeType(C.mimeType):C.useDomParser=!0;try{v=v.replace(/#.*$/,""),A.open("GET",v,!0)}catch(s){return x(s,3),A}if(C.responseType)try{A.responseType=C.responseType}catch(s){}C.timeout&&(C.timeoutId=setTimeout(function(){d(A),f(C,u.n,1)},C.timeout),A.onabort=function(){clearTimeout(C.timeoutId)});try{C.withCredentials&&"withCredentials"in A&&(A.withCredentials=!0),A.send()}catch(s){x(s,4)}return A}f(C,u.n,2)}function d(v){v.onload=null,v.onprogress=null,v.onreadystatechange=null,v.onerror=null,"abort"in v&&v.abort()}function f(v,y,w,k){v.onerror(y,v.url,v.xhr,new u.o(y,w,k))}function p(v,y,w){var k=y.documentElement;if(!w.requireValidXML||k.nodeName!=="parsererror"&&!k.getElementsByTagName("parsererror").length)return v.responseXML||(v=Object(a.g)({},v,{responseXML:y})),w.oncomplete(v);f(w,u.l,601)}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a="8.22.0+local.2021-09-01-23-05-40-496"},function(e,t,r){"use strict";var a=r(0),l=r(16),o=window.performance||{timing:{}},u=o.timing.navigationStart||Object(l.a)();function n(){return u+o.now()}"now"in o||(o.now=function(){return Object(l.a)()-u});var c=function(){function d(){this.startTimes={},this.sum={},this.counts={},this.ticks={}}var f=d.prototype;return f.start=function(p){this.startTimes[p]=n(),this.counts[p]=this.counts[p]+1||1},f.end=function(p){if(this.startTimes[p]){var v=n()-this.startTimes[p];delete this.startTimes[p],this.sum[p]=this.sum[p]+v||v}},f.dump=function(){var p=Object(a.g)({},this.sum);for(var v in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,v)){var y=n()-this.startTimes[v];p[v]=p[v]+y||y}return{counts:Object(a.g)({},this.counts),sums:p,events:Object(a.g)({},this.ticks)}},f.tick=function(p){this.ticks[p]=n()},f.clear=function(p){delete this.ticks[p]},f.between=function(p,v){return this.ticks[v]&&this.ticks[p]?this.ticks[v]-this.ticks[p]:null},d}();t.a=c},function(e,t,r){"use strict";var a=r(0),l=r(27),o=["captions","metadata","thumbnails","chapters"],u=function(d){if(d&&d.file){var f,p=Object(a.g)({},{kind:"captions",default:!1},d);return p.kind=(f=p.kind,o.indexOf(f)!==-1?p.kind:"captions"),p.default=!!p.default,p}},n=r(28),c=Array.isArray;t.a=function(d){c((d=d||{}).tracks)||delete d.tracks;var f=Object(a.g)({},{sources:[],tracks:[],minDvrWindow:n.b},d);f.sources!==Object(f.sources)||c(f.sources)||(f.sources=[Object(l.a)(f.sources)]),c(f.sources)&&f.sources.length!==0||(d.levels?f.sources=d.levels:f.sources=[Object(l.a)(d)]);for(var p=0;p<f.sources.length;p++){var v=f.sources[p];if(v){var y=v.default;v.default=!!y&&y.toString()==="true",f.sources[p].label||(f.sources[p].label=p.toString()),f.sources[p]=Object(l.a)(f.sources[p])}}return f.sources=f.sources.filter(function(w){return!!w}),c(f.tracks)||(f.tracks=[]),c(f.captions)&&(f.tracks=f.tracks.concat(f.captions),delete f.captions),f.tracks=f.tracks.map(u).filter(function(w){return!!w}),f}},function(e,t,r){"use strict";var a=r(1),l=r(0),o=function(S){return S.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},u=function(){this.load=function(S,s,h,g){return h&&typeof h=="object"?Promise.all(Object.keys(h).filter(function(m){return m}).map(function(m){var b=h[m];return s.setupPlugin(m).then(function(_){if(!g.attributes._destroyed)return function(E,R,j){var H=E.name,G=Object(l.g)({},R),q=document.createElement("div");q.id=j.id+"_"+H,q.className="jw-plugin jw-reset";var K=E.getNewInstance(j,G,q);return j.addPlugin(H,K),K}(_,b,S)}).catch(function(_){return s.removePlugin(m),_.code?_:new a.o(null,305e3,_)})})):Promise.resolve()}},n=r(35),c=r(12),d=r(2),f=function(S){if(typeof S=="string"){var s=(S=S.split("?")[0]).indexOf("://");if(s>0)return 0;var h=S.indexOf("/"),g=Object(d.a)(S);return!(s<0&&h<0)||g&&isNaN(g)?1:2}},p=function(S){this.url=S,this.promise_=null};Object.defineProperties(p.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(l.g)(p.prototype,{load:function(){var S=this,s=this.promise_;if(!s){if(f(this.url)===2)return Promise.resolve(this);var h=new n.a(function(g){switch(f(g)){case 0:return g;case 1:return Object(c.getAbsolutePath)(g,window.location.href)}}(this.url));this.loader=h,s=h.load().then(function(){return S}),this.promise_=s}return s},registerPlugin:function(S,s,h){this.name=S,this.target=s,this.js=h},getNewInstance:function(S,s,h){var g=this.js;if(typeof g!="function")throw new a.o(null,(this.url,305100));var m=new g(S,s,h);return m.addToPlayer=function(){var b=this.getContainer().querySelector(".jw-overlays");b&&(h.left=b.style.left,h.top=b.style.top,b.appendChild(h))},m.resizeHandler=function(){var b=this.getContainer().querySelector(".jw-overlays");b&&m.resize(b.clientWidth,b.clientHeight)},m}});var v=p,y=r(36),w={},k=function(){function S(){}var s=S.prototype;return s.setupPlugin=function(h){var g=this.getPlugin(h);return g?(g.url!==h&&Object(y.a)('JW Plugin "'+o(h)+'" already loaded from "'+g.url+'". Ignoring "'+h+'."'),g.promise):this.addPlugin(h).load()},s.addPlugin=function(h){var g=o(h),m=w[g];return m||(m=new v(h),w[g]=m),m},s.getPlugin=function(h){return w[o(h)]},s.removePlugin=function(h){delete w[o(h)]},s.getPlugins=function(){return w},S}();r.d(t,"b",function(){return C}),r.d(t,"a",function(){return x});var A=new k,C=function(S,s,h){var g=A.addPlugin(S);g.js||g.registerPlugin(S,s,h)};function x(S,s){var h=S.get("plugins");return window.jwplayerPluginJsonp=C,(S.pluginLoader=S.pluginLoader||new u).load(s,A,h,S).then(function(g){if(!S.attributes._destroyed)return delete window.jwplayerPluginJsonp,g})}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a={}},function(e,t,r){"use strict";var a=r(0),l=r(10),o=r(2);t.a=function(u){if(u&&u.file){var n=Object(a.g)({},{default:!1,type:""},u);n.file=Object(o.i)(""+n.file);var c=/^[^/]+\/(?:x-)?([^/]+)$/,d=n.type;if(c.test(d)&&(n.mimeType=d,n.type=d.replace(c,"$1")),Object(l.isYouTube)(n.file)?n.type="youtube":Object(l.isRtmp)(n.file)?n.type="rtmp":n.type||(n.type=Object(o.a)(n.file)),n.type){switch(n.type){case"m3u8":case"vnd.apple.mpegurl":n.type="hls";break;case"dash+xml":n.type="dash";break;case"m4a":n.type="aac";break;case"smil":n.type="rtmp"}return Object.keys(n).forEach(function(f){n[f]===""&&delete n[f]}),n}}}},function(e,t,r){"use strict";r.d(t,"d",function(){return a}),r.d(t,"c",function(){return l}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return u});var a={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:r(3).mb,itemReady:!1,controlsEnabled:!1},l={position:0,duration:0,buffer:0,currentTime:0},o=120,u=25},function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return n});var a=r(9),l=r(7),o=null,u={};function n(){return o||(o=l.OS.tizenApp?r.e(2).then(function(c){var d=r(55).default;return u.controls=d,d}.bind(null,r)).catch(function(){o=null,Object(a.c)(301133)()}):r.e(1).then(function(c){var d=r(52).default;return u.controls=d,d}.bind(null,r)).catch(function(){o=null,Object(a.c)(301130)()})),o}},function(e,t,r){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(e,t){var r,a,l={},o={},u=(r=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return a===void 0&&(a=r.apply(this,arguments)),a});function n(v){var y=document.createElement("style");return y.type="text/css",y.setAttribute("data-jwplayer-id",v),function(w){u().appendChild(w)}(y),y}function c(v,y){var w,k,A,C=o[v];C||(C=o[v]={element:n(v),counter:0});var x=C.counter++;return w=C.element,A=function(){p(w,x,"")},(k=function(S){p(w,x,S)})(y.css),function(S){if(S){if(S.css===y.css&&S.media===y.media)return;k((y=S).css)}else A()}}e.exports={style:function(v,y){(function(w,k){for(var A=0;A<k.length;A++){var C=k[A],x=(l[w]||{})[C.id];if(x){for(var S=0;S<x.parts.length;S++)x.parts[S](C.parts[S]);for(;S<C.parts.length;S++)x.parts.push(c(w,C.parts[S]))}else{var s=[];for(S=0;S<C.parts.length;S++)s.push(c(w,C.parts[S]));l[w]=l[w]||{},l[w][C.id]={id:C.id,parts:s}}}})(y,function(w){for(var k=[],A={},C=0;C<w.length;C++){var x=w[C],S=x[0],s=x[1],h=x[2],g={css:s,media:h};A[S]?A[S].parts.push(g):k.push(A[S]={id:S,parts:[g]})}return k}(v))},clear:function(v,y){var w=l[v];if(w){if(y){var k=w[y];if(k)for(var A=0;A<k.parts.length;A+=1)k.parts[A]();return}for(var C=Object.keys(w),x=0;x<C.length;x+=1)for(var S=w[C[x]],s=0;s<S.parts.length;s+=1)S.parts[s]();delete l[v]}}};var d,f=(d=[],function(v,y){return d[v]=y,d.filter(Boolean).join(`
`)});function p(v,y,w){if(v.styleSheet)v.styleSheet.cssText=f(y,w);else{var k=document.createTextNode(w),A=v.childNodes[y];A?v.replaceChild(k,A):v.appendChild(k)}}},function(e,t,r){"use strict";var a=r(0),l=r(15),o=r(26),u=r(20),n=r(9),c={html5:function(){return r.e(10).then(function(f){var p=r(117).default;return Object(u.a)(p),p}.bind(null,r)).catch(Object(n.b)(152))}};function d(f){this.config=f||{}}Object(a.g)(d.prototype,{load:function(f){var p=c[f],v=function(){return Promise.reject(new Error("Failed to load media"))};return p?p().then(function(){var y=o.a[f];return y||v()}):v()},providerSupports:function(f,p){return f.supports(p)},choose:function(f){if(f===Object(f))for(var p=l.a.length,v=0;v<p;v++){var y=l.a[v];if(this.providerSupports(y,f))return{priority:p-v-1,name:y.name,type:f.type,providerToCheck:y,provider:o.a[y.name]}}return{}}}),t.a=d},function(e,t,r){"use strict";var a=r(6),l=r(11);function o(u,n){var c=n.message,d=n.code,f=function(w,k,A,C){return'<div id="'+w+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+w+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+w+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+w+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(k||"")+'<span class="jw-break jw-reset"></span>'+(C?("("+A+": "+C+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(u.get("id"),c,u.get("localization").errors.errorCode,d.toString()),p=u.get("width"),v=u.get("height"),y=Object(a.f)(f);return Object(l.d)(y,{width:p.toString().indexOf("%")>0?p:p+"px",height:v.toString().indexOf("%")>0?v:v+"px"}),y}r.d(t,"a",function(){return o})},function(e,t,r){"use strict";function a(o){return o.slice&&o.slice(-2)==="px"&&(o=o.slice(0,-2)),o}function l(o,u){if(u.toString().indexOf("%")===-1||typeof o!="string"||!o)return 0;if(/^\d*\.?\d+%$/.test(o))return o;var n=o.indexOf(":");if(n===-1)return 0;var c=parseFloat(o.substr(0,n)),d=parseFloat(o.substr(n+1));return c<=0||d<=0?0:d/c*100+"%"}r.d(t,"b",function(){return a}),r.d(t,"a",function(){return l})},function(e,t,r){"use strict";var a=r(0),l=r(8),o=r(3),u={};function n(f){var p=document.createElement("link");return p.type="text/css",p.rel="stylesheet",p.href=f,p}function c(f,p){var v=document.createElement("script");return v.type="text/javascript",v.charset="utf-8",v.async=!0,v.timeout=p||45e3,v.src=f,v}var d=function(f,p,v){var y=this,w=0;function k(C){w=2,y.trigger(o.w,C).off()}function A(C){w=3,y.trigger(o.kb,C).off()}this.getStatus=function(){return w},this.load=function(){var C=u[f];return w!==0||(C&&C.then(A).catch(k),w=1,C=new Promise(function(x,S){var s=(p?n:c)(f,v),h=function(){s.onerror=s.onload=null,clearTimeout(m)},g=function(_){h(),k(_),S(_)},m=setTimeout(function(){g(new Error("Network timeout "+f))},45e3);s.onerror=function(){g(new Error("Failed to load "+f))},s.onload=function(_){h(),A(_),x(_)};var b=document.getElementsByTagName("head")[0]||document.documentElement;b.insertBefore(s,b.firstChild)}),u[f]=C),C}};Object(a.g)(d.prototype,l.a),t.a=d},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a=typeof console.log=="function"?console.log.bind(console):function(){}},function(e,t,r){"use strict";r.d(t,"a",function(){return A}),r.d(t,"b",function(){return m}),r.d(t,"c",function(){return G});var a=r(7),l=r(3),o=r(8),u=r(16),n=r(6);function c(K,ue){return(c=Object.setPrototypeOf||function(te,D){return te.__proto__=D,te})(K,ue)}var d,f,p="ontouchstart"in window,v="PointerEvent"in window&&!a.OS.android,y=!(v||p&&a.OS.mobile),w=a.Features.passiveEvents,k=!!w&&{passive:!0},A=function(K){var ue,te;function D(Q,ne){var ie;ie=K.call(this)||this;var W=!(ne=ne||{}).preventScrolling;return ie.directSelect=!!ne.directSelect,ie.dragged=!1,ie.enableDoubleClick=!1,ie.el=Q,ie.handlers={},ie.options={},ie.lastClick=0,ie.lastStart=0,ie.passive=W,ie.pointerId=null,ie.startX=0,ie.startY=0,ie.event=null,ie.clicking=!1,ie}te=K,(ue=D).prototype=Object.create(te.prototype),ue.prototype.constructor=ue,c(ue,te);var J=D.prototype;return J.on=function(Q,ne,ie){return x(Q)&&(this.handlers[Q]||g[Q](this)),K.prototype.on.call(this,Q,ne,ie)},J.off=function(Q,ne,ie){var W=this;if(x(Q))_(this,Q);else if(!Q){var V=this.handlers;Object.keys(V).forEach(function(se){_(W,se)})}return K.prototype.off.call(this,Q,ne,ie)},J.destroy=function(){this.el&&(this.off(),v&&E(this),this.el=null)},D}(o.a),C=/\s+/;function x(K){return K&&!(C.test(K)||typeof K=="object")}function S(K){if(!K.handlers.init){var ue=K.el,te=K.passive,D=!!w&&{passive:te},J=function(ne){if(K.dragged)j(K,l.s,ne);else{var ie=H(ne),W=ie.pageX,V=ie.pageY,se=W-K.startX,Ae=V-K.startY;se*se+Ae*Ae>36&&(j(K,l.u,ne),K.dragged=!0,j(K,l.s,ne))}var Oe;te||ne.type!=="touchmove"||(Oe=ne).preventDefault&&Oe.preventDefault()},Q=function(ne){clearTimeout(d),K.el&&(E(K),_(K,"window"),K.dragged&&(K.dragged=!1,j(K,l.t,ne)))};h(K,"init"),q(K,"init",function(ne){if(Object(n.p)(ue,"jw-tab-focus"),!G(ne)){var ie=ne.target,W=ne.type;if(!K.directSelect||ie===ue){var V=H(ne),se=V.pageX,Ae=V.pageY;if(K.dragged=!1,K.startX=se,K.startY=Ae,_(K,"window"),W==="pointerdown"&&ne.isPrimary){if(!te){var Oe=ne.pointerId;K.pointerId=Oe,ue.setPointerCapture(Oe)}b(K,"window","pointermove",J,D),b(K,"window","pointercancel",Q),b(K,"window","pointerup",Q)}else W==="mousedown"?(b(K,"window","mousemove",J,D),b(K,"window","mouseup",Q)):W==="touchstart"&&(b(K,"window","touchmove",J,D),b(K,"window","touchcancel",Q),b(K,"window","touchend",Q))}}},D),f||(f=new A(document).on("interaction"))}}function s(K){if(!K.handlers.select){var ue=K.el;h(K,"select"),q(K,"select",function(te){var D=te.target;G(te)||K.directSelect&&D!==ue||(te.isPrimary&&D.tageName==="BUTTON"&&D.focus(),K.lastStart=Object(u.a)(),K.clicking=!0)}),b(K,"select","click",function(te){G(te)||K.directSelect&&te.target!==ue||(Object(u.a)()-K.lastStart>500&&K.clicking===!0||(function(D,J){D.enableDoubleClick&&(Object(u.a)()-D.lastClick<300?(j(D,l.r,J),D.lastClick=0):D.lastClick=Object(u.a)())}(K,te),j(K,l.o,te)),K.clicking=!1)})}}function h(K,ue){if(!K.handlers.init&&!K.handlers.select){var te=K.el;b(K,ue,"blur",function(){Object(n.p)(te,"jw-tab-focus"),K.clicking=!1}),b(K,ue,"focus",function(){f.event&&f.event.type==="keydown"&&Object(n.b)(te,"jw-tab-focus")})}}var g={drag:function(K){S(K)},dragStart:function(K){S(K)},dragEnd:function(K){S(K)},click:function(K){s(K)},doubleClick:function(K){K.enableDoubleClick=!0,s(K)},longPress:function(K){if(a.OS.iOS){var ue=function(){clearTimeout(d)};b(K,"longPress","touchstart",function(te){ue(),d=setTimeout(function(){j(K,"longPress",te)},500)}),b(K,"longPress","touchmove",ue),b(K,"longPress","touchcancel",ue),b(K,"longPress","touchend",ue)}else K.el.oncontextmenu=function(te){return j(K,"longPress",te),!1}},focus:function(K){b(K,"focus","focus",function(ue){R(K,"focus",ue)})},blur:function(K){b(K,"blur","blur",function(ue){R(K,"blur",ue)})},over:function(K){(v||y)&&b(K,l.Z,v?"pointerover":"mouseover",function(ue){ue.pointerType!=="touch"&&j(K,l.Z,ue)})},out:function(K){if(v){var ue=K.el;b(K,l.Y,"pointerout",function(te){if(te.pointerType!=="touch"&&"clientX"in te){var D=document.elementFromPoint(te.clientX,te.clientY);ue.contains(D)||j(K,l.Y,te)}})}else y&&b(K,l.Y,"mouseout",function(te){j(K,l.Y,te)})},move:function(K){(v||y)&&b(K,l.W,v?"pointermove":"mousemove",function(ue){ue.pointerType!=="touch"&&j(K,l.W,ue)})},enter:function(K){b(K,l.v,"keydown",function(ue){ue.key!=="Enter"&&ue.keyCode!==13||(ue.stopPropagation(),R(K,l.v,ue))})},keydown:function(K){b(K,"keydown","keydown",function(ue){R(K,"keydown",ue)},!1)},gesture:function(K){var ue=function(te){return j(K,"gesture",te)};b(K,"gesture","click",ue),b(K,"gesture","keydown",ue)},interaction:function(K){var ue=function(te){K.event=te};b(K,"interaction","mousedown",ue,!0),b(K,"interaction","keydown",ue,!0)},tap:function(){},doubleTap:function(){}};function m(K){var ue=K.ownerDocument||K;return ue.defaultView||ue.parentWindow||window}function b(K,ue,te,D,J){J===void 0&&(J=k);var Q=K.handlers[ue],ne=K.options[ue];if(Q||(Q=K.handlers[ue]={},ne=K.options[ue]={}),Q[te])throw new Error(ue+" "+te+" already registered");Q[te]=D,ne[te]=J;var ie=K.el;(ue==="window"?m(ie):ie).addEventListener(te,D,J)}function _(K,ue){var te=K.el,D=K.handlers,J=K.options,Q=ue==="window"?m(te):te,ne=D[ue],ie=J[ue];ne&&(Object.keys(ne).forEach(function(W){var V=ie[W];typeof V=="boolean"?Q.removeEventListener(W,ne[W],V):Q.removeEventListener(W,ne[W])}),D[ue]=null,J[ue]=null)}function E(K){var ue=K.el;K.pointerId!==null&&(ue.releasePointerCapture(K.pointerId),K.pointerId=null)}function R(K,ue,te){var D=K.el,J=te.target;K.trigger(ue,{type:ue,sourceEvent:te,currentTarget:D,target:J})}function j(K,ue,te){var D=function(J,Q,ne){var ie,W=Q.target,V=Q.touches,se=Q.changedTouches,Ae=Q.pointerType;V||se?(ie=V&&V.length?V[0]:se[0],Ae=Ae||"touch"):(ie=Q,Ae=Ae||"mouse");var Oe=ie,je=Oe.pageX,De=Oe.pageY;return{type:J,pointerType:Ae,pageX:je,pageY:De,sourceEvent:Q,currentTarget:ne,target:W}}(ue,te,K.el);K.trigger(ue,D)}function H(K){return K.type.indexOf("touch")===0?(K.originalEvent||K).changedTouches[0]:K}function G(K){return!(!K.ctrlKey||K.type!=="click")||("which"in K?K.which===3:"button"in K&&K.button===2)}function q(K,ue,te,D){v?b(K,ue,"pointerdown",te,D):(y&&b(K,ue,"mousedown",te,D),b(K,ue,"touchstart",te,D))}},function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return l});var a=window.requestAnimationFrame||function(o){return setTimeout(o,17)},l=window.cancelAnimationFrame||clearTimeout},function(e,t,r){"use strict";var a=r(0),l=r(19),o=r(10),u=r(12),n=r(2),c=r(23),d=r(17);function f(S,s){this.name=S,this.message=s.message||s.toString(),this.error=s}var p=r(5),v=r(6),y=r(11),w=r(21),k=r(40),A=r(36),C=r(41),x=Object(a.g)({},u,o,l,{addClass:v.b,hasClass:v.j,removeClass:v.p,replaceClass:v.q,toggleClass:v.w,classList:v.e,styleDimension:v.v,createElement:v.f,emptyElement:v.i,addStyleSheet:v.c,bounds:v.d,openLink:v.m,replaceInnerHtml:v.r,css:y.b,clearCss:y.a,style:y.d,transform:y.e,getRgba:y.c,ajax:w.a,crossdomain:function(S){var s=window.URL;try{var h=new s(S,location.origin);return location.protocol+"//"+location.host!=h.protocol+"//"+h.host}catch(g){}return!0},tryCatch:function(S,s,h){if(h===void 0&&(h=[]),d.a.debug)return S.apply(s||this,h);try{return S.apply(s||this,h)}catch(g){return new f(S.name,g)}},Error:f,Timer:c.a,log:A.a,genId:C.b,between:k.a,foreach:function(S,s){for(var h in S)Object.prototype.hasOwnProperty.call(S,h)&&s(h,S[h])},flashVersion:p.a,isIframe:p.m,indexOf:a.l,trim:n.i,pad:n.e,extension:n.a,hms:n.b,seconds:n.g,prefix:n.f,suffix:n.h,noop:function(){}});t.a=x},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a=function(l,o,u){return Math.max(Math.min(l,u),o)}},function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var a=12;function l(){try{var u=window.crypto||window.msCrypto;if(u&&u.getRandomValues)return u.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(n){}return Math.random().toString(36).slice(2,9)}function o(u){for(var n="";n.length<u;)n+=l();return n.slice(0,u)}},function(e,t,r){"use strict";function a(l,o,u){var n=[],c={};function d(){for(;n.length>0;){var f=n.shift(),p=f.command,v=f.args;(c[p]||l[p]).apply(l,v)}}o.forEach(function(f){var p=l[f];c[f]=p,l[f]=function(){for(var v=arguments.length,y=new Array(v),w=0;w<v;w++)y[w]=arguments[w];u()?n.push({command:f,args:y}):(d(),p&&p.apply(this,y))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return n}}),this.flush=d,this.empty=function(){n.length=0},this.off=function(){o.forEach(function(f){var p=c[f];p&&(l[f]=p,delete c[f])})},this.destroy=function(){this.off(),this.empty()}}r.d(t,"a",function(){return a})},function(e,t,r){"use strict";function a(o,u){return(a=Object.setPrototypeOf||function(n,c){return n.__proto__=c,n})(o,u)}r.d(t,"a",function(){return l});var l=function(o){var u,n;function c(){var f;return(f=o.call(this)||this).attributes=Object.create(null),f}n=o,(u=c).prototype=Object.create(n.prototype),u.prototype.constructor=u,a(u,n);var d=c.prototype;return d.addAttributes=function(f){var p=this;Object.keys(f).forEach(function(v){p.add(v,f[v])})},d.add=function(f,p){var v=this;Object.defineProperty(this,f,{get:function(){return v.attributes[f]},set:function(y){return v.set(f,y)},enumerable:!1}),this.attributes[f]=p},d.get=function(f){return this.attributes[f]},d.set=function(f,p){if(this.attributes[f]!==p){var v=this.attributes[f];this.attributes[f]=p,this.trigger("change:"+f,this,p,v)}},d.clone=function(){var f={},p=this.attributes;if(p)for(var v in p)f[v]=p[v];return f},d.change=function(f,p,v){this.on("change:"+f,p,v);var y=this.get(f);return p.call(v,this,y,y),this},c}(r(8).a)},function(e,t,r){"use strict";r.d(t,"c",function(){return a}),r.d(t,"b",function(){return l}),r.d(t,"a",function(){return o});var a=4,l=5,o=1},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var a=r(0);function l(o,u){return Object(a.g)({},u,{prime:function(){o.src||o.load()},getPrimedElement:function(){return o},clean:function(){u.clean(o)},recycle:function(){u.clean(o)}})}},function(e,t,r){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(e,t,r){"use strict";var a=r(0),l=r(42),o=r(34),u=r(19),n=r(12),c=r(7),d=r(30),f=r(13),p={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:d.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},v=function(lt,ot){var ve=Object(a.g)({},(window.jwplayer||{}).defaults,ot,lt);(function(oe){Object.keys(oe).forEach(function(Pe){Pe!=="id"&&(oe[Pe]=Object(n.serialize)(oe[Pe]))})})(ve);var pe=ve.forceLocalizationDefaults?p.language:Object(f.c)(),tt=Object(f.h)(ve.intl);ve.localization=Object(f.a)(d.a,Object(f.b)(ve,tt,pe));var xe=Object(a.g)({},p,ve);xe.base==="."&&(xe.base=Object(u.getScriptPath)("jwplayer.js")),xe.base=(xe.base||Object(u.loadFrom)()).replace(/\/?$/,"/"),r.p=xe.base,xe.width=Object(o.b)(xe.width),xe.height=Object(o.b)(xe.height),xe.aspectratio=Object(o.a)(xe.aspectratio,xe.width),xe.volume=Object(a.u)(xe.volume)?Math.min(Math.max(0,xe.volume),100):p.volume,xe.mute=!!xe.mute,xe.language=pe,xe.intl=tt;var Ce=xe.playlistIndex;Ce&&(xe.item=Ce),Object(a.r)(xe.item)||(xe.item=0);var Ue=ve.autoPause;Ue&&(xe.autoPause.viewability=!("viewability"in Ue)||!!Ue.viewability);var Te=xe.playbackRateControls;if(Te){var it=xe.playbackRates;Array.isArray(Te)&&(it=Te),(it=it.filter(function(oe){return Object(a.r)(oe)&&oe>=.25&&oe<=4}).map(function(oe){return Math.round(100*oe)/100})).indexOf(1)<0&&it.push(1),it.sort(),xe.playbackRateControls=!0,xe.playbackRates=it}(!xe.playbackRateControls||xe.playbackRates.indexOf(xe.defaultPlaybackRate)<0)&&(xe.defaultPlaybackRate=1),xe.playbackRate=xe.defaultPlaybackRate,xe.aspectratio||delete xe.aspectratio;var Me=xe.playlist;if(Me)Array.isArray(Me.playlist)&&(xe.feedData=Me,xe.playlist=Me.playlist);else{var mt=Object(a.x)(xe,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);xe.playlist=[mt]}xe.qualityLabels=xe.qualityLabels||xe.hlslabels,delete xe.duration;var He=xe.liveTimeout;He!==null&&(Object(a.u)(He)?He!==0&&(He=Math.max(30,He)):He=null,xe.liveTimeout=He);var We,yt,Ot,Ft=parseFloat(xe.bandwidthEstimate),rt=parseFloat(xe.bitrateSelection);return xe.bandwidthEstimate=Object(a.u)(Ft)?Ft:(We=xe.defaultBandwidthEstimate,yt=parseFloat(We),Object(a.u)(yt)?Math.max(yt,1):p.bandwidthEstimate),xe.bitrateSelection=Object(a.u)(rt)?rt:p.bitrateSelection,xe.liveSyncDuration=(Ot=xe.liveSyncDuration)<5?5:Ot>30?30:Ot,xe.backgroundLoading=Object(a.n)(xe.backgroundLoading)?xe.backgroundLoading:c.Features.backgroundLoading,xe},y=r(9),w=r(24),k=r(18),A=r(15),C=r(20),x=r(29),S=r(1),s=null;function h(lt){return s||(s=function(ot){var ve=ot.get("controls"),pe=g(),tt=function(Ce,Ue){var Te=Ce.get("playlist");if(Array.isArray(Te)&&Te.length)for(var it=Object(k.f)(Ce.get("item"),Te.length),Me=Object(k.c)(Object(w.a)(Te[it]),Ce),mt=0;mt<Me.length;mt++)for(var He=Me[mt],We=Ce.getProviders(),yt=0;yt<A.a.length;yt++){var Ot=A.a[yt];if(We.providerSupports(Ot,He))return Ot.name===Ue}return!1}(ot,"html5");if(c.OS.tizen)return m();if(ve&&pe&&tt)return xe=r.e(7).then(function(Ce){r(116);var Ue=r(54).default;return x.a.controls=r(52).default,Object(C.a)(r(117).default),Ue}.bind(null,r)).catch(Object(y.b)(S.q+105)),y.a.html5=xe,xe;var xe;return ve&&tt?function(){var Ce=r.e(5).then(function(Ue){var Te=r(54).default;return x.a.controls=r(52).default,Object(C.a)(r(117).default),Te}.bind(null,r)).catch(Object(y.b)(S.q+104));return y.a.html5=Ce,Ce}():ve&&pe?r.e(6).then(function(Ce){r(116);var Ue=r(54).default;return x.a.controls=r(52).default,Ue}.bind(null,r)).catch(Object(y.b)(S.q+103)):ve?r.e(4).then(function(Ce){var Ue=r(54).default;return x.a.controls=r(52).default,Ue}.bind(null,r)).catch(Object(y.b)(S.q+102)):m()}(lt)),s}function g(){var lt=window.IntersectionObserverEntry;return!lt||!("IntersectionObserver"in window)||!("intersectionRatio"in lt.prototype)}function m(){return function(){return g()?r.e(8).then(function(lt){return r(116)}.bind(null,r)).catch(Object(y.b)(S.q+120)):Promise.resolve()}().then(y.d)}var b=r(3),_=r(48),E=r(35),R=r(25);function j(lt,ot,ve){var pe=lt.attributes;pe.playlist=Object(k.a)(ot),pe.feedData=ve}function H(lt){return function(ot){var ve=ot.get("playlist");return new Promise(function(pe,tt){if(typeof ve!="string"){var xe=ot.get("feedData")||{};return j(ot,ve,xe),pe()}var Ce=new _.a;Ce.on(b.eb,function(Ue){var Te=Ue.playlist;delete Ue.playlist,j(ot,Te,Ue),pe()}),Ce.on(b.w,function(Ue){j(ot,[],{}),tt(Object(S.w)(Ue,S.r))}),Ce.load(ve)})}(lt).then(function(){if(!K(lt)){var ot=Object(k.b)(lt.get("playlist"),lt);lt.attributes.playlist=ot;try{Object(k.e)(ot)}catch(Ue){throw Ue.code+=S.r,Ue}var ve=lt.getProviders(),pe=Object(k.f)(lt.get("item"),ot.length),tt=ve.choose(ot[pe].sources[0]),xe=tt.provider,Ce=tt.name;return typeof xe=="function"?xe:y.a.html5&&Ce==="html5"?y.a.html5:ve.load(Ce).catch(function(Ue){throw Object(S.w)(Ue,S.s)})}})}function G(lt){var ot=lt.get("skin")?lt.get("skin").url:void 0;return typeof ot=="string"&&!function(ve){for(var pe=document.styleSheets,tt=0,xe=pe.length;tt<xe;tt++)if(pe[tt].href===ve)return!0;return!1}(ot)?new E.a(ot,!0).load().catch(function(ve){return ve}):Promise.resolve()}function q(lt){var ot=lt.attributes,ve=ot.language,pe=ot.base,tt=ot.setupConfig,xe=ot.intl,Ce=Object(f.b)(tt,xe,ve);return!Object(f.f)(ve)||Object(f.d)(Ce)?Promise.resolve():new Promise(function(Ue){return Object(f.g)(pe,ve).then(function(Te){var it=Te.response;if(!K(lt)){if(!it)throw new S.o(null,S.h);ot.localization=Object(f.a)(it,Ce),Ue()}}).catch(function(Te){Ue(Te.code===S.h?Te:Object(S.w)(Te,S.g))})})}function K(lt){return lt.attributes._destroyed}var ue=function(lt){var ot;this.start=function(ve){var pe=function(Ce,Ue){return Object(R.a)(Ce,Ue)}(lt,ve),tt=Promise.all([h(lt),pe,H(lt),Promise.resolve(),G(lt),q(lt)]),xe=new Promise(function(Ce,Ue){ot=setTimeout(function(){Ue(new S.o(S.k,S.u))},6e4);var Te=function(){clearTimeout(ot),setTimeout(Ce,6e4)};tt.then(Te).catch(Te)});return Promise.race([tt,xe]).catch(function(Ce){var Ue=function(){throw Ce};return pe.then(Ue).catch(Ue)}).then(function(Ce){return function(Ue){if(!Ue||!Ue.length)return{core:null,warnings:[]};var Te=Ue.reduce(function(it,Me){return it.concat(Me)},[]).filter(function(it){return it&&it.code});return{core:Ue[0],warnings:Te}}(Ce)})},this.destroy=function(){clearTimeout(ot),lt.set("_destroyed",!0),lt=null}},te=r(32),D=r(23),J=r(17),Q={removeItem:function(lt){}};try{Q=window.localStorage||Q}catch(lt){}var ne=function(){function lt(ve,pe){this.namespace=ve,this.items=pe}var ot=lt.prototype;return ot.getAllItems=function(){var ve=this;return this.items.reduce(function(pe,tt){var xe=Q[ve.namespace+"."+tt];return xe&&(pe[tt]=tt!=="captions"?Object(n.serialize)(xe):JSON.parse(xe)),pe},{})},ot.track=function(ve){var pe=this;this.items.forEach(function(tt){ve.on("change:"+tt,function(xe,Ce){try{tt==="captions"&&(Ce=JSON.stringify(Ce)),Q[pe.namespace+"."+tt]=Ce}catch(Ue){J.a.debug&&console.error(Ue)}})})},ot.clear=function(){var ve=this;this.items.forEach(function(pe){Q.removeItem(ve.namespace+"."+pe)})},lt}(),ie=r(43),W=r(28),V=r(8),se=r(33),Ae=r(44);function Oe(lt){lt.src||lt.load()}function je(lt){var ot=document.createElement("video");return ot.className="jw-video jw-reset",ot.setAttribute("tabindex","-1"),ot.setAttribute("disableRemotePlayback",""),ot.setAttribute("webkit-playsinline",""),ot.setAttribute("playsinline",""),lt&&Object.keys(lt).forEach(function(ve){ot.setAttribute(ve,lt[ve])}),ot}var De=r(45),Se=r(37);r(51),r(53),r.d(t,"b",function(){return nt});var de=function(lt){this._events={},this.modelShim=new ie.a,this.modelShim._qoeItem=new D.a,this.mediaShim={},this.setup=new ue(this.modelShim),this.currentContainer=this.originalContainer=lt,this.apiQueue=new l.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};function Xe(lt,ot){ot&&ot.code&&(ot.sourceError&&console.error(ot.sourceError),console.error(S.o.logMessage(ot.code)))}function ht(lt){lt&&lt.code&&console.warn(S.o.logMessage(lt.code))}function nt(lt,ot){if(!document.body.contains(lt.currentContainer)){var ve=document.getElementById(lt.get("id"));ve&&(lt.currentContainer=ve)}lt.currentContainer.parentElement&&lt.currentContainer.parentElement.replaceChild(ot,lt.currentContainer),lt.currentContainer=ot}Object(a.g)(de.prototype,{on:V.a.on,once:V.a.once,off:V.a.off,trigger:V.a.trigger,init:function(lt,ot){var ve=this,pe=this.modelShim,tt=new ne("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),xe=tt&&tt.getAllItems();pe.attributes=pe.attributes||{},Object(a.g)(this.mediaShim,W.c);var Ce=lt,Ue=v(Object(a.g)({},lt),xe);Ue.id=ot.id,Ue.setupConfig=Ce,Object(a.g)(pe.attributes,Ue,W.d),pe.getProviders=function(){return new te.a(Ue)},pe.setProvider=function(){};var Te=function(){for(var Me=Ae.c,mt=[],He=[],We=0;We<Me;We++){var yt=je();mt.push(yt),He.push(yt),Oe(yt)}var Ot=He.shift(),Ft=He.shift(),rt=!1;return{primed:function(){return rt},prime:function(){mt.forEach(Oe),rt=!0},played:function(){rt=!0},getPrimedElement:function(){return He.shift()||null},getAdElement:function(){return Ot},getTestElement:function(){return Ft},clean:function(oe){if(oe.src){oe.removeAttribute("src");try{oe.load()}catch(Pe){}}},recycle:function(oe){oe&&!He.some(function(Pe){return Pe===oe})&&(this.clean(oe),He.push(oe))},syncVolume:function(oe){var Pe=Math.min(Math.max(0,oe/100),1);mt.forEach(function(Ze){Ze.volume=Pe})},syncMute:function(oe){mt.forEach(function(Pe){Pe.muted=oe})}}}();pe.get("backgroundLoading")||(Te=Object(De.a)(Te.getPrimedElement(),Te));var it=this.primeUi=new Se.a(Object(Se.b)(this.originalContainer)).once("gesture",function(){Te.prime(),ve.preload(),it.destroy()});return pe.on("change:errorEvent",Xe),this.setup.start(ot).then(function(Me){var mt=Me.core;if(!mt)throw Object(S.w)(null,S.t);if(ve.setup){ve.on(b.ub,ht),Me.warnings.forEach(function(Ot){ve.trigger(b.ub,Ot)});var He=ve.modelShim.clone();if(He.error)throw He.error;var We=ve.apiQueue.queue.slice(0);ve.apiQueue.destroy(),Object(a.g)(ve,mt.prototype),ve.playerSetup(He,ot,ve.originalContainer,ve._events,We,Te);var yt=ve._model;return pe.off("change:errorEvent",Xe),yt.on("change:errorEvent",Xe),tt.track(yt),ve.updatePlaylist(yt.get("playlist"),yt.get("feedData")).catch(function(Ot){var Ft=Ot.code===S.a?S.p:S.r;throw Object(S.w)(Ot,Ft)})}}).then(function(){ve.setup&&ve.playerReady()}).catch(function(Me){ve.setup&&function(mt,He,We){Promise.resolve().then(function(){var yt=Object(S.x)(S.n,S.v,We),Ot=mt._model||mt.modelShim;yt.message=yt.message||Ot.get("localization").errors[yt.key],delete yt.key;var Ft=Ot.get("contextual");if(!Ft){var rt=Object(se.a)(mt,yt);se.a.cloneIcon&&rt.querySelector(".jw-icon").appendChild(se.a.cloneIcon("error")),nt(mt,rt)}Ot.set("errorEvent",yt),Ot.set("state",b.lb),mt.trigger(b.ib,yt),Ft&&He.remove()})}(ve,ot,Me)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&nt(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(lt){if(this.modelShim)return lt in this.mediaShim?this.mediaShim[lt]:this.modelShim.get(lt)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(lt){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=lt)},getConfig:function(){return Object(a.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=de},function(e,t,r){"use strict";var a=r(0),l=r(3),o=r(4),u=r(2);function n(C){var x={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return x[C]?x[C]:C}function c(C){for(var x=[],S=0;S<Object(o.c)(C);S++){var s=C.childNodes[S];s.prefix==="jwplayer"&&Object(o.b)(s).toLowerCase()==="mediatypes"&&x.push(Object(o.d)(s))}return x}var d=function C(x,S){for(var s=[],h=0;h<Object(o.c)(x);h++){var g=x.childNodes[h];if(g.prefix==="media"){if(!Object(o.b)(g))continue;switch(Object(o.b)(g).toLowerCase()){case"content":if(Object(u.j)(g,"duration")&&(S.duration=Object(u.g)(Object(u.j)(g,"duration"))),Object(u.j)(g,"url")){S.sources||(S.sources=[]);var m={file:Object(u.j)(g,"url"),type:Object(u.j)(g,"type"),width:Object(u.j)(g,"width"),label:Object(u.j)(g,"label")},b=c(g);b.length&&(m.mediaTypes=b),S.sources.push(m)}Object(o.c)(g)>0&&(S=C(g,S));break;case"title":S.title=Object(o.d)(g);break;case"description":S.description=Object(o.d)(g);break;case"guid":S.mediaid=Object(o.d)(g);break;case"thumbnail":S.image||(S.image=Object(u.j)(g,"url"));break;case"group":C(g,S);break;case"subtitle":var _={file:Object(u.j)(g,"url"),kind:"captions"};Object(u.j)(g,"lang").length>0&&(_.label=n(Object(u.j)(g,"lang"))),s.push(_)}}}S.tracks||(S.tracks=[]);for(var E=0;E<s.length;E++)S.tracks.push(s[E]);return S},f=r(12),p=function(C,x){for(var S="default",s=[],h=[],g=x,m=0;m<C.childNodes.length;m++){var b=C.childNodes[m];if(b.prefix==="jwplayer"){var _=Object(o.b)(b);_==="source"?(delete x.sources,s.push({file:Object(u.j)(b,"file"),default:Object(u.j)(b,S),label:Object(u.j)(b,"label"),type:Object(u.j)(b,"type")})):_==="track"?(delete x.tracks,h.push({file:Object(u.j)(b,"file"),default:Object(u.j)(b,S),kind:Object(u.j)(b,"kind"),label:Object(u.j)(b,"label")})):(x[_]=Object(f.serialize)(Object(o.d)(b)),_==="file"&&x.sources&&delete x.sources)}x.file||(x.file=x.link)}if(s.length){x.sources=[];for(var E=0;E<s.length;E++){var R=s[E];R.file.length>0&&(R[S]=s[E][S]==="true",R.label||delete R.label,g.sources.push(R))}}if(h.length){x.tracks=[];for(var j=0;j<h.length;j++){var H=h[j];H.file&&H.file.length>0&&(H[S]=h[j][S]==="true",H.kind=h[j].kind.length?h[j].kind:"captions",H.label||delete H.label,g.tracks.push(H))}}return g},v=r(24);function y(C){for(var x={},S=0;S<C.childNodes.length;S++){var s=C.childNodes[S],h=Object(o.b)(s);if(h)switch(h.toLowerCase()){case"enclosure":x.file=Object(u.j)(s,"url");break;case"title":x.title=Object(o.d)(s);break;case"guid":x.mediaid=Object(o.d)(s);break;case"pubdate":x.date=Object(o.d)(s);break;case"description":x.description=Object(o.d)(s);break;case"link":x.link=Object(o.d)(s);break;case"category":x.tags?x.tags+=Object(o.d)(s):x.tags=Object(o.d)(s)}}return new v.a(p(C,d(C,x)))}var w=r(21),k=r(8),A=r(1);t.a=function(){var C=Object(a.g)(this,k.a);function x(s){try{var h,g=s.responseXML?s.responseXML.childNodes:null,m=null;if(g){for(var b=0;b<g.length&&(m=g[b]).nodeType===8;b++);if(m&&Object(o.b)(m)==="xml"&&(m=m.nextSibling),m&&Object(o.b)(m)==="rss"){var _=function(R){var j=[];j.feedData={};for(var H=0;H<Object(o.c)(R);H++){var G=Object(o.a)(R,H);if(Object(o.b)(G).toLowerCase()==="channel")for(var q=0;q<Object(o.c)(G);q++){var K=Object(o.a)(G,q),ue=Object(o.b)(K).toLowerCase();ue==="item"?j.push(y(K)):ue&&(j.feedData[ue]=Object(o.d)(K))}}return j}(m);h=Object(a.g)({playlist:_},_.feedData)}}if(!h)try{var E=JSON.parse(s.responseText);if(Array.isArray(E))h={playlist:E};else{if(!Array.isArray(E.playlist))throw Error("Playlist is not an array");h=E}}catch(R){throw new A.o(A.l,621,R)}C.trigger(l.eb,h)}catch(R){S(R)}}function S(s){s instanceof A.o&&!s.code&&(s=new A.o(A.l,0)),C.trigger(l.w,s)}this.load=function(s){Object(w.a)(s,x,function(h,g,m,b){S(b)})},this.destroy=function(){this.off()}}},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var a=r(7);function l(o){return o.type==="hls"&&a.OS.android?o.androidhls!==!1&&!a.Browser.firefox&&parseFloat(a.OS.version.version||"0")>=4.4:null}},function(e,t,r){"use strict";var a=r(3),l=function(){},o=function(){return!1},u={name:"default"},n={supports:o,play:l,pause:l,preload:l,load:l,stop:l,volume:l,mute:l,seek:l,resize:l,remove:l,destroy:l,setVisibility:l,setFullscreen:l,getFullscreen:o,supportsFullscreen:o,getContainer:l,setContainer:l,getName:function(){return u},getQualityLevels:l,getCurrentQuality:l,setCurrentQuality:l,getAudioTracks:l,getCurrentAudioTrack:l,setCurrentAudioTrack:l,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:l,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:l,detachMedia:l,init:l,setState:function(c){this.state=c,this.trigger(a.bb,{newstate:c})},sendMediaType:function(c){var d=c[0],f=d.type,p=d.mimeType,v=f==="aac"||f==="mp3"||f==="mpeg"||p&&p.indexOf("audio/")===0;this.trigger(a.T,{mediaType:v?"audio":"video"})},getDuration:function(){return 0},trigger:l};t.a=n},function(e,t,r){"use strict";var a,l=r(46),o=r(7),u=r(6),n=[],c=[],d=[],f={},p="screen"in window&&"orientation"in window.screen,v=o.OS.android&&o.Browser.chrome,y=!1;function w(S,s){for(var h=s.length;h--;){var g=s[h];if(S.target===g.getContainer()){g.setIntersection(S);break}}}function k(){n.forEach(function(S){var s=S.model;if(!(s.get("audioMode")||s.get("isFloating")||!s.get("controls")||s.get("visibility")<.75)){var h=s.get("state"),g=Object(u.g)();!g&&h==="paused"&&S.api.getFullscreen()?S.api.setFullscreen(!1):h==="playing"&&S.api.setFullscreen(g)}})}function A(){n.forEach(function(S){S.model.set("activeTab",Object(l.a)())})}function C(S,s){var h=s.indexOf(S);h!==-1&&s.splice(h,1)}function x(S){d.forEach(function(s){s(S)})}document.addEventListener("visibilitychange",A),document.addEventListener("webkitvisibilitychange",A),v&&p&&window.screen.orientation.addEventListener("change",k),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",A),document.removeEventListener("webkitvisibilitychange",A),window.removeEventListener("scroll",x),v&&p&&window.screen.orientation.removeEventListener("change",k)}),t.a={add:function(S){n.push(S)},remove:function(S){C(S,n)},addScrollHandler:function(S){y||(y=!0,window.addEventListener("scroll",x)),d.push(S)},removeScrollHandler:function(S){var s=d.indexOf(S);s!==-1&&d.splice(s,1)},addWidget:function(S){c.push(S)},removeWidget:function(S){C(S,c)},size:function(){return n.length},observe:function(S){var s;s=window.IntersectionObserver,a||(a=new s(function(h){if(h&&h.length)for(var g=h.length;g--;){var m=h[g];w(m,n),w(m,c)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),f[S.id]||(f[S.id]=!0,a.observe(S))},unobserve:function(S){a&&f[S.id]&&(delete f[S.id],a.unobserve(S))}}},,function(e,t,r){"use strict";r.d(t,"a",function(){return f});var a=r(0),l=r(38),o=r(6),u=r(11),n=[],c=-1;function d(){Object(l.a)(c),c=Object(l.b)(function(){n.forEach(function(p){p.view.updateBounds();var v=p.view.model.get("containerWidth");p.resized=p.width!==v,p.width=v}),n.forEach(function(p){p.contractElement.scrollLeft=2*p.width}),n.forEach(function(p){Object(u.d)(p.expandChild,{width:p.width+1}),p.resized&&p.view.model.get("visibility")&&p.view.updateStyles()}),n.forEach(function(p){p.expandElement.scrollLeft=p.width+1}),n.forEach(function(p){p.resized&&p.view.checkResized()})})}var f=function(){function p(v,y,w){var k={display:"block",position:"absolute",top:0,left:0},A={width:"100%",height:"100%"},C=Object(o.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),x=C.firstChild,S=x.firstChild,s=x.nextSibling;Object(u.d)([x,s],Object(a.g)({overflow:"auto"},k,A)),Object(u.d)(C,Object(a.g)({},k,A)),this.expandElement=x,this.expandChild=S,this.contractElement=s,this.hiddenElement=C,this.element=v,this.view=y,this.model=w,this.width=0,this.resized=!1,v.firstChild?v.insertBefore(C,v.firstChild):v.appendChild(C),v.addEventListener("scroll",d,!0),n.push(this),d()}return p.prototype.destroy=function(){if(this.view){var v=n.indexOf(this);v!==-1&&n.splice(v,1),this.element.removeEventListener("scroll",d,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},p}()},,,function(e,t,r){"use strict";r.r(t);var a=setTimeout;function l(){}function o(D){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if(typeof D!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(D,this)}function u(D,J){for(;D._state===3;)D=D._value;D._state!==0?(D._handled=!0,o._immediateFn(function(){var Q=D._state===1?J.onFulfilled:J.onRejected;if(Q!==null){var ne;try{ne=Q(D._value)}catch(ie){return void c(J.promise,ie)}n(J.promise,ne)}else(D._state===1?n:c)(J.promise,D._value)})):D._deferreds.push(J)}function n(D,J){try{if(J===D)throw new TypeError("A promise cannot be resolved with itself.");if(J&&(typeof J=="object"||typeof J=="function")){var Q=J.then;if(J instanceof o)return D._state=3,D._value=J,void d(D);if(typeof Q=="function")return void p((ne=Q,ie=J,function(){ne.apply(ie,arguments)}),D)}D._state=1,D._value=J,d(D)}catch(W){c(D,W)}var ne,ie}function c(D,J){D._state=2,D._value=J,d(D)}function d(D){D._state===2&&D._deferreds.length===0&&o._immediateFn(function(){D._handled||o._unhandledRejectionFn(D._value)});for(var J=0,Q=D._deferreds.length;J<Q;J++)u(D,D._deferreds[J]);D._deferreds=null}function f(D,J,Q){this.onFulfilled=typeof D=="function"?D:null,this.onRejected=typeof J=="function"?J:null,this.promise=Q}function p(D,J){var Q=!1;try{D(function(ne){Q||(Q=!0,n(J,ne))},function(ne){Q||(Q=!0,c(J,ne))})}catch(ne){if(Q)return;Q=!0,c(J,ne)}}o.prototype.catch=function(D){return this.then(null,D)},o.prototype.then=function(D,J){var Q=new this.constructor(l);return u(this,new f(D,J,Q)),Q},o.prototype.finally=function(D){var J=this.constructor;return this.then(function(Q){return J.resolve(D()).then(function(){return Q})},function(Q){return J.resolve(D()).then(function(){return J.reject(Q)})})},o.all=function(D){return new o(function(J,Q){if(!D||D.length===void 0)throw new TypeError("Promise.all accepts an array");var ne=Array.prototype.slice.call(D);if(ne.length===0)return J([]);var ie=ne.length;function W(se,Ae){try{if(Ae&&(typeof Ae=="object"||typeof Ae=="function")){var Oe=Ae.then;if(typeof Oe=="function")return void Oe.call(Ae,function(je){W(se,je)},Q)}ne[se]=Ae,--ie==0&&J(ne)}catch(je){Q(je)}}for(var V=0;V<ne.length;V++)W(V,ne[V])})},o.resolve=function(D){return D&&typeof D=="object"&&D.constructor===o?D:new o(function(J){J(D)})},o.reject=function(D){return new o(function(J,Q){Q(D)})},o.race=function(D){return new o(function(J,Q){for(var ne=0,ie=D.length;ne<ie;ne++)D[ne].then(J,Q)})},o._immediateFn=typeof setImmediate=="function"&&function(D){setImmediate(D)}||function(D){a(D,0)},o._unhandledRejectionFn=function(D){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",D)};var v=o;window.Promise||(window.Promise=v);var y=r(19),w=r(14),k=r(15),A=r(20),C={availableProviders:k.a,registerProvider:A.a},x=r(25),S=r(22),s=r(0),h=r(17),g=r(7),m=r(47),b=r(3),_=r(23),E=r(8),R=r(39),j=0;function H(D,J){var Q=new m.a(J);return Q.on(b.gb,function(ne){D._qoe.tick("ready"),ne.setupTime=D._qoe.between("setup","ready")}),Q.on("all",function(ne,ie){D.trigger(ne,ie)}),Q}function G(D,J){var Q=D.plugins,ne=Object.keys(Q).map(function(ie){var W=Q[ie];return delete Q[ie],W});J.get("setupConfig")&&D.trigger("remove"),D.off(),J.playerDestroy(),ne.forEach(function(ie){if(ie.destroy)try{ie.destroy()}catch(W){}}),J.getContainer().removeAttribute("data-jwplayer-id")}function q(D){var J=++j,Q=D.id||"player-"+J,ne=new _.a,ie={},W=H(this,D);ne.tick("init"),D.setAttribute("data-jwplayer-id",Q),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return Q}},uniqueId:{enumerable:!0,get:function(){return J}},plugins:{enumerable:!0,get:function(){return ie}},_qoe:{enumerable:!0,get:function(){return ne}},version:{enumerable:!0,get:function(){return S.a}},Events:{enumerable:!0,get:function(){return E.a}},utils:{enumerable:!0,get:function(){return R.a}},_:{enumerable:!0,get:function(){return s.c}}}),Object(s.g)(this,{_events:{},setup:function(V){return ne.clear("ready"),ne.tick("setup"),W&&G(this,W),(W=H(this,D)).init(V,this),this.on(V.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(V){for(var se=w.a.length;se--;)if(w.a[se].uniqueId===V.uniqueId){w.a.splice(se,1);break}}(this),W&&G(this,W),Object.keys(ie).forEach(function(V){delete ie[V]}),this},qoe:function(){var V=W.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:V.getFirstFrame?V.getFirstFrame():null,player:this._qoe.dump(),item:V.dump()}},addCues:function(V){return Array.isArray(V)&&W.addCues(V),this},getAudioTracks:function(){return W.getAudioTracks()},getBuffer:function(){return W.get("buffer")},getCaptions:function(){return W.get("captions")},getCaptionsList:function(){return W.getCaptionsList()},getConfig:function(){return W.getConfig()},getContainer:function(){return W.getContainer()},getControls:function(){return W.get("controls")},getCues:function(){return W.get("cues")},getCurrentAudioTrack:function(){return W.getCurrentAudioTrack()},getCurrentCaptions:function(){return W.getCurrentCaptions()},getCurrentQuality:function(){return W.getCurrentQuality()},getCurrentTime:function(){return W.get("currentTime")},getDuration:function(){return W.get("duration")},getEnvironment:function(){return g},getFullscreen:function(){return W.get("fullscreen")},getHeight:function(){return W.getHeight()},getItemMeta:function(){return W.get("itemMeta")||{}},getMute:function(){return W.getMute()},getPercentViewable:function(){return W.get("visibility")},getPip:function(){return W.get("pip")},getPlaybackRate:function(){return W.get("playbackRate")},getPlaylist:function(){return W.get("playlist")},getPlaylistIndex:function(){return W.get("item")},getPlaylistItem:function(V){if(!R.a.exists(V))return W.get("playlistItem");var se=this.getPlaylist();return se?se[V]:null},getPosition:function(){return W.get("position")},getProvider:function(){return W.getProvider()},getQualityLevels:function(){return W.getQualityLevels()},getSafeRegion:function(V){return V===void 0&&(V=!0),W.getSafeRegion(V)},getState:function(){return W.getState()},getStretching:function(){return W.get("stretching")},getViewable:function(){return W.get("viewable")},getVisualQuality:function(){return W.getVisualQuality()},getVolume:function(){return W.get("volume")},getWidth:function(){return W.getWidth()},setCaptions:function(V){return W.setCaptions(V),this},setConfig:function(V){return W.setConfig(V),this},setControls:function(V){return W.setControls(V),this},setCurrentAudioTrack:function(V){W.setCurrentAudioTrack(V)},setCurrentCaptions:function(V){W.setCurrentCaptions(V)},setCurrentQuality:function(V){W.setCurrentQuality(V)},setFullscreen:function(V){return W.setFullscreen(V),this},setAllowFullscreen:function(V){return W.setAllowFullscreen(V),this},setMute:function(V){return W.setMute(V),this},setPip:function(V){return W.setPip(V),this},setPlaybackRate:function(V){return W.setPlaybackRate(V),this},setPlaylistItem:function(V,se){return W.setPlaylistItem(V,se),this},setCues:function(V){return Array.isArray(V)&&W.setCues(V),this},setVolume:function(V){return W.setVolume(V),this},load:function(V,se){return W.load(V,se),this},play:function(V){return W.play(V),this},pause:function(V){return W.pause(V),this},playToggle:function(V){switch(this.getState()){case b.pb:case b.jb:return this.pause(V);default:return this.play(V)}},seek:function(V,se){return W.seek(V,se),this},playlistItem:function(V,se){return W.playlistItem(V,se),this},playlistNext:function(V){return W.playlistNext(V),this},playlistPrev:function(V){return W.playlistPrev(V),this},next:function(V){return W.next(V),this},requestPip:function(V){return W.requestPip(V),this},castToggle:function(){return W.castToggle(),this},stopCasting:function(){return W.stopCasting(),this},createInstream:function(){return W.createInstream()},stop:function(){return W.stop(),this},resize:function(V,se){return W.resize(V,se),this},addButton:function(V,se,Ae,Oe,je){return W.addButton(V,se,Ae,Oe,je),this},removeButton:function(V){return W.removeButton(V),this},attachMedia:function(){return W.attachMedia(),this},detachMedia:function(){return W.detachMedia(),this},isBeforeComplete:function(){return W.isBeforeComplete()},isBeforePlay:function(){return W.isBeforePlay()},setPlaylistItemCallback:function(V,se){W.setItemCallback(V,se)},removePlaylistItemCallback:function(){W.setItemCallback(null)},getPlaylistItemPromise:function(V){return W.getItemPromise(V)},getFloating:function(){return!!W.get("isFloating")},setFloating:function(V){W.setConfig({floating:{mode:V?"always":"never"}})}})}Object(s.g)(q.prototype,{on:function(D,J,Q){return E.c.call(this,D,J,Q)},once:function(D,J,Q){return E.d.call(this,D,J,Q)},off:function(D,J,Q){return E.b.call(this,D,J,Q)},trigger:function(D,J){return(J=s.c.isObject(J)?Object(s.g)({},J):{}).type=D,h.a.debug?E.e.call(this,D,J):E.f.call(this,D,J)},getPlugin:function(D){return this.plugins[D]},addPlugin:function(D,J){this.plugins[D]=J,this.on("ready",J.addToPlayer),J.resize&&this.on("resize",J.resizeHandler)},registerPlugin:function(D,J,Q){Object(x.b)(D,J,Q)},getAdBlock:function(){return!1},playAd:function(D){},pauseAd:function(D){},skipAd:function(){}}),r.d(t,"assignLibraryProperties",function(){return te}),r.p=Object(y.loadFrom)();var K=function(D){var J,Q;if(D?typeof D=="string"?(J=ue(D))||(Q=document.getElementById(D)):typeof D=="number"?J=w.a[D]:D.nodeType&&(J=ue((Q=D).id||Q.getAttribute("data-jwplayer-id"))):J=w.a[0],J)return J;if(Q){var ne=new q(Q);return w.a.push(ne),ne}return{registerPlugin:x.b}};function ue(D){for(var J=0;J<w.a.length;J++)if(w.a[J].id===D)return w.a[J];return null}function te(D){Object.defineProperties(D,{api:{get:function(){return C},set:function(){}},version:{get:function(){return S.a},set:function(){}},debug:{get:function(){return h.a.debug},set:function(J){h.a.debug=!!J}}})}te(K),t.default=K}]).default});var bf,vn,yf=Wt(()=>{pb();bf=location.hostname==="av.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.archive.org/jw/8",{jwplayer:vn}=window});var Fd,fb,wf=Wt(()=>{gf();Bd();Ga();vf();yf();Fd=class e{constructor(){if(e.avplayer="#jw6",e.resizer_listening=!1,e.unplayable_timer=null,e.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!e.is_local_storage_available())return;this.selector_play_items=mi(".js-playset-items"),this.selector_playlist=mi(".js-playset-list");let t=mi(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!t||["audio","movies","etree"].includes(t))&&(mi(this.selector_play_items).append('<span id="playplayset"/>'),mi("#playplayset").html(`<a
          class="stealth"
          href="#play-items"
          data-event-click-tracking="Playset|PlayAllLink"
        >
          <span class="iconochive-play" aria-hidden="true"></span>
          <span class="sr-only">play</span>
          <span class="hidden-xs-span"> Play All</span>
          <br />
        </a>`),ea("#playplayset",e.create_playlist_goto_first_item),Sa("autoplay",!0)&&!Sa("playset",!0)&&setTimeout(e.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,Sa("playset",!0)){if([,this.id]=location.href.match(/archive\.org\/details\/([^/&?]+)/),!this.id)return;mi("#playset-xs").length||mi("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),e.skip_unplayable_item(),e.resizer()}Ni("playset ready")}static create_playlist_goto_first_item(){Ni("create_playlist_goto_first_item()");let t=[],a=mi("#also-found").length?"#also-found .item-ia":".item-ia:visible";mi(a).each((l,o)=>{let u=mi(o),{id:n}=u.data();if(n.match(/^__/))return;let c=e.truncate(u.find(".item-ttl,.collection-title a").text(),35),d=e.truncate(u.find(".byv").text(),75),{year:f}=u.data(),p=e.truncate(u.next().find(".C234 > span:first").text(),75);t.push([n,c,d.length?d:p,f])}),e.set_playset(t),e.mobile?e.play_mobile(t):location.href=`/details/${t[0][0]}?autoplay=1&playset=1`}static play_mobile(t){let r=[];for(let a of t)r.push(a[0]);location.href=`https://archive.org/services/playset.php?ids=${r.join(",")}`}show_playlist(){let t=e.get_playset();if(!t)return;let r=!1,a="";for(let o of t.list)a+=e.playlist_item(o[0],o[1],o[2],o[3]),this.id===o[0]&&(r=!0);if(!r)return;let l=`
${e.playlist_header(t)}
<div class="playset-list">
${a}
</div>
`;mi("body").addClass("playset"),mi("body").addClass(mi("#theatre-ia-wrap").length?"":" playset-hdr-only"),mi(this.selector_playlist).prepend(`<div id="playset-ia">${l}</div>`),ea("#playset-pp .js-playset-play",e.play),ea("#playset-pp .js-playset-pause",e.pause),setTimeout(()=>{this.autoscroll_playlist()},500),mi(document).ready(()=>{mi("#texty iframe").on("load",()=>{mi("#texty iframe").contents().click(e.pause)})})}static resizer(){e.resizer_listening||(e.resizer_listening=!0,mi(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler),e.throttler=setTimeout(e.resizer,250)}));let t=mi("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",r=mi("#playset-ia").parent().attr("id");Ni("browser resize: ",t," -v- ",r),t!==r&&(t==="playset-xs"?mi("#playset-ia").appendTo("#playset-xs > div"):mi("#playset-ia").prependTo(`#${t}`),Ni("playset moved"))}static playlist_header(t){let r=t.src.match(/\?/)?"&":"?",a=`${t.src}${r}autoplay=1`;return`
<div class="playset-hdr">
<div>
  <a href=${a}>Playlist</a>
  ${e.glyph("beta")}
</div>
<div id="playset-pp">
  <a href="#" class="js-playset-pause">
    ${e.glyph("Pause")}
  </a>
  <a href="#" class="js-playset-play" style="display:none">
    ${e.glyph("play")}
  </a>
</div>
<div>
  <a href=${a}>
    ${e.glyph("share")}
  </a>
</div>
</div>
`}static playlist_item(t,r,a,l){return`
<div class="playset-item" data-id=${t}>
<a href="/details/${t}?autoplay=1&playset=1">
  <div class="topinblock playset-img">
    <img src="/services/img/${t}"/>
  </div><div class="topinblock">
    ${e.item_year(l)}
    <b>
      ${r}
    </b><br/>
    ${a}
  </div>
</a>
</div>`}static item_year(t){return t?`
<div style="float:right">
(${t})
</div>`:""}autoscroll_playlist(){let t=mi(`#playset-ia div[data-id="${this.id}"`).offset();if(t){let r=mi("#playset-xs:visible").length?10:mi("#topnav").height(),a=t.top-r-mi("#playset-ia .playset-hdr").height();Ni("scrolling playset to ",a),mi("#playset-ia .playset-list").scrollTop(a)}}static skip_unplayable_item(){e.unplayable_timer=setTimeout(()=>{(typeof vn=="undefined"||!mi(e.avplayer).length)&&e.goto_next_item()},3e3)}static goto_next_item(){let t=location.href.match(/\/details\/([^/&?]+)/)[1],r=e.get_playlist(),a="";for(let l of r)t===a&&(location.href=`/details/${l[0]}?autoplay=1&playset=1`),[a]=l}static onComplete(t){let r=t.getPlaylistIndex(),a=t.getPlaylist().length;r+1>=a&&e.goto_next_item()}static get_playlist(){let t=e.get_playset();return typeof t.list=="undefined"?t:t.list}static get_playset(){return JSON.parse(localStorage.getItem("playset"))}static set_playset(t){let r=new Date,a={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:r.toJSON(),createdTS:Math.round(r.getTime()/1e3),list:t};localStorage.setItem("playset",JSON.stringify(a))}static pause(){if(Ni("playset pause"),typeof vn!="undefined"&&mi(e.avplayer).length){let t=vn(e.avplayer.substr(1));return t&&t.getState()&&(t.getState().toUpperCase()==="PLAYING"?t.pause():t.play(),mi("#playset-pp a").toggle()),!1}return e.unplayable_timer&&(clearTimeout(e.unplayable_timer),e.unplayable_timer=null,mi("#playset-pp a").toggle()),!1}static play(){if(Ni("play/resume"),typeof vn!="undefined"&&mi(e.avplayer).length){let t=vn(e.avplayer.substr(1));return t&&t.getState()&&(t.getState().toUpperCase()!=="PLAYING"&&t.play(),mi("#playset-pp a").toggle()),!1}return e.unplayable_timer||(e.skip_unplayable_item(),mi("#playset-pp a").toggle()),!1}static glyph(t){return`<span class="iconochive-${t}" aria-hidden="true"></span>
           <span class="sr-only">${t}</span>`}static truncate(t,r){let a=t.trim().replace(/\s+/g," ");return a.length<=r?a:`${a.substr(0,r)}..`}static is_local_storage_available(){try{return"localStorage"in window}catch(t){return!1}}};mi(()=>new Fd);fb=Fd});var ws,Aa,Ca,ou=Wt(()=>{ws={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Aa=e=>(...t)=>({_$litDirective$:e,values:t}),Ca=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};});function Ab(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return mb!==void 0?mb.createHTML(t):t}function lu(e,t,r=e,a){var l,o,u,n;if(t===su)return t;let c=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,d=uc(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==d&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),d===void 0?c=void 0:(c=new d(e),c._$AT(e,r,a)),a!==void 0?((u=(n=r)._$Co)!==null&&u!==void 0?u:n._$Co=[])[a]=c:r._$Cl=c),c!==void 0&&(t=lu(e,c._$AS(e,t.values),c,a)),t}var _f,zd,au,mb,Sf,_s,_b,R4,Js,Hd,uc,kb,j4,kf,lc,gb,vb,Ks,bb,yb,xb,Sb,OP,MP,su,oo,wb,Zs,B4,Af,N4,Eb,Ud,F4,z4,H4,U4,W4,xf,$b,V4,uu,Pb=Wt(()=>{ou();zd=window,au=zd.trustedTypes,mb=au?au.createPolicy("lit-html",{createHTML:e=>e}):void 0,Sf="$lit$",_s=`lit$${(Math.random()+"").slice(9)}$`,_b="?"+_s,R4=`<${_b}>`,Js=document,Hd=()=>Js.createComment(""),uc=e=>e===null||typeof e!="object"&&typeof e!="function",kb=Array.isArray,j4=e=>kb(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",kf=`[ 	
\f\r]`,lc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,gb=/-->/g,vb=/>/g,Ks=RegExp(`>|${kf}(?:([^\\s"'>=/]+)(${kf}*=${kf}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),bb=/'/g,yb=/"/g,xb=/^(?:script|style|textarea|title)$/i,Sb=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),OP=Sb(1),MP=Sb(2),su=Symbol.for("lit-noChange"),oo=Symbol.for("lit-nothing"),wb=new WeakMap,Zs=Js.createTreeWalker(Js,129,null,!1);B4=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",u=lc;for(let n=0;n<r;n++){let c=e[n],d,f,p=-1,v=0;for(;v<c.length&&(u.lastIndex=v,f=u.exec(c),f!==null);)v=u.lastIndex,u===lc?f[1]==="!--"?u=gb:f[1]!==void 0?u=vb:f[2]!==void 0?(xb.test(f[2])&&(l=RegExp("</"+f[2],"g")),u=Ks):f[3]!==void 0&&(u=Ks):u===Ks?f[0]===">"?(u=l!=null?l:lc,p=-1):f[1]===void 0?p=-2:(p=u.lastIndex-f[2].length,d=f[1],u=f[3]===void 0?Ks:f[3]==='"'?yb:bb):u===yb||u===bb?u=Ks:u===gb||u===vb?u=lc:(u=Ks,l=void 0);let y=u===Ks&&e[n+1].startsWith("/>")?" ":"";o+=u===lc?c+R4:p>=0?(a.push(d),c.slice(0,p)+Sf+c.slice(p)+_s+y):c+_s+(p===-2?(a.push(void 0),n):y)}return[Ab(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Af=class Cb{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,u=0,n=t.length-1,c=this.parts,[d,f]=B4(t,r);if(this.el=Cb.createElement(d,a),Zs.currentNode=this.el.content,r===2){let p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(l=Zs.nextNode())!==null&&c.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let p=[];for(let v of l.getAttributeNames())if(v.endsWith(Sf)||v.startsWith(_s)){let y=f[u++];if(p.push(v),y!==void 0){let w=l.getAttribute(y.toLowerCase()+Sf).split(_s),k=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?F4:k[1]==="?"?H4:k[1]==="@"?U4:Ud})}else c.push({type:6,index:o})}for(let v of p)l.removeAttribute(v)}if(xb.test(l.tagName)){let p=l.textContent.split(_s),v=p.length-1;if(v>0){l.textContent=au?au.emptyScript:"";for(let y=0;y<v;y++)l.append(p[y],Hd()),Zs.nextNode(),c.push({type:2,index:++o});l.append(p[v],Hd())}}}else if(l.nodeType===8)if(l.data===_b)c.push({type:2,index:o});else{let p=-1;for(;(p=l.data.indexOf(_s,p+1))!==-1;)c.push({type:7,index:o}),p+=_s.length-1}o++}}static createElement(t,r){let a=Js.createElement("template");return a.innerHTML=t,a}};N4=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Js).importNode(r,!0);Zs.currentNode=l;let o=Zs.nextNode(),u=0,n=0,c=a[0];for(;c!==void 0;){if(u===c.index){let d;c.type===2?d=new Eb(o,o.nextSibling,this,e):c.type===1?d=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(d=new W4(o,this,e)),this._$AV.push(d),c=a[++n]}u!==(c==null?void 0:c.index)&&(o=Zs.nextNode(),u++)}return Zs.currentNode=Js,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Eb=class Tb{constructor(t,r,a,l){var o;this.type=2,this._$AH=oo,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=lu(this,t,r),uc(t)?t===oo||t==null||t===""?(this._$AH!==oo&&this._$AR(),this._$AH=oo):t!==this._$AH&&t!==su&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):j4(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==oo&&uc(this._$AH)?this._$AA.nextSibling.data=t:this.$(Js.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Af.createElement(Ab(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let u=new N4(o,this),n=u.u(this.options);u.v(a),this.$(n),this._$AH=u}}_$AC(t){let r=wb.get(t.strings);return r===void 0&&wb.set(t.strings,r=new Af(t)),r}T(t){kb(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new Tb(this.k(Hd()),this.k(Hd()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Ud=class{constructor(e,t,r,a,l){this.type=1,this._$AH=oo,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=oo}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=lu(this,e,t,0),o=!uc(e)||e!==this._$AH&&e!==su,o&&(this._$AH=e);else{let u=e,n,c;for(e=l[0],n=0;n<l.length-1;n++)c=lu(this,u[r+n],t,n),c===su&&(c=this._$AH[n]),o||(o=!uc(c)||c!==this._$AH[n]),c===oo?e=oo:e!==oo&&(e+=(c!=null?c:"")+l[n+1]),this._$AH[n]=c}o&&!a&&this.j(e)}j(e){e===oo?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},F4=class extends Ud{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===oo?void 0:e}},z4=au?au.emptyScript:"",H4=class extends Ud{constructor(){super(...arguments),this.type=4}j(e){e&&e!==oo?this.element.setAttribute(this.name,z4):this.element.removeAttribute(this.name)}},U4=class extends Ud{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=lu(this,e,t,0))!==null&&r!==void 0?r:oo)===su)return;let a=this._$AH,l=e===oo&&a!==oo||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==oo&&(a===oo||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},W4=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){lu(this,e)}},xf=zd.litHtmlPolyfillSupport;xf==null||xf(Af,Eb),((_f=zd.litHtmlVersions)!==null&&_f!==void 0?_f:zd.litHtmlVersions=[]).push("2.8.0");$b="important",V4=" !"+$b,uu=Aa(class extends Ca{constructor(e){var t;if(super(e),e.type!==ws.ATTRIBUTE||e.name!=="style"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,r)=>{let a=e[r];return a==null?t:t+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${a};`},"")}update(e,[t]){let{style:r}=e.element;if(this.ht===void 0){this.ht=new Set;for(let a in t)this.ht.add(a);return this.render(t)}this.ht.forEach(a=>{t[a]==null&&(this.ht.delete(a),a.includes("-")?r.removeProperty(a):r[a]="")});for(let a in t){let l=t[a];if(l!=null){this.ht.add(a);let o=typeof l=="string"&&l.endsWith(V4);a.includes("-")||o?r.setProperty(a,o?l.slice(0,-11):l,o?$b:""):r[a]=l}}return su}});});var cc=Wt(()=>{Pb()});function Hb(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Mb!==void 0?Mb.createHTML(t):t}function pu(e,t,r=e,a){var l,o,u,n;if(t===hu)return t;let c=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,d=hc(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==d&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),d===void 0?c=void 0:(c=new d(e),c._$AT(e,r,a)),a!==void 0?((u=(n=r)._$Co)!==null&&u!==void 0?u:n._$Co=[])[a]=c:r._$Cl=c),c!==void 0&&(t=pu(e,c._$AS(e,t.values),c,a)),t}var Pf,Wd,du,Mb,If,ks,Bb,rx,el,Vd,hc,Nb,nx,Of,dc,Ib,Lb,Xs,Db,Rb,Fb,zb,YP,KP,hu,ao,jb,Qs,ox,Lf,ax,Wb,qd,sx,lx,ux,cx,dx,Mf,yo,qb=Wt(()=>{ou();Wd=window,du=Wd.trustedTypes,Mb=du?du.createPolicy("lit-html",{createHTML:e=>e}):void 0,If="$lit$",ks=`lit$${(Math.random()+"").slice(9)}$`,Bb="?"+ks,rx=`<${Bb}>`,el=document,Vd=()=>el.createComment(""),hc=e=>e===null||typeof e!="object"&&typeof e!="function",Nb=Array.isArray,nx=e=>Nb(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Of=`[ 	
\f\r]`,dc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ib=/-->/g,Lb=/>/g,Xs=RegExp(`>|${Of}(?:([^\\s"'>=/]+)(${Of}*=${Of}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Db=/'/g,Rb=/"/g,Fb=/^(?:script|style|textarea|title)$/i,zb=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),YP=zb(1),KP=zb(2),hu=Symbol.for("lit-noChange"),ao=Symbol.for("lit-nothing"),jb=new WeakMap,Qs=el.createTreeWalker(el,129,null,!1);ox=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",u=dc;for(let n=0;n<r;n++){let c=e[n],d,f,p=-1,v=0;for(;v<c.length&&(u.lastIndex=v,f=u.exec(c),f!==null);)v=u.lastIndex,u===dc?f[1]==="!--"?u=Ib:f[1]!==void 0?u=Lb:f[2]!==void 0?(Fb.test(f[2])&&(l=RegExp("</"+f[2],"g")),u=Xs):f[3]!==void 0&&(u=Xs):u===Xs?f[0]===">"?(u=l!=null?l:dc,p=-1):f[1]===void 0?p=-2:(p=u.lastIndex-f[2].length,d=f[1],u=f[3]===void 0?Xs:f[3]==='"'?Rb:Db):u===Rb||u===Db?u=Xs:u===Ib||u===Lb?u=dc:(u=Xs,l=void 0);let y=u===Xs&&e[n+1].startsWith("/>")?" ":"";o+=u===dc?c+rx:p>=0?(a.push(d),c.slice(0,p)+If+c.slice(p)+ks+y):c+ks+(p===-2?(a.push(void 0),n):y)}return[Hb(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Lf=class Ub{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,u=0,n=t.length-1,c=this.parts,[d,f]=ox(t,r);if(this.el=Ub.createElement(d,a),Qs.currentNode=this.el.content,r===2){let p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(l=Qs.nextNode())!==null&&c.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let p=[];for(let v of l.getAttributeNames())if(v.endsWith(If)||v.startsWith(ks)){let y=f[u++];if(p.push(v),y!==void 0){let w=l.getAttribute(y.toLowerCase()+If).split(ks),k=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?sx:k[1]==="?"?ux:k[1]==="@"?cx:qd})}else c.push({type:6,index:o})}for(let v of p)l.removeAttribute(v)}if(Fb.test(l.tagName)){let p=l.textContent.split(ks),v=p.length-1;if(v>0){l.textContent=du?du.emptyScript:"";for(let y=0;y<v;y++)l.append(p[y],Vd()),Qs.nextNode(),c.push({type:2,index:++o});l.append(p[v],Vd())}}}else if(l.nodeType===8)if(l.data===Bb)c.push({type:2,index:o});else{let p=-1;for(;(p=l.data.indexOf(ks,p+1))!==-1;)c.push({type:7,index:o}),p+=ks.length-1}o++}}static createElement(t,r){let a=el.createElement("template");return a.innerHTML=t,a}};ax=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:el).importNode(r,!0);Qs.currentNode=l;let o=Qs.nextNode(),u=0,n=0,c=a[0];for(;c!==void 0;){if(u===c.index){let d;c.type===2?d=new Wb(o,o.nextSibling,this,e):c.type===1?d=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(d=new dx(o,this,e)),this._$AV.push(d),c=a[++n]}u!==(c==null?void 0:c.index)&&(o=Qs.nextNode(),u++)}return Qs.currentNode=el,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Wb=class Vb{constructor(t,r,a,l){var o;this.type=2,this._$AH=ao,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=pu(this,t,r),hc(t)?t===ao||t==null||t===""?(this._$AH!==ao&&this._$AR(),this._$AH=ao):t!==this._$AH&&t!==hu&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):nx(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==ao&&hc(this._$AH)?this._$AA.nextSibling.data=t:this.$(el.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Lf.createElement(Hb(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let u=new ax(o,this),n=u.u(this.options);u.v(a),this.$(n),this._$AH=u}}_$AC(t){let r=jb.get(t.strings);return r===void 0&&jb.set(t.strings,r=new Lf(t)),r}T(t){Nb(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new Vb(this.k(Vd()),this.k(Vd()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},qd=class{constructor(e,t,r,a,l){this.type=1,this._$AH=ao,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=ao}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=pu(this,e,t,0),o=!hc(e)||e!==this._$AH&&e!==hu,o&&(this._$AH=e);else{let u=e,n,c;for(e=l[0],n=0;n<l.length-1;n++)c=pu(this,u[r+n],t,n),c===hu&&(c=this._$AH[n]),o||(o=!hc(c)||c!==this._$AH[n]),c===ao?e=ao:e!==ao&&(e+=(c!=null?c:"")+l[n+1]),this._$AH[n]=c}o&&!a&&this.j(e)}j(e){e===ao?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},sx=class extends qd{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ao?void 0:e}},lx=du?du.emptyScript:"",ux=class extends qd{constructor(){super(...arguments),this.type=4}j(e){e&&e!==ao?this.element.setAttribute(this.name,lx):this.element.removeAttribute(this.name)}},cx=class extends qd{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=pu(this,e,t,0))!==null&&r!==void 0?r:ao)===hu)return;let a=this._$AH,l=e===ao&&a!==ao||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==ao&&(a===ao||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},dx=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){pu(this,e)}},Mf=Wd.litHtmlPolyfillSupport;Mf==null||Mf(Lf,Wb),((Pf=Wd.litHtmlVersions)!==null&&Pf!==void 0?Pf:Wd.litHtmlVersions=[]).push("2.8.0");yo=Aa(class extends Ca{constructor(e){var t;if(super(e),e.type!==ws.ATTRIBUTE||e.name!=="class"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,a;if(this.it===void 0){this.it=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(let o in t)t[o]&&!(!((r=this.nt)===null||r===void 0)&&r.has(o))&&this.it.add(o);return this.render(t)}let l=e.element.classList;this.it.forEach(o=>{o in t||(l.remove(o),this.it.delete(o))});for(let o in t){let u=!!t[o];u===this.it.has(o)||!((a=this.nt)===null||a===void 0)&&a.has(o)||(u?(l.add(o),this.it.add(o)):(l.remove(o),this.it.delete(o)))}return hu}});});var Ea=Wt(()=>{qb()});var Kb=Wt(()=>{tc();ru();of();af();ti()});var Zd=Wt(()=>{Kb()});var ir,No=Wt(()=>{ir=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)?console.log.bind(console):()=>{}});var Ix,Hf,Lx,Dx,Rx,jx,Bx,Nx,zf,Fx,uy,cy,dy,zx,sy,ly,Hx,Uf,Wf=Wt(()=>{Ix=Object.create,Hf=Object.defineProperty,Lx=Object.getOwnPropertyDescriptor,Dx=Object.getOwnPropertyNames,Rx=Object.getPrototypeOf,jx=Object.prototype.hasOwnProperty,Bx=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Nx=(e,t)=>{for(var r in t)Hf(e,r,{get:t[r],enumerable:!0})},zf=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Dx(t))!jx.call(e,l)&&l!==r&&Hf(e,l,{get:()=>t[l],enumerable:!(a=Lx(t,l))||a.enumerable});return e},Fx=(e,t,r)=>(zf(e,t,"default"),r&&zf(r,t,"default")),uy=(e,t,r)=>(r=e!=null?Ix(Rx(e)):{},zf(t||!e||!e.__esModule?Hf(r,"default",{value:e,enumerable:!0}):r,e)),cy=Bx(()=>{(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(s,h){var g,m,b,_=s.nodeName.toLowerCase();return _==="area"?(g=s.parentNode,m=g.name,s.href&&m&&g.nodeName.toLowerCase()==="map"?(b=e("img[usemap='#"+m+"']")[0],!!b&&r(b)):!1):(/input|select|textarea|button|object/.test(_)?!s.disabled:_==="a"&&s.href||h)&&r(s)}function r(s){return e.expr.filters.visible(s)&&!e(s).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}function a(s){for(var h,g;s.length&&s[0]!==document;){if(h=s.css("position"),(h==="absolute"||h==="relative"||h==="fixed")&&(g=parseInt(s.css("zIndex"),10),!isNaN(g)&&g!==0))return g;s=s.parent()}return 0}function l(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=o(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(s){var h="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return s.delegate(h,"mouseout",function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(h,"mouseover",u)}function u(){e.datepicker._isDisabledDatepicker(C.inline?C.dpDiv.parent()[0]:C.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))}function n(s,h){e.extend(s,h);for(var g in h)h[g]==null&&(s[g]=h[g]);return s}function c(s){return function(){var h=this.element.val();s.apply(this,arguments),this._refresh(),h!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(s){var h=this.css("position"),g=h==="absolute",m=s?/(auto|scroll|hidden)/:/(auto|scroll)/,b=this.parents().filter(function(){var _=e(this);return g&&_.css("position")==="static"?!1:m.test(_.css("overflow")+_.css("overflow-y")+_.css("overflow-x"))}).eq(0);return h!=="fixed"&&b.length?b:e(this[0].ownerDocument||document)},uniqueId:function(){var s=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(s){return function(h){return!!e.data(h,s)}}):function(s,h,g){return!!e.data(s,g[3])},focusable:function(s){return t(s,!isNaN(e.attr(s,"tabindex")))},tabbable:function(s){var h=e.attr(s,"tabindex"),g=isNaN(h);return(g||h>=0)&&t(s,!g)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(s,h){function g(E,R,j,H){return e.each(m,function(){R-=parseFloat(e.css(E,"padding"+this))||0,j&&(R-=parseFloat(e.css(E,"border"+this+"Width"))||0),H&&(R-=parseFloat(e.css(E,"margin"+this))||0)}),R}var m=h==="Width"?["Left","Right"]:["Top","Bottom"],b=h.toLowerCase(),_={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+h]=function(E){return E===void 0?_["inner"+h].call(this):this.each(function(){e(this).css(b,g(this,E)+"px")})},e.fn["outer"+h]=function(E,R){return typeof E!="number"?_["outer"+h].call(this,E):this.each(function(){e(this).css(b,g(this,E,!0,R)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(s){return this.add(s==null?this.prevObject:this.prevObject.filter(s))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(s){return function(h){return arguments.length?s.call(this,e.camelCase(h)):s.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(s){return function(h,g){return typeof h=="number"?this.each(function(){var m=this;setTimeout(function(){e(m).focus(),g&&g.call(m)},h)}):s.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var s="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(s+".ui-disableSelection",function(h){h.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(s){if(s!==void 0)return this.css("zIndex",s);if(this.length)for(var h,g,m=e(this[0]);m.length&&m[0]!==document;){if(h=m.css("position"),(h==="absolute"||h==="relative"||h==="fixed")&&(g=parseInt(m.css("zIndex"),10),!isNaN(g)&&g!==0))return g;m=m.parent()}return 0}}),e.ui.plugin={add:function(s,h,g){var m,b=e.ui[s].prototype;for(m in g)b.plugins[m]=b.plugins[m]||[],b.plugins[m].push([h,g[m]])},call:function(s,h,g,m){var b,_=s.plugins[h];if(_&&(m||s.element[0].parentNode&&s.element[0].parentNode.nodeType!==11))for(b=0;_.length>b;b++)s.options[_[b][0]]&&_[b][1].apply(s.element,g)}};var d=0,f=Array.prototype.slice;e.cleanData=function(s){return function(h){var g,m,b;for(b=0;(m=h[b])!=null;b++)try{g=e._data(m,"events"),g&&g.remove&&e(m).triggerHandler("remove")}catch(_){}s(h)}}(e.cleanData),e.widget=function(s,h,g){var m,b,_,E,R={},j=s.split(".")[0];return s=s.split(".")[1],m=j+"-"+s,g||(g=h,h=e.Widget),e.expr[":"][m.toLowerCase()]=function(H){return!!e.data(H,m)},e[j]=e[j]||{},b=e[j][s],_=e[j][s]=function(H,G){return this._createWidget?(arguments.length&&this._createWidget(H,G),void 0):new _(H,G)},e.extend(_,b,{version:g.version,_proto:e.extend({},g),_childConstructors:[]}),E=new h,E.options=e.widget.extend({},E.options),e.each(g,function(H,G){return e.isFunction(G)?(R[H]=function(){var q=function(){return h.prototype[H].apply(this,arguments)},K=function(ue){return h.prototype[H].apply(this,ue)};return function(){var ue,te=this._super,D=this._superApply;return this._super=q,this._superApply=K,ue=G.apply(this,arguments),this._super=te,this._superApply=D,ue}}(),void 0):(R[H]=G,void 0)}),_.prototype=e.widget.extend(E,{widgetEventPrefix:b&&E.widgetEventPrefix||s},R,{constructor:_,namespace:j,widgetName:s,widgetFullName:m}),b?(e.each(b._childConstructors,function(H,G){var q=G.prototype;e.widget(q.namespace+"."+q.widgetName,_,G._proto)}),delete b._childConstructors):h._childConstructors.push(_),e.widget.bridge(s,_),_},e.widget.extend=function(s){for(var h,g,m=f.call(arguments,1),b=0,_=m.length;_>b;b++)for(h in m[b])g=m[b][h],m[b].hasOwnProperty(h)&&g!==void 0&&(s[h]=e.isPlainObject(g)?e.isPlainObject(s[h])?e.widget.extend({},s[h],g):e.widget.extend({},g):g);return s},e.widget.bridge=function(s,h){var g=h.prototype.widgetFullName||s;e.fn[s]=function(m){var b=typeof m=="string",_=f.call(arguments,1),E=this;return m=!b&&_.length?e.widget.extend.apply(null,[m].concat(_)):m,b?this.each(function(){var R,j=e.data(this,g);return m==="instance"?(E=j,!1):j?e.isFunction(j[m])&&m.charAt(0)!=="_"?(R=j[m].apply(j,_),R!==j&&R!==void 0?(E=R&&R.jquery?E.pushStack(R.get()):R,!1):void 0):e.error("no such method '"+m+"' for "+s+" widget instance"):e.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+m+"'")}):this.each(function(){var R=e.data(this,g);R?(R.option(m||{}),R._init&&R._init()):e.data(this,g,new h(m,this))}),E}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(s,h){h=e(h||this.defaultElement||this)[0],this.element=e(h),this.uuid=d++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),s),this.bindings=e(),this.hoverable=e(),this.focusable=e(),h!==this&&(e.data(h,this.widgetFullName,this),this._on(!0,this.element,{remove:function(g){g.target===h&&this.destroy()}}),this.document=e(h.style?h.ownerDocument:h.document||h),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(s,h){var g,m,b,_=s;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof s=="string")if(_={},g=s.split("."),s=g.shift(),g.length){for(m=_[s]=e.widget.extend({},this.options[s]),b=0;g.length-1>b;b++)m[g[b]]=m[g[b]]||{},m=m[g[b]];if(s=g.pop(),arguments.length===1)return m[s]===void 0?null:m[s];m[s]=h}else{if(arguments.length===1)return this.options[s]===void 0?null:this.options[s];_[s]=h}return this._setOptions(_),this},_setOptions:function(s){var h;for(h in s)this._setOption(h,s[h]);return this},_setOption:function(s,h){return this.options[s]=h,s==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!h),h&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(s,h,g){var m,b=this;typeof s!="boolean"&&(g=h,h=s,s=!1),g?(h=m=e(h),this.bindings=this.bindings.add(h)):(g=h,h=this.element,m=this.widget()),e.each(g,function(_,E){function R(){return s||b.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?(typeof E=="string"?b[E]:E).apply(b,arguments):void 0}typeof E!="string"&&(R.guid=E.guid=E.guid||R.guid||e.guid++);var j=_.match(/^([\w:-]*)\s*(.*)$/),H=j[1]+b.eventNamespace,G=j[2];G?m.delegate(G,H,R):h.bind(H,R)})},_off:function(s,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,s.unbind(h).undelegate(h)},_delay:function(s,h){function g(){return(typeof s=="string"?m[s]:s).apply(m,arguments)}var m=this;return setTimeout(g,h||0)},_hoverable:function(s){this.hoverable=this.hoverable.add(s),this._on(s,{mouseenter:function(h){e(h.currentTarget).addClass("ui-state-hover")},mouseleave:function(h){e(h.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(s){this.focusable=this.focusable.add(s),this._on(s,{focusin:function(h){e(h.currentTarget).addClass("ui-state-focus")},focusout:function(h){e(h.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(s,h,g){var m,b,_=this.options[s];if(g=g||{},h=e.Event(h),h.type=(s===this.widgetEventPrefix?s:this.widgetEventPrefix+s).toLowerCase(),h.target=this.element[0],b=h.originalEvent)for(m in b)m in h||(h[m]=b[m]);return this.element.trigger(h,g),!(e.isFunction(_)&&_.apply(this.element[0],[h].concat(g))===!1||h.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(s,h){e.Widget.prototype["_"+s]=function(g,m,b){typeof m=="string"&&(m={effect:m});var _,E=m?m===!0||typeof m=="number"?h:m.effect||h:s;m=m||{},typeof m=="number"&&(m={duration:m}),_=!e.isEmptyObject(m),m.complete=b,m.delay&&g.delay(m.delay),_&&e.effects&&e.effects.effect[E]?g[s](m):E!==s&&g[E]?g[E](m.duration,m.easing,b):g.queue(function(R){e(this)[s](),b&&b.call(g[0]),R()})}}),e.widget;var p=!1;e(document).mouseup(function(){p=!1}),e.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var s=this;this.element.bind("mousedown."+this.widgetName,function(h){return s._mouseDown(h)}).bind("click."+this.widgetName,function(h){return e.data(h.target,s.widgetName+".preventClickEvent")===!0?(e.removeData(h.target,s.widgetName+".preventClickEvent"),h.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(s){if(!p){this._mouseStarted&&this._mouseUp(s),this._mouseDownEvent=s;var h=this,g=s.which===1,m=typeof this.options.cancel=="string"&&s.target.nodeName?e(s.target).closest(this.options.cancel).length:!1;return g&&!m&&this._mouseCapture(s)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(s)&&this._mouseDelayMet(s)&&(this._mouseStarted=this._mouseStart(s)!==!1,!this._mouseStarted)?(s.preventDefault(),!0):(e.data(s.target,this.widgetName+".preventClickEvent")===!0&&e.removeData(s.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return h._mouseMove(b)},this._mouseUpDelegate=function(b){return h._mouseUp(b)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),s.preventDefault(),p=!0,!0)):!0}},_mouseMove:function(s){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!s.button?this._mouseUp(s):s.which?this._mouseStarted?(this._mouseDrag(s),s.preventDefault()):(this._mouseDistanceMet(s)&&this._mouseDelayMet(s)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,s)!==!1,this._mouseStarted?this._mouseDrag(s):this._mouseUp(s)),!this._mouseStarted):this._mouseUp(s)},_mouseUp:function(s){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,s.target===this._mouseDownEvent.target&&e.data(s.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(s)),p=!1,!1},_mouseDistanceMet:function(s){return Math.max(Math.abs(this._mouseDownEvent.pageX-s.pageX),Math.abs(this._mouseDownEvent.pageY-s.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function s(te,D,J){return[parseFloat(te[0])*(K.test(te[0])?D/100:1),parseFloat(te[1])*(K.test(te[1])?J/100:1)]}function h(te,D){return parseInt(e.css(te,D),10)||0}function g(te){var D=te[0];return D.nodeType===9?{width:te.width(),height:te.height(),offset:{top:0,left:0}}:e.isWindow(D)?{width:te.width(),height:te.height(),offset:{top:te.scrollTop(),left:te.scrollLeft()}}:D.preventDefault?{width:0,height:0,offset:{top:D.pageY,left:D.pageX}}:{width:te.outerWidth(),height:te.outerHeight(),offset:te.offset()}}e.ui=e.ui||{};var m,b,_=Math.max,E=Math.abs,R=Math.round,j=/left|center|right/,H=/top|center|bottom/,G=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,K=/%$/,ue=e.fn.position;e.position={scrollbarWidth:function(){if(m!==void 0)return m;var te,D,J=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),Q=J.children()[0];return e("body").append(J),te=Q.offsetWidth,J.css("overflow","scroll"),D=Q.offsetWidth,te===D&&(D=J[0].clientWidth),J.remove(),m=te-D},getScrollInfo:function(te){var D=te.isWindow||te.isDocument?"":te.element.css("overflow-x"),J=te.isWindow||te.isDocument?"":te.element.css("overflow-y"),Q=D==="scroll"||D==="auto"&&te.width<te.element[0].scrollWidth,ne=J==="scroll"||J==="auto"&&te.height<te.element[0].scrollHeight;return{width:ne?e.position.scrollbarWidth():0,height:Q?e.position.scrollbarWidth():0}},getWithinInfo:function(te){var D=e(te||window),J=e.isWindow(D[0]),Q=!!D[0]&&D[0].nodeType===9;return{element:D,isWindow:J,isDocument:Q,offset:D.offset()||{left:0,top:0},scrollLeft:D.scrollLeft(),scrollTop:D.scrollTop(),width:J||Q?D.width():D.outerWidth(),height:J||Q?D.height():D.outerHeight()}}},e.fn.position=function(te){if(!te||!te.of)return ue.apply(this,arguments);te=e.extend({},te);var D,J,Q,ne,ie,W,V=e(te.of),se=e.position.getWithinInfo(te.within),Ae=e.position.getScrollInfo(se),Oe=(te.collision||"flip").split(" "),je={};return W=g(V),V[0].preventDefault&&(te.at="left top"),J=W.width,Q=W.height,ne=W.offset,ie=e.extend({},ne),e.each(["my","at"],function(){var De,Se,de=(te[this]||"").split(" ");de.length===1&&(de=j.test(de[0])?de.concat(["center"]):H.test(de[0])?["center"].concat(de):["center","center"]),de[0]=j.test(de[0])?de[0]:"center",de[1]=H.test(de[1])?de[1]:"center",De=G.exec(de[0]),Se=G.exec(de[1]),je[this]=[De?De[0]:0,Se?Se[0]:0],te[this]=[q.exec(de[0])[0],q.exec(de[1])[0]]}),Oe.length===1&&(Oe[1]=Oe[0]),te.at[0]==="right"?ie.left+=J:te.at[0]==="center"&&(ie.left+=J/2),te.at[1]==="bottom"?ie.top+=Q:te.at[1]==="center"&&(ie.top+=Q/2),D=s(je.at,J,Q),ie.left+=D[0],ie.top+=D[1],this.each(function(){var De,Se,de=e(this),Xe=de.outerWidth(),ht=de.outerHeight(),nt=h(this,"marginLeft"),lt=h(this,"marginTop"),ot=Xe+nt+h(this,"marginRight")+Ae.width,ve=ht+lt+h(this,"marginBottom")+Ae.height,pe=e.extend({},ie),tt=s(je.my,de.outerWidth(),de.outerHeight());te.my[0]==="right"?pe.left-=Xe:te.my[0]==="center"&&(pe.left-=Xe/2),te.my[1]==="bottom"?pe.top-=ht:te.my[1]==="center"&&(pe.top-=ht/2),pe.left+=tt[0],pe.top+=tt[1],b||(pe.left=R(pe.left),pe.top=R(pe.top)),De={marginLeft:nt,marginTop:lt},e.each(["left","top"],function(xe,Ce){e.ui.position[Oe[xe]]&&e.ui.position[Oe[xe]][Ce](pe,{targetWidth:J,targetHeight:Q,elemWidth:Xe,elemHeight:ht,collisionPosition:De,collisionWidth:ot,collisionHeight:ve,offset:[D[0]+tt[0],D[1]+tt[1]],my:te.my,at:te.at,within:se,elem:de})}),te.using&&(Se=function(xe){var Ce=ne.left-pe.left,Ue=Ce+J-Xe,Te=ne.top-pe.top,it=Te+Q-ht,Me={target:{element:V,left:ne.left,top:ne.top,width:J,height:Q},element:{element:de,left:pe.left,top:pe.top,width:Xe,height:ht},horizontal:0>Ue?"left":Ce>0?"right":"center",vertical:0>it?"top":Te>0?"bottom":"middle"};Xe>J&&J>E(Ce+Ue)&&(Me.horizontal="center"),ht>Q&&Q>E(Te+it)&&(Me.vertical="middle"),Me.important=_(E(Ce),E(Ue))>_(E(Te),E(it))?"horizontal":"vertical",te.using.call(this,xe,Me)}),de.offset(e.extend(pe,{using:Se}))})},e.ui.position={fit:{left:function(te,D){var J,Q=D.within,ne=Q.isWindow?Q.scrollLeft:Q.offset.left,ie=Q.width,W=te.left-D.collisionPosition.marginLeft,V=ne-W,se=W+D.collisionWidth-ie-ne;D.collisionWidth>ie?V>0&&0>=se?(J=te.left+V+D.collisionWidth-ie-ne,te.left+=V-J):te.left=se>0&&0>=V?ne:V>se?ne+ie-D.collisionWidth:ne:V>0?te.left+=V:se>0?te.left-=se:te.left=_(te.left-W,te.left)},top:function(te,D){var J,Q=D.within,ne=Q.isWindow?Q.scrollTop:Q.offset.top,ie=D.within.height,W=te.top-D.collisionPosition.marginTop,V=ne-W,se=W+D.collisionHeight-ie-ne;D.collisionHeight>ie?V>0&&0>=se?(J=te.top+V+D.collisionHeight-ie-ne,te.top+=V-J):te.top=se>0&&0>=V?ne:V>se?ne+ie-D.collisionHeight:ne:V>0?te.top+=V:se>0?te.top-=se:te.top=_(te.top-W,te.top)}},flip:{left:function(te,D){var J,Q,ne=D.within,ie=ne.offset.left+ne.scrollLeft,W=ne.width,V=ne.isWindow?ne.scrollLeft:ne.offset.left,se=te.left-D.collisionPosition.marginLeft,Ae=se-V,Oe=se+D.collisionWidth-W-V,je=D.my[0]==="left"?-D.elemWidth:D.my[0]==="right"?D.elemWidth:0,De=D.at[0]==="left"?D.targetWidth:D.at[0]==="right"?-D.targetWidth:0,Se=-2*D.offset[0];0>Ae?(J=te.left+je+De+Se+D.collisionWidth-W-ie,(0>J||E(Ae)>J)&&(te.left+=je+De+Se)):Oe>0&&(Q=te.left-D.collisionPosition.marginLeft+je+De+Se-V,(Q>0||Oe>E(Q))&&(te.left+=je+De+Se))},top:function(te,D){var J,Q,ne=D.within,ie=ne.offset.top+ne.scrollTop,W=ne.height,V=ne.isWindow?ne.scrollTop:ne.offset.top,se=te.top-D.collisionPosition.marginTop,Ae=se-V,Oe=se+D.collisionHeight-W-V,je=D.my[1]==="top",De=je?-D.elemHeight:D.my[1]==="bottom"?D.elemHeight:0,Se=D.at[1]==="top"?D.targetHeight:D.at[1]==="bottom"?-D.targetHeight:0,de=-2*D.offset[1];0>Ae?(Q=te.top+De+Se+de+D.collisionHeight-W-ie,te.top+De+Se+de>Ae&&(0>Q||E(Ae)>Q)&&(te.top+=De+Se+de)):Oe>0&&(J=te.top-D.collisionPosition.marginTop+De+Se+de-V,te.top+De+Se+de>Oe&&(J>0||Oe>E(J))&&(te.top+=De+Se+de))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var te,D,J,Q,ne,ie=document.getElementsByTagName("body")[0],W=document.createElement("div");te=document.createElement(ie?"div":"body"),J={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},ie&&e.extend(J,{position:"absolute",left:"-1000px",top:"-1000px"});for(ne in J)te.style[ne]=J[ne];te.appendChild(W),D=ie||document.documentElement,D.insertBefore(te,D.firstChild),W.style.cssText="position: absolute; left: 10.7432222px;",Q=e(W).offset().left,b=Q>10&&11>Q,te.innerHTML="",D.removeChild(te)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var s=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),s.collapsible||s.active!==!1&&s.active!=null||(s.active=0),this._processPanels(),0>s.active&&(s.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var s=this.options.icons;s&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+s.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(s.header).addClass(s.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var s;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),s=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&s.css("height","")},_setOption:function(s,h){return s==="active"?(this._activate(h),void 0):(s==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(h)),this._super(s,h),s!=="collapsible"||h||this.options.active!==!1||this._activate(0),s==="icons"&&(this._destroyIcons(),h&&this._createIcons()),s==="disabled"&&(this.element.toggleClass("ui-state-disabled",!!h).attr("aria-disabled",h),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!h)),void 0)},_keydown:function(s){if(!s.altKey&&!s.ctrlKey){var h=e.ui.keyCode,g=this.headers.length,m=this.headers.index(s.target),b=!1;switch(s.keyCode){case h.RIGHT:case h.DOWN:b=this.headers[(m+1)%g];break;case h.LEFT:case h.UP:b=this.headers[(m-1+g)%g];break;case h.SPACE:case h.ENTER:this._eventHandler(s);break;case h.HOME:b=this.headers[0];break;case h.END:b=this.headers[g-1]}b&&(e(s.target).attr("tabIndex",-1),e(b).attr("tabIndex",0),b.focus(),s.preventDefault())}},_panelKeyDown:function(s){s.keyCode===e.ui.keyCode.UP&&s.ctrlKey&&e(s.currentTarget).prev().focus()},refresh:function(){var s=this.options;this._processPanels(),s.active===!1&&s.collapsible===!0||!this.headers.length?(s.active=!1,this.active=e()):s.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(s.active=!1,this.active=e()):this._activate(Math.max(0,s.active-1)):s.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var s,h=this.options,g=h.heightStyle,m=this.element.parent();this.active=this._findActive(h.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var b=e(this),_=b.uniqueId().attr("id"),E=b.next(),R=E.uniqueId().attr("id");b.attr("aria-controls",R),E.attr("aria-labelledby",_)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(h.event),g==="fill"?(s=m.height(),this.element.siblings(":visible").each(function(){var b=e(this),_=b.css("position");_!=="absolute"&&_!=="fixed"&&(s-=b.outerHeight(!0))}),this.headers.each(function(){s-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,s-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):g==="auto"&&(s=0,this.headers.next().each(function(){s=Math.max(s,e(this).css("height","").height())}).height(s))},_activate:function(s){var h=this._findActive(s)[0];h!==this.active[0]&&(h=h||this.active[0],this._eventHandler({target:h,currentTarget:h,preventDefault:e.noop}))},_findActive:function(s){return typeof s=="number"?this.headers.eq(s):e()},_setupEvents:function(s){var h={keydown:"_keydown"};s&&e.each(s.split(" "),function(g,m){h[m]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,h),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(s){var h=this.options,g=this.active,m=e(s.currentTarget),b=m[0]===g[0],_=b&&h.collapsible,E=_?e():m.next(),R=g.next(),j={oldHeader:g,oldPanel:R,newHeader:_?e():m,newPanel:E};s.preventDefault(),b&&!h.collapsible||this._trigger("beforeActivate",s,j)===!1||(h.active=_?!1:this.headers.index(m),this.active=b?e():m,this._toggle(j),g.removeClass("ui-accordion-header-active ui-state-active"),h.icons&&g.children(".ui-accordion-header-icon").removeClass(h.icons.activeHeader).addClass(h.icons.header),b||(m.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),h.icons&&m.children(".ui-accordion-header-icon").removeClass(h.icons.header).addClass(h.icons.activeHeader),m.next().addClass("ui-accordion-content-active")))},_toggle:function(s){var h=s.newPanel,g=this.prevShow.length?this.prevShow:s.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=h,this.prevHide=g,this.options.animate?this._animate(h,g,s):(g.hide(),h.show(),this._toggleComplete(s)),g.attr({"aria-hidden":"true"}),g.prev().attr("aria-selected","false"),h.length&&g.length?g.prev().attr({tabIndex:-1,"aria-expanded":"false"}):h.length&&this.headers.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),h.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(s,h,g){var m,b,_,E=this,R=0,j=s.length&&(!h.length||s.index()<h.index()),H=this.options.animate||{},G=j&&H.down||H,q=function(){E._toggleComplete(g)};return typeof G=="number"&&(_=G),typeof G=="string"&&(b=G),b=b||G.easing||H.easing,_=_||G.duration||H.duration,h.length?s.length?(m=s.show().outerHeight(),h.animate(this.hideProps,{duration:_,easing:b,step:function(K,ue){ue.now=Math.round(K)}}),s.hide().animate(this.showProps,{duration:_,easing:b,complete:q,step:function(K,ue){ue.now=Math.round(K),ue.prop!=="height"?R+=ue.now:E.options.heightStyle!=="content"&&(ue.now=Math.round(m-h.outerHeight()-R),R=0)}}),void 0):h.animate(this.hideProps,_,b,q):s.animate(this.showProps,_,b,q)},_toggleComplete:function(s){var h=s.oldPanel;h.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),h.length&&(h.parent()[0].className=h.parent()[0].className),this._trigger("activate",null,s)}}),e.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(s){s.preventDefault()},"click .ui-menu-item":function(s){var h=e(s.target);!this.mouseHandled&&h.not(".ui-state-disabled").length&&(this.select(s),s.isPropagationStopped()||(this.mouseHandled=!0),h.has(".ui-menu").length?this.expand(s):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(s){var h=e(s.currentTarget);h.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(s,h)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(s,h){var g=this.active||this.element.find(this.options.items).eq(0);h||this.focus(s,g)},blur:function(s){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(s)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(s){this._closeOnDocumentClick(s)&&this.collapseAll(s),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var s=e(this);s.data("ui-menu-submenu-carat")&&s.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(s){function h(j){return j.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var g,m,b,_,E,R=!0;switch(s.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(s);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(s);break;case e.ui.keyCode.HOME:this._move("first","first",s);break;case e.ui.keyCode.END:this._move("last","last",s);break;case e.ui.keyCode.UP:this.previous(s);break;case e.ui.keyCode.DOWN:this.next(s);break;case e.ui.keyCode.LEFT:this.collapse(s);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(s);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(s);break;case e.ui.keyCode.ESCAPE:this.collapse(s);break;default:R=!1,m=this.previousFilter||"",b=String.fromCharCode(s.keyCode),_=!1,clearTimeout(this.filterTimer),b===m?_=!0:b=m+b,E=RegExp("^"+h(b),"i"),g=this.activeMenu.find(this.options.items).filter(function(){return E.test(e(this).text())}),g=_&&g.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):g,g.length||(b=String.fromCharCode(s.keyCode),E=RegExp("^"+h(b),"i"),g=this.activeMenu.find(this.options.items).filter(function(){return E.test(e(this).text())})),g.length?(this.focus(s,g),g.length>1?(this.previousFilter=b,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}R&&s.preventDefault()},_activate:function(s){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(s):this.select(s))},refresh:function(){var s,h,g=this,m=this.options.icons.submenu,b=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var _=e(this),E=_.parent(),R=e("<span>").addClass("ui-menu-icon ui-icon "+m).data("ui-menu-submenu-carat",!0);E.attr("aria-haspopup","true").prepend(R),_.attr("aria-labelledby",E.attr("id"))}),s=b.add(this.element),h=s.find(this.options.items),h.not(".ui-menu-item").each(function(){var _=e(this);g._isDivider(_)&&_.addClass("ui-widget-content ui-menu-divider")}),h.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),h.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(s,h){s==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(h.submenu),s==="disabled"&&this.element.toggleClass("ui-state-disabled",!!h).attr("aria-disabled",h),this._super(s,h)},focus:function(s,h){var g,m;this.blur(s,s&&s.type==="focus"),this._scrollIntoView(h),this.active=h.first(),m=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",m.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),s&&s.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),g=h.children(".ui-menu"),g.length&&s&&/^mouse/.test(s.type)&&this._startOpening(g),this.activeMenu=h.parent(),this._trigger("focus",s,{item:h})},_scrollIntoView:function(s){var h,g,m,b,_,E;this._hasScroll()&&(h=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,g=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,m=s.offset().top-this.activeMenu.offset().top-h-g,b=this.activeMenu.scrollTop(),_=this.activeMenu.height(),E=s.outerHeight(),0>m?this.activeMenu.scrollTop(b+m):m+E>_&&this.activeMenu.scrollTop(b+m-_+E))},blur:function(s,h){h||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",s,{item:this.active}))},_startOpening:function(s){clearTimeout(this.timer),s.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(s)},this.delay))},_open:function(s){var h=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(s.parents(".ui-menu")).hide().attr("aria-hidden","true"),s.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(h)},collapseAll:function(s,h){clearTimeout(this.timer),this.timer=this._delay(function(){var g=h?this.element:e(s&&s.target).closest(this.element.find(".ui-menu"));g.length||(g=this.element),this._close(g),this.blur(s),this.activeMenu=g},this.delay)},_close:function(s){s||(s=this.active?this.active.parent():this.element),s.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(s){return!e(s.target).closest(".ui-menu").length},_isDivider:function(s){return!/[^\-\u2014\u2013\s]/.test(s.text())},collapse:function(s){var h=this.active&&this.active.parent().closest(".ui-menu-item",this.element);h&&h.length&&(this._close(),this.focus(s,h))},expand:function(s){var h=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();h&&h.length&&(this._open(h.parent()),this._delay(function(){this.focus(s,h)}))},next:function(s){this._move("next","first",s)},previous:function(s){this._move("prev","last",s)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(s,h,g){var m;this.active&&(m=s==="first"||s==="last"?this.active[s==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[s+"All"](".ui-menu-item").eq(0)),m&&m.length&&this.active||(m=this.activeMenu.find(this.options.items)[h]()),this.focus(g,m)},nextPage:function(s){var h,g,m;return this.active?(this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,m=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return h=e(this),0>h.offset().top-g-m}),this.focus(s,h)):this.focus(s,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(s),void 0)},previousPage:function(s){var h,g,m;return this.active?(this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,m=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return h=e(this),h.offset().top-g+m>0}),this.focus(s,h)):this.focus(s,this.activeMenu.find(this.options.items).first())),void 0):(this.next(s),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(s){this.active=this.active||e(s.target).closest(".ui-menu-item");var h={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(s,!0),this._trigger("select",s,h)}}),e.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var s,h,g,m=this.element[0].nodeName.toLowerCase(),b=m==="textarea",_=m==="input";this.isMultiLine=b?!0:_?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[b||_?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(E){if(this.element.prop("readOnly"))return s=!0,g=!0,h=!0,void 0;s=!1,g=!1,h=!1;var R=e.ui.keyCode;switch(E.keyCode){case R.PAGE_UP:s=!0,this._move("previousPage",E);break;case R.PAGE_DOWN:s=!0,this._move("nextPage",E);break;case R.UP:s=!0,this._keyEvent("previous",E);break;case R.DOWN:s=!0,this._keyEvent("next",E);break;case R.ENTER:this.menu.active&&(s=!0,E.preventDefault(),this.menu.select(E));break;case R.TAB:this.menu.active&&this.menu.select(E);break;case R.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(E),E.preventDefault());break;default:h=!0,this._searchTimeout(E)}},keypress:function(E){if(s)return s=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&E.preventDefault(),void 0;if(!h){var R=e.ui.keyCode;switch(E.keyCode){case R.PAGE_UP:this._move("previousPage",E);break;case R.PAGE_DOWN:this._move("nextPage",E);break;case R.UP:this._keyEvent("previous",E);break;case R.DOWN:this._keyEvent("next",E)}}},input:function(E){return g?(g=!1,E.preventDefault(),void 0):(this._searchTimeout(E),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(E){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(E),this._change(E),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(E){E.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var R=this.menu.element[0];e(E.target).closest(".ui-menu-item").length||this._delay(function(){var j=this;this.document.one("mousedown",function(H){H.target===j.element[0]||H.target===R||e.contains(R,H.target)||j.close()})})},menufocus:function(E,R){var j,H;return this.isNewMenu&&(this.isNewMenu=!1,E.originalEvent&&/^mouse/.test(E.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(E.target).trigger(E.originalEvent)}),void 0):(H=R.item.data("ui-autocomplete-item"),this._trigger("focus",E,{item:H})!==!1&&E.originalEvent&&/^key/.test(E.originalEvent.type)&&this._value(H.value),j=R.item.attr("aria-label")||H.value,j&&e.trim(j).length&&(this.liveRegion.children().hide(),e("<div>").text(j).appendTo(this.liveRegion)),void 0)},menuselect:function(E,R){var j=R.item.data("ui-autocomplete-item"),H=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=H,this._delay(function(){this.previous=H,this.selectedItem=j})),this._trigger("select",E,{item:j})!==!1&&this._value(j.value),this.term=this._value(),this.close(E),this.selectedItem=j}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(s,h){this._super(s,h),s==="source"&&this._initSource(),s==="appendTo"&&this.menu.element.appendTo(this._appendTo()),s==="disabled"&&h&&this.xhr&&this.xhr.abort()},_appendTo:function(){var s=this.options.appendTo;return s&&(s=s.jquery||s.nodeType?e(s):this.document.find(s).eq(0)),s&&s[0]||(s=this.element.closest(".ui-front")),s.length||(s=this.document[0].body),s},_initSource:function(){var s,h,g=this;e.isArray(this.options.source)?(s=this.options.source,this.source=function(m,b){b(e.ui.autocomplete.filter(s,m.term))}):typeof this.options.source=="string"?(h=this.options.source,this.source=function(m,b){g.xhr&&g.xhr.abort(),g.xhr=e.ajax({url:h,data:m,dataType:"json",success:function(_){b(_)},error:function(){b([])}})}):this.source=this.options.source},_searchTimeout:function(s){clearTimeout(this.searching),this.searching=this._delay(function(){var h=this.term===this._value(),g=this.menu.element.is(":visible"),m=s.altKey||s.ctrlKey||s.metaKey||s.shiftKey;(!h||h&&!g&&!m)&&(this.selectedItem=null,this.search(null,s))},this.options.delay)},search:function(s,h){return s=s!=null?s:this._value(),this.term=this._value(),s.length<this.options.minLength?this.close(h):this._trigger("search",h)!==!1?this._search(s):void 0},_search:function(s){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:s},this._response())},_response:function(){var s=++this.requestIndex;return e.proxy(function(h){s===this.requestIndex&&this.__response(h),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(s){s&&(s=this._normalize(s)),this._trigger("response",null,{content:s}),!this.options.disabled&&s&&s.length&&!this.cancelSearch?(this._suggest(s),this._trigger("open")):this._close()},close:function(s){this.cancelSearch=!0,this._close(s)},_close:function(s){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",s))},_change:function(s){this.previous!==this._value()&&this._trigger("change",s,{item:this.selectedItem})},_normalize:function(s){return s.length&&s[0].label&&s[0].value?s:e.map(s,function(h){return typeof h=="string"?{label:h,value:h}:e.extend({},h,{label:h.label||h.value,value:h.value||h.label})})},_suggest:function(s){var h=this.menu.element.empty();this._renderMenu(h,s),this.isNewMenu=!0,this.menu.refresh(),h.show(),this._resizeMenu(),h.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var s=this.menu.element;s.outerWidth(Math.max(s.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(s,h){var g=this;e.each(h,function(m,b){g._renderItemData(s,b)})},_renderItemData:function(s,h){return this._renderItem(s,h).data("ui-autocomplete-item",h)},_renderItem:function(s,h){return e("<li>").text(h.label).appendTo(s)},_move:function(s,h){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(s)||this.menu.isLastItem()&&/^next/.test(s)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[s](h),void 0):(this.search(null,h),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(s,h){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(s,h),h.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(s,h){var g=RegExp(e.ui.autocomplete.escapeRegex(h),"i");return e.grep(s,function(m){return g.test(m.label||m.value||m)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(s){return s+(s>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(s){var h;this._superApply(arguments),this.options.disabled||this.cancelSearch||(h=s&&s.length?this.options.messages.results(s.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(h).appendTo(this.liveRegion))}}),e.ui.autocomplete;var v,y="ui-button ui-widget ui-state-default ui-corner-all",w="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",k=function(){var s=e(this);setTimeout(function(){s.find(":ui-button").button("refresh")},1)},A=function(s){var h=s.name,g=s.form,m=e([]);return h&&(h=h.replace(/'/g,"\\'"),m=g?e(g).find("[name='"+h+"'][type=radio]"):e("[name='"+h+"'][type=radio]",s.ownerDocument).filter(function(){return!this.form})),m};e.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,k),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var s=this,h=this.options,g=this.type==="checkbox"||this.type==="radio",m=g?"":"ui-state-active";h.label===null&&(h.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(y).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){h.disabled||this===v&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){h.disabled||e(this).removeClass(m)}).bind("click"+this.eventNamespace,function(b){h.disabled&&(b.preventDefault(),b.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),g&&this.element.bind("change"+this.eventNamespace,function(){s.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){return h.disabled?!1:void 0}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled)return!1;e(this).addClass("ui-state-active"),s.buttonElement.attr("aria-pressed","true");var b=s.element[0];A(b).not(b).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return h.disabled?!1:(e(this).addClass("ui-state-active"),v=this,s.document.one("mouseup",function(){v=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return h.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(b){return h.disabled?!1:((b.keyCode===e.ui.keyCode.SPACE||b.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){var s,h,g;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(s=this.element.parents().last(),h="label[for='"+this.element.attr("id")+"']",this.buttonElement=s.find(h),this.buttonElement.length||(s=s.length?s.siblings():this.element.siblings(),this.buttonElement=s.filter(h),this.buttonElement.length||(this.buttonElement=s.find(h))),this.element.addClass("ui-helper-hidden-accessible"),g=this.element.is(":checked"),g&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",g)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(y+" ui-state-active "+w).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(s,h){return this._super(s,h),s==="disabled"?(this.widget().toggleClass("ui-state-disabled",!!h),this.element.prop("disabled",!!h),h&&(this.type==="checkbox"||this.type==="radio"?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var s=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");s!==this.options.disabled&&this._setOption("disabled",s),this.type==="radio"?A(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")return this.options.label&&this.element.val(this.options.label),void 0;var s=this.buttonElement.removeClass(w),h=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(s.empty()).text(),g=this.options.icons,m=g.primary&&g.secondary,b=[];g.primary||g.secondary?(this.options.text&&b.push("ui-button-text-icon"+(m?"s":g.primary?"-primary":"-secondary")),g.primary&&s.prepend("<span class='ui-button-icon-primary ui-icon "+g.primary+"'></span>"),g.secondary&&s.append("<span class='ui-button-icon-secondary ui-icon "+g.secondary+"'></span>"),this.options.text||(b.push(m?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||s.attr("title",e.trim(h)))):b.push("ui-button-text-only"),s.addClass(b.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(s,h){s==="disabled"&&this.buttons.button("option",s,h),this._super(s,h)},refresh:function(){var s=this.element.css("direction")==="rtl",h=this.element.find(this.options.items),g=h.filter(":ui-button");h.not(":ui-button").button(),g.button("refresh"),this.buttons=h.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(s?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(s?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.1"}});var C;e.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(s){return n(this._defaults,s||{}),this},_attachDatepicker:function(s,h){var g,m,b;g=s.nodeName.toLowerCase(),m=g==="div"||g==="span",s.id||(this.uuid+=1,s.id="dp"+this.uuid),b=this._newInst(e(s),m),b.settings=e.extend({},h||{}),g==="input"?this._connectDatepicker(s,b):m&&this._inlineDatepicker(s,b)},_newInst:function(s,h){var g=s[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:g,input:s,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:h,dpDiv:h?o(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(s,h){var g=e(s);h.append=e([]),h.trigger=e([]),g.hasClass(this.markerClassName)||(this._attachments(g,h),g.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(h),e.data(s,"datepicker",h),h.settings.disabled&&this._disableDatepicker(s))},_attachments:function(s,h){var g,m,b,_=this._get(h,"appendText"),E=this._get(h,"isRTL");h.append&&h.append.remove(),_&&(h.append=e("<span class='"+this._appendClass+"'>"+_+"</span>"),s[E?"before":"after"](h.append)),s.unbind("focus",this._showDatepicker),h.trigger&&h.trigger.remove(),g=this._get(h,"showOn"),(g==="focus"||g==="both")&&s.focus(this._showDatepicker),(g==="button"||g==="both")&&(m=this._get(h,"buttonText"),b=this._get(h,"buttonImage"),h.trigger=e(this._get(h,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:b,alt:m,title:m}):e("<button type='button'></button>").addClass(this._triggerClass).html(b?e("<img/>").attr({src:b,alt:m,title:m}):m)),s[E?"before":"after"](h.trigger),h.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===s[0]?e.datepicker._hideDatepicker():(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==s[0]&&e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(s[0])),!1}))},_autoSize:function(s){if(this._get(s,"autoSize")&&!s.inline){var h,g,m,b,_=new Date(2009,11,20),E=this._get(s,"dateFormat");E.match(/[DM]/)&&(h=function(R){for(g=0,m=0,b=0;R.length>b;b++)R[b].length>g&&(g=R[b].length,m=b);return m},_.setMonth(h(this._get(s,E.match(/MM/)?"monthNames":"monthNamesShort"))),_.setDate(h(this._get(s,E.match(/DD/)?"dayNames":"dayNamesShort"))+20-_.getDay())),s.input.attr("size",this._formatDate(s,_).length)}},_inlineDatepicker:function(s,h){var g=e(s);g.hasClass(this.markerClassName)||(g.addClass(this.markerClassName).append(h.dpDiv),e.data(s,"datepicker",h),this._setDate(h,this._getDefaultDate(h),!0),this._updateDatepicker(h),this._updateAlternate(h),h.settings.disabled&&this._disableDatepicker(s),h.dpDiv.css("display","block"))},_dialogDatepicker:function(s,h,g,m,b){var _,E,R,j,H,G=this._dialogInst;return G||(this.uuid+=1,_="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+_+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),G=this._dialogInst=this._newInst(this._dialogInput,!1),G.settings={},e.data(this._dialogInput[0],"datepicker",G)),n(G.settings,m||{}),h=h&&h.constructor===Date?this._formatDate(G,h):h,this._dialogInput.val(h),this._pos=b?b.length?b:[b.pageX,b.pageY]:null,this._pos||(E=document.documentElement.clientWidth,R=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,H=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[E/2-100+j,R/2-150+H]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),G.settings.onSelect=g,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",G),this},_destroyDatepicker:function(s){var h,g=e(s),m=e.data(s,"datepicker");g.hasClass(this.markerClassName)&&(h=s.nodeName.toLowerCase(),e.removeData(s,"datepicker"),h==="input"?(m.append.remove(),m.trigger.remove(),g.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(h==="div"||h==="span")&&g.removeClass(this.markerClassName).empty())},_enableDatepicker:function(s){var h,g,m=e(s),b=e.data(s,"datepicker");m.hasClass(this.markerClassName)&&(h=s.nodeName.toLowerCase(),h==="input"?(s.disabled=!1,b.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(h==="div"||h==="span")&&(g=m.children("."+this._inlineClass),g.children().removeClass("ui-state-disabled"),g.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(_){return _===s?null:_}))},_disableDatepicker:function(s){var h,g,m=e(s),b=e.data(s,"datepicker");m.hasClass(this.markerClassName)&&(h=s.nodeName.toLowerCase(),h==="input"?(s.disabled=!0,b.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(h==="div"||h==="span")&&(g=m.children("."+this._inlineClass),g.children().addClass("ui-state-disabled"),g.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(_){return _===s?null:_}),this._disabledInputs[this._disabledInputs.length]=s)},_isDisabledDatepicker:function(s){if(!s)return!1;for(var h=0;this._disabledInputs.length>h;h++)if(this._disabledInputs[h]===s)return!0;return!1},_getInst:function(s){try{return e.data(s,"datepicker")}catch(h){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(s,h,g){var m,b,_,E,R=this._getInst(s);return arguments.length===2&&typeof h=="string"?h==="defaults"?e.extend({},e.datepicker._defaults):R?h==="all"?e.extend({},R.settings):this._get(R,h):null:(m=h||{},typeof h=="string"&&(m={},m[h]=g),R&&(this._curInst===R&&this._hideDatepicker(),b=this._getDateDatepicker(s,!0),_=this._getMinMaxDate(R,"min"),E=this._getMinMaxDate(R,"max"),n(R.settings,m),_!==null&&m.dateFormat!==void 0&&m.minDate===void 0&&(R.settings.minDate=this._formatDate(R,_)),E!==null&&m.dateFormat!==void 0&&m.maxDate===void 0&&(R.settings.maxDate=this._formatDate(R,E)),"disabled"in m&&(m.disabled?this._disableDatepicker(s):this._enableDatepicker(s)),this._attachments(e(s),R),this._autoSize(R),this._setDate(R,b),this._updateAlternate(R),this._updateDatepicker(R)),void 0)},_changeDatepicker:function(s,h,g){this._optionDatepicker(s,h,g)},_refreshDatepicker:function(s){var h=this._getInst(s);h&&this._updateDatepicker(h)},_setDateDatepicker:function(s,h){var g=this._getInst(s);g&&(this._setDate(g,h),this._updateDatepicker(g),this._updateAlternate(g))},_getDateDatepicker:function(s,h){var g=this._getInst(s);return g&&!g.inline&&this._setDateFromField(g,h),g?this._getDate(g):null},_doKeyDown:function(s){var h,g,m,b=e.datepicker._getInst(s.target),_=!0,E=b.dpDiv.is(".ui-datepicker-rtl");if(b._keyEvent=!0,e.datepicker._datepickerShowing)switch(s.keyCode){case 9:e.datepicker._hideDatepicker(),_=!1;break;case 13:return m=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",b.dpDiv),m[0]&&e.datepicker._selectDay(s.target,b.selectedMonth,b.selectedYear,m[0]),h=e.datepicker._get(b,"onSelect"),h?(g=e.datepicker._formatDate(b),h.apply(b.input?b.input[0]:null,[g,b])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(s.target,s.ctrlKey?-e.datepicker._get(b,"stepBigMonths"):-e.datepicker._get(b,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(s.target,s.ctrlKey?+e.datepicker._get(b,"stepBigMonths"):+e.datepicker._get(b,"stepMonths"),"M");break;case 35:(s.ctrlKey||s.metaKey)&&e.datepicker._clearDate(s.target),_=s.ctrlKey||s.metaKey;break;case 36:(s.ctrlKey||s.metaKey)&&e.datepicker._gotoToday(s.target),_=s.ctrlKey||s.metaKey;break;case 37:(s.ctrlKey||s.metaKey)&&e.datepicker._adjustDate(s.target,E?1:-1,"D"),_=s.ctrlKey||s.metaKey,s.originalEvent.altKey&&e.datepicker._adjustDate(s.target,s.ctrlKey?-e.datepicker._get(b,"stepBigMonths"):-e.datepicker._get(b,"stepMonths"),"M");break;case 38:(s.ctrlKey||s.metaKey)&&e.datepicker._adjustDate(s.target,-7,"D"),_=s.ctrlKey||s.metaKey;break;case 39:(s.ctrlKey||s.metaKey)&&e.datepicker._adjustDate(s.target,E?-1:1,"D"),_=s.ctrlKey||s.metaKey,s.originalEvent.altKey&&e.datepicker._adjustDate(s.target,s.ctrlKey?+e.datepicker._get(b,"stepBigMonths"):+e.datepicker._get(b,"stepMonths"),"M");break;case 40:(s.ctrlKey||s.metaKey)&&e.datepicker._adjustDate(s.target,7,"D"),_=s.ctrlKey||s.metaKey;break;default:_=!1}else s.keyCode===36&&s.ctrlKey?e.datepicker._showDatepicker(this):_=!1;_&&(s.preventDefault(),s.stopPropagation())},_doKeyPress:function(s){var h,g,m=e.datepicker._getInst(s.target);return e.datepicker._get(m,"constrainInput")?(h=e.datepicker._possibleChars(e.datepicker._get(m,"dateFormat")),g=String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),s.ctrlKey||s.metaKey||" ">g||!h||h.indexOf(g)>-1):void 0},_doKeyUp:function(s){var h,g=e.datepicker._getInst(s.target);if(g.input.val()!==g.lastVal)try{h=e.datepicker.parseDate(e.datepicker._get(g,"dateFormat"),g.input?g.input.val():null,e.datepicker._getFormatConfig(g)),h&&(e.datepicker._setDateFromField(g),e.datepicker._updateAlternate(g),e.datepicker._updateDatepicker(g))}catch(m){}return!0},_showDatepicker:function(s){if(s=s.target||s,s.nodeName.toLowerCase()!=="input"&&(s=e("input",s.parentNode)[0]),!e.datepicker._isDisabledDatepicker(s)&&e.datepicker._lastInput!==s){var h,g,m,b,_,E,R;h=e.datepicker._getInst(s),e.datepicker._curInst&&e.datepicker._curInst!==h&&(e.datepicker._curInst.dpDiv.stop(!0,!0),h&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),g=e.datepicker._get(h,"beforeShow"),m=g?g.apply(s,[s,h]):{},m!==!1&&(n(h.settings,m),h.lastVal=null,e.datepicker._lastInput=s,e.datepicker._setDateFromField(h),e.datepicker._inDialog&&(s.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(s),e.datepicker._pos[1]+=s.offsetHeight),b=!1,e(s).parents().each(function(){return b|=e(this).css("position")==="fixed",!b}),_={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,h.dpDiv.empty(),h.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(h),_=e.datepicker._checkOffset(h,_,b),h.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":b?"fixed":"absolute",display:"none",left:_.left+"px",top:_.top+"px"}),h.inline||(E=e.datepicker._get(h,"showAnim"),R=e.datepicker._get(h,"duration"),h.dpDiv.css("z-index",a(e(s))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[E]?h.dpDiv.show(E,e.datepicker._get(h,"showOptions"),R):h.dpDiv[E||"show"](E?R:null),e.datepicker._shouldFocusInput(h)&&h.input.focus(),e.datepicker._curInst=h))}},_updateDatepicker:function(s){this.maxRows=4,C=s,s.dpDiv.empty().append(this._generateHTML(s)),this._attachHandlers(s);var h,g=this._getNumberOfMonths(s),m=g[1],b=17,_=s.dpDiv.find("."+this._dayOverClass+" a");_.length>0&&u.apply(_.get(0)),s.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),m>1&&s.dpDiv.addClass("ui-datepicker-multi-"+m).css("width",b*m+"em"),s.dpDiv[(g[0]!==1||g[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),s.dpDiv[(this._get(s,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),s===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(s)&&s.input.focus(),s.yearshtml&&(h=s.yearshtml,setTimeout(function(){h===s.yearshtml&&s.yearshtml&&s.dpDiv.find("select.ui-datepicker-year:first").replaceWith(s.yearshtml),h=s.yearshtml=null},0))},_shouldFocusInput:function(s){return s.input&&s.input.is(":visible")&&!s.input.is(":disabled")&&!s.input.is(":focus")},_checkOffset:function(s,h,g){var m=s.dpDiv.outerWidth(),b=s.dpDiv.outerHeight(),_=s.input?s.input.outerWidth():0,E=s.input?s.input.outerHeight():0,R=document.documentElement.clientWidth+(g?0:e(document).scrollLeft()),j=document.documentElement.clientHeight+(g?0:e(document).scrollTop());return h.left-=this._get(s,"isRTL")?m-_:0,h.left-=g&&h.left===s.input.offset().left?e(document).scrollLeft():0,h.top-=g&&h.top===s.input.offset().top+E?e(document).scrollTop():0,h.left-=Math.min(h.left,h.left+m>R&&R>m?Math.abs(h.left+m-R):0),h.top-=Math.min(h.top,h.top+b>j&&j>b?Math.abs(b+E):0),h},_findPos:function(s){for(var h,g=this._getInst(s),m=this._get(g,"isRTL");s&&(s.type==="hidden"||s.nodeType!==1||e.expr.filters.hidden(s));)s=s[m?"previousSibling":"nextSibling"];return h=e(s).offset(),[h.left,h.top]},_hideDatepicker:function(s){var h,g,m,b,_=this._curInst;!_||s&&_!==e.data(s,"datepicker")||this._datepickerShowing&&(h=this._get(_,"showAnim"),g=this._get(_,"duration"),m=function(){e.datepicker._tidyDialog(_)},e.effects&&(e.effects.effect[h]||e.effects[h])?_.dpDiv.hide(h,e.datepicker._get(_,"showOptions"),g,m):_.dpDiv[h==="slideDown"?"slideUp":h==="fadeIn"?"fadeOut":"hide"](h?g:null,m),h||m(),this._datepickerShowing=!1,b=this._get(_,"onClose"),b&&b.apply(_.input?_.input[0]:null,[_.input?_.input.val():"",_]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(s){s.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(s){if(e.datepicker._curInst){var h=e(s.target),g=e.datepicker._getInst(h[0]);(h[0].id!==e.datepicker._mainDivId&&h.parents("#"+e.datepicker._mainDivId).length===0&&!h.hasClass(e.datepicker.markerClassName)&&!h.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||h.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==g)&&e.datepicker._hideDatepicker()}},_adjustDate:function(s,h,g){var m=e(s),b=this._getInst(m[0]);this._isDisabledDatepicker(m[0])||(this._adjustInstDate(b,h+(g==="M"?this._get(b,"showCurrentAtPos"):0),g),this._updateDatepicker(b))},_gotoToday:function(s){var h,g=e(s),m=this._getInst(g[0]);this._get(m,"gotoCurrent")&&m.currentDay?(m.selectedDay=m.currentDay,m.drawMonth=m.selectedMonth=m.currentMonth,m.drawYear=m.selectedYear=m.currentYear):(h=new Date,m.selectedDay=h.getDate(),m.drawMonth=m.selectedMonth=h.getMonth(),m.drawYear=m.selectedYear=h.getFullYear()),this._notifyChange(m),this._adjustDate(g)},_selectMonthYear:function(s,h,g){var m=e(s),b=this._getInst(m[0]);b["selected"+(g==="M"?"Month":"Year")]=b["draw"+(g==="M"?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10),this._notifyChange(b),this._adjustDate(m)},_selectDay:function(s,h,g,m){var b,_=e(s);e(m).hasClass(this._unselectableClass)||this._isDisabledDatepicker(_[0])||(b=this._getInst(_[0]),b.selectedDay=b.currentDay=e("a",m).html(),b.selectedMonth=b.currentMonth=h,b.selectedYear=b.currentYear=g,this._selectDate(s,this._formatDate(b,b.currentDay,b.currentMonth,b.currentYear)))},_clearDate:function(s){var h=e(s);this._selectDate(h,"")},_selectDate:function(s,h){var g,m=e(s),b=this._getInst(m[0]);h=h!=null?h:this._formatDate(b),b.input&&b.input.val(h),this._updateAlternate(b),g=this._get(b,"onSelect"),g?g.apply(b.input?b.input[0]:null,[h,b]):b.input&&b.input.trigger("change"),b.inline?this._updateDatepicker(b):(this._hideDatepicker(),this._lastInput=b.input[0],typeof b.input[0]!="object"&&b.input.focus(),this._lastInput=null)},_updateAlternate:function(s){var h,g,m,b=this._get(s,"altField");b&&(h=this._get(s,"altFormat")||this._get(s,"dateFormat"),g=this._getDate(s),m=this.formatDate(h,g,this._getFormatConfig(s)),e(b).each(function(){e(this).val(m)}))},noWeekends:function(s){var h=s.getDay();return[h>0&&6>h,""]},iso8601Week:function(s){var h,g=new Date(s.getTime());return g.setDate(g.getDate()+4-(g.getDay()||7)),h=g.getTime(),g.setMonth(0),g.setDate(1),Math.floor(Math.round((h-g)/864e5)/7)+1},parseDate:function(s,h,g){if(s==null||h==null)throw"Invalid arguments";if(h=typeof h=="object"?""+h:h+"",h==="")return null;var m,b,_,E,R=0,j=(g?g.shortYearCutoff:null)||this._defaults.shortYearCutoff,H=typeof j!="string"?j:new Date().getFullYear()%100+parseInt(j,10),G=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort,q=(g?g.dayNames:null)||this._defaults.dayNames,K=(g?g.monthNamesShort:null)||this._defaults.monthNamesShort,ue=(g?g.monthNames:null)||this._defaults.monthNames,te=-1,D=-1,J=-1,Q=-1,ne=!1,ie=function(Ae){var Oe=s.length>m+1&&s.charAt(m+1)===Ae;return Oe&&m++,Oe},W=function(Ae){var Oe=ie(Ae),je=Ae==="@"?14:Ae==="!"?20:Ae==="y"&&Oe?4:Ae==="o"?3:2,De=Ae==="y"?je:1,Se=RegExp("^\\d{"+De+","+je+"}"),de=h.substring(R).match(Se);if(!de)throw"Missing number at position "+R;return R+=de[0].length,parseInt(de[0],10)},V=function(Ae,Oe,je){var De=-1,Se=e.map(ie(Ae)?je:Oe,function(de,Xe){return[[Xe,de]]}).sort(function(de,Xe){return-(de[1].length-Xe[1].length)});if(e.each(Se,function(de,Xe){var ht=Xe[1];return h.substr(R,ht.length).toLowerCase()===ht.toLowerCase()?(De=Xe[0],R+=ht.length,!1):void 0}),De!==-1)return De+1;throw"Unknown name at position "+R},se=function(){if(h.charAt(R)!==s.charAt(m))throw"Unexpected literal at position "+R;R++};for(m=0;s.length>m;m++)if(ne)s.charAt(m)!=="'"||ie("'")?se():ne=!1;else switch(s.charAt(m)){case"d":J=W("d");break;case"D":V("D",G,q);break;case"o":Q=W("o");break;case"m":D=W("m");break;case"M":D=V("M",K,ue);break;case"y":te=W("y");break;case"@":E=new Date(W("@")),te=E.getFullYear(),D=E.getMonth()+1,J=E.getDate();break;case"!":E=new Date((W("!")-this._ticksTo1970)/1e4),te=E.getFullYear(),D=E.getMonth()+1,J=E.getDate();break;case"'":ie("'")?se():ne=!0;break;default:se()}if(h.length>R&&(_=h.substr(R),!/^\s+/.test(_)))throw"Extra/unparsed characters found in date: "+_;if(te===-1?te=new Date().getFullYear():100>te&&(te+=new Date().getFullYear()-new Date().getFullYear()%100+(H>=te?0:-100)),Q>-1)for(D=1,J=Q;b=this._getDaysInMonth(te,D-1),!(b>=J);)D++,J-=b;if(E=this._daylightSavingAdjust(new Date(te,D-1,J)),E.getFullYear()!==te||E.getMonth()+1!==D||E.getDate()!==J)throw"Invalid date";return E},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(s,h,g){if(!h)return"";var m,b=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort,_=(g?g.dayNames:null)||this._defaults.dayNames,E=(g?g.monthNamesShort:null)||this._defaults.monthNamesShort,R=(g?g.monthNames:null)||this._defaults.monthNames,j=function(ue){var te=s.length>m+1&&s.charAt(m+1)===ue;return te&&m++,te},H=function(ue,te,D){var J=""+te;if(j(ue))for(;D>J.length;)J="0"+J;return J},G=function(ue,te,D,J){return j(ue)?J[te]:D[te]},q="",K=!1;if(h)for(m=0;s.length>m;m++)if(K)s.charAt(m)!=="'"||j("'")?q+=s.charAt(m):K=!1;else switch(s.charAt(m)){case"d":q+=H("d",h.getDate(),2);break;case"D":q+=G("D",h.getDay(),b,_);break;case"o":q+=H("o",Math.round((new Date(h.getFullYear(),h.getMonth(),h.getDate()).getTime()-new Date(h.getFullYear(),0,0).getTime())/864e5),3);break;case"m":q+=H("m",h.getMonth()+1,2);break;case"M":q+=G("M",h.getMonth(),E,R);break;case"y":q+=j("y")?h.getFullYear():(10>h.getYear()%100?"0":"")+h.getYear()%100;break;case"@":q+=h.getTime();break;case"!":q+=1e4*h.getTime()+this._ticksTo1970;break;case"'":j("'")?q+="'":K=!0;break;default:q+=s.charAt(m)}return q},_possibleChars:function(s){var h,g="",m=!1,b=function(_){var E=s.length>h+1&&s.charAt(h+1)===_;return E&&h++,E};for(h=0;s.length>h;h++)if(m)s.charAt(h)!=="'"||b("'")?g+=s.charAt(h):m=!1;else switch(s.charAt(h)){case"d":case"m":case"y":case"@":g+="0123456789";break;case"D":case"M":return null;case"'":b("'")?g+="'":m=!0;break;default:g+=s.charAt(h)}return g},_get:function(s,h){return s.settings[h]!==void 0?s.settings[h]:this._defaults[h]},_setDateFromField:function(s,h){if(s.input.val()!==s.lastVal){var g=this._get(s,"dateFormat"),m=s.lastVal=s.input?s.input.val():null,b=this._getDefaultDate(s),_=b,E=this._getFormatConfig(s);try{_=this.parseDate(g,m,E)||b}catch(R){m=h?"":m}s.selectedDay=_.getDate(),s.drawMonth=s.selectedMonth=_.getMonth(),s.drawYear=s.selectedYear=_.getFullYear(),s.currentDay=m?_.getDate():0,s.currentMonth=m?_.getMonth():0,s.currentYear=m?_.getFullYear():0,this._adjustInstDate(s)}},_getDefaultDate:function(s){return this._restrictMinMax(s,this._determineDate(s,this._get(s,"defaultDate"),new Date))},_determineDate:function(s,h,g){var m=function(E){var R=new Date;return R.setDate(R.getDate()+E),R},b=function(E){try{return e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),E,e.datepicker._getFormatConfig(s))}catch(ue){}for(var R=(E.toLowerCase().match(/^c/)?e.datepicker._getDate(s):null)||new Date,j=R.getFullYear(),H=R.getMonth(),G=R.getDate(),q=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,K=q.exec(E);K;){switch(K[2]||"d"){case"d":case"D":G+=parseInt(K[1],10);break;case"w":case"W":G+=7*parseInt(K[1],10);break;case"m":case"M":H+=parseInt(K[1],10),G=Math.min(G,e.datepicker._getDaysInMonth(j,H));break;case"y":case"Y":j+=parseInt(K[1],10),G=Math.min(G,e.datepicker._getDaysInMonth(j,H))}K=q.exec(E)}return new Date(j,H,G)},_=h==null||h===""?g:typeof h=="string"?b(h):typeof h=="number"?isNaN(h)?g:m(h):new Date(h.getTime());return _=_&&""+_=="Invalid Date"?g:_,_&&(_.setHours(0),_.setMinutes(0),_.setSeconds(0),_.setMilliseconds(0)),this._daylightSavingAdjust(_)},_daylightSavingAdjust:function(s){return s?(s.setHours(s.getHours()>12?s.getHours()+2:0),s):null},_setDate:function(s,h,g){var m=!h,b=s.selectedMonth,_=s.selectedYear,E=this._restrictMinMax(s,this._determineDate(s,h,new Date));s.selectedDay=s.currentDay=E.getDate(),s.drawMonth=s.selectedMonth=s.currentMonth=E.getMonth(),s.drawYear=s.selectedYear=s.currentYear=E.getFullYear(),b===s.selectedMonth&&_===s.selectedYear||g||this._notifyChange(s),this._adjustInstDate(s),s.input&&s.input.val(m?"":this._formatDate(s))},_getDate:function(s){var h=!s.currentYear||s.input&&s.input.val()===""?null:this._daylightSavingAdjust(new Date(s.currentYear,s.currentMonth,s.currentDay));return h},_attachHandlers:function(s){var h=this._get(s,"stepMonths"),g="#"+s.id.replace(/\\\\/g,"\\");s.dpDiv.find("[data-handler]").map(function(){var m={prev:function(){e.datepicker._adjustDate(g,-h,"M")},next:function(){e.datepicker._adjustDate(g,+h,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(g)},selectDay:function(){return e.datepicker._selectDay(g,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(g,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(g,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),m[this.getAttribute("data-handler")])})},_generateHTML:function(s){var h,g,m,b,_,E,R,j,H,G,q,K,ue,te,D,J,Q,ne,ie,W,V,se,Ae,Oe,je,De,Se,de,Xe,ht,nt,lt,ot,ve,pe,tt,xe,Ce,Ue,Te=new Date,it=this._daylightSavingAdjust(new Date(Te.getFullYear(),Te.getMonth(),Te.getDate())),Me=this._get(s,"isRTL"),mt=this._get(s,"showButtonPanel"),He=this._get(s,"hideIfNoPrevNext"),We=this._get(s,"navigationAsDateFormat"),yt=this._getNumberOfMonths(s),Ot=this._get(s,"showCurrentAtPos"),Ft=this._get(s,"stepMonths"),rt=yt[0]!==1||yt[1]!==1,oe=this._daylightSavingAdjust(s.currentDay?new Date(s.currentYear,s.currentMonth,s.currentDay):new Date(9999,9,9)),Pe=this._getMinMaxDate(s,"min"),Ze=this._getMinMaxDate(s,"max"),Je=s.drawMonth-Ot,qe=s.drawYear;if(0>Je&&(Je+=12,qe--),Ze)for(h=this._daylightSavingAdjust(new Date(Ze.getFullYear(),Ze.getMonth()-yt[0]*yt[1]+1,Ze.getDate())),h=Pe&&Pe>h?Pe:h;this._daylightSavingAdjust(new Date(qe,Je,1))>h;)Je--,0>Je&&(Je=11,qe--);for(s.drawMonth=Je,s.drawYear=qe,g=this._get(s,"prevText"),g=We?this.formatDate(g,this._daylightSavingAdjust(new Date(qe,Je-Ft,1)),this._getFormatConfig(s)):g,m=this._canAdjustMonth(s,-1,qe,Je)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+g+"'><span class='ui-icon ui-icon-circle-triangle-"+(Me?"e":"w")+"'>"+g+"</span></a>":He?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+g+"'><span class='ui-icon ui-icon-circle-triangle-"+(Me?"e":"w")+"'>"+g+"</span></a>",b=this._get(s,"nextText"),b=We?this.formatDate(b,this._daylightSavingAdjust(new Date(qe,Je+Ft,1)),this._getFormatConfig(s)):b,_=this._canAdjustMonth(s,1,qe,Je)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(Me?"w":"e")+"'>"+b+"</span></a>":He?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(Me?"w":"e")+"'>"+b+"</span></a>",E=this._get(s,"currentText"),R=this._get(s,"gotoCurrent")&&s.currentDay?oe:it,E=We?this.formatDate(E,R,this._getFormatConfig(s)):E,j=s.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(s,"closeText")+"</button>",H=mt?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Me?j:"")+(this._isInRange(s,R)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+E+"</button>":"")+(Me?"":j)+"</div>":"",G=parseInt(this._get(s,"firstDay"),10),G=isNaN(G)?0:G,q=this._get(s,"showWeek"),K=this._get(s,"dayNames"),ue=this._get(s,"dayNamesMin"),te=this._get(s,"monthNames"),D=this._get(s,"monthNamesShort"),J=this._get(s,"beforeShowDay"),Q=this._get(s,"showOtherMonths"),ne=this._get(s,"selectOtherMonths"),ie=this._getDefaultDate(s),W="",se=0;yt[0]>se;se++){for(Ae="",this.maxRows=4,Oe=0;yt[1]>Oe;Oe++){if(je=this._daylightSavingAdjust(new Date(qe,Je,s.selectedDay)),De=" ui-corner-all",Se="",rt){if(Se+="<div class='ui-datepicker-group",yt[1]>1)switch(Oe){case 0:Se+=" ui-datepicker-group-first",De=" ui-corner-"+(Me?"right":"left");break;case yt[1]-1:Se+=" ui-datepicker-group-last",De=" ui-corner-"+(Me?"left":"right");break;default:Se+=" ui-datepicker-group-middle",De=""}Se+="'>"}for(Se+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+De+"'>"+(/all|left/.test(De)&&se===0?Me?_:m:"")+(/all|right/.test(De)&&se===0?Me?m:_:"")+this._generateMonthYearHeader(s,Je,qe,Pe,Ze,se>0||Oe>0,te,D)+"</div><table class='ui-datepicker-calendar'><thead><tr>",de=q?"<th class='ui-datepicker-week-col'>"+this._get(s,"weekHeader")+"</th>":"",V=0;7>V;V++)Xe=(V+G)%7,de+="<th scope='col'"+((V+G+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+K[Xe]+"'>"+ue[Xe]+"</span></th>";for(Se+=de+"</tr></thead><tbody>",ht=this._getDaysInMonth(qe,Je),qe===s.selectedYear&&Je===s.selectedMonth&&(s.selectedDay=Math.min(s.selectedDay,ht)),nt=(this._getFirstDayOfMonth(qe,Je)-G+7)%7,lt=Math.ceil((nt+ht)/7),ot=rt&&this.maxRows>lt?this.maxRows:lt,this.maxRows=ot,ve=this._daylightSavingAdjust(new Date(qe,Je,1-nt)),pe=0;ot>pe;pe++){for(Se+="<tr>",tt=q?"<td class='ui-datepicker-week-col'>"+this._get(s,"calculateWeek")(ve)+"</td>":"",V=0;7>V;V++)xe=J?J.apply(s.input?s.input[0]:null,[ve]):[!0,""],Ce=ve.getMonth()!==Je,Ue=Ce&&!ne||!xe[0]||Pe&&Pe>ve||Ze&&ve>Ze,tt+="<td class='"+((V+G+6)%7>=5?" ui-datepicker-week-end":"")+(Ce?" ui-datepicker-other-month":"")+(ve.getTime()===je.getTime()&&Je===s.selectedMonth&&s._keyEvent||ie.getTime()===ve.getTime()&&ie.getTime()===je.getTime()?" "+this._dayOverClass:"")+(Ue?" "+this._unselectableClass+" ui-state-disabled":"")+(Ce&&!Q?"":" "+xe[1]+(ve.getTime()===oe.getTime()?" "+this._currentClass:"")+(ve.getTime()===it.getTime()?" ui-datepicker-today":""))+"'"+(Ce&&!Q||!xe[2]?"":" title='"+xe[2].replace(/'/g,"&#39;")+"'")+(Ue?"":" data-handler='selectDay' data-event='click' data-month='"+ve.getMonth()+"' data-year='"+ve.getFullYear()+"'")+">"+(Ce&&!Q?"&#xa0;":Ue?"<span class='ui-state-default'>"+ve.getDate()+"</span>":"<a class='ui-state-default"+(ve.getTime()===it.getTime()?" ui-state-highlight":"")+(ve.getTime()===oe.getTime()?" ui-state-active":"")+(Ce?" ui-priority-secondary":"")+"' href='#'>"+ve.getDate()+"</a>")+"</td>",ve.setDate(ve.getDate()+1),ve=this._daylightSavingAdjust(ve);Se+=tt+"</tr>"}Je++,Je>11&&(Je=0,qe++),Se+="</tbody></table>"+(rt?"</div>"+(yt[0]>0&&Oe===yt[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),Ae+=Se}W+=Ae}return W+=H,s._keyEvent=!1,W},_generateMonthYearHeader:function(s,h,g,m,b,_,E,R){var j,H,G,q,K,ue,te,D,J=this._get(s,"changeMonth"),Q=this._get(s,"changeYear"),ne=this._get(s,"showMonthAfterYear"),ie="<div class='ui-datepicker-title'>",W="";if(_||!J)W+="<span class='ui-datepicker-month'>"+E[h]+"</span>";else{for(j=m&&m.getFullYear()===g,H=b&&b.getFullYear()===g,W+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",G=0;12>G;G++)(!j||G>=m.getMonth())&&(!H||b.getMonth()>=G)&&(W+="<option value='"+G+"'"+(G===h?" selected='selected'":"")+">"+R[G]+"</option>");W+="</select>"}if(ne||(ie+=W+(!_&&J&&Q?"":"&#xa0;")),!s.yearshtml)if(s.yearshtml="",_||!Q)ie+="<span class='ui-datepicker-year'>"+g+"</span>";else{for(q=this._get(s,"yearRange").split(":"),K=new Date().getFullYear(),ue=function(V){var se=V.match(/c[+\-].*/)?g+parseInt(V.substring(1),10):V.match(/[+\-].*/)?K+parseInt(V,10):parseInt(V,10);return isNaN(se)?K:se},te=ue(q[0]),D=Math.max(te,ue(q[1]||"")),te=m?Math.max(te,m.getFullYear()):te,D=b?Math.min(D,b.getFullYear()):D,s.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";D>=te;te++)s.yearshtml+="<option value='"+te+"'"+(te===g?" selected='selected'":"")+">"+te+"</option>";s.yearshtml+="</select>",ie+=s.yearshtml,s.yearshtml=null}return ie+=this._get(s,"yearSuffix"),ne&&(ie+=(!_&&J&&Q?"":"&#xa0;")+W),ie+="</div>"},_adjustInstDate:function(s,h,g){var m=s.drawYear+(g==="Y"?h:0),b=s.drawMonth+(g==="M"?h:0),_=Math.min(s.selectedDay,this._getDaysInMonth(m,b))+(g==="D"?h:0),E=this._restrictMinMax(s,this._daylightSavingAdjust(new Date(m,b,_)));s.selectedDay=E.getDate(),s.drawMonth=s.selectedMonth=E.getMonth(),s.drawYear=s.selectedYear=E.getFullYear(),(g==="M"||g==="Y")&&this._notifyChange(s)},_restrictMinMax:function(s,h){var g=this._getMinMaxDate(s,"min"),m=this._getMinMaxDate(s,"max"),b=g&&g>h?g:h;return m&&b>m?m:b},_notifyChange:function(s){var h=this._get(s,"onChangeMonthYear");h&&h.apply(s.input?s.input[0]:null,[s.selectedYear,s.selectedMonth+1,s])},_getNumberOfMonths:function(s){var h=this._get(s,"numberOfMonths");return h==null?[1,1]:typeof h=="number"?[1,h]:h},_getMinMaxDate:function(s,h){return this._determineDate(s,this._get(s,h+"Date"),null)},_getDaysInMonth:function(s,h){return 32-this._daylightSavingAdjust(new Date(s,h,32)).getDate()},_getFirstDayOfMonth:function(s,h){return new Date(s,h,1).getDay()},_canAdjustMonth:function(s,h,g,m){var b=this._getNumberOfMonths(s),_=this._daylightSavingAdjust(new Date(g,m+(0>h?h:b[0]*b[1]),1));return 0>h&&_.setDate(this._getDaysInMonth(_.getFullYear(),_.getMonth())),this._isInRange(s,_)},_isInRange:function(s,h){var g,m,b=this._getMinMaxDate(s,"min"),_=this._getMinMaxDate(s,"max"),E=null,R=null,j=this._get(s,"yearRange");return j&&(g=j.split(":"),m=new Date().getFullYear(),E=parseInt(g[0],10),R=parseInt(g[1],10),g[0].match(/[+\-].*/)&&(E+=m),g[1].match(/[+\-].*/)&&(R+=m)),(!b||h.getTime()>=b.getTime())&&(!_||h.getTime()<=_.getTime())&&(!E||h.getFullYear()>=E)&&(!R||R>=h.getFullYear())},_getFormatConfig:function(s){var h=this._get(s,"shortYearCutoff");return h=typeof h!="string"?h:new Date().getFullYear()%100+parseInt(h,10),{shortYearCutoff:h,dayNamesShort:this._get(s,"dayNamesShort"),dayNames:this._get(s,"dayNames"),monthNamesShort:this._get(s,"monthNamesShort"),monthNames:this._get(s,"monthNames")}},_formatDate:function(s,h,g,m){h||(s.currentDay=s.selectedDay,s.currentMonth=s.selectedMonth,s.currentYear=s.selectedYear);var b=h?typeof h=="object"?h:this._daylightSavingAdjust(new Date(m,g,h)):this._daylightSavingAdjust(new Date(s.currentYear,s.currentMonth,s.currentDay));return this.formatDate(this._get(s,"dateFormat"),b,this._getFormatConfig(s))}}),e.fn.datepicker=function(s){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),e("#"+e.datepicker._mainDivId).length===0&&e("body").append(e.datepicker.dpDiv);var h=Array.prototype.slice.call(arguments,1);return typeof s!="string"||s!=="isDisabled"&&s!=="getDate"&&s!=="widget"?s==="option"&&arguments.length===2&&typeof arguments[1]=="string"?e.datepicker["_"+s+"Datepicker"].apply(e.datepicker,[this[0]].concat(h)):this.each(function(){typeof s=="string"?e.datepicker["_"+s+"Datepicker"].apply(e.datepicker,[this].concat(h)):e.datepicker._attachDatepicker(this,s)}):e.datepicker["_"+s+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))},e.datepicker=new l,e.datepicker.initialized=!1,e.datepicker.uuid=new Date().getTime(),e.datepicker.version="1.11.1",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(s,h){this._super(s,h),s==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(s){var h=this.document[0],g=this.options;try{h.activeElement&&h.activeElement.nodeName.toLowerCase()!=="body"&&e(h.activeElement).blur()}catch(m){}return this.helper||g.disabled||e(s.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(s),this.handle?(e(g.iframeFix===!0?"iframe":g.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(s){var h=this.options;return this.helper=this._createHelper(s),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:s.pageX-this.offset.left,top:s.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(s,!1),this.originalPageX=s.pageX,this.originalPageY=s.pageY,h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt),this._setContainment(),this._trigger("start",s)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!h.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,s),this._mouseDrag(s,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,s),!0)},_mouseDrag:function(s,h){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(s,!0),this.positionAbs=this._convertPositionTo("absolute"),!h){var g=this._uiHash();if(this._trigger("drag",s,g)===!1)return this._mouseUp({}),!1;this.position=g.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,s),!1},_mouseStop:function(s){var h=this,g=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(g=e.ui.ddmanager.drop(this,s)),this.dropped&&(g=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!g||this.options.revert==="valid"&&g||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){h._trigger("stop",s)!==!1&&h._clear()}):this._trigger("stop",s)!==!1&&this._clear(),!1},_mouseUp:function(s){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,s),this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,s)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(s){return this.options.handle?!!e(s.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(s){var h=this.options,g=e.isFunction(h.helper)?e(h.helper.apply(this.element[0],[s])):h.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return g.parents("body").length||g.appendTo(h.appendTo==="parent"?this.element[0].parentNode:h.appendTo),g[0]===this.element[0]||/(fixed|absolute)/.test(g.css("position"))||g.css("position","absolute"),g},_adjustOffsetFromHelper:function(s){typeof s=="string"&&(s=s.split(" ")),e.isArray(s)&&(s={left:+s[0],top:+s[1]||0}),"left"in s&&(this.offset.click.left=s.left+this.margins.left),"right"in s&&(this.offset.click.left=this.helperProportions.width-s.right+this.margins.left),"top"in s&&(this.offset.click.top=s.top+this.margins.top),"bottom"in s&&(this.offset.click.top=this.helperProportions.height-s.bottom+this.margins.top)},_isRootNode:function(s){return/(html|body)/i.test(s.tagName)||s===this.document[0]},_getParentOffset:function(){var s=this.offsetParent.offset(),h=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==h&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(s.left+=this.scrollParent.scrollLeft(),s.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(s={top:0,left:0}),{top:s.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:s.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var s=this.element.position(),h=this._isRootNode(this.scrollParent[0]);return{top:s.top-(parseInt(this.helper.css("top"),10)||0)+(h?0:this.scrollParent.scrollTop()),left:s.left-(parseInt(this.helper.css("left"),10)||0)+(h?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var s,h,g,m=this.options,b=this.document[0];return this.relativeContainer=null,m.containment?m.containment==="window"?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||b.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):m.containment==="document"?(this.containment=[0,0,e(b).width()-this.helperProportions.width-this.margins.left,(e(b).height()||b.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):m.containment.constructor===Array?(this.containment=m.containment,void 0):(m.containment==="parent"&&(m.containment=this.helper[0].parentNode),h=e(m.containment),g=h[0],g&&(s=h.css("overflow")!=="hidden",this.containment=[(parseInt(h.css("borderLeftWidth"),10)||0)+(parseInt(h.css("paddingLeft"),10)||0),(parseInt(h.css("borderTopWidth"),10)||0)+(parseInt(h.css("paddingTop"),10)||0),(s?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(h.css("borderRightWidth"),10)||0)-(parseInt(h.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(h.css("borderBottomWidth"),10)||0)-(parseInt(h.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=h),void 0):(this.containment=null,void 0)},_convertPositionTo:function(s,h){h||(h=this.position);var g=s==="absolute"?1:-1,m=this._isRootNode(this.scrollParent[0]);return{top:h.top+this.offset.relative.top*g+this.offset.parent.top*g-(this.cssPosition==="fixed"?-this.offset.scroll.top:m?0:this.offset.scroll.top)*g,left:h.left+this.offset.relative.left*g+this.offset.parent.left*g-(this.cssPosition==="fixed"?-this.offset.scroll.left:m?0:this.offset.scroll.left)*g}},_generatePosition:function(s,h){var g,m,b,_,E=this.options,R=this._isRootNode(this.scrollParent[0]),j=s.pageX,H=s.pageY;return R&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),h&&(this.containment&&(this.relativeContainer?(m=this.relativeContainer.offset(),g=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]):g=this.containment,s.pageX-this.offset.click.left<g[0]&&(j=g[0]+this.offset.click.left),s.pageY-this.offset.click.top<g[1]&&(H=g[1]+this.offset.click.top),s.pageX-this.offset.click.left>g[2]&&(j=g[2]+this.offset.click.left),s.pageY-this.offset.click.top>g[3]&&(H=g[3]+this.offset.click.top)),E.grid&&(b=E.grid[1]?this.originalPageY+Math.round((H-this.originalPageY)/E.grid[1])*E.grid[1]:this.originalPageY,H=g?b-this.offset.click.top>=g[1]||b-this.offset.click.top>g[3]?b:b-this.offset.click.top>=g[1]?b-E.grid[1]:b+E.grid[1]:b,_=E.grid[0]?this.originalPageX+Math.round((j-this.originalPageX)/E.grid[0])*E.grid[0]:this.originalPageX,j=g?_-this.offset.click.left>=g[0]||_-this.offset.click.left>g[2]?_:_-this.offset.click.left>=g[0]?_-E.grid[0]:_+E.grid[0]:_),E.axis==="y"&&(j=this.originalPageX),E.axis==="x"&&(H=this.originalPageY)),{top:H-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:R?0:this.offset.scroll.top),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:R?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(s,h,g){return g=g||this._uiHash(),e.ui.plugin.call(this,s,[h,g,this],!0),s==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,s,h,g)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(s,h,g){var m=g.options,b=e.extend({},h,{item:g.element});g.sortables=[],e(m.connectToSortable).each(function(){var _=e(this).sortable("instance");_&&!_.options.disabled&&(g.sortables.push({instance:_,shouldRevert:_.options.revert}),_.refreshPositions(),_._trigger("activate",s,b))})},stop:function(s,h,g){var m=e.extend({},h,{item:g.element});e.each(g.sortables,function(){this.instance.isOver?(this.instance.isOver=0,g.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(s),this.instance.options.helper=this.instance.options._helper,g.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",s,m))})},drag:function(s,h,g){var m=this;e.each(g.sortables,function(){var b=!1,_=this;this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(b=!0,e.each(g.sortables,function(){return this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this!==_&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(_.instance.element[0],this.instance.element[0])&&(b=!1),b})),b?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(m).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return h.helper[0]},s.target=this.instance.currentItem[0],this.instance._mouseCapture(s,!0),this.instance._mouseStart(s,!0,!0),this.instance.offset.click.top=g.offset.click.top,this.instance.offset.click.left=g.offset.click.left,this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top,g._trigger("toSortable",s),g.dropped=this.instance.element,g.currentItem=g.element,this.instance.fromOutside=g),this.instance.currentItem&&this.instance._mouseDrag(s)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",s,this.instance._uiHash(this.instance)),this.instance._mouseStop(s,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),g._trigger("fromSortable",s),g.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(s,h,g){var m=e("body"),b=g.options;m.css("cursor")&&(b._cursor=m.css("cursor")),m.css("cursor",b.cursor)},stop:function(s,h,g){var m=g.options;m._cursor&&e("body").css("cursor",m._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(s,h,g){var m=e(h.helper),b=g.options;m.css("opacity")&&(b._opacity=m.css("opacity")),m.css("opacity",b.opacity)},stop:function(s,h,g){var m=g.options;m._opacity&&e(h.helper).css("opacity",m._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(s,h,g){g.scrollParentNotHidden||(g.scrollParentNotHidden=g.helper.scrollParent(!1)),g.scrollParentNotHidden[0]!==g.document[0]&&g.scrollParentNotHidden[0].tagName!=="HTML"&&(g.overflowOffset=g.scrollParentNotHidden.offset())},drag:function(s,h,g){var m=g.options,b=!1,_=g.scrollParentNotHidden[0],E=g.document[0];_!==E&&_.tagName!=="HTML"?(m.axis&&m.axis==="x"||(g.overflowOffset.top+_.offsetHeight-s.pageY<m.scrollSensitivity?_.scrollTop=b=_.scrollTop+m.scrollSpeed:s.pageY-g.overflowOffset.top<m.scrollSensitivity&&(_.scrollTop=b=_.scrollTop-m.scrollSpeed)),m.axis&&m.axis==="y"||(g.overflowOffset.left+_.offsetWidth-s.pageX<m.scrollSensitivity?_.scrollLeft=b=_.scrollLeft+m.scrollSpeed:s.pageX-g.overflowOffset.left<m.scrollSensitivity&&(_.scrollLeft=b=_.scrollLeft-m.scrollSpeed))):(m.axis&&m.axis==="x"||(s.pageY-e(E).scrollTop()<m.scrollSensitivity?b=e(E).scrollTop(e(E).scrollTop()-m.scrollSpeed):e(window).height()-(s.pageY-e(E).scrollTop())<m.scrollSensitivity&&(b=e(E).scrollTop(e(E).scrollTop()+m.scrollSpeed))),m.axis&&m.axis==="y"||(s.pageX-e(E).scrollLeft()<m.scrollSensitivity?b=e(E).scrollLeft(e(E).scrollLeft()-m.scrollSpeed):e(window).width()-(s.pageX-e(E).scrollLeft())<m.scrollSensitivity&&(b=e(E).scrollLeft(e(E).scrollLeft()+m.scrollSpeed)))),b!==!1&&e.ui.ddmanager&&!m.dropBehaviour&&e.ui.ddmanager.prepareOffsets(g,s)}}),e.ui.plugin.add("draggable","snap",{start:function(s,h,g){var m=g.options;g.snapElements=[],e(m.snap.constructor!==String?m.snap.items||":data(ui-draggable)":m.snap).each(function(){var b=e(this),_=b.offset();this!==g.element[0]&&g.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:_.top,left:_.left})})},drag:function(s,h,g){var m,b,_,E,R,j,H,G,q,K,ue=g.options,te=ue.snapTolerance,D=h.offset.left,J=D+g.helperProportions.width,Q=h.offset.top,ne=Q+g.helperProportions.height;for(q=g.snapElements.length-1;q>=0;q--)R=g.snapElements[q].left,j=R+g.snapElements[q].width,H=g.snapElements[q].top,G=H+g.snapElements[q].height,R-te>J||D>j+te||H-te>ne||Q>G+te||!e.contains(g.snapElements[q].item.ownerDocument,g.snapElements[q].item)?(g.snapElements[q].snapping&&g.options.snap.release&&g.options.snap.release.call(g.element,s,e.extend(g._uiHash(),{snapItem:g.snapElements[q].item})),g.snapElements[q].snapping=!1):(ue.snapMode!=="inner"&&(m=te>=Math.abs(H-ne),b=te>=Math.abs(G-Q),_=te>=Math.abs(R-J),E=te>=Math.abs(j-D),m&&(h.position.top=g._convertPositionTo("relative",{top:H-g.helperProportions.height,left:0}).top-g.margins.top),b&&(h.position.top=g._convertPositionTo("relative",{top:G,left:0}).top-g.margins.top),_&&(h.position.left=g._convertPositionTo("relative",{top:0,left:R-g.helperProportions.width}).left-g.margins.left),E&&(h.position.left=g._convertPositionTo("relative",{top:0,left:j}).left-g.margins.left)),K=m||b||_||E,ue.snapMode!=="outer"&&(m=te>=Math.abs(H-Q),b=te>=Math.abs(G-ne),_=te>=Math.abs(R-D),E=te>=Math.abs(j-J),m&&(h.position.top=g._convertPositionTo("relative",{top:H,left:0}).top-g.margins.top),b&&(h.position.top=g._convertPositionTo("relative",{top:G-g.helperProportions.height,left:0}).top-g.margins.top),_&&(h.position.left=g._convertPositionTo("relative",{top:0,left:R}).left-g.margins.left),E&&(h.position.left=g._convertPositionTo("relative",{top:0,left:j-g.helperProportions.width}).left-g.margins.left)),!g.snapElements[q].snapping&&(m||b||_||E||K)&&g.options.snap.snap&&g.options.snap.snap.call(g.element,s,e.extend(g._uiHash(),{snapItem:g.snapElements[q].item})),g.snapElements[q].snapping=m||b||_||E||K)}}),e.ui.plugin.add("draggable","stack",{start:function(s,h,g){var m,b=g.options,_=e.makeArray(e(b.stack)).sort(function(E,R){return(parseInt(e(E).css("zIndex"),10)||0)-(parseInt(e(R).css("zIndex"),10)||0)});_.length&&(m=parseInt(e(_[0]).css("zIndex"),10)||0,e(_).each(function(E){e(this).css("zIndex",m+E)}),this.css("zIndex",m+_.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(s,h,g){var m=e(h.helper),b=g.options;m.css("zIndex")&&(b._zIndex=m.css("zIndex")),m.css("zIndex",b.zIndex)},stop:function(s,h,g){var m=g.options;m._zIndex&&e(h.helper).css("zIndex",m._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(s){return parseInt(s,10)||0},_isNumber:function(s){return!isNaN(parseInt(s,10))},_hasScroll:function(s,h){if(e(s).css("overflow")==="hidden")return!1;var g=h&&h==="left"?"scrollLeft":"scrollTop",m=!1;return s[g]>0?!0:(s[g]=1,m=s[g]>0,s[g]=0,m)},_create:function(){var s,h,g,m,b,_=this,E=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!E.aspectRatio,aspectRatio:E.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:E.helper||E.ghost||E.animate?E.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=E.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},h=0;s.length>h;h++)g=e.trim(s[h]),b="ui-resizable-"+g,m=e("<div class='ui-resizable-handle "+b+"'></div>"),m.css({zIndex:E.zIndex}),g==="se"&&m.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(m);this._renderAxis=function(R){var j,H,G,q;R=R||this.element;for(j in this.handles)this.handles[j].constructor===String&&(this.handles[j]=this.element.children(this.handles[j]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(H=e(this.handles[j],this.element),q=/sw|ne|nw|se|n|s/.test(j)?H.outerHeight():H.outerWidth(),G=["padding",/ne|nw|n/.test(j)?"Top":/se|sw|s/.test(j)?"Bottom":/^e$/.test(j)?"Right":"Left"].join(""),R.css(G,q),this._proportionallyResize()),e(this.handles[j]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){_.resizing||(this.className&&(m=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),_.axis=m&&m[1]?m[1]:"se")}),E.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){E.disabled||(e(this).removeClass("ui-resizable-autohide"),_._handles.show())}).mouseleave(function(){E.disabled||_.resizing||(e(this).addClass("ui-resizable-autohide"),_._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var s,h=function(g){e(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(h(this.element),s=this.element,this.originalElement.css({position:s.css("position"),width:s.outerWidth(),height:s.outerHeight(),top:s.css("top"),left:s.css("left")}).insertAfter(s),s.remove()),this.originalElement.css("resize",this.originalResizeStyle),h(this.originalElement),this},_mouseCapture:function(s){var h,g,m=!1;for(h in this.handles)g=e(this.handles[h])[0],(g===s.target||e.contains(g,s.target))&&(m=!0);return!this.options.disabled&&m},_mouseStart:function(s){var h,g,m,b=this.options,_=this.element;return this.resizing=!0,this._renderProxy(),h=this._num(this.helper.css("left")),g=this._num(this.helper.css("top")),b.containment&&(h+=e(b.containment).scrollLeft()||0,g+=e(b.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:h,top:g},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:_.width(),height:_.height()},this.originalSize=this._helper?{width:_.outerWidth(),height:_.outerHeight()}:{width:_.width(),height:_.height()},this.sizeDiff={width:_.outerWidth()-_.width(),height:_.outerHeight()-_.height()},this.originalPosition={left:h,top:g},this.originalMousePosition={left:s.pageX,top:s.pageY},this.aspectRatio=typeof b.aspectRatio=="number"?b.aspectRatio:this.originalSize.width/this.originalSize.height||1,m=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor",m==="auto"?this.axis+"-resize":m),_.addClass("ui-resizable-resizing"),this._propagate("start",s),!0},_mouseDrag:function(s){var h,g,m=this.originalMousePosition,b=this.axis,_=s.pageX-m.left||0,E=s.pageY-m.top||0,R=this._change[b];return this._updatePrevProperties(),R&&(h=R.apply(this,[s,_,E]),this._updateVirtualBoundaries(s.shiftKey),(this._aspectRatio||s.shiftKey)&&(h=this._updateRatio(h,s)),h=this._respectSize(h,s),this._updateCache(h),this._propagate("resize",s),g=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(g)||(this._updatePrevProperties(),this._trigger("resize",s,this.ui()),this._applyChanges())),!1},_mouseStop:function(s){this.resizing=!1;var h,g,m,b,_,E,R,j=this.options,H=this;return this._helper&&(h=this._proportionallyResizeElements,g=h.length&&/textarea/i.test(h[0].nodeName),m=g&&this._hasScroll(h[0],"left")?0:H.sizeDiff.height,b=g?0:H.sizeDiff.width,_={width:H.helper.width()-b,height:H.helper.height()-m},E=parseInt(H.element.css("left"),10)+(H.position.left-H.originalPosition.left)||null,R=parseInt(H.element.css("top"),10)+(H.position.top-H.originalPosition.top)||null,j.animate||this.element.css(e.extend(_,{top:R,left:E})),H.helper.height(H.size.height),H.helper.width(H.size.width),this._helper&&!j.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",s),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var s={};return this.position.top!==this.prevPosition.top&&(s.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(s.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(s.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(s.height=this.size.height+"px"),this.helper.css(s),s},_updateVirtualBoundaries:function(s){var h,g,m,b,_,E=this.options;_={minWidth:this._isNumber(E.minWidth)?E.minWidth:0,maxWidth:this._isNumber(E.maxWidth)?E.maxWidth:1/0,minHeight:this._isNumber(E.minHeight)?E.minHeight:0,maxHeight:this._isNumber(E.maxHeight)?E.maxHeight:1/0},(this._aspectRatio||s)&&(h=_.minHeight*this.aspectRatio,m=_.minWidth/this.aspectRatio,g=_.maxHeight*this.aspectRatio,b=_.maxWidth/this.aspectRatio,h>_.minWidth&&(_.minWidth=h),m>_.minHeight&&(_.minHeight=m),_.maxWidth>g&&(_.maxWidth=g),_.maxHeight>b&&(_.maxHeight=b)),this._vBoundaries=_},_updateCache:function(s){this.offset=this.helper.offset(),this._isNumber(s.left)&&(this.position.left=s.left),this._isNumber(s.top)&&(this.position.top=s.top),this._isNumber(s.height)&&(this.size.height=s.height),this._isNumber(s.width)&&(this.size.width=s.width)},_updateRatio:function(s){var h=this.position,g=this.size,m=this.axis;return this._isNumber(s.height)?s.width=s.height*this.aspectRatio:this._isNumber(s.width)&&(s.height=s.width/this.aspectRatio),m==="sw"&&(s.left=h.left+(g.width-s.width),s.top=null),m==="nw"&&(s.top=h.top+(g.height-s.height),s.left=h.left+(g.width-s.width)),s},_respectSize:function(s){var h=this._vBoundaries,g=this.axis,m=this._isNumber(s.width)&&h.maxWidth&&h.maxWidth<s.width,b=this._isNumber(s.height)&&h.maxHeight&&h.maxHeight<s.height,_=this._isNumber(s.width)&&h.minWidth&&h.minWidth>s.width,E=this._isNumber(s.height)&&h.minHeight&&h.minHeight>s.height,R=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,H=/sw|nw|w/.test(g),G=/nw|ne|n/.test(g);return _&&(s.width=h.minWidth),E&&(s.height=h.minHeight),m&&(s.width=h.maxWidth),b&&(s.height=h.maxHeight),_&&H&&(s.left=R-h.minWidth),m&&H&&(s.left=R-h.maxWidth),E&&G&&(s.top=j-h.minHeight),b&&G&&(s.top=j-h.maxHeight),s.width||s.height||s.left||!s.top?s.width||s.height||s.top||!s.left||(s.left=null):s.top=null,s},_getPaddingPlusBorderDimensions:function(s){for(var h=0,g=[],m=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],b=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")];4>h;h++)g[h]=parseInt(m[h],10)||0,g[h]+=parseInt(b[h],10)||0;return{height:g[0]+g[2],width:g[1]+g[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var s,h=0,g=this.helper||this.element;this._proportionallyResizeElements.length>h;h++)s=this._proportionallyResizeElements[h],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(s)),s.css({height:g.height()-this.outerDimensions.height||0,width:g.width()-this.outerDimensions.width||0})},_renderProxy:function(){var s=this.element,h=this.options;this.elementOffset=s.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++h.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(s,h){return{width:this.originalSize.width+h}},w:function(s,h){var g=this.originalSize,m=this.originalPosition;return{left:m.left+h,width:g.width-h}},n:function(s,h,g){var m=this.originalSize,b=this.originalPosition;return{top:b.top+g,height:m.height-g}},s:function(s,h,g){return{height:this.originalSize.height+g}},se:function(s,h,g){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[s,h,g]))},sw:function(s,h,g){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[s,h,g]))},ne:function(s,h,g){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[s,h,g]))},nw:function(s,h,g){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[s,h,g]))}},_propagate:function(s,h){e.ui.plugin.call(this,s,[h,this.ui()]),s!=="resize"&&this._trigger(s,h,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(s){var h=e(this).resizable("instance"),g=h.options,m=h._proportionallyResizeElements,b=m.length&&/textarea/i.test(m[0].nodeName),_=b&&h._hasScroll(m[0],"left")?0:h.sizeDiff.height,E=b?0:h.sizeDiff.width,R={width:h.size.width-E,height:h.size.height-_},j=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,H=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null;h.element.animate(e.extend(R,H&&j?{top:H,left:j}:{}),{duration:g.animateDuration,easing:g.animateEasing,step:function(){var G={width:parseInt(h.element.css("width"),10),height:parseInt(h.element.css("height"),10),top:parseInt(h.element.css("top"),10),left:parseInt(h.element.css("left"),10)};m&&m.length&&e(m[0]).css({width:G.width,height:G.height}),h._updateCache(G),h._propagate("resize",s)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var s,h,g,m,b,_,E,R=e(this).resizable("instance"),j=R.options,H=R.element,G=j.containment,q=G instanceof e?G.get(0):/parent/.test(G)?H.parent().get(0):G;q&&(R.containerElement=e(q),/document/.test(G)||G===document?(R.containerOffset={left:0,top:0},R.containerPosition={left:0,top:0},R.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(s=e(q),h=[],e(["Top","Right","Left","Bottom"]).each(function(K,ue){h[K]=R._num(s.css("padding"+ue))}),R.containerOffset=s.offset(),R.containerPosition=s.position(),R.containerSize={height:s.innerHeight()-h[3],width:s.innerWidth()-h[1]},g=R.containerOffset,m=R.containerSize.height,b=R.containerSize.width,_=R._hasScroll(q,"left")?q.scrollWidth:b,E=R._hasScroll(q)?q.scrollHeight:m,R.parentData={element:q,left:g.left,top:g.top,width:_,height:E}))},resize:function(s){var h,g,m,b,_=e(this).resizable("instance"),E=_.options,R=_.containerOffset,j=_.position,H=_._aspectRatio||s.shiftKey,G={top:0,left:0},q=_.containerElement,K=!0;q[0]!==document&&/static/.test(q.css("position"))&&(G=R),j.left<(_._helper?R.left:0)&&(_.size.width=_.size.width+(_._helper?_.position.left-R.left:_.position.left-G.left),H&&(_.size.height=_.size.width/_.aspectRatio,K=!1),_.position.left=E.helper?R.left:0),j.top<(_._helper?R.top:0)&&(_.size.height=_.size.height+(_._helper?_.position.top-R.top:_.position.top),H&&(_.size.width=_.size.height*_.aspectRatio,K=!1),_.position.top=_._helper?R.top:0),m=_.containerElement.get(0)===_.element.parent().get(0),b=/relative|absolute/.test(_.containerElement.css("position")),m&&b?(_.offset.left=_.parentData.left+_.position.left,_.offset.top=_.parentData.top+_.position.top):(_.offset.left=_.element.offset().left,_.offset.top=_.element.offset().top),h=Math.abs(_.sizeDiff.width+(_._helper?_.offset.left-G.left:_.offset.left-R.left)),g=Math.abs(_.sizeDiff.height+(_._helper?_.offset.top-G.top:_.offset.top-R.top)),h+_.size.width>=_.parentData.width&&(_.size.width=_.parentData.width-h,H&&(_.size.height=_.size.width/_.aspectRatio,K=!1)),g+_.size.height>=_.parentData.height&&(_.size.height=_.parentData.height-g,H&&(_.size.width=_.size.height*_.aspectRatio,K=!1)),K||(_.position.left=_.prevPosition.left,_.position.top=_.prevPosition.top,_.size.width=_.prevSize.width,_.size.height=_.prevSize.height)},stop:function(){var s=e(this).resizable("instance"),h=s.options,g=s.containerOffset,m=s.containerPosition,b=s.containerElement,_=e(s.helper),E=_.offset(),R=_.outerWidth()-s.sizeDiff.width,j=_.outerHeight()-s.sizeDiff.height;s._helper&&!h.animate&&/relative/.test(b.css("position"))&&e(this).css({left:E.left-m.left-g.left,width:R,height:j}),s._helper&&!h.animate&&/static/.test(b.css("position"))&&e(this).css({left:E.left-m.left-g.left,width:R,height:j})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var s=e(this).resizable("instance"),h=s.options,g=function(m){e(m).each(function(){var b=e(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};typeof h.alsoResize!="object"||h.alsoResize.parentNode?g(h.alsoResize):h.alsoResize.length?(h.alsoResize=h.alsoResize[0],g(h.alsoResize)):e.each(h.alsoResize,function(m){g(m)})},resize:function(s,h){var g=e(this).resizable("instance"),m=g.options,b=g.originalSize,_=g.originalPosition,E={height:g.size.height-b.height||0,width:g.size.width-b.width||0,top:g.position.top-_.top||0,left:g.position.left-_.left||0},R=function(j,H){e(j).each(function(){var G=e(this),q=e(this).data("ui-resizable-alsoresize"),K={},ue=H&&H.length?H:G.parents(h.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(ue,function(te,D){var J=(q[D]||0)+(E[D]||0);J&&J>=0&&(K[D]=J||null)}),G.css(K)})};typeof m.alsoResize!="object"||m.alsoResize.nodeType?R(m.alsoResize):e.each(m.alsoResize,function(j,H){R(j,H)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var s=e(this).resizable("instance"),h=s.options,g=s.size;s.ghost=s.originalElement.clone(),s.ghost.css({opacity:.25,display:"block",position:"relative",height:g.height,width:g.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof h.ghost=="string"?h.ghost:""),s.ghost.appendTo(s.helper)},resize:function(){var s=e(this).resizable("instance");s.ghost&&s.ghost.css({position:"relative",height:s.size.height,width:s.size.width})},stop:function(){var s=e(this).resizable("instance");s.ghost&&s.helper&&s.helper.get(0).removeChild(s.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var s,h=e(this).resizable("instance"),g=h.options,m=h.size,b=h.originalSize,_=h.originalPosition,E=h.axis,R=typeof g.grid=="number"?[g.grid,g.grid]:g.grid,j=R[0]||1,H=R[1]||1,G=Math.round((m.width-b.width)/j)*j,q=Math.round((m.height-b.height)/H)*H,K=b.width+G,ue=b.height+q,te=g.maxWidth&&K>g.maxWidth,D=g.maxHeight&&ue>g.maxHeight,J=g.minWidth&&g.minWidth>K,Q=g.minHeight&&g.minHeight>ue;g.grid=R,J&&(K+=j),Q&&(ue+=H),te&&(K-=j),D&&(ue-=H),/^(se|s|e)$/.test(E)?(h.size.width=K,h.size.height=ue):/^(ne)$/.test(E)?(h.size.width=K,h.size.height=ue,h.position.top=_.top-q):/^(sw)$/.test(E)?(h.size.width=K,h.size.height=ue,h.position.left=_.left-G):((0>=ue-H||0>=K-j)&&(s=h._getPaddingPlusBorderDimensions(this)),ue-H>0?(h.size.height=ue,h.position.top=_.top-q):(ue=H-s.height,h.size.height=ue,h.position.top=_.top+b.height-ue),K-j>0?(h.size.width=K,h.position.left=_.left-G):(K=H-s.height,h.size.width=K,h.position.left=_.left+b.width-K))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(s){var h=e(this).css(s).offset().top;0>h&&e(this).css("top",s.top-h)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var s=this.options.appendTo;return s&&(s.jquery||s.nodeType)?e(s):this.document.find(s||"body").eq(0)},_destroy:function(){var s,h=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),s=h.parent.children().eq(h.index),s.length&&s[0]!==this.element[0]?s.before(this.element):h.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(s){var h,g=this;if(this._isOpen&&this._trigger("beforeClose",s)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{h=this.document[0].activeElement,h&&h.nodeName.toLowerCase()!=="body"&&e(h).blur()}catch(m){}this._hide(this.uiDialog,this.options.hide,function(){g._trigger("close",s)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(s,h){var g=!1,m=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),b=Math.max.apply(null,m);return b>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",b+1),g=!0),g&&!h&&this._trigger("focus",s),g},open:function(){var s=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){s._focusTabbable(),s._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var s=this._focusedElement;s||(s=this.element.find("[autofocus]")),s.length||(s=this.element.find(":tabbable")),s.length||(s=this.uiDialogButtonPane.find(":tabbable")),s.length||(s=this.uiDialogTitlebarClose.filter(":tabbable")),s.length||(s=this.uiDialog),s.eq(0).focus()},_keepFocus:function(s){function h(){var g=this.document[0].activeElement,m=this.uiDialog[0]===g||e.contains(this.uiDialog[0],g);m||this._focusTabbable()}s.preventDefault(),h.call(this),this._delay(h)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(s){if(this.options.closeOnEscape&&!s.isDefaultPrevented()&&s.keyCode&&s.keyCode===e.ui.keyCode.ESCAPE)return s.preventDefault(),this.close(s),void 0;if(s.keyCode===e.ui.keyCode.TAB&&!s.isDefaultPrevented()){var h=this.uiDialog.find(":tabbable"),g=h.filter(":first"),m=h.filter(":last");s.target!==m[0]&&s.target!==this.uiDialog[0]||s.shiftKey?s.target!==g[0]&&s.target!==this.uiDialog[0]||!s.shiftKey||(this._delay(function(){m.focus()}),s.preventDefault()):(this._delay(function(){g.focus()}),s.preventDefault())}},mousedown:function(s){this._moveToTop(s)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var s;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(h){e(h.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(h){h.preventDefault(),this.close(h)}}),s=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(s),this.uiDialog.attr({"aria-labelledby":s.attr("id")})},_title:function(s){this.options.title||s.html("&#160;"),s.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var s=this,h=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(h)||e.isArray(h)&&!h.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(h,function(g,m){var b,_;m=e.isFunction(m)?{click:m,text:g}:m,m=e.extend({type:"button"},m),b=m.click,m.click=function(){b.apply(s.element[0],arguments)},_={icons:m.icons,text:m.showText},delete m.icons,delete m.showText,e("<button></button>",m).button(_).appendTo(s.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function s(m){return{position:m.position,offset:m.offset}}var h=this,g=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(m,b){e(this).addClass("ui-dialog-dragging"),h._blockFrames(),h._trigger("dragStart",m,s(b))},drag:function(m,b){h._trigger("drag",m,s(b))},stop:function(m,b){var _=b.offset.left-h.document.scrollLeft(),E=b.offset.top-h.document.scrollTop();g.position={my:"left top",at:"left"+(_>=0?"+":"")+_+" top"+(E>=0?"+":"")+E,of:h.window},e(this).removeClass("ui-dialog-dragging"),h._unblockFrames(),h._trigger("dragStop",m,s(b))}})},_makeResizable:function(){function s(E){return{originalPosition:E.originalPosition,originalSize:E.originalSize,position:E.position,size:E.size}}var h=this,g=this.options,m=g.resizable,b=this.uiDialog.css("position"),_=typeof m=="string"?m:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:this._minHeight(),handles:_,start:function(E,R){e(this).addClass("ui-dialog-resizing"),h._blockFrames(),h._trigger("resizeStart",E,s(R))},resize:function(E,R){h._trigger("resize",E,s(R))},stop:function(E,R){var j=h.uiDialog.offset(),H=j.left-h.document.scrollLeft(),G=j.top-h.document.scrollTop();g.height=h.uiDialog.height(),g.width=h.uiDialog.width(),g.position={my:"left top",at:"left"+(H>=0?"+":"")+H+" top"+(G>=0?"+":"")+G,of:h.window},e(this).removeClass("ui-dialog-resizing"),h._unblockFrames(),h._trigger("resizeStop",E,s(R))}}).css("position",b)},_trackFocus:function(){this._on(this.widget(),{focusin:function(s){this._makeFocusTarget(),this._focusedElement=e(s.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var s=this._trackingInstances(),h=e.inArray(this,s);h!==-1&&s.splice(h,1)},_trackingInstances:function(){var s=this.document.data("ui-dialog-instances");return s||(s=[],this.document.data("ui-dialog-instances",s)),s},_minHeight:function(){var s=this.options;return s.height==="auto"?s.minHeight:Math.min(s.minHeight,s.height)},_position:function(){var s=this.uiDialog.is(":visible");s||this.uiDialog.show(),this.uiDialog.position(this.options.position),s||this.uiDialog.hide()},_setOptions:function(s){var h=this,g=!1,m={};e.each(s,function(b,_){h._setOption(b,_),b in h.sizeRelatedOptions&&(g=!0),b in h.resizableRelatedOptions&&(m[b]=_)}),g&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",m)},_setOption:function(s,h){var g,m,b=this.uiDialog;s==="dialogClass"&&b.removeClass(this.options.dialogClass).addClass(h),s!=="disabled"&&(this._super(s,h),s==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),s==="buttons"&&this._createButtons(),s==="closeText"&&this.uiDialogTitlebarClose.button({label:""+h}),s==="draggable"&&(g=b.is(":data(ui-draggable)"),g&&!h&&b.draggable("destroy"),!g&&h&&this._makeDraggable()),s==="position"&&this._position(),s==="resizable"&&(m=b.is(":data(ui-resizable)"),m&&!h&&b.resizable("destroy"),m&&typeof h=="string"&&b.resizable("option","handles",h),m||h===!1||this._makeResizable()),s==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var s,h,g,m=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),m.minWidth>m.width&&(m.width=m.minWidth),s=this.uiDialog.css({height:"auto",width:m.width}).outerHeight(),h=Math.max(0,m.minHeight-s),g=typeof m.maxHeight=="number"?Math.max(0,m.maxHeight-s):"none",m.height==="auto"?this.element.css({minHeight:h,maxHeight:g,height:"auto"}):this.element.height(Math.max(0,m.height-s)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var s=e(this);return e("<div>").css({position:"absolute",width:s.outerWidth(),height:s.outerHeight()}).appendTo(s.parent()).offset(s.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(s){return e(s.target).closest(".ui-dialog").length?!0:!!e(s.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var s=!0;this._delay(function(){s=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(h){s||this._allowInteraction(h)||(h.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var s=this.document.data("ui-dialog-overlays")-1;s?this.document.data("ui-dialog-overlays",s):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var s,h=this.options,g=h.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(g)?g:function(m){return m.is(g)},this.proportions=function(){return arguments.length?(s=arguments[0],void 0):s||(s={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(h.scope),h.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(s){e.ui.ddmanager.droppables[s]=e.ui.ddmanager.droppables[s]||[],e.ui.ddmanager.droppables[s].push(this)},_splice:function(s){for(var h=0;s.length>h;h++)s[h]===this&&s.splice(h,1)},_destroy:function(){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(s,h){if(s==="accept")this.accept=e.isFunction(h)?h:function(m){return m.is(h)};else if(s==="scope"){var g=e.ui.ddmanager.droppables[this.options.scope];this._splice(g),this._addToManager(h)}this._super(s,h)},_activate:function(s){var h=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),h&&this._trigger("activate",s,this.ui(h))},_deactivate:function(s){var h=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),h&&this._trigger("deactivate",s,this.ui(h))},_over:function(s){var h=e.ui.ddmanager.current;h&&(h.currentItem||h.element)[0]!==this.element[0]&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",s,this.ui(h)))},_out:function(s){var h=e.ui.ddmanager.current;h&&(h.currentItem||h.element)[0]!==this.element[0]&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",s,this.ui(h)))},_drop:function(s,h){var g=h||e.ui.ddmanager.current,m=!1;return g&&(g.currentItem||g.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=e(this).droppable("instance");return b.options.greedy&&!b.options.disabled&&b.options.scope===g.options.scope&&b.accept.call(b.element[0],g.currentItem||g.element)&&e.ui.intersect(g,e.extend(b,{offset:b.element.offset()}),b.options.tolerance,s)?(m=!0,!1):void 0}),m?!1:this.accept.call(this.element[0],g.currentItem||g.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",s,this.ui(g)),this.element):!1):!1},ui:function(s){return{draggable:s.currentItem||s.element,helper:s.helper,position:s.position,offset:s.positionAbs}}}),e.ui.intersect=function(){function s(h,g,m){return h>=g&&g+m>h}return function(h,g,m,b){if(!g.offset)return!1;var _=(h.positionAbs||h.position.absolute).left,E=(h.positionAbs||h.position.absolute).top,R=_+h.helperProportions.width,j=E+h.helperProportions.height,H=g.offset.left,G=g.offset.top,q=H+g.proportions().width,K=G+g.proportions().height;switch(m){case"fit":return _>=H&&q>=R&&E>=G&&K>=j;case"intersect":return _+h.helperProportions.width/2>H&&q>R-h.helperProportions.width/2&&E+h.helperProportions.height/2>G&&K>j-h.helperProportions.height/2;case"pointer":return s(b.pageY,G,g.proportions().height)&&s(b.pageX,H,g.proportions().width);case"touch":return(E>=G&&K>=E||j>=G&&K>=j||G>E&&j>K)&&(_>=H&&q>=_||R>=H&&q>=R||H>_&&R>q);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(s,h){var g,m,b=e.ui.ddmanager.droppables[s.options.scope]||[],_=h?h.type:null,E=(s.currentItem||s.element).find(":data(ui-droppable)").addBack();e:for(g=0;b.length>g;g++)if(!(b[g].options.disabled||s&&!b[g].accept.call(b[g].element[0],s.currentItem||s.element))){for(m=0;E.length>m;m++)if(E[m]===b[g].element[0]){b[g].proportions().height=0;continue e}b[g].visible=b[g].element.css("display")!=="none",b[g].visible&&(_==="mousedown"&&b[g]._activate.call(b[g],h),b[g].offset=b[g].element.offset(),b[g].proportions({width:b[g].element[0].offsetWidth,height:b[g].element[0].offsetHeight}))}},drop:function(s,h){var g=!1;return e.each((e.ui.ddmanager.droppables[s.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(s,this,this.options.tolerance,h)&&(g=this._drop.call(this,h)||g),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],s.currentItem||s.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,h)))}),g},dragStart:function(s,h){s.element.parentsUntil("body").bind("scroll.droppable",function(){s.options.refreshPositions||e.ui.ddmanager.prepareOffsets(s,h)})},drag:function(s,h){s.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(s,h),e.each(e.ui.ddmanager.droppables[s.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var g,m,b,_=e.ui.intersect(s,this,this.options.tolerance,h),E=!_&&this.isover?"isout":_&&!this.isover?"isover":null;E&&(this.options.greedy&&(m=this.options.scope,b=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===m}),b.length&&(g=e(b[0]).droppable("instance"),g.greedyChild=E==="isover")),g&&E==="isover"&&(g.isover=!1,g.isout=!0,g._out.call(g,h)),this[E]=!0,this[E==="isout"?"isover":"isout"]=!1,this[E==="isover"?"_over":"_out"].call(this,h),g&&E==="isout"&&(g.isout=!1,g.isover=!0,g._over.call(g,h)))}})},dragStop:function(s,h){s.element.parentsUntil("body").unbind("scroll.droppable"),s.options.refreshPositions||e.ui.ddmanager.prepareOffsets(s,h)}},e.ui.droppable;var x="ui-effects-",S=e;e.effects={effect:{}},function(s,h){function g(D,J,Q){var ne=q[J.type]||{};return D==null?Q||!J.def?null:J.def:(D=ne.floor?~~D:parseFloat(D),isNaN(D)?J.def:ne.mod?(D+ne.mod)%ne.mod:0>D?0:D>ne.max?ne.max:D)}function m(D){var J=H(),Q=J._rgba=[];return D=D.toLowerCase(),te(j,function(ne,ie){var W,V=ie.re.exec(D),se=V&&ie.parse(V),Ae=ie.space||"rgba";return se?(W=J[Ae](se),J[G[Ae].cache]=W[G[Ae].cache],Q=J._rgba=W._rgba,!1):h}),Q.length?(Q.join()==="0,0,0,0"&&s.extend(Q,_.transparent),J):_[D]}function b(D,J,Q){return Q=(Q+1)%1,1>6*Q?D+6*(J-D)*Q:1>2*Q?J:2>3*Q?D+6*(J-D)*(2/3-Q):D}var _,E="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",R=/^([\-+])=\s*(\d+\.?\d*)/,j=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(D){return[D[1],D[2],D[3],D[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(D){return[2.55*D[1],2.55*D[2],2.55*D[3],D[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(D){return[parseInt(D[1],16),parseInt(D[2],16),parseInt(D[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(D){return[parseInt(D[1]+D[1],16),parseInt(D[2]+D[2],16),parseInt(D[3]+D[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(D){return[D[1],D[2]/100,D[3]/100,D[4]]}}],H=s.Color=function(D,J,Q,ne){return new s.Color.fn.parse(D,J,Q,ne)},G={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},q={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},K=H.support={},ue=s("<p>")[0],te=s.each;ue.style.cssText="background-color:rgba(1,1,1,.5)",K.rgba=ue.style.backgroundColor.indexOf("rgba")>-1,te(G,function(D,J){J.cache="_"+D,J.props.alpha={idx:3,type:"percent",def:1}}),H.fn=s.extend(H.prototype,{parse:function(D,J,Q,ne){if(D===h)return this._rgba=[null,null,null,null],this;(D.jquery||D.nodeType)&&(D=s(D).css(J),J=h);var ie=this,W=s.type(D),V=this._rgba=[];return J!==h&&(D=[D,J,Q,ne],W="array"),W==="string"?this.parse(m(D)||_._default):W==="array"?(te(G.rgba.props,function(se,Ae){V[Ae.idx]=g(D[Ae.idx],Ae)}),this):W==="object"?(D instanceof H?te(G,function(se,Ae){D[Ae.cache]&&(ie[Ae.cache]=D[Ae.cache].slice())}):te(G,function(se,Ae){var Oe=Ae.cache;te(Ae.props,function(je,De){if(!ie[Oe]&&Ae.to){if(je==="alpha"||D[je]==null)return;ie[Oe]=Ae.to(ie._rgba)}ie[Oe][De.idx]=g(D[je],De,!0)}),ie[Oe]&&0>s.inArray(null,ie[Oe].slice(0,3))&&(ie[Oe][3]=1,Ae.from&&(ie._rgba=Ae.from(ie[Oe])))}),this):h},is:function(D){var J=H(D),Q=!0,ne=this;return te(G,function(ie,W){var V,se=J[W.cache];return se&&(V=ne[W.cache]||W.to&&W.to(ne._rgba)||[],te(W.props,function(Ae,Oe){return se[Oe.idx]!=null?Q=se[Oe.idx]===V[Oe.idx]:h})),Q}),Q},_space:function(){var D=[],J=this;return te(G,function(Q,ne){J[ne.cache]&&D.push(Q)}),D.pop()},transition:function(D,J){var Q=H(D),ne=Q._space(),ie=G[ne],W=this.alpha()===0?H("transparent"):this,V=W[ie.cache]||ie.to(W._rgba),se=V.slice();return Q=Q[ie.cache],te(ie.props,function(Ae,Oe){var je=Oe.idx,De=V[je],Se=Q[je],de=q[Oe.type]||{};Se!==null&&(De===null?se[je]=Se:(de.mod&&(Se-De>de.mod/2?De+=de.mod:De-Se>de.mod/2&&(De-=de.mod)),se[je]=g((Se-De)*J+De,Oe)))}),this[ne](se)},blend:function(D){if(this._rgba[3]===1)return this;var J=this._rgba.slice(),Q=J.pop(),ne=H(D)._rgba;return H(s.map(J,function(ie,W){return(1-Q)*ne[W]+Q*ie}))},toRgbaString:function(){var D="rgba(",J=s.map(this._rgba,function(Q,ne){return Q!=null?Q:ne>2?1:0});return J[3]===1&&(J.pop(),D="rgb("),D+J.join()+")"},toHslaString:function(){var D="hsla(",J=s.map(this.hsla(),function(Q,ne){return Q==null&&(Q=ne>2?1:0),ne&&3>ne&&(Q=Math.round(100*Q)+"%"),Q});return J[3]===1&&(J.pop(),D="hsl("),D+J.join()+")"},toHexString:function(D){var J=this._rgba.slice(),Q=J.pop();return D&&J.push(~~(255*Q)),"#"+s.map(J,function(ne){return ne=(ne||0).toString(16),ne.length===1?"0"+ne:ne}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),H.fn.parse.prototype=H.fn,G.hsla.to=function(D){if(D[0]==null||D[1]==null||D[2]==null)return[null,null,null,D[3]];var J,Q,ne=D[0]/255,ie=D[1]/255,W=D[2]/255,V=D[3],se=Math.max(ne,ie,W),Ae=Math.min(ne,ie,W),Oe=se-Ae,je=se+Ae,De=.5*je;return J=Ae===se?0:ne===se?60*(ie-W)/Oe+360:ie===se?60*(W-ne)/Oe+120:60*(ne-ie)/Oe+240,Q=Oe===0?0:.5>=De?Oe/je:Oe/(2-je),[Math.round(J)%360,Q,De,V!=null?V:1]},G.hsla.from=function(D){if(D[0]==null||D[1]==null||D[2]==null)return[null,null,null,D[3]];var J=D[0]/360,Q=D[1],ne=D[2],ie=D[3],W=.5>=ne?ne*(1+Q):ne+Q-ne*Q,V=2*ne-W;return[Math.round(255*b(V,W,J+1/3)),Math.round(255*b(V,W,J)),Math.round(255*b(V,W,J-1/3)),ie]},te(G,function(D,J){var Q=J.props,ne=J.cache,ie=J.to,W=J.from;H.fn[D]=function(V){if(ie&&!this[ne]&&(this[ne]=ie(this._rgba)),V===h)return this[ne].slice();var se,Ae=s.type(V),Oe=Ae==="array"||Ae==="object"?V:arguments,je=this[ne].slice();return te(Q,function(De,Se){var de=Oe[Ae==="object"?De:Se.idx];de==null&&(de=je[Se.idx]),je[Se.idx]=g(de,Se)}),W?(se=H(W(je)),se[ne]=je,se):H(je)},te(Q,function(V,se){H.fn[V]||(H.fn[V]=function(Ae){var Oe,je=s.type(Ae),De=V==="alpha"?this._hsla?"hsla":"rgba":D,Se=this[De](),de=Se[se.idx];return je==="undefined"?de:(je==="function"&&(Ae=Ae.call(this,de),je=s.type(Ae)),Ae==null&&se.empty?this:(je==="string"&&(Oe=R.exec(Ae),Oe&&(Ae=de+parseFloat(Oe[2])*(Oe[1]==="+"?1:-1))),Se[se.idx]=Ae,this[De](Se)))})})}),H.hook=function(D){var J=D.split(" ");te(J,function(Q,ne){s.cssHooks[ne]={set:function(ie,W){var V,se,Ae="";if(W!=="transparent"&&(s.type(W)!=="string"||(V=m(W)))){if(W=H(V||W),!K.rgba&&W._rgba[3]!==1){for(se=ne==="backgroundColor"?ie.parentNode:ie;(Ae===""||Ae==="transparent")&&se&&se.style;)try{Ae=s.css(se,"backgroundColor"),se=se.parentNode}catch(Oe){}W=W.blend(Ae&&Ae!=="transparent"?Ae:"_default")}W=W.toRgbaString()}try{ie.style[ne]=W}catch(Oe){}}},s.fx.step[ne]=function(ie){ie.colorInit||(ie.start=H(ie.elem,ne),ie.end=H(ie.end),ie.colorInit=!0),s.cssHooks[ne].set(ie.elem,ie.start.transition(ie.end,ie.pos))}})},H.hook(E),s.cssHooks.borderColor={expand:function(D){var J={};return te(["Top","Right","Bottom","Left"],function(Q,ne){J["border"+ne+"Color"]=D}),J}},_=s.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(S),function(){function s(b){var _,E,R=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,j={};if(R&&R.length&&R[0]&&R[R[0]])for(E=R.length;E--;)_=R[E],typeof R[_]=="string"&&(j[e.camelCase(_)]=R[_]);else for(_ in R)typeof R[_]=="string"&&(j[_]=R[_]);return j}function h(b,_){var E,R,j={};for(E in _)R=_[E],b[E]!==R&&(m[E]||(e.fx.step[E]||!isNaN(parseFloat(R)))&&(j[E]=R));return j}var g=["add","remove","toggle"],m={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,_){e.fx.step[_]=function(E){(E.end!=="none"&&!E.setAttr||E.pos===1&&!E.setAttr)&&(S.style(E.elem,_,E.end),E.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(b){return this.add(b==null?this.prevObject:this.prevObject.filter(b))}),e.effects.animateClass=function(b,_,E,R){var j=e.speed(_,E,R);return this.queue(function(){var H,G=e(this),q=G.attr("class")||"",K=j.children?G.find("*").addBack():G;K=K.map(function(){var ue=e(this);return{el:ue,start:s(this)}}),H=function(){e.each(g,function(ue,te){b[te]&&G[te+"Class"](b[te])})},H(),K=K.map(function(){return this.end=s(this.el[0]),this.diff=h(this.start,this.end),this}),G.attr("class",q),K=K.map(function(){var ue=this,te=e.Deferred(),D=e.extend({},j,{queue:!1,complete:function(){te.resolve(ue)}});return this.el.animate(this.diff,D),te.promise()}),e.when.apply(e,K.get()).done(function(){H(),e.each(arguments,function(){var ue=this.el;e.each(this.diff,function(te){ue.css(te,"")})}),j.complete.call(G[0])})})},e.fn.extend({addClass:function(b){return function(_,E,R,j){return E?e.effects.animateClass.call(this,{add:_},E,R,j):b.apply(this,arguments)}}(e.fn.addClass),removeClass:function(b){return function(_,E,R,j){return arguments.length>1?e.effects.animateClass.call(this,{remove:_},E,R,j):b.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(b){return function(_,E,R,j,H){return typeof E=="boolean"||E===void 0?R?e.effects.animateClass.call(this,E?{add:_}:{remove:_},R,j,H):b.apply(this,arguments):e.effects.animateClass.call(this,{toggle:_},E,R,j)}}(e.fn.toggleClass),switchClass:function(b,_,E,R,j){return e.effects.animateClass.call(this,{add:_,remove:b},E,R,j)}})}(),function(){function s(g,m,b,_){return e.isPlainObject(g)&&(m=g,g=g.effect),g={effect:g},m==null&&(m={}),e.isFunction(m)&&(_=m,b=null,m={}),(typeof m=="number"||e.fx.speeds[m])&&(_=b,b=m,m={}),e.isFunction(b)&&(_=b,b=null),m&&e.extend(g,m),b=b||m.duration,g.duration=e.fx.off?0:typeof b=="number"?b:b in e.fx.speeds?e.fx.speeds[b]:e.fx.speeds._default,g.complete=_||m.complete,g}function h(g){return!g||typeof g=="number"||e.fx.speeds[g]?!0:typeof g!="string"||e.effects.effect[g]?e.isFunction(g)?!0:!(typeof g!="object"||g.effect):!0}e.extend(e.effects,{version:"1.11.1",save:function(g,m){for(var b=0;m.length>b;b++)m[b]!==null&&g.data(x+m[b],g[0].style[m[b]])},restore:function(g,m){var b,_;for(_=0;m.length>_;_++)m[_]!==null&&(b=g.data(x+m[_]),b===void 0&&(b=""),g.css(m[_],b))},setMode:function(g,m){return m==="toggle"&&(m=g.is(":hidden")?"show":"hide"),m},getBaseline:function(g,m){var b,_;switch(g[0]){case"top":b=0;break;case"middle":b=.5;break;case"bottom":b=1;break;default:b=g[0]/m.height}switch(g[1]){case"left":_=0;break;case"center":_=.5;break;case"right":_=1;break;default:_=g[1]/m.width}return{x:_,y:b}},createWrapper:function(g){if(g.parent().is(".ui-effects-wrapper"))return g.parent();var m={width:g.outerWidth(!0),height:g.outerHeight(!0),float:g.css("float")},b=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),_={width:g.width(),height:g.height()},E=document.activeElement;try{E.id}catch(R){E=document.body}return g.wrap(b),(g[0]===E||e.contains(g[0],E))&&e(E).focus(),b=g.parent(),g.css("position")==="static"?(b.css({position:"relative"}),g.css({position:"relative"})):(e.extend(m,{position:g.css("position"),zIndex:g.css("z-index")}),e.each(["top","left","bottom","right"],function(R,j){m[j]=g.css(j),isNaN(parseInt(m[j],10))&&(m[j]="auto")}),g.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),g.css(_),b.css(m).show()},removeWrapper:function(g){var m=document.activeElement;return g.parent().is(".ui-effects-wrapper")&&(g.parent().replaceWith(g),(g[0]===m||e.contains(g[0],m))&&e(m).focus()),g},setTransition:function(g,m,b,_){return _=_||{},e.each(m,function(E,R){var j=g.cssUnit(R);j[0]>0&&(_[R]=j[0]*b+j[1])}),_}}),e.fn.extend({effect:function(){function g(R){function j(){e.isFunction(G)&&G.call(H[0]),e.isFunction(R)&&R()}var H=e(this),G=m.complete,q=m.mode;(H.is(":hidden")?q==="hide":q==="show")?(H[q](),j()):E.call(H[0],m,j)}var m=s.apply(this,arguments),b=m.mode,_=m.queue,E=e.effects.effect[m.effect];return e.fx.off||!E?b?this[b](m.duration,m.complete):this.each(function(){m.complete&&m.complete.call(this)}):_===!1?this.each(g):this.queue(_||"fx",g)},show:function(g){return function(m){if(h(m))return g.apply(this,arguments);var b=s.apply(this,arguments);return b.mode="show",this.effect.call(this,b)}}(e.fn.show),hide:function(g){return function(m){if(h(m))return g.apply(this,arguments);var b=s.apply(this,arguments);return b.mode="hide",this.effect.call(this,b)}}(e.fn.hide),toggle:function(g){return function(m){if(h(m)||typeof m=="boolean")return g.apply(this,arguments);var b=s.apply(this,arguments);return b.mode="toggle",this.effect.call(this,b)}}(e.fn.toggle),cssUnit:function(g){var m=this.css(g),b=[];return e.each(["em","px","%","pt"],function(_,E){m.indexOf(E)>0&&(b=[parseFloat(m),E])}),b}})}(),function(){var s={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(h,g){s[g]=function(m){return Math.pow(m,h+2)}}),e.extend(s,{Sine:function(h){return 1-Math.cos(h*Math.PI/2)},Circ:function(h){return 1-Math.sqrt(1-h*h)},Elastic:function(h){return h===0||h===1?h:-Math.pow(2,8*(h-1))*Math.sin((80*(h-1)-7.5)*Math.PI/15)},Back:function(h){return h*h*(3*h-2)},Bounce:function(h){for(var g,m=4;((g=Math.pow(2,--m))-1)/11>h;);return 1/Math.pow(4,3-m)-7.5625*Math.pow((3*g-2)/22-h,2)}}),e.each(s,function(h,g){e.easing["easeIn"+h]=g,e.easing["easeOut"+h]=function(m){return 1-g(1-m)},e.easing["easeInOut"+h]=function(m){return .5>m?g(2*m)/2:1-g(-2*m+2)/2}})}(),e.effects,e.effects.effect.blind=function(s,h){var g,m,b,_=e(this),E=/up|down|vertical/,R=/up|left|vertical|horizontal/,j=["position","top","bottom","left","right","height","width"],H=e.effects.setMode(_,s.mode||"hide"),G=s.direction||"up",q=E.test(G),K=q?"height":"width",ue=q?"top":"left",te=R.test(G),D={},J=H==="show";_.parent().is(".ui-effects-wrapper")?e.effects.save(_.parent(),j):e.effects.save(_,j),_.show(),g=e.effects.createWrapper(_).css({overflow:"hidden"}),m=g[K](),b=parseFloat(g.css(ue))||0,D[K]=J?m:0,te||(_.css(q?"bottom":"right",0).css(q?"top":"left","auto").css({position:"absolute"}),D[ue]=J?b:m+b),J&&(g.css(K,0),te||g.css(ue,b+m)),g.animate(D,{duration:s.duration,easing:s.easing,queue:!1,complete:function(){H==="hide"&&_.hide(),e.effects.restore(_,j),e.effects.removeWrapper(_),h()}})},e.effects.effect.bounce=function(s,h){var g,m,b,_=e(this),E=["position","top","bottom","left","right","height","width"],R=e.effects.setMode(_,s.mode||"effect"),j=R==="hide",H=R==="show",G=s.direction||"up",q=s.distance,K=s.times||5,ue=2*K+(H||j?1:0),te=s.duration/ue,D=s.easing,J=G==="up"||G==="down"?"top":"left",Q=G==="up"||G==="left",ne=_.queue(),ie=ne.length;for((H||j)&&E.push("opacity"),e.effects.save(_,E),_.show(),e.effects.createWrapper(_),q||(q=_[J==="top"?"outerHeight":"outerWidth"]()/3),H&&(b={opacity:1},b[J]=0,_.css("opacity",0).css(J,Q?2*-q:2*q).animate(b,te,D)),j&&(q/=Math.pow(2,K-1)),b={},b[J]=0,g=0;K>g;g++)m={},m[J]=(Q?"-=":"+=")+q,_.animate(m,te,D).animate(b,te,D),q=j?2*q:q/2;j&&(m={opacity:0},m[J]=(Q?"-=":"+=")+q,_.animate(m,te,D)),_.queue(function(){j&&_.hide(),e.effects.restore(_,E),e.effects.removeWrapper(_),h()}),ie>1&&ne.splice.apply(ne,[1,0].concat(ne.splice(ie,ue+1))),_.dequeue()},e.effects.effect.clip=function(s,h){var g,m,b,_=e(this),E=["position","top","bottom","left","right","height","width"],R=e.effects.setMode(_,s.mode||"hide"),j=R==="show",H=s.direction||"vertical",G=H==="vertical",q=G?"height":"width",K=G?"top":"left",ue={};e.effects.save(_,E),_.show(),g=e.effects.createWrapper(_).css({overflow:"hidden"}),m=_[0].tagName==="IMG"?g:_,b=m[q](),j&&(m.css(q,0),m.css(K,b/2)),ue[q]=j?b:0,ue[K]=j?0:b/2,m.animate(ue,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){j||_.hide(),e.effects.restore(_,E),e.effects.removeWrapper(_),h()}})},e.effects.effect.drop=function(s,h){var g,m=e(this),b=["position","top","bottom","left","right","opacity","height","width"],_=e.effects.setMode(m,s.mode||"hide"),E=_==="show",R=s.direction||"left",j=R==="up"||R==="down"?"top":"left",H=R==="up"||R==="left"?"pos":"neg",G={opacity:E?1:0};e.effects.save(m,b),m.show(),e.effects.createWrapper(m),g=s.distance||m[j==="top"?"outerHeight":"outerWidth"](!0)/2,E&&m.css("opacity",0).css(j,H==="pos"?-g:g),G[j]=(E?H==="pos"?"+=":"-=":H==="pos"?"-=":"+=")+g,m.animate(G,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){_==="hide"&&m.hide(),e.effects.restore(m,b),e.effects.removeWrapper(m),h()}})},e.effects.effect.explode=function(s,h){function g(){ne.push(this),ne.length===G*q&&m()}function m(){K.css({visibility:"visible"}),e(ne).remove(),te||K.hide(),h()}var b,_,E,R,j,H,G=s.pieces?Math.round(Math.sqrt(s.pieces)):3,q=G,K=e(this),ue=e.effects.setMode(K,s.mode||"hide"),te=ue==="show",D=K.show().css("visibility","hidden").offset(),J=Math.ceil(K.outerWidth()/q),Q=Math.ceil(K.outerHeight()/G),ne=[];for(b=0;G>b;b++)for(R=D.top+b*Q,H=b-(G-1)/2,_=0;q>_;_++)E=D.left+_*J,j=_-(q-1)/2,K.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-_*J,top:-b*Q}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:J,height:Q,left:E+(te?j*J:0),top:R+(te?H*Q:0),opacity:te?0:1}).animate({left:E+(te?0:j*J),top:R+(te?0:H*Q),opacity:te?1:0},s.duration||500,s.easing,g)},e.effects.effect.fade=function(s,h){var g=e(this),m=e.effects.setMode(g,s.mode||"toggle");g.animate({opacity:m},{queue:!1,duration:s.duration,easing:s.easing,complete:h})},e.effects.effect.fold=function(s,h){var g,m,b=e(this),_=["position","top","bottom","left","right","height","width"],E=e.effects.setMode(b,s.mode||"hide"),R=E==="show",j=E==="hide",H=s.size||15,G=/([0-9]+)%/.exec(H),q=!!s.horizFirst,K=R!==q,ue=K?["width","height"]:["height","width"],te=s.duration/2,D={},J={};e.effects.save(b,_),b.show(),g=e.effects.createWrapper(b).css({overflow:"hidden"}),m=K?[g.width(),g.height()]:[g.height(),g.width()],G&&(H=parseInt(G[1],10)/100*m[j?0:1]),R&&g.css(q?{height:0,width:H}:{height:H,width:0}),D[ue[0]]=R?m[0]:H,J[ue[1]]=R?m[1]:0,g.animate(D,te,s.easing).animate(J,te,s.easing,function(){j&&b.hide(),e.effects.restore(b,_),e.effects.removeWrapper(b),h()})},e.effects.effect.highlight=function(s,h){var g=e(this),m=["backgroundImage","backgroundColor","opacity"],b=e.effects.setMode(g,s.mode||"show"),_={backgroundColor:g.css("backgroundColor")};b==="hide"&&(_.opacity=0),e.effects.save(g,m),g.show().css({backgroundImage:"none",backgroundColor:s.color||"#ffff99"}).animate(_,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){b==="hide"&&g.hide(),e.effects.restore(g,m),h()}})},e.effects.effect.size=function(s,h){var g,m,b,_=e(this),E=["position","top","bottom","left","right","width","height","overflow","opacity"],R=["position","top","bottom","left","right","overflow","opacity"],j=["width","height","overflow"],H=["fontSize"],G=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],q=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],K=e.effects.setMode(_,s.mode||"effect"),ue=s.restore||K!=="effect",te=s.scale||"both",D=s.origin||["middle","center"],J=_.css("position"),Q=ue?E:R,ne={height:0,width:0,outerHeight:0,outerWidth:0};K==="show"&&_.show(),g={height:_.height(),width:_.width(),outerHeight:_.outerHeight(),outerWidth:_.outerWidth()},s.mode==="toggle"&&K==="show"?(_.from=s.to||ne,_.to=s.from||g):(_.from=s.from||(K==="show"?ne:g),_.to=s.to||(K==="hide"?ne:g)),b={from:{y:_.from.height/g.height,x:_.from.width/g.width},to:{y:_.to.height/g.height,x:_.to.width/g.width}},(te==="box"||te==="both")&&(b.from.y!==b.to.y&&(Q=Q.concat(G),_.from=e.effects.setTransition(_,G,b.from.y,_.from),_.to=e.effects.setTransition(_,G,b.to.y,_.to)),b.from.x!==b.to.x&&(Q=Q.concat(q),_.from=e.effects.setTransition(_,q,b.from.x,_.from),_.to=e.effects.setTransition(_,q,b.to.x,_.to))),(te==="content"||te==="both")&&b.from.y!==b.to.y&&(Q=Q.concat(H).concat(j),_.from=e.effects.setTransition(_,H,b.from.y,_.from),_.to=e.effects.setTransition(_,H,b.to.y,_.to)),e.effects.save(_,Q),_.show(),e.effects.createWrapper(_),_.css("overflow","hidden").css(_.from),D&&(m=e.effects.getBaseline(D,g),_.from.top=(g.outerHeight-_.outerHeight())*m.y,_.from.left=(g.outerWidth-_.outerWidth())*m.x,_.to.top=(g.outerHeight-_.to.outerHeight)*m.y,_.to.left=(g.outerWidth-_.to.outerWidth)*m.x),_.css(_.from),(te==="content"||te==="both")&&(G=G.concat(["marginTop","marginBottom"]).concat(H),q=q.concat(["marginLeft","marginRight"]),j=E.concat(G).concat(q),_.find("*[width]").each(function(){var ie=e(this),W={height:ie.height(),width:ie.width(),outerHeight:ie.outerHeight(),outerWidth:ie.outerWidth()};ue&&e.effects.save(ie,j),ie.from={height:W.height*b.from.y,width:W.width*b.from.x,outerHeight:W.outerHeight*b.from.y,outerWidth:W.outerWidth*b.from.x},ie.to={height:W.height*b.to.y,width:W.width*b.to.x,outerHeight:W.height*b.to.y,outerWidth:W.width*b.to.x},b.from.y!==b.to.y&&(ie.from=e.effects.setTransition(ie,G,b.from.y,ie.from),ie.to=e.effects.setTransition(ie,G,b.to.y,ie.to)),b.from.x!==b.to.x&&(ie.from=e.effects.setTransition(ie,q,b.from.x,ie.from),ie.to=e.effects.setTransition(ie,q,b.to.x,ie.to)),ie.css(ie.from),ie.animate(ie.to,s.duration,s.easing,function(){ue&&e.effects.restore(ie,j)})})),_.animate(_.to,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){_.to.opacity===0&&_.css("opacity",_.from.opacity),K==="hide"&&_.hide(),e.effects.restore(_,Q),ue||(J==="static"?_.css({position:"relative",top:_.to.top,left:_.to.left}):e.each(["top","left"],function(ie,W){_.css(W,function(V,se){var Ae=parseInt(se,10),Oe=ie?_.to.left:_.to.top;return se==="auto"?Oe+"px":Ae+Oe+"px"})})),e.effects.removeWrapper(_),h()}})},e.effects.effect.scale=function(s,h){var g=e(this),m=e.extend(!0,{},s),b=e.effects.setMode(g,s.mode||"effect"),_=parseInt(s.percent,10)||(parseInt(s.percent,10)===0||b==="hide"?0:100),E=s.direction||"both",R=s.origin,j={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},H={y:E!=="horizontal"?_/100:1,x:E!=="vertical"?_/100:1};m.effect="size",m.queue=!1,m.complete=h,b!=="effect"&&(m.origin=R||["middle","center"],m.restore=!0),m.from=s.from||(b==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:j),m.to={height:j.height*H.y,width:j.width*H.x,outerHeight:j.outerHeight*H.y,outerWidth:j.outerWidth*H.x},m.fade&&(b==="show"&&(m.from.opacity=0,m.to.opacity=1),b==="hide"&&(m.from.opacity=1,m.to.opacity=0)),g.effect(m)},e.effects.effect.puff=function(s,h){var g=e(this),m=e.effects.setMode(g,s.mode||"hide"),b=m==="hide",_=parseInt(s.percent,10)||150,E=_/100,R={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()};e.extend(s,{effect:"scale",queue:!1,fade:!0,mode:m,complete:h,percent:b?_:100,from:b?R:{height:R.height*E,width:R.width*E,outerHeight:R.outerHeight*E,outerWidth:R.outerWidth*E}}),g.effect(s)},e.effects.effect.pulsate=function(s,h){var g,m=e(this),b=e.effects.setMode(m,s.mode||"show"),_=b==="show",E=b==="hide",R=_||b==="hide",j=2*(s.times||5)+(R?1:0),H=s.duration/j,G=0,q=m.queue(),K=q.length;for((_||!m.is(":visible"))&&(m.css("opacity",0).show(),G=1),g=1;j>g;g++)m.animate({opacity:G},H,s.easing),G=1-G;m.animate({opacity:G},H,s.easing),m.queue(function(){E&&m.hide(),h()}),K>1&&q.splice.apply(q,[1,0].concat(q.splice(K,j+1))),m.dequeue()},e.effects.effect.shake=function(s,h){var g,m=e(this),b=["position","top","bottom","left","right","height","width"],_=e.effects.setMode(m,s.mode||"effect"),E=s.direction||"left",R=s.distance||20,j=s.times||3,H=2*j+1,G=Math.round(s.duration/H),q=E==="up"||E==="down"?"top":"left",K=E==="up"||E==="left",ue={},te={},D={},J=m.queue(),Q=J.length;for(e.effects.save(m,b),m.show(),e.effects.createWrapper(m),ue[q]=(K?"-=":"+=")+R,te[q]=(K?"+=":"-=")+2*R,D[q]=(K?"-=":"+=")+2*R,m.animate(ue,G,s.easing),g=1;j>g;g++)m.animate(te,G,s.easing).animate(D,G,s.easing);m.animate(te,G,s.easing).animate(ue,G/2,s.easing).queue(function(){_==="hide"&&m.hide(),e.effects.restore(m,b),e.effects.removeWrapper(m),h()}),Q>1&&J.splice.apply(J,[1,0].concat(J.splice(Q,H+1))),m.dequeue()},e.effects.effect.slide=function(s,h){var g,m=e(this),b=["position","top","bottom","left","right","width","height"],_=e.effects.setMode(m,s.mode||"show"),E=_==="show",R=s.direction||"left",j=R==="up"||R==="down"?"top":"left",H=R==="up"||R==="left",G={};e.effects.save(m,b),m.show(),g=s.distance||m[j==="top"?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(m).css({overflow:"hidden"}),E&&m.css(j,H?isNaN(g)?"-"+g:-g:g),G[j]=(E?H?"+=":"-=":H?"-=":"+=")+g,m.animate(G,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){_==="hide"&&m.hide(),e.effects.restore(m,b),e.effects.removeWrapper(m),h()}})},e.effects.effect.transfer=function(s,h){var g=e(this),m=e(s.to),b=m.css("position")==="fixed",_=e("body"),E=b?_.scrollTop():0,R=b?_.scrollLeft():0,j=m.offset(),H={top:j.top-E,left:j.left-R,height:m.innerHeight(),width:m.innerWidth()},G=g.offset(),q=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(s.className).css({top:G.top-E,left:G.left-R,height:g.innerHeight(),width:g.innerWidth(),position:b?"fixed":"absolute"}).animate(H,s.duration,s.easing,function(){q.remove(),h()})},e.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(s){return s===void 0?this.options.value:(this.options.value=this._constrainedValue(s),this._refreshValue(),void 0)},_constrainedValue:function(s){return s===void 0&&(s=this.options.value),this.indeterminate=s===!1,typeof s!="number"&&(s=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,s))},_setOptions:function(s){var h=s.value;delete s.value,this._super(s),this.options.value=this._constrainedValue(h),this._refreshValue()},_setOption:function(s,h){s==="max"&&(h=Math.max(this.min,h)),s==="disabled"&&this.element.toggleClass("ui-state-disabled",!!h).attr("aria-disabled",h),this._super(s,h)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var s=this.options.value,h=this._percentage();this.valueDiv.toggle(this.indeterminate||s>this.min).toggleClass("ui-corner-right",s===this.options.max).width(h.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":s}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==s&&(this.oldValue=s,this._trigger("change")),s===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var s,h=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){s=e(h.options.filter,h.element[0]),s.addClass("ui-selectee"),s.each(function(){var g=e(this),m=g.offset();e.data(this,"selectable-item",{element:this,$element:g,left:m.left,top:m.top,right:m.left+g.outerWidth(),bottom:m.top+g.outerHeight(),startselected:!1,selected:g.hasClass("ui-selected"),selecting:g.hasClass("ui-selecting"),unselecting:g.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=s.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(s){var h=this,g=this.options;this.opos=[s.pageX,s.pageY],this.options.disabled||(this.selectees=e(g.filter,this.element[0]),this._trigger("start",s),e(g.appendTo).append(this.helper),this.helper.css({left:s.pageX,top:s.pageY,width:0,height:0}),g.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var m=e.data(this,"selectable-item");m.startselected=!0,s.metaKey||s.ctrlKey||(m.$element.removeClass("ui-selected"),m.selected=!1,m.$element.addClass("ui-unselecting"),m.unselecting=!0,h._trigger("unselecting",s,{unselecting:m.element}))}),e(s.target).parents().addBack().each(function(){var m,b=e.data(this,"selectable-item");return b?(m=!s.metaKey&&!s.ctrlKey||!b.$element.hasClass("ui-selected"),b.$element.removeClass(m?"ui-unselecting":"ui-selected").addClass(m?"ui-selecting":"ui-unselecting"),b.unselecting=!m,b.selecting=m,b.selected=m,m?h._trigger("selecting",s,{selecting:b.element}):h._trigger("unselecting",s,{unselecting:b.element}),!1):void 0}))},_mouseDrag:function(s){if(this.dragged=!0,!this.options.disabled){var h,g=this,m=this.options,b=this.opos[0],_=this.opos[1],E=s.pageX,R=s.pageY;return b>E&&(h=E,E=b,b=h),_>R&&(h=R,R=_,_=h),this.helper.css({left:b,top:_,width:E-b,height:R-_}),this.selectees.each(function(){var j=e.data(this,"selectable-item"),H=!1;j&&j.element!==g.element[0]&&(m.tolerance==="touch"?H=!(j.left>E||b>j.right||j.top>R||_>j.bottom):m.tolerance==="fit"&&(H=j.left>b&&E>j.right&&j.top>_&&R>j.bottom),H?(j.selected&&(j.$element.removeClass("ui-selected"),j.selected=!1),j.unselecting&&(j.$element.removeClass("ui-unselecting"),j.unselecting=!1),j.selecting||(j.$element.addClass("ui-selecting"),j.selecting=!0,g._trigger("selecting",s,{selecting:j.element}))):(j.selecting&&((s.metaKey||s.ctrlKey)&&j.startselected?(j.$element.removeClass("ui-selecting"),j.selecting=!1,j.$element.addClass("ui-selected"),j.selected=!0):(j.$element.removeClass("ui-selecting"),j.selecting=!1,j.startselected&&(j.$element.addClass("ui-unselecting"),j.unselecting=!0),g._trigger("unselecting",s,{unselecting:j.element}))),j.selected&&(s.metaKey||s.ctrlKey||j.startselected||(j.$element.removeClass("ui-selected"),j.selected=!1,j.$element.addClass("ui-unselecting"),j.unselecting=!0,g._trigger("unselecting",s,{unselecting:j.element})))))}),!1}},_mouseStop:function(s){var h=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var g=e.data(this,"selectable-item");g.$element.removeClass("ui-unselecting"),g.unselecting=!1,g.startselected=!1,h._trigger("unselected",s,{unselected:g.element})}),e(".ui-selecting",this.element[0]).each(function(){var g=e.data(this,"selectable-item");g.$element.removeClass("ui-selecting").addClass("ui-selected"),g.selecting=!1,g.selected=!0,g.startselected=!0,h._trigger("selected",s,{selected:g.element})}),this._trigger("stop",s),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var s=this.element.uniqueId().attr("id");this.ids={element:s,button:s+"-button",menu:s+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var s=this,h=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(g){this.button.focus(),g.preventDefault()}}),this.element.hide(),this.button=e("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:h||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){s.menuItems||s._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var s=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(h,g){h.preventDefault(),s._select(g.item.data("ui-selectmenu-item"),h)},focus:function(h,g){var m=g.item.data("ui-selectmenu-item");s.focusIndex!=null&&m.index!==s.focusIndex&&(s._trigger("focus",h,{item:m}),s.isOpen||s._select(m,h)),s.focusIndex=m.index,s.button.attr("aria-activedescendant",s.menuItems.eq(m.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var s,h=this.element.find("option");h.length&&(this._parseOptions(h),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),s=this._getSelectedItem(),this.menuInstance.focus(null,s),this._setAria(s.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(s){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",s))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(s){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",s))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(s,h){var g=this,m="";e.each(h,function(b,_){_.optgroup!==m&&(e("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(_.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:_.optgroup}).appendTo(s),m=_.optgroup),g._renderItemData(s,_)})},_renderItemData:function(s,h){return this._renderItem(s,h).data("ui-selectmenu-item",h)},_renderItem:function(s,h){var g=e("<li>");return h.disabled&&g.addClass("ui-state-disabled"),this._setText(g,h.label),g.appendTo(s)},_setText:function(s,h){h?s.text(h):s.html("&#160;")},_move:function(s,h){var g,m,b=".ui-menu-item";this.isOpen?g=this.menuItems.eq(this.focusIndex):(g=this.menuItems.eq(this.element[0].selectedIndex),b+=":not(.ui-state-disabled)"),m=s==="first"||s==="last"?g[s==="first"?"prevAll":"nextAll"](b).eq(-1):g[s+"All"](b).eq(0),m.length&&this.menuInstance.focus(h,m)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(s){this[this.isOpen?"close":"open"](s)},_documentClick:{mousedown:function(s){this.isOpen&&(e(s.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(s))}},_buttonEvents:{mousedown:function(s){s.preventDefault()},click:"_toggle",keydown:function(s){var h=!0;switch(s.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(s),h=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(s);break;case e.ui.keyCode.UP:s.altKey?this._toggle(s):this._move("prev",s);break;case e.ui.keyCode.DOWN:s.altKey?this._toggle(s):this._move("next",s);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(s):this._toggle(s);break;case e.ui.keyCode.LEFT:this._move("prev",s);break;case e.ui.keyCode.RIGHT:this._move("next",s);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",s);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",s);break;default:this.menu.trigger(s),h=!1}h&&s.preventDefault()}},_selectFocusedItem:function(s){var h=this.menuItems.eq(this.focusIndex);h.hasClass("ui-state-disabled")||this._select(h.data("ui-selectmenu-item"),s)},_select:function(s,h){var g=this.element[0].selectedIndex;this.element[0].selectedIndex=s.index,this._setText(this.buttonText,s.label),this._setAria(s),this._trigger("select",h,{item:s}),s.index!==g&&this._trigger("change",h,{item:s}),this.close(h)},_setAria:function(s){var h=this.menuItems.eq(s.index).attr("id");this.button.attr({"aria-labelledby":h,"aria-activedescendant":h}),this.menu.attr("aria-activedescendant",h)},_setOption:function(s,h){s==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(h.button),this._super(s,h),s==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),s==="disabled"&&(this.menuInstance.option("disabled",h),this.button.toggleClass("ui-state-disabled",h).attr("aria-disabled",h),this.element.prop("disabled",h),h?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),s==="width"&&this._resizeButton()},_appendTo:function(){var s=this.options.appendTo;return s&&(s=s.jquery||s.nodeType?e(s):this.document.find(s).eq(0)),s&&s[0]||(s=this.element.closest(".ui-front")),s.length||(s=this.document[0].body),s},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var s=this.options.width;s||(s=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(s)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(s){var h=[];s.each(function(g,m){var b=e(m),_=b.parent("optgroup");h.push({element:b,index:g,value:b.attr("value"),label:b.text(),optgroup:_.attr("label")||"",disabled:_.prop("disabled")||b.prop("disabled")})}),this.items=h},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var s,h,g=this.options,m=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),b="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",_=[];for(h=g.values&&g.values.length||1,m.length>h&&(m.slice(h).remove(),m=m.slice(0,h)),s=m.length;h>s;s++)_.push(b);this.handles=m.add(e(_.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(E){e(this).data("ui-slider-handle-index",E)})},_createRange:function(){var s=this.options,h="";s.range?(s.range===!0&&(s.values?s.values.length&&s.values.length!==2?s.values=[s.values[0],s.values[0]]:e.isArray(s.values)&&(s.values=s.values.slice(0)):s.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),h="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(h+(s.range==="min"||s.range==="max"?" ui-slider-range-"+s.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(s){var h,g,m,b,_,E,R,j,H=this,G=this.options;return G.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),h={x:s.pageX,y:s.pageY},g=this._normValueFromMouse(h),m=this._valueMax()-this._valueMin()+1,this.handles.each(function(q){var K=Math.abs(g-H.values(q));(m>K||m===K&&(q===H._lastChangedValue||H.values(q)===G.min))&&(m=K,b=e(this),_=q)}),E=this._start(s,_),E===!1?!1:(this._mouseSliding=!0,this._handleIndex=_,b.addClass("ui-state-active").focus(),R=b.offset(),j=!e(s.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:s.pageX-R.left-b.width()/2,top:s.pageY-R.top-b.height()/2-(parseInt(b.css("borderTopWidth"),10)||0)-(parseInt(b.css("borderBottomWidth"),10)||0)+(parseInt(b.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(s,_,g),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(s){var h={x:s.pageX,y:s.pageY},g=this._normValueFromMouse(h);return this._slide(s,this._handleIndex,g),!1},_mouseStop:function(s){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(s,this._handleIndex),this._change(s,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(s){var h,g,m,b,_;return this.orientation==="horizontal"?(h=this.elementSize.width,g=s.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(h=this.elementSize.height,g=s.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),m=g/h,m>1&&(m=1),0>m&&(m=0),this.orientation==="vertical"&&(m=1-m),b=this._valueMax()-this._valueMin(),_=this._valueMin()+m*b,this._trimAlignValue(_)},_start:function(s,h){var g={handle:this.handles[h],value:this.value()};return this.options.values&&this.options.values.length&&(g.value=this.values(h),g.values=this.values()),this._trigger("start",s,g)},_slide:function(s,h,g){var m,b,_;this.options.values&&this.options.values.length?(m=this.values(h?0:1),this.options.values.length===2&&this.options.range===!0&&(h===0&&g>m||h===1&&m>g)&&(g=m),g!==this.values(h)&&(b=this.values(),b[h]=g,_=this._trigger("slide",s,{handle:this.handles[h],value:g,values:b}),m=this.values(h?0:1),_!==!1&&this.values(h,g))):g!==this.value()&&(_=this._trigger("slide",s,{handle:this.handles[h],value:g}),_!==!1&&this.value(g))},_stop:function(s,h){var g={handle:this.handles[h],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(h),g.values=this.values()),this._trigger("stop",s,g)},_change:function(s,h){if(!this._keySliding&&!this._mouseSliding){var g={handle:this.handles[h],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(h),g.values=this.values()),this._lastChangedValue=h,this._trigger("change",s,g)}},value:function(s){return arguments.length?(this.options.value=this._trimAlignValue(s),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(s,h){var g,m,b;if(arguments.length>1)return this.options.values[s]=this._trimAlignValue(h),this._refreshValue(),this._change(null,s),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(s):this.value();for(g=this.options.values,m=arguments[0],b=0;g.length>b;b+=1)g[b]=this._trimAlignValue(m[b]),this._change(null,b);this._refreshValue()},_setOption:function(s,h){var g,m=0;switch(s==="range"&&this.options.range===!0&&(h==="min"?(this.options.value=this._values(0),this.options.values=null):h==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(m=this.options.values.length),s==="disabled"&&this.element.toggleClass("ui-state-disabled",!!h),this._super(s,h),s){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css(h==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),g=0;m>g;g+=1)this._change(null,g);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var s=this.options.value;return s=this._trimAlignValue(s)},_values:function(s){var h,g,m;if(arguments.length)return h=this.options.values[s],h=this._trimAlignValue(h);if(this.options.values&&this.options.values.length){for(g=this.options.values.slice(),m=0;g.length>m;m+=1)g[m]=this._trimAlignValue(g[m]);return g}return[]},_trimAlignValue:function(s){if(this._valueMin()>=s)return this._valueMin();if(s>=this._valueMax())return this._valueMax();var h=this.options.step>0?this.options.step:1,g=(s-this._valueMin())%h,m=s-g;return 2*Math.abs(g)>=h&&(m+=g>0?h:-h),parseFloat(m.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,h,g,m,b,_=this.options.range,E=this.options,R=this,j=this._animateOff?!1:E.animate,H={};this.options.values&&this.options.values.length?this.handles.each(function(G){h=100*((R.values(G)-R._valueMin())/(R._valueMax()-R._valueMin())),H[R.orientation==="horizontal"?"left":"bottom"]=h+"%",e(this).stop(1,1)[j?"animate":"css"](H,E.animate),R.options.range===!0&&(R.orientation==="horizontal"?(G===0&&R.range.stop(1,1)[j?"animate":"css"]({left:h+"%"},E.animate),G===1&&R.range[j?"animate":"css"]({width:h-s+"%"},{queue:!1,duration:E.animate})):(G===0&&R.range.stop(1,1)[j?"animate":"css"]({bottom:h+"%"},E.animate),G===1&&R.range[j?"animate":"css"]({height:h-s+"%"},{queue:!1,duration:E.animate}))),s=h}):(g=this.value(),m=this._valueMin(),b=this._valueMax(),h=b!==m?100*((g-m)/(b-m)):0,H[this.orientation==="horizontal"?"left":"bottom"]=h+"%",this.handle.stop(1,1)[j?"animate":"css"](H,E.animate),_==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[j?"animate":"css"]({width:h+"%"},E.animate),_==="max"&&this.orientation==="horizontal"&&this.range[j?"animate":"css"]({width:100-h+"%"},{queue:!1,duration:E.animate}),_==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[j?"animate":"css"]({height:h+"%"},E.animate),_==="max"&&this.orientation==="vertical"&&this.range[j?"animate":"css"]({height:100-h+"%"},{queue:!1,duration:E.animate}))},_handleEvents:{keydown:function(s){var h,g,m,b,_=e(s.target).data("ui-slider-handle-index");switch(s.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(s.target).addClass("ui-state-active"),h=this._start(s,_),h===!1))return}switch(b=this.options.step,g=m=this.options.values&&this.options.values.length?this.values(_):this.value(),s.keyCode){case e.ui.keyCode.HOME:m=this._valueMin();break;case e.ui.keyCode.END:m=this._valueMax();break;case e.ui.keyCode.PAGE_UP:m=this._trimAlignValue(g+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:m=this._trimAlignValue(g-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(g===this._valueMax())return;m=this._trimAlignValue(g+b);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(g===this._valueMin())return;m=this._trimAlignValue(g-b)}this._slide(s,_,m)},keyup:function(s){var h=e(s.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(s,h),this._change(s,h),e(s.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(s,h,g){return s>=h&&h+g>s},_isFloating:function(s){return/left|right/.test(s.css("float"))||/inline|table-cell/.test(s.css("display"))},_create:function(){var s=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?s.axis==="x"||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(s,h){this._super(s,h),s==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var s=this.items.length-1;s>=0;s--)this.items[s].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(s,h){var g=null,m=!1,b=this;return this.reverting||this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(s),e(s.target).parents().each(function(){return e.data(this,b.widgetName+"-item")===b?(g=e(this),!1):void 0}),e.data(s.target,b.widgetName+"-item")===b&&(g=e(s.target)),g&&(!this.options.handle||h||(e(this.options.handle,g).find("*").addBack().each(function(){this===s.target&&(m=!0)}),m))?(this.currentItem=g,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(s,h,g){var m,b,_=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(s),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:s.pageX-this.offset.left,top:s.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(s),this.originalPageX=s.pageX,this.originalPageY=s.pageY,_.cursorAt&&this._adjustOffsetFromHelper(_.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),_.containment&&this._setContainment(),_.cursor&&_.cursor!=="auto"&&(b=this.document.find("body"),this.storedCursor=b.css("cursor"),b.css("cursor",_.cursor),this.storedStylesheet=e("<style>*{ cursor: "+_.cursor+" !important; }</style>").appendTo(b)),_.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",_.opacity)),_.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",_.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",s,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!g)for(m=this.containers.length-1;m>=0;m--)this.containers[m]._trigger("activate",s,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!_.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,s),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(s),!0},_mouseDrag:function(s){var h,g,m,b,_=this.options,E=!1;for(this.position=this._generatePosition(s),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-s.pageY<_.scrollSensitivity?this.scrollParent[0].scrollTop=E=this.scrollParent[0].scrollTop+_.scrollSpeed:s.pageY-this.overflowOffset.top<_.scrollSensitivity&&(this.scrollParent[0].scrollTop=E=this.scrollParent[0].scrollTop-_.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-s.pageX<_.scrollSensitivity?this.scrollParent[0].scrollLeft=E=this.scrollParent[0].scrollLeft+_.scrollSpeed:s.pageX-this.overflowOffset.left<_.scrollSensitivity&&(this.scrollParent[0].scrollLeft=E=this.scrollParent[0].scrollLeft-_.scrollSpeed)):(s.pageY-e(document).scrollTop()<_.scrollSensitivity?E=e(document).scrollTop(e(document).scrollTop()-_.scrollSpeed):e(window).height()-(s.pageY-e(document).scrollTop())<_.scrollSensitivity&&(E=e(document).scrollTop(e(document).scrollTop()+_.scrollSpeed)),s.pageX-e(document).scrollLeft()<_.scrollSensitivity?E=e(document).scrollLeft(e(document).scrollLeft()-_.scrollSpeed):e(window).width()-(s.pageX-e(document).scrollLeft())<_.scrollSensitivity&&(E=e(document).scrollLeft(e(document).scrollLeft()+_.scrollSpeed))),E!==!1&&e.ui.ddmanager&&!_.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,s)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),h=this.items.length-1;h>=0;h--)if(g=this.items[h],m=g.item[0],b=this._intersectsWithPointer(g),b&&g.instance===this.currentContainer&&m!==this.currentItem[0]&&this.placeholder[b===1?"next":"prev"]()[0]!==m&&!e.contains(this.placeholder[0],m)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],m):!0)){if(this.direction=b===1?"down":"up",this.options.tolerance!=="pointer"&&!this._intersectsWithSides(g))break;this._rearrange(s,g),this._trigger("change",s,this._uiHash());break}return this._contactContainers(s),e.ui.ddmanager&&e.ui.ddmanager.drag(this,s),this._trigger("sort",s,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(s,h){if(s){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,s),this.options.revert){var g=this,m=this.placeholder.offset(),b=this.options.axis,_={};b&&b!=="x"||(_.left=m.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),b&&b!=="y"||(_.top=m.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(_,parseInt(this.options.revert,10)||500,function(){g._clear(s)})}else this._clear(s,h);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("deactivate",null,this._uiHash(this)),this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",null,this._uiHash(this)),this.containers[s].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(s){var h=this._getItemsAsjQuery(s&&s.connected),g=[];return s=s||{},e(h).each(function(){var m=(e(s.item||this).attr(s.attribute||"id")||"").match(s.expression||/(.+)[\-=_](.+)/);m&&g.push((s.key||m[1]+"[]")+"="+(s.key&&s.expression?m[1]:m[2]))}),!g.length&&s.key&&g.push(s.key+"="),g.join("&")},toArray:function(s){var h=this._getItemsAsjQuery(s&&s.connected),g=[];return s=s||{},h.each(function(){g.push(e(s.item||this).attr(s.attribute||"id")||"")}),g},_intersectsWith:function(s){var h=this.positionAbs.left,g=h+this.helperProportions.width,m=this.positionAbs.top,b=m+this.helperProportions.height,_=s.left,E=_+s.width,R=s.top,j=R+s.height,H=this.offset.click.top,G=this.offset.click.left,q=this.options.axis==="x"||m+H>R&&j>m+H,K=this.options.axis==="y"||h+G>_&&E>h+G,ue=q&&K;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>s[this.floating?"width":"height"]?ue:h+this.helperProportions.width/2>_&&E>g-this.helperProportions.width/2&&m+this.helperProportions.height/2>R&&j>b-this.helperProportions.height/2},_intersectsWithPointer:function(s){var h=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,s.top,s.height),g=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,s.left,s.width),m=h&&g,b=this._getDragVerticalDirection(),_=this._getDragHorizontalDirection();return m?this.floating?_&&_==="right"||b==="down"?2:1:b&&(b==="down"?2:1):!1},_intersectsWithSides:function(s){var h=this._isOverAxis(this.positionAbs.top+this.offset.click.top,s.top+s.height/2,s.height),g=this._isOverAxis(this.positionAbs.left+this.offset.click.left,s.left+s.width/2,s.width),m=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection();return this.floating&&b?b==="right"&&g||b==="left"&&!g:m&&(m==="down"&&h||m==="up"&&!h)},_getDragVerticalDirection:function(){var s=this.positionAbs.top-this.lastPositionAbs.top;return s!==0&&(s>0?"down":"up")},_getDragHorizontalDirection:function(){var s=this.positionAbs.left-this.lastPositionAbs.left;return s!==0&&(s>0?"right":"left")},refresh:function(s){return this._refreshItems(s),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var s=this.options;return s.connectWith.constructor===String?[s.connectWith]:s.connectWith},_getItemsAsjQuery:function(s){function h(){E.push(this)}var g,m,b,_,E=[],R=[],j=this._connectWith();if(j&&s)for(g=j.length-1;g>=0;g--)for(b=e(j[g]),m=b.length-1;m>=0;m--)_=e.data(b[m],this.widgetFullName),_&&_!==this&&!_.options.disabled&&R.push([e.isFunction(_.options.items)?_.options.items.call(_.element):e(_.options.items,_.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),_]);for(R.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),g=R.length-1;g>=0;g--)R[g][0].each(h);return e(E)},_removeCurrentsFromItems:function(){var s=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(h){for(var g=0;s.length>g;g++)if(s[g]===h.item[0])return!1;return!0})},_refreshItems:function(s){this.items=[],this.containers=[this];var h,g,m,b,_,E,R,j,H=this.items,G=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],s,{item:this.currentItem}):e(this.options.items,this.element),this]],q=this._connectWith();if(q&&this.ready)for(h=q.length-1;h>=0;h--)for(m=e(q[h]),g=m.length-1;g>=0;g--)b=e.data(m[g],this.widgetFullName),b&&b!==this&&!b.options.disabled&&(G.push([e.isFunction(b.options.items)?b.options.items.call(b.element[0],s,{item:this.currentItem}):e(b.options.items,b.element),b]),this.containers.push(b));for(h=G.length-1;h>=0;h--)for(_=G[h][1],E=G[h][0],g=0,j=E.length;j>g;g++)R=e(E[g]),R.data(this.widgetName+"-item",_),H.push({item:R,instance:_,width:0,height:0,left:0,top:0})},refreshPositions:function(s){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var h,g,m,b;for(h=this.items.length-1;h>=0;h--)g=this.items[h],g.instance!==this.currentContainer&&this.currentContainer&&g.item[0]!==this.currentItem[0]||(m=this.options.toleranceElement?e(this.options.toleranceElement,g.item):g.item,s||(g.width=m.outerWidth(),g.height=m.outerHeight()),b=m.offset(),g.left=b.left,g.top=b.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(h=this.containers.length-1;h>=0;h--)b=this.containers[h].element.offset(),this.containers[h].containerCache.left=b.left,this.containers[h].containerCache.top=b.top,this.containers[h].containerCache.width=this.containers[h].element.outerWidth(),this.containers[h].containerCache.height=this.containers[h].element.outerHeight();return this},_createPlaceholder:function(s){s=s||this;var h,g=s.options;g.placeholder&&g.placeholder.constructor!==String||(h=g.placeholder,g.placeholder={element:function(){var m=s.currentItem[0].nodeName.toLowerCase(),b=e("<"+m+">",s.document[0]).addClass(h||s.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return m==="tr"?s.currentItem.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(b)}):m==="img"&&b.attr("src",s.currentItem.attr("src")),h||b.css("visibility","hidden"),b},update:function(m,b){(!h||g.forcePlaceholderSize)&&(b.height()||b.height(s.currentItem.innerHeight()-parseInt(s.currentItem.css("paddingTop")||0,10)-parseInt(s.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(s.currentItem.innerWidth()-parseInt(s.currentItem.css("paddingLeft")||0,10)-parseInt(s.currentItem.css("paddingRight")||0,10)))}}),s.placeholder=e(g.placeholder.element.call(s.element,s.currentItem)),s.currentItem.after(s.placeholder),g.placeholder.update(s,s.placeholder)},_contactContainers:function(s){var h,g,m,b,_,E,R,j,H,G,q=null,K=null;for(h=this.containers.length-1;h>=0;h--)if(!e.contains(this.currentItem[0],this.containers[h].element[0]))if(this._intersectsWith(this.containers[h].containerCache)){if(q&&e.contains(this.containers[h].element[0],q.element[0]))continue;q=this.containers[h],K=h}else this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",s,this._uiHash(this)),this.containers[h].containerCache.over=0);if(q)if(this.containers.length===1)this.containers[K].containerCache.over||(this.containers[K]._trigger("over",s,this._uiHash(this)),this.containers[K].containerCache.over=1);else{for(m=1e4,b=null,H=q.floating||this._isFloating(this.currentItem),_=H?"left":"top",E=H?"width":"height",G=H?"clientX":"clientY",g=this.items.length-1;g>=0;g--)e.contains(this.containers[K].element[0],this.items[g].item[0])&&this.items[g].item[0]!==this.currentItem[0]&&(R=this.items[g].item.offset()[_],j=!1,s[G]-R>this.items[g][E]/2&&(j=!0),m>Math.abs(s[G]-R)&&(m=Math.abs(s[G]-R),b=this.items[g],this.direction=j?"up":"down"));if(!b&&!this.options.dropOnEmpty||this.currentContainer===this.containers[K])return;b?this._rearrange(s,b,null,!0):this._rearrange(s,null,this.containers[K].element,!0),this._trigger("change",s,this._uiHash()),this.containers[K]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[K],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[K]._trigger("over",s,this._uiHash(this)),this.containers[K].containerCache.over=1}},_createHelper:function(s){var h=this.options,g=e.isFunction(h.helper)?e(h.helper.apply(this.element[0],[s,this.currentItem])):h.helper==="clone"?this.currentItem.clone():this.currentItem;return g.parents("body").length||e(h.appendTo!=="parent"?h.appendTo:this.currentItem[0].parentNode)[0].appendChild(g[0]),g[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!g[0].style.width||h.forceHelperSize)&&g.width(this.currentItem.width()),(!g[0].style.height||h.forceHelperSize)&&g.height(this.currentItem.height()),g},_adjustOffsetFromHelper:function(s){typeof s=="string"&&(s=s.split(" ")),e.isArray(s)&&(s={left:+s[0],top:+s[1]||0}),"left"in s&&(this.offset.click.left=s.left+this.margins.left),"right"in s&&(this.offset.click.left=this.helperProportions.width-s.right+this.margins.left),"top"in s&&(this.offset.click.top=s.top+this.margins.top),"bottom"in s&&(this.offset.click.top=this.helperProportions.height-s.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var s=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(s.left+=this.scrollParent.scrollLeft(),s.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)&&(s={top:0,left:0}),{top:s.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:s.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var s=this.currentItem.position();return{top:s.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:s.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var s,h,g,m=this.options;m.containment==="parent"&&(m.containment=this.helper[0].parentNode),(m.containment==="document"||m.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(m.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(m.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(m.containment)||(s=e(m.containment)[0],h=e(m.containment).offset(),g=e(s).css("overflow")!=="hidden",this.containment=[h.left+(parseInt(e(s).css("borderLeftWidth"),10)||0)+(parseInt(e(s).css("paddingLeft"),10)||0)-this.margins.left,h.top+(parseInt(e(s).css("borderTopWidth"),10)||0)+(parseInt(e(s).css("paddingTop"),10)||0)-this.margins.top,h.left+(g?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(e(s).css("borderLeftWidth"),10)||0)-(parseInt(e(s).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,h.top+(g?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(e(s).css("borderTopWidth"),10)||0)-(parseInt(e(s).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(s,h){h||(h=this.position);var g=s==="absolute"?1:-1,m=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,b=/(html|body)/i.test(m[0].tagName);return{top:h.top+this.offset.relative.top*g+this.offset.parent.top*g-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():b?0:m.scrollTop())*g,left:h.left+this.offset.relative.left*g+this.offset.parent.left*g-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():b?0:m.scrollLeft())*g}},_generatePosition:function(s){var h,g,m=this.options,b=s.pageX,_=s.pageY,E=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,R=/(html|body)/i.test(E[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(s.pageX-this.offset.click.left<this.containment[0]&&(b=this.containment[0]+this.offset.click.left),s.pageY-this.offset.click.top<this.containment[1]&&(_=this.containment[1]+this.offset.click.top),s.pageX-this.offset.click.left>this.containment[2]&&(b=this.containment[2]+this.offset.click.left),s.pageY-this.offset.click.top>this.containment[3]&&(_=this.containment[3]+this.offset.click.top)),m.grid&&(h=this.originalPageY+Math.round((_-this.originalPageY)/m.grid[1])*m.grid[1],_=this.containment?h-this.offset.click.top>=this.containment[1]&&h-this.offset.click.top<=this.containment[3]?h:h-this.offset.click.top>=this.containment[1]?h-m.grid[1]:h+m.grid[1]:h,g=this.originalPageX+Math.round((b-this.originalPageX)/m.grid[0])*m.grid[0],b=this.containment?g-this.offset.click.left>=this.containment[0]&&g-this.offset.click.left<=this.containment[2]?g:g-this.offset.click.left>=this.containment[0]?g-m.grid[0]:g+m.grid[0]:g)),{top:_-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():R?0:E.scrollTop()),left:b-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():R?0:E.scrollLeft())}},_rearrange:function(s,h,g,m){g?g[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?h.item[0]:h.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var b=this.counter;this._delay(function(){b===this.counter&&this.refreshPositions(!m)})},_clear:function(s,h){function g(_,E,R){return function(j){R._trigger(_,j,E._uiHash(E))}}this.reverting=!1;var m,b=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(m in this._storedCSS)(this._storedCSS[m]==="auto"||this._storedCSS[m]==="static")&&(this._storedCSS[m]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!h&&b.push(function(_){this._trigger("receive",_,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||h||b.push(function(_){this._trigger("update",_,this._uiHash())}),this!==this.currentContainer&&(h||(b.push(function(_){this._trigger("remove",_,this._uiHash())}),b.push(function(_){return function(E){_._trigger("receive",E,this._uiHash(this))}}.call(this,this.currentContainer)),b.push(function(_){return function(E){_._trigger("update",E,this._uiHash(this))}}.call(this,this.currentContainer)))),m=this.containers.length-1;m>=0;m--)h||b.push(g("deactivate",this,this.containers[m])),this.containers[m].containerCache.over&&(b.push(g("out",this,this.containers[m])),this.containers[m].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!h){for(this._trigger("beforeStop",s,this._uiHash()),m=0;b.length>m;m++)b[m].call(this,s);this._trigger("stop",s,this._uiHash())}return this.fromOutside=!1,!1}if(h||this._trigger("beforeStop",s,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!h){for(m=0;b.length>m;m++)b[m].call(this,s);this._trigger("stop",s,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(s){var h=s||this;return{helper:h.helper,placeholder:h.placeholder||e([]),position:h.position,originalPosition:h.originalPosition,offset:h.positionAbs,item:h.currentItem,sender:s?s.element:null}}}),e.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var s={},h=this.element;return e.each(["min","max","step"],function(g,m){var b=h.attr(m);b!==void 0&&b.length&&(s[m]=b)}),s},_events:{keydown:function(s){this._start(s)&&this._keydown(s)&&s.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(s){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",s),void 0)},mousewheel:function(s,h){if(h){if(!this.spinning&&!this._start(s))return!1;this._spin((h>0?1:-1)*this.options.step,s),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(s)},100),s.preventDefault()}},"mousedown .ui-spinner-button":function(s){function h(){var m=this.element[0]===this.document[0].activeElement;m||(this.element.focus(),this.previous=g,this._delay(function(){this.previous=g}))}var g;g=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),s.preventDefault(),h.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,h.call(this)}),this._start(s)!==!1&&this._repeat(null,e(s.currentTarget).hasClass("ui-spinner-up")?1:-1,s)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(s){return e(s.currentTarget).hasClass("ui-state-active")?this._start(s)===!1?!1:(this._repeat(null,e(s.currentTarget).hasClass("ui-spinner-up")?1:-1,s),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var s=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=s.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*s.height())&&s.height()>0&&s.height(s.height()),this.options.disabled&&this.disable()},_keydown:function(s){var h=this.options,g=e.ui.keyCode;switch(s.keyCode){case g.UP:return this._repeat(null,1,s),!0;case g.DOWN:return this._repeat(null,-1,s),!0;case g.PAGE_UP:return this._repeat(null,h.page,s),!0;case g.PAGE_DOWN:return this._repeat(null,-h.page,s),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(s){return this.spinning||this._trigger("start",s)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(s,h,g){s=s||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,h,g)},s),this._spin(h*this.options.step,g)},_spin:function(s,h){var g=this.value()||0;this.counter||(this.counter=1),g=this._adjustValue(g+s*this._increment(this.counter)),this.spinning&&this._trigger("spin",h,{value:g})===!1||(this._value(g),this.counter++)},_increment:function(s){var h=this.options.incremental;return h?e.isFunction(h)?h(s):Math.floor(s*s*s/5e4-s*s/500+17*s/200+1):1},_precision:function(){var s=this._precisionOf(this.options.step);return this.options.min!==null&&(s=Math.max(s,this._precisionOf(this.options.min))),s},_precisionOf:function(s){var h=""+s,g=h.indexOf(".");return g===-1?0:h.length-g-1},_adjustValue:function(s){var h,g,m=this.options;return h=m.min!==null?m.min:0,g=s-h,g=Math.round(g/m.step)*m.step,s=h+g,s=parseFloat(s.toFixed(this._precision())),m.max!==null&&s>m.max?m.max:m.min!==null&&m.min>s?m.min:s},_stop:function(s){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",s))},_setOption:function(s,h){if(s==="culture"||s==="numberFormat"){var g=this._parse(this.element.val());return this.options[s]=h,this.element.val(this._format(g)),void 0}(s==="max"||s==="min"||s==="step")&&typeof h=="string"&&(h=this._parse(h)),s==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(h.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(h.down)),this._super(s,h),s==="disabled"&&(this.widget().toggleClass("ui-state-disabled",!!h),this.element.prop("disabled",!!h),this.buttons.button(h?"disable":"enable"))},_setOptions:c(function(s){this._super(s)}),_parse:function(s){return typeof s=="string"&&s!==""&&(s=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(s,10,this.options.culture):+s),s===""||isNaN(s)?null:s},_format:function(s){return s===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(s,this.options.numberFormat,this.options.culture):s},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var s=this.value();return s===null?!1:s===this._adjustValue(s)},_value:function(s,h){var g;s!==""&&(g=this._parse(s),g!==null&&(h||(g=this._adjustValue(g)),s=this._format(g))),this.element.val(s),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:c(function(s){this._stepUp(s)}),_stepUp:function(s){this._start()&&(this._spin((s||1)*this.options.step),this._stop())},stepDown:c(function(s){this._stepDown(s)}),_stepDown:function(s){this._start()&&(this._spin((s||1)*-this.options.step),this._stop())},pageUp:c(function(s){this._stepUp((s||1)*this.options.page)}),pageDown:c(function(s){this._stepDown((s||1)*this.options.page)}),value:function(s){return arguments.length?(c(this._value).call(this,s),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var s=/#.*$/;return function(h){var g,m;h=h.cloneNode(!1),g=h.href.replace(s,""),m=location.href.replace(s,"");try{g=decodeURIComponent(g)}catch(b){}try{m=decodeURIComponent(m)}catch(b){}return h.hash.length>1&&g===m}}(),_create:function(){var s=this,h=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",h.collapsible),this._processTabs(),h.active=this._initialActive(),e.isArray(h.disabled)&&(h.disabled=e.unique(h.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(g){return s.tabs.index(g)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(h.active):e(),this._refresh(),this.active.length&&this.load(h.active)},_initialActive:function(){var s=this.options.active,h=this.options.collapsible,g=location.hash.substring(1);return s===null&&(g&&this.tabs.each(function(m,b){return e(b).attr("aria-controls")===g?(s=m,!1):void 0}),s===null&&(s=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(s===null||s===-1)&&(s=this.tabs.length?0:!1)),s!==!1&&(s=this.tabs.index(this.tabs.eq(s)),s===-1&&(s=h?!1:0)),!h&&s===!1&&this.anchors.length&&(s=0),s},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(s){var h=e(this.document[0].activeElement).closest("li"),g=this.tabs.index(h),m=!0;if(!this._handlePageNav(s)){switch(s.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:g++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:m=!1,g--;break;case e.ui.keyCode.END:g=this.anchors.length-1;break;case e.ui.keyCode.HOME:g=0;break;case e.ui.keyCode.SPACE:return s.preventDefault(),clearTimeout(this.activating),this._activate(g),void 0;case e.ui.keyCode.ENTER:return s.preventDefault(),clearTimeout(this.activating),this._activate(g===this.options.active?!1:g),void 0;default:return}s.preventDefault(),clearTimeout(this.activating),g=this._focusNextTab(g,m),s.ctrlKey||(h.attr("aria-selected","false"),this.tabs.eq(g).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",g)},this.delay))}},_panelKeydown:function(s){this._handlePageNav(s)||s.ctrlKey&&s.keyCode===e.ui.keyCode.UP&&(s.preventDefault(),this.active.focus())},_handlePageNav:function(s){return s.altKey&&s.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):s.altKey&&s.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(s,h){function g(){return s>m&&(s=0),0>s&&(s=m),s}for(var m=this.tabs.length-1;e.inArray(g(),this.options.disabled)!==-1;)s=h?s+1:s-1;return s},_focusNextTab:function(s,h){return s=this._findNextTab(s,h),this.tabs.eq(s).focus(),s},_setOption:function(s,h){return s==="active"?(this._activate(h),void 0):s==="disabled"?(this._setupDisabled(h),void 0):(this._super(s,h),s==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",h),h||this.options.active!==!1||this._activate(0)),s==="event"&&this._setupEvents(h),s==="heightStyle"&&this._setupHeightStyle(h),void 0)},_sanitizeSelector:function(s){return s?s.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var s=this.options,h=this.tablist.children(":has(a[href])");s.disabled=e.map(h.filter(".ui-state-disabled"),function(g){return h.index(g)}),this._processTabs(),s.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===s.disabled.length?(s.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,s.active-1),!1)):s.active=this.tabs.index(this.active):(s.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var s=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(h){e(this).is(".ui-state-disabled")&&h.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(h,g){var m,b,_,E=e(g).uniqueId().attr("id"),R=e(g).closest("li"),j=R.attr("aria-controls");s._isLocal(g)?(m=g.hash,_=m.substring(1),b=s.element.find(s._sanitizeSelector(m))):(_=R.attr("aria-controls")||e({}).uniqueId()[0].id,m="#"+_,b=s.element.find(m),b.length||(b=s._createPanel(_),b.insertAfter(s.panels[h-1]||s.tablist)),b.attr("aria-live","polite")),b.length&&(s.panels=s.panels.add(b)),j&&R.data("ui-tabs-aria-controls",j),R.attr({"aria-controls":_,"aria-labelledby":E}),b.attr("aria-labelledby",E)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(s){return e("<div>").attr("id",s).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(s){e.isArray(s)&&(s.length?s.length===this.anchors.length&&(s=!0):s=!1);for(var h,g=0;h=this.tabs[g];g++)s===!0||e.inArray(g,s)!==-1?e(h).addClass("ui-state-disabled").attr("aria-disabled","true"):e(h).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=s},_setupEvents:function(s){var h={};s&&e.each(s.split(" "),function(g,m){h[m]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(g){g.preventDefault()}}),this._on(this.anchors,h),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(s){var h,g=this.element.parent();s==="fill"?(h=g.height(),h-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var m=e(this),b=m.css("position");b!=="absolute"&&b!=="fixed"&&(h-=m.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){h-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,h-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):s==="auto"&&(h=0,this.panels.each(function(){h=Math.max(h,e(this).height("").height())}).height(h))},_eventHandler:function(s){var h=this.options,g=this.active,m=e(s.currentTarget),b=m.closest("li"),_=b[0]===g[0],E=_&&h.collapsible,R=E?e():this._getPanelForTab(b),j=g.length?this._getPanelForTab(g):e(),H={oldTab:g,oldPanel:j,newTab:E?e():b,newPanel:R};s.preventDefault(),b.hasClass("ui-state-disabled")||b.hasClass("ui-tabs-loading")||this.running||_&&!h.collapsible||this._trigger("beforeActivate",s,H)===!1||(h.active=E?!1:this.tabs.index(b),this.active=_?e():b,this.xhr&&this.xhr.abort(),j.length||R.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),R.length&&this.load(this.tabs.index(b),s),this._toggle(s,H))},_toggle:function(s,h){function g(){b.running=!1,b._trigger("activate",s,h)}function m(){h.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),_.length&&b.options.show?b._show(_,b.options.show,g):(_.show(),g())}var b=this,_=h.newPanel,E=h.oldPanel;this.running=!0,E.length&&this.options.hide?this._hide(E,this.options.hide,function(){h.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),m()}):(h.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),E.hide(),m()),E.attr("aria-hidden","true"),h.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),_.length&&E.length?h.oldTab.attr("tabIndex",-1):_.length&&this.tabs.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),_.attr("aria-hidden","false"),h.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(s){var h,g=this._findActive(s);g[0]!==this.active[0]&&(g.length||(g=this.active),h=g.find(".ui-tabs-anchor")[0],this._eventHandler({target:h,currentTarget:h,preventDefault:e.noop}))},_findActive:function(s){return s===!1?e():this.tabs.eq(s)},_getIndex:function(s){return typeof s=="string"&&(s=this.anchors.index(this.anchors.filter("[href$='"+s+"']"))),s},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var s=e(this),h=s.data("ui-tabs-aria-controls");h?s.attr("aria-controls",h).removeData("ui-tabs-aria-controls"):s.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(s){var h=this.options.disabled;h!==!1&&(s===void 0?h=!1:(s=this._getIndex(s),h=e.isArray(h)?e.map(h,function(g){return g!==s?g:null}):e.map(this.tabs,function(g,m){return m!==s?m:null})),this._setupDisabled(h))},disable:function(s){var h=this.options.disabled;if(h!==!0){if(s===void 0)h=!0;else{if(s=this._getIndex(s),e.inArray(s,h)!==-1)return;h=e.isArray(h)?e.merge([s],h).sort():[s]}this._setupDisabled(h)}},load:function(s,h){s=this._getIndex(s);var g=this,m=this.tabs.eq(s),b=m.find(".ui-tabs-anchor"),_=this._getPanelForTab(m),E={tab:m,panel:_};this._isLocal(b[0])||(this.xhr=e.ajax(this._ajaxSettings(b,h,E)),this.xhr&&this.xhr.statusText!=="canceled"&&(m.addClass("ui-tabs-loading"),_.attr("aria-busy","true"),this.xhr.success(function(R){setTimeout(function(){_.html(R),g._trigger("load",h,E)},1)}).complete(function(R,j){setTimeout(function(){j==="abort"&&g.panels.stop(!1,!0),m.removeClass("ui-tabs-loading"),_.removeAttr("aria-busy"),R===g.xhr&&delete g.xhr},1)})))},_ajaxSettings:function(s,h,g){var m=this;return{url:s.attr("href"),beforeSend:function(b,_){return m._trigger("beforeLoad",h,e.extend({jqXHR:b,ajaxSettings:_},g))}}},_getPanelForTab:function(s){var h=e(s).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}}),e.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var s=e(this).attr("title")||"";return e("<a>").text(s).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(s,h){var g=(s.attr("aria-describedby")||"").split(/\s+/);g.push(h),s.data("ui-tooltip-id",h).attr("aria-describedby",e.trim(g.join(" ")))},_removeDescribedBy:function(s){var h=s.data("ui-tooltip-id"),g=(s.attr("aria-describedby")||"").split(/\s+/),m=e.inArray(h,g);m!==-1&&g.splice(m,1),s.removeData("ui-tooltip-id"),g=e.trim(g.join(" ")),g?s.attr("aria-describedby",g):s.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(s,h){var g=this;return s==="disabled"?(this[h?"_disable":"_enable"](),this.options[s]=h,void 0):(this._super(s,h),s==="content"&&e.each(this.tooltips,function(m,b){g._updateContent(b)}),void 0)},_disable:function(){var s=this;e.each(this.tooltips,function(h,g){var m=e.Event("blur");m.target=m.currentTarget=g[0],s.close(m,!0)}),this.element.find(this.options.items).addBack().each(function(){var h=e(this);h.is("[title]")&&h.data("ui-tooltip-title",h.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var s=e(this);s.data("ui-tooltip-title")&&s.attr("title",s.data("ui-tooltip-title"))})},open:function(s){var h=this,g=e(s?s.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),s&&s.type==="mouseover"&&g.parents().each(function(){var m,b=e(this);b.data("ui-tooltip-open")&&(m=e.Event("blur"),m.target=m.currentTarget=this,h.close(m,!0)),b.attr("title")&&(b.uniqueId(),h.parents[this.id]={element:this,title:b.attr("title")},b.attr("title",""))}),this._updateContent(g,s))},_updateContent:function(s,h){var g,m=this.options.content,b=this,_=h?h.type:null;return typeof m=="string"?this._open(h,s,m):(g=m.call(s[0],function(E){s.data("ui-tooltip-open")&&b._delay(function(){h&&(h.type=_),this._open(h,s,E)})}),g&&this._open(h,s,g),void 0)},_open:function(s,h,g){function m(H){j.of=H,b.is(":hidden")||b.position(j)}var b,_,E,R,j=e.extend({},this.options.position);if(g){if(b=this._find(h),b.length)return b.find(".ui-tooltip-content").html(g),void 0;h.is("[title]")&&(s&&s.type==="mouseover"?h.attr("title",""):h.removeAttr("title")),b=this._tooltip(h),this._addDescribedBy(h,b.attr("id")),b.find(".ui-tooltip-content").html(g),this.liveRegion.children().hide(),g.clone?(R=g.clone(),R.removeAttr("id").find("[id]").removeAttr("id")):R=g,e("<div>").html(R).appendTo(this.liveRegion),this.options.track&&s&&/^mouse/.test(s.type)?(this._on(this.document,{mousemove:m}),m(s)):b.position(e.extend({of:h},this.options.position)),this.hiding=!1,this.closing=!1,b.hide(),this._show(b,this.options.show),this.options.show&&this.options.show.delay&&(E=this.delayedShow=setInterval(function(){b.is(":visible")&&(m(j.of),clearInterval(E))},e.fx.interval)),this._trigger("open",s,{tooltip:b}),_={keyup:function(H){if(H.keyCode===e.ui.keyCode.ESCAPE){var G=e.Event(H);G.currentTarget=h[0],this.close(G,!0)}}},h[0]!==this.element[0]&&(_.remove=function(){this._removeTooltip(b)}),s&&s.type!=="mouseover"||(_.mouseleave="close"),s&&s.type!=="focusin"||(_.focusout="close"),this._on(!0,h,_)}},close:function(s){var h=this,g=e(s?s.currentTarget:this.element),m=this._find(g);this.closing||(clearInterval(this.delayedShow),g.data("ui-tooltip-title")&&!g.attr("title")&&g.attr("title",g.data("ui-tooltip-title")),this._removeDescribedBy(g),this.hiding=!0,m.stop(!0),this._hide(m,this.options.hide,function(){h._removeTooltip(e(this)),this.hiding=!1,this.closing=!1}),g.removeData("ui-tooltip-open"),this._off(g,"mouseleave focusout keyup"),g[0]!==this.element[0]&&this._off(g,"remove"),this._off(this.document,"mousemove"),s&&s.type==="mouseleave"&&e.each(this.parents,function(b,_){e(_.element).attr("title",_.title),delete h.parents[b]}),this.closing=!0,this._trigger("close",s,{tooltip:m}),this.hiding||(this.closing=!1))},_tooltip:function(s){var h=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),g=h.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(h),h.appendTo(this.document[0].body),this.tooltips[g]=s,h},_find:function(s){var h=s.data("ui-tooltip-id");return h?e("#"+h):e()},_removeTooltip:function(s){s.remove(),delete this.tooltips[s.attr("id")]},_destroy:function(){var s=this;e.each(this.tooltips,function(h,g){var m=e.Event("blur");m.target=m.currentTarget=g[0],s.close(m,!0),e("#"+h).remove(),g.data("ui-tooltip-title")&&(g.attr("title")||g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})})}),dy={};Nx(dy,{default:()=>Uf});zx=uy(cy());Fx(dy,uy(cy()));sy=zx,{default:ly}=sy,Hx=en(sy,["default"]),Uf=ly!==void 0?ly:Hx;});var Vf={};On(Vf,{default:()=>Uf});var qf=Wt(()=>{Wf();Wf()});var nl,i6,r6,Sy,n6,Sc,ol,o6,Iy,im,Ly,Ay,a6,xc,oh,Cy,s6,l6,Pa,mu,Ey,Dy,Ry,u6,jy,c6,Ty,d6,Qf,By,h6,p6,f6,lh,m6,g6,v6,$y,Py,em,b6,tm,Oy,y6,w6,_6,ah,My,sh,Ny,Fy=Wt(()=>{nl=[],i6=function(){return nl.some(function(e){return e.activeTargets.length>0})},r6=function(){return nl.some(function(e){return e.skippedTargets.length>0})},Sy="ResizeObserver loop completed with undelivered notifications.",n6=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Sy}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Sy),window.dispatchEvent(e)};(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Sc||(Sc={}));ol=function(e){return Object.freeze(e)},o6=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,ol(this)}return e}(),Iy=function(){function e(t,r,a,l){return this.x=t,this.y=r,this.width=a,this.height=l,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ol(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,a=t.y,l=t.top,o=t.right,u=t.bottom,n=t.left,c=t.width,d=t.height;return{x:r,y:a,top:l,right:o,bottom:u,left:n,width:c,height:d}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),im=function(e){return e instanceof SVGElement&&"getBBox"in e},Ly=function(e){if(im(e)){var t=e.getBBox(),r=t.width,a=t.height;return!r&&!a}var l=e,o=l.offsetWidth,u=l.offsetHeight;return!(o||u||e.getClientRects().length)},Ay=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},a6=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},xc=typeof window<"u"?window:{},oh=new WeakMap,Cy=/auto|scroll/,s6=/^tb|vertical/,l6=/msie|trident/i.test(xc.navigator&&xc.navigator.userAgent),Pa=function(e){return parseFloat(e||"0")},mu=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new o6((r?t:e)||0,(r?e:t)||0)},Ey=ol({devicePixelContentBoxSize:mu(),borderBoxSize:mu(),contentBoxSize:mu(),contentRect:new Iy(0,0,0,0)}),Dy=function(e,t){if(t===void 0&&(t=!1),oh.has(e)&&!t)return oh.get(e);if(Ly(e))return oh.set(e,Ey),Ey;var r=getComputedStyle(e),a=im(e)&&e.ownerSVGElement&&e.getBBox(),l=!l6&&r.boxSizing==="border-box",o=s6.test(r.writingMode||""),u=!a&&Cy.test(r.overflowY||""),n=!a&&Cy.test(r.overflowX||""),c=a?0:Pa(r.paddingTop),d=a?0:Pa(r.paddingRight),f=a?0:Pa(r.paddingBottom),p=a?0:Pa(r.paddingLeft),v=a?0:Pa(r.borderTopWidth),y=a?0:Pa(r.borderRightWidth),w=a?0:Pa(r.borderBottomWidth),k=a?0:Pa(r.borderLeftWidth),A=p+d,C=c+f,x=k+y,S=v+w,s=n?e.offsetHeight-S-e.clientHeight:0,h=u?e.offsetWidth-x-e.clientWidth:0,g=l?A+x:0,m=l?C+S:0,b=a?a.width:Pa(r.width)-g-h,_=a?a.height:Pa(r.height)-m-s,E=b+A+h+x,R=_+C+s+S,j=ol({devicePixelContentBoxSize:mu(Math.round(b*devicePixelRatio),Math.round(_*devicePixelRatio),o),borderBoxSize:mu(E,R,o),contentBoxSize:mu(b,_,o),contentRect:new Iy(p,c,b,_)});return oh.set(e,j),j},Ry=function(e,t,r){var a=Dy(e,r),l=a.borderBoxSize,o=a.contentBoxSize,u=a.devicePixelContentBoxSize;switch(t){case Sc.DEVICE_PIXEL_CONTENT_BOX:return u;case Sc.BORDER_BOX:return l;default:return o}},u6=function(){function e(t){var r=Dy(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=ol([r.borderBoxSize]),this.contentBoxSize=ol([r.contentBoxSize]),this.devicePixelContentBoxSize=ol([r.devicePixelContentBoxSize])}return e}(),jy=function(e){if(Ly(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},c6=function(){var e=1/0,t=[];nl.forEach(function(o){if(o.activeTargets.length!==0){var u=[];o.activeTargets.forEach(function(n){var c=new u6(n.target),d=jy(n.target);u.push(c),n.lastReportedSize=Ry(n.target,n.observedBox),d<e&&(e=d)}),t.push(function(){o.callback.call(o.observer,u,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var r=0,a=t;r<a.length;r++){var l=a[r];l()}return e},Ty=function(e){nl.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(r){r.isActive()&&(jy(r.target)>e?t.activeTargets.push(r):t.skippedTargets.push(r))})})},d6=function(){var e=0;for(Ty(e);i6();)e=c6(),Ty(e);return r6()&&n6(),e>0},By=[],h6=function(){return By.splice(0).forEach(function(e){return e()})},p6=function(e){if(!Qf){var t=0,r=document.createTextNode(""),a={characterData:!0};new MutationObserver(function(){return h6()}).observe(r,a),Qf=function(){r.textContent="".concat(t?t--:t++)}}By.push(e),Qf()},f6=function(e){p6(function(){requestAnimationFrame(e)})},lh=0,m6=function(){return!!lh},g6=250,v6={attributes:!0,characterData:!0,childList:!0,subtree:!0},$y=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Py=function(e){return e===void 0&&(e=0),Date.now()+e},em=!1,b6=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=g6),!em){em=!0;var a=Py(t);f6(function(){var l=!1;try{l=d6()}finally{if(em=!1,t=a-Py(),!m6())return;l?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,v6)};document.body?r():xc.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),$y.forEach(function(r){return xc.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),$y.forEach(function(r){return xc.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),tm=new b6,Oy=function(e){!lh&&e>0&&tm.start(),lh+=e,!lh&&tm.stop()},y6=function(e){return!im(e)&&!a6(e)&&getComputedStyle(e).display==="inline"},w6=function(){function e(t,r){this.target=t,this.observedBox=r||Sc.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Ry(this.target,this.observedBox,!0);return y6(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),_6=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),ah=new WeakMap,My=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},sh=function(){function e(){}return e.connect=function(t,r){var a=new _6(t,r);ah.set(t,a)},e.observe=function(t,r,a){var l=ah.get(t),o=l.observationTargets.length===0;My(l.observationTargets,r)<0&&(o&&nl.push(l),l.observationTargets.push(new w6(r,a&&a.box)),Oy(1),tm.schedule())},e.unobserve=function(t,r){var a=ah.get(t),l=My(a.observationTargets,r),o=a.observationTargets.length===1;l>=0&&(o&&nl.splice(nl.indexOf(a),1),a.observationTargets.splice(l,1),Oy(-1))},e.disconnect=function(t){var r=this,a=ah.get(t);a.observationTargets.slice().forEach(function(l){return r.unobserve(t,l.target)}),a.activeTargets.splice(0,a.activeTargets.length)},e}(),Ny=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");sh.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ay(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");sh.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ay(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");sh.unobserve(this,t)},e.prototype.disconnect=function(){sh.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()});var zy=Wt(()=>{Fy()});var k6,Hy=Wt(()=>{zy();k6=window.ResizeObserver||Ny;window.ResizeObserver=k6});var xo,al=Wt(()=>{xo=class{constructor(){this.resizeObserver=new ResizeObserver(e=>{window.requestAnimationFrame(()=>{for(let t of e){let r=this.resizeHandlers.get(t.target);r==null||r.forEach(a=>{a.handleResize(t)})}})}),this.resizeHandlers=new Map}shutdown(){this.resizeHandlers.forEach((e,t)=>{this.resizeObserver.unobserve(t)}),this.resizeHandlers.clear()}addObserver(e){var t;let r=(t=this.resizeHandlers.get(e.target))!==null&&t!==void 0?t:new Set;r.add(e.handler),this.resizeHandlers.set(e.target,r),this.resizeObserver.observe(e.target,e.options)}removeObserver(e){let t=this.resizeHandlers.get(e.target);t&&(t.delete(e.handler),t.size===0&&(this.resizeObserver.unobserve(e.target),this.resizeHandlers.delete(e.target)))}}});var rm=Wt(()=>{al()});var uh=Wt(()=>{Hy();rm();window.SharedResizeObserver=xo});var sl,nm=Wt(()=>{sl=class{constructor(t){this.analyticsBackend=t||window.archive_analytics}send_event(t,r,a,l){this.analyticsBackend&&this.analyticsBackend.send_event(t,r,a,l)}send_event_no_sampling(t,r,a,l){this.analyticsBackend&&this.analyticsBackend.send_event_no_sampling(t,r,a,l)}}});function i1(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return qy!==void 0?qy.createHTML(t):t}function bu(e,t,r=e,a){var l,o,u,n;if(t===vu)return t;let c=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,d=Cc(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==d&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),d===void 0?c=void 0:(c=new d(e),c._$AT(e,r,a)),a!==void 0?((u=(n=r)._$Co)!==null&&u!==void 0?u:n._$Co=[])[a]=c:r._$Cl=c),c!==void 0&&(t=bu(e,c._$AS(e,t.values),c,a)),t}var am,ph,gu,qy,um,Ss,Xy,I6,cl,fh,Cc,Qy,L6,sm,Ac,Gy,Yy,ll,Ky,Zy,e1,t1,UL,WL,vu,qn,Jy,ul,D6,cm,R6,n1,mh,j6,B6,N6,F6,z6,lm,dm,As,a1=Wt(()=>{ou();ph=window,gu=ph.trustedTypes,qy=gu?gu.createPolicy("lit-html",{createHTML:e=>e}):void 0,um="$lit$",Ss=`lit$${(Math.random()+"").slice(9)}$`,Xy="?"+Ss,I6=`<${Xy}>`,cl=document,fh=()=>cl.createComment(""),Cc=e=>e===null||typeof e!="object"&&typeof e!="function",Qy=Array.isArray,L6=e=>Qy(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",sm=`[ 	
\f\r]`,Ac=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Gy=/-->/g,Yy=/>/g,ll=RegExp(`>|${sm}(?:([^\\s"'>=/]+)(${sm}*=${sm}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ky=/'/g,Zy=/"/g,e1=/^(?:script|style|textarea|title)$/i,t1=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),UL=t1(1),WL=t1(2),vu=Symbol.for("lit-noChange"),qn=Symbol.for("lit-nothing"),Jy=new WeakMap,ul=cl.createTreeWalker(cl,129,null,!1);D6=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",u=Ac;for(let n=0;n<r;n++){let c=e[n],d,f,p=-1,v=0;for(;v<c.length&&(u.lastIndex=v,f=u.exec(c),f!==null);)v=u.lastIndex,u===Ac?f[1]==="!--"?u=Gy:f[1]!==void 0?u=Yy:f[2]!==void 0?(e1.test(f[2])&&(l=RegExp("</"+f[2],"g")),u=ll):f[3]!==void 0&&(u=ll):u===ll?f[0]===">"?(u=l!=null?l:Ac,p=-1):f[1]===void 0?p=-2:(p=u.lastIndex-f[2].length,d=f[1],u=f[3]===void 0?ll:f[3]==='"'?Zy:Ky):u===Zy||u===Ky?u=ll:u===Gy||u===Yy?u=Ac:(u=ll,l=void 0);let y=u===ll&&e[n+1].startsWith("/>")?" ":"";o+=u===Ac?c+I6:p>=0?(a.push(d),c.slice(0,p)+um+c.slice(p)+Ss+y):c+Ss+(p===-2?(a.push(void 0),n):y)}return[i1(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},cm=class r1{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,u=0,n=t.length-1,c=this.parts,[d,f]=D6(t,r);if(this.el=r1.createElement(d,a),ul.currentNode=this.el.content,r===2){let p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(l=ul.nextNode())!==null&&c.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let p=[];for(let v of l.getAttributeNames())if(v.endsWith(um)||v.startsWith(Ss)){let y=f[u++];if(p.push(v),y!==void 0){let w=l.getAttribute(y.toLowerCase()+um).split(Ss),k=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?j6:k[1]==="?"?N6:k[1]==="@"?F6:mh})}else c.push({type:6,index:o})}for(let v of p)l.removeAttribute(v)}if(e1.test(l.tagName)){let p=l.textContent.split(Ss),v=p.length-1;if(v>0){l.textContent=gu?gu.emptyScript:"";for(let y=0;y<v;y++)l.append(p[y],fh()),ul.nextNode(),c.push({type:2,index:++o});l.append(p[v],fh())}}}else if(l.nodeType===8)if(l.data===Xy)c.push({type:2,index:o});else{let p=-1;for(;(p=l.data.indexOf(Ss,p+1))!==-1;)c.push({type:7,index:o}),p+=Ss.length-1}o++}}static createElement(t,r){let a=cl.createElement("template");return a.innerHTML=t,a}};R6=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:cl).importNode(r,!0);ul.currentNode=l;let o=ul.nextNode(),u=0,n=0,c=a[0];for(;c!==void 0;){if(u===c.index){let d;c.type===2?d=new n1(o,o.nextSibling,this,e):c.type===1?d=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(d=new z6(o,this,e)),this._$AV.push(d),c=a[++n]}u!==(c==null?void 0:c.index)&&(o=ul.nextNode(),u++)}return ul.currentNode=cl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},n1=class o1{constructor(t,r,a,l){var o;this.type=2,this._$AH=qn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=bu(this,t,r),Cc(t)?t===qn||t==null||t===""?(this._$AH!==qn&&this._$AR(),this._$AH=qn):t!==this._$AH&&t!==vu&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):L6(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==qn&&Cc(this._$AH)?this._$AA.nextSibling.data=t:this.$(cl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=cm.createElement(i1(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let u=new R6(o,this),n=u.u(this.options);u.v(a),this.$(n),this._$AH=u}}_$AC(t){let r=Jy.get(t.strings);return r===void 0&&Jy.set(t.strings,r=new cm(t)),r}T(t){Qy(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new o1(this.k(fh()),this.k(fh()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},mh=class{constructor(e,t,r,a,l){this.type=1,this._$AH=qn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=qn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=bu(this,e,t,0),o=!Cc(e)||e!==this._$AH&&e!==vu,o&&(this._$AH=e);else{let u=e,n,c;for(e=l[0],n=0;n<l.length-1;n++)c=bu(this,u[r+n],t,n),c===vu&&(c=this._$AH[n]),o||(o=!Cc(c)||c!==this._$AH[n]),c===qn?e=qn:e!==qn&&(e+=(c!=null?c:"")+l[n+1]),this._$AH[n]=c}o&&!a&&this.j(e)}j(e){e===qn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},j6=class extends mh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===qn?void 0:e}},B6=gu?gu.emptyScript:"",N6=class extends mh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==qn?this.element.setAttribute(this.name,B6):this.element.removeAttribute(this.name)}},F6=class extends mh{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=bu(this,e,t,0))!==null&&r!==void 0?r:qn)===vu)return;let a=this._$AH,l=e===qn&&a!==qn||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==qn&&(a===qn||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},z6=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){bu(this,e)}},lm=ph.litHtmlPolyfillSupport;lm==null||lm(cm,n1),((am=ph.litHtmlVersions)!==null&&am!==void 0?am:ph.litHtmlVersions=[]).push("2.8.0");dm=class extends Ca{constructor(e){if(super(e),this.et=qn,e.type!==ws.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===qn||e==null)return this.ft=void 0,this.et=e;if(e===vu)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;let t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}};dm.directiveName="unsafeHTML",dm.resultType=1;As=Aa(dm);});var Cs=Wt(()=>{a1()});function et(e){let t,r,a;return typeof e=="object"?(t=e.hashFunction,r=e.expiring,a=e.tags):t=e,(l,o,u)=>{if(u.value!=null)u.value=y1(u.value,t,r,a);else if(u.get!=null)u.get=y1(u.get,t,r,a);else throw"Only put a Memoize() decorator on a method or get accessor."}}function y1(e,t,r=0,a){let l=Symbol("__memoized_map__");return function(...o){let u;this.hasOwnProperty(l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let n=this[l];if(Array.isArray(a))for(let c of a)_m.has(c)?_m.get(c).push(n):_m.set(c,[n]);if(t||o.length>0||r>0){let c;t===!0?c=o.map(p=>p.toString()).join("!"):t?c=t.apply(this,o):c=o[0];let d=`${c}__timestamp`,f=!1;if(r>0)if(!n.has(d))f=!0;else{let p=n.get(d);f=Date.now()-p>r}n.has(c)&&!f?u=n.get(c):(u=e.apply(this,o),n.set(c,u),r>0&&n.set(d,Date.now()))}else{let c=this;n.has(c)?u=n.get(c):(u=e.apply(this,o),n.set(c,u))}return u}}var _m,mn=Wt(()=>{_m=new Map});var yh,Uo,yu,dl,wu,wh,w1,_h,_u,ra=Wt(()=>{yh=class{parseValue(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}};yh.shared=new yh;Uo=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=parseFloat(e);if(!Number.isNaN(t))return t}};Uo.shared=new Uo;yu=class{parseValue(e){return Uo.shared.parseValue(e)}};yu.shared=new yu;dl=class{parseValue(e){return this.parseJSDate(e)||this.parseBracketDate(e)}parseBracketDate(e){if(typeof e!="string")return;let t=e.match(/\[([0-9]{4})\]/);if(!(!t||t.length<2))return this.parseJSDate(t[1])}parseJSDate(e){if(typeof e!="string")return;let t=e;t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(t=t.replace(" ","T"));let r=Date.parse(t);if(Number.isNaN(r))return;let a=new Date(t);return(t.match(/^[0-9]{4}$/)||t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/))&&(a=new Date(a.getTime()+a.getTimezoneOffset()*1e3*60)),a}};dl.shared=new dl;wu=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=e.split(":"),r;return t.length===1?r=this.parseNumberFormat(t[0]):r=this.parseColonSeparatedFormat(t),r}parseNumberFormat(e){let t=parseFloat(e);return Number.isNaN(t)&&(t=void 0),t}parseColonSeparatedFormat(e){let t=!1,r=e.map((a,l)=>{let o=parseFloat(a);if(Number.isNaN(o))return t=!0,0;let u=xn(60,e.length-1-l);return o*Math.floor(u)}).reduce((a,l)=>a+l,0);return t?void 0:r}};wu.shared=new wu;wh=class{parseValue(e){if(typeof e=="string")return e}};wh.shared=new wh;w1=class{constructor(e,t){this.separators=[";",","],this.parser=e,t&&t.separators&&(this.separators=t.separators)}parseValue(e){let t=String(e),r=[];for(let a of this.separators)if(r=t.split(a),r.length>1)break;return this.parseListValues(r)}parseListValues(e){let t=e.map(a=>a.trim()).map(a=>this.parser.parseValue(a)),r=[];return t.forEach(a=>{a!==void 0&&r.push(a)}),r}},_h=class{parseValue(e){if(typeof e=="string")return e}};_h.shared=new _h;_u=class{parseValue(e){return String(e)}};_u.shared=new _u});var Za,da,Ka,Po,km,Gn,fr,uS,_1,xm,cS,dS,Ki,Ma,na=Wt(()=>{Zi();mn();ra();Zi();mn();ra();Zi();mn();ra();ra();ra();ra();ra();ra();ra();ra();Zi();mn();ra();Za=class{get name(){return this.rawValue.name}get source(){return this.rawValue.source}get btih(){return this.rawValue.btih}get md5(){return this.rawValue.md5}get format(){return this.rawValue.format}get mtime(){if(this.rawValue.mtime==null)return;let e=Uo.shared.parseValue(this.rawValue.mtime);if(e)return new Date(e*1e3)}get crc32(){return this.rawValue.crc32}get sha1(){return this.rawValue.sha1}get original(){return this.rawValue.original}get size(){return this.rawValue.size!=null?yu.shared.parseValue(this.rawValue.size):void 0}get title(){return this.rawValue.title}get length(){return this.rawValue.length!=null?wu.shared.parseValue(this.rawValue.length):void 0}get height(){return this.rawValue.height!=null?Uo.shared.parseValue(this.rawValue.height):void 0}get width(){return this.rawValue.width!=null?Uo.shared.parseValue(this.rawValue.width):void 0}get track(){return this.rawValue.track!=null?Uo.shared.parseValue(this.rawValue.track):void 0}get external_identifier(){return this.rawValue.external_identifier}get creator(){return this.rawValue.creator}get album(){return this.rawValue.album}constructor(e={}){this.rawValue=e}};Y([et()],Za.prototype,"mtime",null);Y([et()],Za.prototype,"size",null);Y([et()],Za.prototype,"length",null);Y([et()],Za.prototype,"height",null);Y([et()],Za.prototype,"width",null);Y([et()],Za.prototype,"track",null);da=class{get values(){return this.parseRawValue()}get value(){return this.values[0]}constructor(e,t){this.parser=e,this.rawValue=t}parseRawValue(){let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let a=this.parser.parseValue(r);Array.isArray(a)?t.push(...a):a!==void 0&&t.push(a)}),t}};Y([et()],da.prototype,"values",null);Y([et()],da.prototype,"value",null);Ka=class extends da{constructor(e){super(yh.shared,e)}},Po=class extends da{constructor(e){super(dl.shared,e)}},km=class extends da{constructor(e){super(wu.shared,e)}},Gn=class extends da{constructor(e){super(Uo.shared,e)}},fr=class extends da{constructor(e){super(_u.shared,e)}},uS=class extends da{constructor(e){super(_h.shared,e)}},_1=class extends da{constructor(e){super(yu.shared,e)}},xm=class extends da{constructor(e){super(wh.shared,e)}},cS=class extends da{constructor(e,t){super(t,e)}},dS=class extends cS{constructor(e){let t=new w1(_u.shared);super(e,t)}},Ki=class{get identifier(){return this.rawMetadata.identifier}get addeddate(){return this.rawMetadata.addeddate!=null?new Po(this.rawMetadata.addeddate):void 0}get audio_codec(){return this.rawMetadata.audio_codec!=null?new fr(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){return this.rawMetadata.audio_sample_rate!=null?new Gn(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){return this.rawMetadata.avg_rating!=null?new Gn(this.rawMetadata.avg_rating):void 0}get collection(){return this.rawMetadata.collection!=null?new fr(this.rawMetadata.collection):void 0}get collections_raw(){return this.rawMetadata.collections_raw!=null?new fr(this.rawMetadata.collections_raw):void 0}get collection_size(){return this.rawMetadata.collection_size!=null?new _1(this.rawMetadata.collection_size):void 0}get contact(){return this.rawMetadata.contact!=null?new fr(this.rawMetadata.contact):void 0}get contributor(){return this.rawMetadata.contributor!=null?new fr(this.rawMetadata.contributor):void 0}get coverage(){return this.rawMetadata.coverage!=null?new fr(this.rawMetadata.coverage):void 0}get creator(){return this.rawMetadata.creator!=null?new fr(this.rawMetadata.creator):void 0}get creator_alt_script(){return this.rawMetadata["creator-alt-script"]!=null?new fr(this.rawMetadata["creator-alt-script"]):void 0}get credits(){return this.rawMetadata.credits!=null?new fr(this.rawMetadata.credits):void 0}get collection_layout(){return this.rawMetadata.collection_layout!=null?new fr(this.rawMetadata.collection_layout):void 0}get date(){return this.rawMetadata.date!=null?new Po(this.rawMetadata.date):void 0}get description(){return this.rawMetadata.description!=null?new fr(this.rawMetadata.description):void 0}get downloads(){return this.rawMetadata.downloads!=null?new Gn(this.rawMetadata.downloads):void 0}get duration(){return this.rawMetadata.duration!=null?new km(this.rawMetadata.duration):void 0}get external_identifier(){return this.rawMetadata["external-identifier"]!=null?new fr(this.rawMetadata["external-identifier"]):void 0}get external_link(){return this.rawMetadata["external-link"]!=null?new fr(this.rawMetadata["external-link"]):void 0}get files_count(){return this.rawMetadata.files_count!=null?new Gn(this.rawMetadata.files_count):void 0}get indexdate(){return this.rawMetadata.indexdate!=null?new Po(this.rawMetadata.indexdate):void 0}get isbn(){return this.rawMetadata.isbn!=null?new fr(this.rawMetadata.isbn):void 0}get issue(){return this.rawMetadata.issue!=null?new fr(this.rawMetadata.issue):void 0}get item_count(){return this.rawMetadata.item_count!=null?new Gn(this.rawMetadata.item_count):void 0}get item_size(){return this.rawMetadata.item_size!=null?new _1(this.rawMetadata.item_size):void 0}get language(){return this.rawMetadata.language!=null?new fr(this.rawMetadata.language):void 0}get length(){return this.rawMetadata.length!=null?new km(this.rawMetadata.length):void 0}get licenseurl(){return this.rawMetadata.licenseurl!=null?new fr(this.rawMetadata.licenseurl):void 0}get lineage(){return this.rawMetadata.lineage!=null?new fr(this.rawMetadata.lineage):void 0}get month(){return this.rawMetadata.month!=null?new Gn(this.rawMetadata.month):void 0}get mediatype(){return this.rawMetadata.mediatype!=null?new xm(this.rawMetadata.mediatype):void 0}get noindex(){return this.rawMetadata.noindex!=null?new Ka(this.rawMetadata.noindex):void 0}get notes(){return this.rawMetadata.notes!=null?new fr(this.rawMetadata.notes):void 0}get num_favorites(){return this.rawMetadata.num_favorites!=null?new Gn(this.rawMetadata.num_favorites):void 0}get num_reviews(){return this.rawMetadata.num_reviews!=null?new Gn(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){return this.rawMetadata.openlibrary_edition!=null?new fr(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){return this.rawMetadata.openlibrary_work!=null?new fr(this.rawMetadata.openlibrary_work):void 0}get page_progression(){return this.rawMetadata.page_progression!=null?new uS(this.rawMetadata.page_progression):void 0}get paginated(){return this.rawMetadata.paginated!=null?new Ka(this.rawMetadata.paginated):void 0}get partner(){return this.rawMetadata.partner!=null?new fr(this.rawMetadata.partner):void 0}get post_text(){return this.rawMetadata.post_text!=null?new fr(this.rawMetadata.post_text):void 0}get ppi(){return this.rawMetadata.ppi!=null?new Gn(this.rawMetadata.ppi):void 0}get publicdate(){return this.rawMetadata.publicdate!=null?new Po(this.rawMetadata.publicdate):void 0}get publisher(){return this.rawMetadata.publisher!=null?new fr(this.rawMetadata.publisher):void 0}get reviewdate(){return this.rawMetadata.reviewdate!=null?new Po(this.rawMetadata.reviewdate):void 0}get rights(){return this.rawMetadata.rights!=null?new fr(this.rawMetadata.rights):void 0}get rights_holder(){var e;let t=(e=this.rawMetadata["rights-holder"])!==null&&e!==void 0?e:this.rawMetadata.rights_holder;return t!=null?new fr(t):void 0}get runtime(){return this.rawMetadata.runtime!=null?new km(this.rawMetadata.runtime):void 0}get scanner(){return this.rawMetadata.scanner!=null?new fr(this.rawMetadata.scanner):void 0}get segments(){return this.rawMetadata.segments!=null?new fr(this.rawMetadata.segments):void 0}get shotlist(){return this.rawMetadata.shotlist!=null?new fr(this.rawMetadata.shotlist):void 0}get source(){return this.rawMetadata.source!=null?new fr(this.rawMetadata.source):void 0}get sponsor(){return this.rawMetadata.sponsor!=null?new fr(this.rawMetadata.sponsor):void 0}get start_localtime(){return this.rawMetadata.start_localtime!=null?new Po(this.rawMetadata.start_localtime):void 0}get start_time(){return this.rawMetadata.start_time!=null?new Po(this.rawMetadata.start_time):void 0}get stop_time(){return this.rawMetadata.stop_time!=null?new Po(this.rawMetadata.stop_time):void 0}get subject(){return this.rawMetadata.subject!=null?new dS(this.rawMetadata.subject):void 0}get taper(){return this.rawMetadata.taper!=null?new fr(this.rawMetadata.taper):void 0}get title(){return this.rawMetadata.title!=null?new fr(this.rawMetadata.title):void 0}get title_alt_script(){return this.rawMetadata["title-alt-script"]!=null?new fr(this.rawMetadata["title-alt-script"]):void 0}get transferer(){return this.rawMetadata.transferer!=null?new fr(this.rawMetadata.transferer):void 0}get track(){return this.rawMetadata.track!=null?new Gn(this.rawMetadata.track):void 0}get type(){return this.rawMetadata.type!=null?new fr(this.rawMetadata.type):void 0}get uploader(){return this.rawMetadata.uploader!=null?new fr(this.rawMetadata.uploader):void 0}get utc_offset(){return this.rawMetadata.utc_offset!=null?new Gn(this.rawMetadata.utc_offset):void 0}get venue(){return this.rawMetadata.venue!=null?new fr(this.rawMetadata.venue):void 0}get volume(){return this.rawMetadata.volume!=null?new fr(this.rawMetadata.volume):void 0}get week(){return this.rawMetadata.week!=null?new Gn(this.rawMetadata.week):void 0}get year(){return this.rawMetadata.year!=null?new Gn(this.rawMetadata.year):void 0}constructor(e={}){this.rawMetadata=e}};Y([et()],Ki.prototype,"addeddate",null);Y([et()],Ki.prototype,"audio_codec",null);Y([et()],Ki.prototype,"audio_sample_rate",null);Y([et()],Ki.prototype,"avg_rating",null);Y([et()],Ki.prototype,"collection",null);Y([et()],Ki.prototype,"collections_raw",null);Y([et()],Ki.prototype,"collection_size",null);Y([et()],Ki.prototype,"contact",null);Y([et()],Ki.prototype,"contributor",null);Y([et()],Ki.prototype,"coverage",null);Y([et()],Ki.prototype,"creator",null);Y([et()],Ki.prototype,"creator_alt_script",null);Y([et()],Ki.prototype,"credits",null);Y([et()],Ki.prototype,"collection_layout",null);Y([et()],Ki.prototype,"date",null);Y([et()],Ki.prototype,"description",null);Y([et()],Ki.prototype,"downloads",null);Y([et()],Ki.prototype,"duration",null);Y([et()],Ki.prototype,"external_identifier",null);Y([et()],Ki.prototype,"external_link",null);Y([et()],Ki.prototype,"files_count",null);Y([et()],Ki.prototype,"indexdate",null);Y([et()],Ki.prototype,"isbn",null);Y([et()],Ki.prototype,"issue",null);Y([et()],Ki.prototype,"item_count",null);Y([et()],Ki.prototype,"item_size",null);Y([et()],Ki.prototype,"language",null);Y([et()],Ki.prototype,"length",null);Y([et()],Ki.prototype,"licenseurl",null);Y([et()],Ki.prototype,"lineage",null);Y([et()],Ki.prototype,"month",null);Y([et()],Ki.prototype,"mediatype",null);Y([et()],Ki.prototype,"noindex",null);Y([et()],Ki.prototype,"notes",null);Y([et()],Ki.prototype,"num_favorites",null);Y([et()],Ki.prototype,"num_reviews",null);Y([et()],Ki.prototype,"openlibrary_edition",null);Y([et()],Ki.prototype,"openlibrary_work",null);Y([et()],Ki.prototype,"page_progression",null);Y([et()],Ki.prototype,"paginated",null);Y([et()],Ki.prototype,"partner",null);Y([et()],Ki.prototype,"post_text",null);Y([et()],Ki.prototype,"ppi",null);Y([et()],Ki.prototype,"publicdate",null);Y([et()],Ki.prototype,"publisher",null);Y([et()],Ki.prototype,"reviewdate",null);Y([et()],Ki.prototype,"rights",null);Y([et()],Ki.prototype,"rights_holder",null);Y([et()],Ki.prototype,"runtime",null);Y([et()],Ki.prototype,"scanner",null);Y([et()],Ki.prototype,"segments",null);Y([et()],Ki.prototype,"shotlist",null);Y([et()],Ki.prototype,"source",null);Y([et()],Ki.prototype,"sponsor",null);Y([et()],Ki.prototype,"start_localtime",null);Y([et()],Ki.prototype,"start_time",null);Y([et()],Ki.prototype,"stop_time",null);Y([et()],Ki.prototype,"subject",null);Y([et()],Ki.prototype,"taper",null);Y([et()],Ki.prototype,"title",null);Y([et()],Ki.prototype,"title_alt_script",null);Y([et()],Ki.prototype,"transferer",null);Y([et()],Ki.prototype,"track",null);Y([et()],Ki.prototype,"type",null);Y([et()],Ki.prototype,"uploader",null);Y([et()],Ki.prototype,"utc_offset",null);Y([et()],Ki.prototype,"venue",null);Y([et()],Ki.prototype,"volume",null);Y([et()],Ki.prototype,"week",null);Y([et()],Ki.prototype,"year",null);Ma=class{get reviewbody(){return this.rawValue.reviewbody}get reviewtitle(){return this.rawValue.reviewtitle}get reviewer(){return this.rawValue.reviewer}get reviewer_itemname(){return this.rawValue.reviewer_itemname}get reviewdate(){return this.rawValue.reviewdate!=null?dl.shared.parseValue(this.rawValue.reviewdate):void 0}get createdate(){return this.rawValue.createdate!=null?dl.shared.parseValue(this.rawValue.createdate):void 0}get stars(){return this.rawValue.stars!=null?Uo.shared.parseValue(this.rawValue.stars):void 0}constructor(e={}){this.rawValue=e}};Y([et()],Ma.prototype,"reviewdate",null);Y([et()],Ma.prototype,"createdate",null);Y([et()],Ma.prototype,"stars",null)});var Am,hl,Sm,hS,k1,kh=Wt(()=>{na();na();Am=class{constructor(e){var t,r;this.rawResponse=e,this.created=e.created,this.d1=e.d1,this.d2=e.d2,this.dir=e.dir,this.files=(t=e.files)===null||t===void 0?void 0:t.map(a=>new Za(a)),this.files_count=e.files_count,this.item_last_updated=e.item_last_updated,this.item_size=e.item_size,this.metadata=new Ki(e.metadata),this.server=e.server,this.uniq=e.uniq,this.workable_servers=e.workable_servers,this.speech_vs_music_asr=e.speech_vs_music_asr,this.reviews=(r=e.reviews)===null||r===void 0?void 0:r.map(a=>new Ma(a))}};(function(e){e.networkError="MetadataService.NetworkError",e.itemNotFound="MetadataService.ItemNotFound",e.decodingError="MetadataService.DecodingError",e.searchEngineError="MetadataService.SearchEngineError"})(hl||(hl={}));Sm=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},hS=class{constructor(e){var t;if(this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(e==null?void 0:e.scope)!==void 0)this.requestScope=e.scope;else{let r=new URL(window.location.href).searchParams.get("scope");r&&(this.requestScope=r)}}fetchMetadata(e,t){return Vt(this,null,function*(){let r=t?`/${t}`:"",a=`https://${this.baseUrl}/metadata/${e}${r}`;return this.fetchUrl(a,{requestOptions:{credentials:"omit"}})})}fetchUrl(e,t){return Vt(this,null,function*(){var r;let a=new URL(e);this.requestScope&&a.searchParams.set("scope",this.requestScope);let l;try{let o=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};l=yield fetch(a.href,o)}catch(o){let u=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(hl.networkError,u)}try{let o=yield l.json(),u=o.error;if(u){let n=o.forensics;return this.getErrorResult(hl.searchEngineError,u,n)}else return{success:o}}catch(o){let u=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(hl.decodingError,u)}})}getErrorResult(e,t,r){return{error:new Sm(e,t,r)}}},k1=class{constructor(e){this.backend=e}fetchMetadata(e){return Vt(this,null,function*(){var t;let r=yield this.backend.fetchMetadata(e);return r.error?r:((t=r.success)===null||t===void 0?void 0:t.metadata)===void 0?{error:new Sm(hl.itemNotFound)}:{success:new Am(r.success)}})}fetchMetadataValue(e,t){return Vt(this,null,function*(){var r;let a=yield this.backend.fetchMetadata(e,t);return a.error?a:((r=a.success)===null||r===void 0?void 0:r.result)===void 0?{error:new Sm(hl.itemNotFound)}:{success:a.success.result}})}};k1.default=new k1(new hS)});var $S,Em,PS,OS,MS,IS,Wo,LS,Cm,DS,$1,RS,jS,BS,NS,FS,zS,HS,US,WS,VS,qS,GS,P1,O1,YS,E1,T1,KS,Tm,$m=Wt(()=>{$S=Object.create,Em=Object.defineProperty,PS=Object.getOwnPropertyDescriptor,OS=Object.getOwnPropertyNames,MS=Object.getPrototypeOf,IS=Object.prototype.hasOwnProperty,Wo=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),LS=(e,t)=>{for(var r in t)Em(e,r,{get:t[r],enumerable:!0})},Cm=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of OS(t))!IS.call(e,l)&&l!==r&&Em(e,l,{get:()=>t[l],enumerable:!(a=PS(t,l))||a.enumerable});return e},DS=(e,t,r)=>(Cm(e,t,"default"),r&&Cm(r,t,"default")),$1=(e,t,r)=>(r=e!=null?$S(MS(e)):{},Cm(t||!e||!e.__esModule?Em(r,"default",{value:e,enumerable:!0}):r,e)),RS=Wo(()=>{+function(e){"use strict";function t(){var r=document.createElement("bootstrap"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var l in a)if(r.style[l]!==void 0)return{end:a[l]};return!1}e.fn.emulateTransitionEnd=function(r){var a=!1,l=this;e(this).one("bsTransitionEnd",function(){a=!0});var o=function(){a||e(l).trigger(e.support.transition.end)};return setTimeout(o,r),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(r){if(e(r.target).is(this))return r.handleObj.handler.apply(this,arguments)}})})}(jQuery)}),jS=Wo(()=>{+function(e){"use strict";var t='[data-dismiss="alert"]',r=function(o){e(o).on("click",t,this.close)};r.VERSION="3.4.1",r.TRANSITION_DURATION=150,r.prototype.close=function(o){var u=e(this),n=u.attr("data-target");n||(n=u.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),n=n==="#"?[]:n;var c=e(document).find(n);if(o&&o.preventDefault(),c.length||(c=u.closest(".alert")),c.trigger(o=e.Event("close.bs.alert")),o.isDefaultPrevented())return;c.removeClass("in");function d(){c.detach().trigger("closed.bs.alert").remove()}e.support.transition&&c.hasClass("fade")?c.one("bsTransitionEnd",d).emulateTransitionEnd(r.TRANSITION_DURATION):d()};function a(o){return this.each(function(){var u=e(this),n=u.data("bs.alert");n||u.data("bs.alert",n=new r(this)),typeof o=="string"&&n[o].call(u)})}var l=e.fn.alert;e.fn.alert=a,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=l,this},e(document).on("click.bs.alert.data-api",t,r.prototype.close)}(jQuery)}),BS=Wo(()=>{+function(e){"use strict";var t=function(l,o){this.$element=e(l),this.options=e.extend({},t.DEFAULTS,o),this.isLoading=!1};t.VERSION="3.4.1",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(l){var o="disabled",u=this.$element,n=u.is("input")?"val":"html",c=u.data();l+="Text",c.resetText==null&&u.data("resetText",u[n]()),setTimeout(e.proxy(function(){u[n](c[l]==null?this.options[l]:c[l]),l=="loadingText"?(this.isLoading=!0,u.addClass(o).attr(o,o).prop(o,!0)):this.isLoading&&(this.isLoading=!1,u.removeClass(o).removeAttr(o).prop(o,!1))},this),0)},t.prototype.toggle=function(){var l=!0,o=this.$element.closest('[data-toggle="buttons"]');if(o.length){var u=this.$element.find("input");u.prop("type")=="radio"?(u.prop("checked")&&(l=!1),o.find(".active").removeClass("active"),this.$element.addClass("active")):u.prop("type")=="checkbox"&&(u.prop("checked")!==this.$element.hasClass("active")&&(l=!1),this.$element.toggleClass("active")),u.prop("checked",this.$element.hasClass("active")),l&&u.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};function r(l){return this.each(function(){var o=e(this),u=o.data("bs.button"),n=typeof l=="object"&&l;u||o.data("bs.button",u=new t(this,n)),l=="toggle"?u.toggle():l&&u.setState(l)})}var a=e.fn.button;e.fn.button=r,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(l){var o=e(l.target).closest(".btn");r.call(o,"toggle"),e(l.target).is('input[type="radio"], input[type="checkbox"]')||(l.preventDefault(),o.is("input,button")?o.trigger("focus"):o.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(l){e(l.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(l.type))})}(jQuery)}),NS=Wo(()=>{+function(e){"use strict";var t=function(o,u){this.$element=e(o),this.$indicators=this.$element.find(".carousel-indicators"),this.options=u,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};t.VERSION="3.4.1",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(o){if(!/input|textarea/i.test(o.target.tagName)){switch(o.which){case 37:this.prev();break;case 39:this.next();break;default:return}o.preventDefault()}},t.prototype.cycle=function(o){return o||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(o){return this.$items=o.parent().children(".item"),this.$items.index(o||this.$active)},t.prototype.getItemForDirection=function(o,u){var n=this.getItemIndex(u),c=o=="prev"&&n===0||o=="next"&&n==this.$items.length-1;if(c&&!this.options.wrap)return u;var d=o=="prev"?-1:1,f=(n+d)%this.$items.length;return this.$items.eq(f)},t.prototype.to=function(o){var u=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(o>this.$items.length-1||o<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){u.to(o)}):n==o?this.pause().cycle():this.slide(o>n?"next":"prev",this.$items.eq(o))},t.prototype.pause=function(o){return o||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(o,u){var n=this.$element.find(".item.active"),c=u||this.getItemForDirection(o,n),d=this.interval,f=o=="next"?"left":"right",p=this;if(c.hasClass("active"))return this.sliding=!1;var v=c[0],y=e.Event("slide.bs.carousel",{relatedTarget:v,direction:f});if(this.$element.trigger(y),!y.isDefaultPrevented()){if(this.sliding=!0,d&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var w=e(this.$indicators.children()[this.getItemIndex(c)]);w&&w.addClass("active")}var k=e.Event("slid.bs.carousel",{relatedTarget:v,direction:f});return e.support.transition&&this.$element.hasClass("slide")?(c.addClass(o),typeof c=="object"&&c.length&&c[0].offsetWidth,n.addClass(f),c.addClass(f),n.one("bsTransitionEnd",function(){c.removeClass([o,f].join(" ")).addClass("active"),n.removeClass(["active",f].join(" ")),p.sliding=!1,setTimeout(function(){p.$element.trigger(k)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(n.removeClass("active"),c.addClass("active"),this.sliding=!1,this.$element.trigger(k)),d&&this.cycle(),this}};function r(o){return this.each(function(){var u=e(this),n=u.data("bs.carousel"),c=e.extend({},t.DEFAULTS,u.data(),typeof o=="object"&&o),d=typeof o=="string"?o:c.slide;n||u.data("bs.carousel",n=new t(this,c)),typeof o=="number"?n.to(o):d?n[d]():c.interval&&n.pause().cycle()})}var a=e.fn.carousel;e.fn.carousel=r,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=a,this};var l=function(o){var u=e(this),n=u.attr("href");n&&(n=n.replace(/.*(?=#[^\s]+$)/,""));var c=u.attr("data-target")||n,d=e(document).find(c);if(d.hasClass("carousel")){var f=e.extend({},d.data(),u.data()),p=u.attr("data-slide-to");p&&(f.interval=!1),r.call(d,f),p&&d.data("bs.carousel").to(p),o.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",l).on("click.bs.carousel.data-api","[data-slide-to]",l),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var o=e(this);r.call(o,o.data())})})}(jQuery)}),FS=Wo(()=>{+function(e){"use strict";var t=function(o,u){this.$element=e(o),this.options=e.extend({},t.DEFAULTS,u),this.$trigger=e('[data-toggle="collapse"][href="#'+o.id+'"],[data-toggle="collapse"][data-target="#'+o.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};t.VERSION="3.4.1",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var o=this.$element.hasClass("width");return o?"width":"height"},t.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass("in"))){var o,u=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(u&&u.length&&(o=u.data("bs.collapse"),o&&o.transitioning))){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){u&&u.length&&(a.call(u,"hide"),o||u.data("bs.collapse",null));var c=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[c](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var d=function(){this.$element.removeClass("collapsing").addClass("collapse in")[c](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return d.call(this);var f=e.camelCase(["scroll",c].join("-"));this.$element.one("bsTransitionEnd",e.proxy(d,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[c](this.$element[0][f])}}}},t.prototype.hide=function(){if(!(this.transitioning||!this.$element.hasClass("in"))){var o=e.Event("hide.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){var u=this.dimension();this.$element[u](this.$element[u]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return n.call(this);this.$element[u](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(o,u){var n=e(u);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(o,u){var n=o.hasClass("in");o.attr("aria-expanded",n),u.toggleClass("collapsed",!n).attr("aria-expanded",n)};function r(o){var u,n=o.attr("data-target")||(u=o.attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,"");return e(document).find(n)}function a(o){return this.each(function(){var u=e(this),n=u.data("bs.collapse"),c=e.extend({},t.DEFAULTS,u.data(),typeof o=="object"&&o);!n&&c.toggle&&/show|hide/.test(o)&&(c.toggle=!1),n||u.data("bs.collapse",n=new t(this,c)),typeof o=="string"&&n[o]()})}var l=e.fn.collapse;e.fn.collapse=a,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=l,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var u=e(this);u.attr("data-target")||o.preventDefault();var n=r(u),c=n.data("bs.collapse"),d=c?"toggle":u.data();a.call(n,d)})}(jQuery)}),zS=Wo(()=>{+function(e){"use strict";var t=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(c){e(c).on("click.bs.dropdown",this.toggle)};a.VERSION="3.4.1";function l(c){var d=c.attr("data-target");d||(d=c.attr("href"),d=d&&/#[A-Za-z]/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,""));var f=d!=="#"?e(document).find(d):null;return f&&f.length?f:c.parent()}function o(c){c&&c.which===3||(e(t).remove(),e(r).each(function(){var d=e(this),f=l(d),p={relatedTarget:this};f.hasClass("open")&&(c&&c.type=="click"&&/input|textarea/i.test(c.target.tagName)&&e.contains(f[0],c.target)||(f.trigger(c=e.Event("hide.bs.dropdown",p)),!c.isDefaultPrevented()&&(d.attr("aria-expanded","false"),f.removeClass("open").trigger(e.Event("hidden.bs.dropdown",p)))))}))}a.prototype.toggle=function(c){var d=e(this);if(!d.is(".disabled, :disabled")){var f=l(d),p=f.hasClass("open");if(o(),!p){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",o);var v={relatedTarget:this};if(f.trigger(c=e.Event("show.bs.dropdown",v)),c.isDefaultPrevented())return;d.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(e.Event("shown.bs.dropdown",v))}return!1}},a.prototype.keydown=function(c){if(!(!/(38|40|27|32)/.test(c.which)||/input|textarea/i.test(c.target.tagName))){var d=e(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var f=l(d),p=f.hasClass("open");if(!p&&c.which!=27||p&&c.which==27)return c.which==27&&f.find(r).trigger("focus"),d.trigger("click");var v=" li:not(.disabled):visible a",y=f.find(".dropdown-menu"+v);if(y.length){var w=y.index(c.target);c.which==38&&w>0&&w--,c.which==40&&w<y.length-1&&w++,~w||(w=0),y.eq(w).trigger("focus")}}}};function u(c){return this.each(function(){var d=e(this),f=d.data("bs.dropdown");f||d.data("bs.dropdown",f=new a(this)),typeof c=="string"&&f[c].call(d)})}var n=e.fn.dropdown;e.fn.dropdown=u,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=n,this},e(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(c){c.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery)}),HS=Wo(()=>{+function(e){"use strict";var t=function(l,o){this.options=o,this.$body=e(document.body),this.$element=e(l),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.4.1",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(l){return this.isShown?this.hide():this.show(l)},t.prototype.show=function(l){var o=this,u=e.Event("show.bs.modal",{relatedTarget:l});this.$element.trigger(u),!(this.isShown||u.isDefaultPrevented())&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(n){e(n.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=e.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var c=e.Event("shown.bs.modal",{relatedTarget:l});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(c)}).emulateTransitionEnd(t.TRANSITION_DURATION):o.$element.trigger("focus").trigger(c)}))},t.prototype.hide=function(l){l&&l.preventDefault(),l=e.Event("hide.bs.modal"),this.$element.trigger(l),!(!this.isShown||l.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(l){document!==l.target&&this.$element[0]!==l.target&&!this.$element.has(l.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(l){l.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var l=this;this.$element.hide(),this.backdrop(function(){l.$body.removeClass("modal-open"),l.resetAdjustments(),l.resetScrollbar(),l.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(l){var o=this,u=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&u;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+u).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(d){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}d.target===d.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!l)return;n?this.$backdrop.one("bsTransitionEnd",l).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):l()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var c=function(){o.removeBackdrop(),l&&l()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):c()}else l&&l()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var l=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&l?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!l?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var l=window.innerWidth;if(!l){var o=document.documentElement.getBoundingClientRect();l=o.right-Math.abs(o.left)}this.bodyIsOverflowing=document.body.clientWidth<l,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var l=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var o=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",l+o),e(this.fixedContent).each(function(u,n){var c=n.style.paddingRight,d=e(n).css("padding-right");e(n).data("padding-right",c).css("padding-right",parseFloat(d)+o+"px")}))},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),e(this.fixedContent).each(function(l,o){var u=e(o).data("padding-right");e(o).removeData("padding-right"),o.style.paddingRight=u||""})},t.prototype.measureScrollbar=function(){var l=document.createElement("div");l.className="modal-scrollbar-measure",this.$body.append(l);var o=l.offsetWidth-l.clientWidth;return this.$body[0].removeChild(l),o};function r(l,o){return this.each(function(){var u=e(this),n=u.data("bs.modal"),c=e.extend({},t.DEFAULTS,u.data(),typeof l=="object"&&l);n||u.data("bs.modal",n=new t(this,c)),typeof l=="string"?n[l](o):c.show&&n.show(o)})}var a=e.fn.modal;e.fn.modal=r,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(l){var o=e(this),u=o.attr("href"),n=o.attr("data-target")||u&&u.replace(/.*(?=#[^\s]+$)/,""),c=e(document).find(n),d=c.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(u)&&u},c.data(),o.data());o.is("a")&&l.preventDefault(),c.one("show.bs.modal",function(f){f.isDefaultPrevented()||c.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),r.call(c,d,this)})}(jQuery)}),US=Wo(()=>{+function(e){"use strict";var t=["sanitize","whiteList","sanitizeFn"],r=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],a=/^aria-[\w-]*$/i,l={"*":["class","dir","id","lang","role",a],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},o=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,u=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function n(v,y){var w=v.nodeName.toLowerCase();if(e.inArray(w,y)!==-1)return e.inArray(w,r)!==-1?!!(v.nodeValue.match(o)||v.nodeValue.match(u)):!0;for(var k=e(y).filter(function(x,S){return S instanceof RegExp}),A=0,C=k.length;A<C;A++)if(w.match(k[A]))return!0;return!1}function c(v,y,w){if(v.length===0)return v;if(w&&typeof w=="function")return w(v);if(!document.implementation||!document.implementation.createHTMLDocument)return v;var k=document.implementation.createHTMLDocument("sanitization");k.body.innerHTML=v;for(var A=e.map(y,function(E,R){return R}),C=e(k.body).find("*"),x=0,S=C.length;x<S;x++){var s=C[x],h=s.nodeName.toLowerCase();if(e.inArray(h,A)===-1){s.parentNode.removeChild(s);continue}for(var g=e.map(s.attributes,function(E){return E}),m=[].concat(y["*"]||[],y[h]||[]),b=0,_=g.length;b<_;b++)n(g[b],m)||s.removeAttribute(g[b].nodeName)}return k.body.innerHTML}var d=function(v,y){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",v,y)};d.VERSION="3.4.1",d.TRANSITION_DURATION=150,d.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:l},d.prototype.init=function(v,y,w){if(this.enabled=!0,this.type=v,this.$element=e(y),this.options=this.getOptions(w),this.$viewport=this.options.viewport&&e(document).find(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var k=this.options.trigger.split(" "),A=k.length;A--;){var C=k[A];if(C=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(C!="manual"){var x=C=="hover"?"mouseenter":"focusin",S=C=="hover"?"mouseleave":"focusout";this.$element.on(x+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(S+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},d.prototype.getDefaults=function(){return d.DEFAULTS},d.prototype.getOptions=function(v){var y=this.$element.data();for(var w in y)y.hasOwnProperty(w)&&e.inArray(w,t)!==-1&&delete y[w];return v=e.extend({},this.getDefaults(),y,v),v.delay&&typeof v.delay=="number"&&(v.delay={show:v.delay,hide:v.delay}),v.sanitize&&(v.template=c(v.template,v.whiteList,v.sanitizeFn)),v},d.prototype.getDelegateOptions=function(){var v={},y=this.getDefaults();return this._options&&e.each(this._options,function(w,k){y[w]!=k&&(v[w]=k)}),v},d.prototype.enter=function(v){var y=v instanceof this.constructor?v:e(v.currentTarget).data("bs."+this.type);if(y||(y=new this.constructor(v.currentTarget,this.getDelegateOptions()),e(v.currentTarget).data("bs."+this.type,y)),v instanceof e.Event&&(y.inState[v.type=="focusin"?"focus":"hover"]=!0),y.tip().hasClass("in")||y.hoverState=="in"){y.hoverState="in";return}if(clearTimeout(y.timeout),y.hoverState="in",!y.options.delay||!y.options.delay.show)return y.show();y.timeout=setTimeout(function(){y.hoverState=="in"&&y.show()},y.options.delay.show)},d.prototype.isInStateTrue=function(){for(var v in this.inState)if(this.inState[v])return!0;return!1},d.prototype.leave=function(v){var y=v instanceof this.constructor?v:e(v.currentTarget).data("bs."+this.type);if(y||(y=new this.constructor(v.currentTarget,this.getDelegateOptions()),e(v.currentTarget).data("bs."+this.type,y)),v instanceof e.Event&&(y.inState[v.type=="focusout"?"focus":"hover"]=!1),!y.isInStateTrue()){if(clearTimeout(y.timeout),y.hoverState="out",!y.options.delay||!y.options.delay.hide)return y.hide();y.timeout=setTimeout(function(){y.hoverState=="out"&&y.hide()},y.options.delay.hide)}},d.prototype.show=function(){var v=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(v);var y=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(v.isDefaultPrevented()||!y)return;var w=this,k=this.tip(),A=this.getUID(this.type);this.setContent(),k.attr("id",A),this.$element.attr("aria-describedby",A),this.options.animation&&k.addClass("fade");var C=typeof this.options.placement=="function"?this.options.placement.call(this,k[0],this.$element[0]):this.options.placement,x=/\s?auto?\s?/i,S=x.test(C);S&&(C=C.replace(x,"")||"top"),k.detach().css({top:0,left:0,display:"block"}).addClass(C).data("bs."+this.type,this),this.options.container?k.appendTo(e(document).find(this.options.container)):k.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var s=this.getPosition(),h=k[0].offsetWidth,g=k[0].offsetHeight;if(S){var m=C,b=this.getPosition(this.$viewport);C=C=="bottom"&&s.bottom+g>b.bottom?"top":C=="top"&&s.top-g<b.top?"bottom":C=="right"&&s.right+h>b.width?"left":C=="left"&&s.left-h<b.left?"right":C,k.removeClass(m).addClass(C)}var _=this.getCalculatedOffset(C,s,h,g);this.applyPlacement(_,C);var E=function(){var R=w.hoverState;w.$element.trigger("shown.bs."+w.type),w.hoverState=null,R=="out"&&w.leave(w)};e.support.transition&&this.$tip.hasClass("fade")?k.one("bsTransitionEnd",E).emulateTransitionEnd(d.TRANSITION_DURATION):E()}},d.prototype.applyPlacement=function(v,y){var w=this.tip(),k=w[0].offsetWidth,A=w[0].offsetHeight,C=parseInt(w.css("margin-top"),10),x=parseInt(w.css("margin-left"),10);isNaN(C)&&(C=0),isNaN(x)&&(x=0),v.top+=C,v.left+=x,e.offset.setOffset(w[0],e.extend({using:function(_){w.css({top:Math.round(_.top),left:Math.round(_.left)})}},v),0),w.addClass("in");var S=w[0].offsetWidth,s=w[0].offsetHeight;y=="top"&&s!=A&&(v.top=v.top+A-s);var h=this.getViewportAdjustedDelta(y,v,S,s);h.left?v.left+=h.left:v.top+=h.top;var g=/top|bottom/.test(y),m=g?h.left*2-k+S:h.top*2-A+s,b=g?"offsetWidth":"offsetHeight";w.offset(v),this.replaceArrow(m,w[0][b],g)},d.prototype.replaceArrow=function(v,y,w){this.arrow().css(w?"left":"top",50*(1-v/y)+"%").css(w?"top":"left","")},d.prototype.setContent=function(){var v=this.tip(),y=this.getTitle();this.options.html?(this.options.sanitize&&(y=c(y,this.options.whiteList,this.options.sanitizeFn)),v.find(".tooltip-inner").html(y)):v.find(".tooltip-inner").text(y),v.removeClass("fade in top bottom left right")},d.prototype.hide=function(v){var y=this,w=e(this.$tip),k=e.Event("hide.bs."+this.type);function A(){y.hoverState!="in"&&w.detach(),y.$element&&y.$element.removeAttr("aria-describedby").trigger("hidden.bs."+y.type),v&&v()}if(this.$element.trigger(k),!k.isDefaultPrevented())return w.removeClass("in"),e.support.transition&&w.hasClass("fade")?w.one("bsTransitionEnd",A).emulateTransitionEnd(d.TRANSITION_DURATION):A(),this.hoverState=null,this},d.prototype.fixTitle=function(){var v=this.$element;(v.attr("title")||typeof v.attr("data-original-title")!="string")&&v.attr("data-original-title",v.attr("title")||"").attr("title","")},d.prototype.hasContent=function(){return this.getTitle()},d.prototype.getPosition=function(v){v=v||this.$element;var y=v[0],w=y.tagName=="BODY",k=y.getBoundingClientRect();k.width==null&&(k=e.extend({},k,{width:k.right-k.left,height:k.bottom-k.top}));var A=window.SVGElement&&y instanceof window.SVGElement,C=w?{top:0,left:0}:A?null:v.offset(),x={scroll:w?document.documentElement.scrollTop||document.body.scrollTop:v.scrollTop()},S=w?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},k,x,S,C)},d.prototype.getCalculatedOffset=function(v,y,w,k){return v=="bottom"?{top:y.top+y.height,left:y.left+y.width/2-w/2}:v=="top"?{top:y.top-k,left:y.left+y.width/2-w/2}:v=="left"?{top:y.top+y.height/2-k/2,left:y.left-w}:{top:y.top+y.height/2-k/2,left:y.left+y.width}},d.prototype.getViewportAdjustedDelta=function(v,y,w,k){var A={top:0,left:0};if(!this.$viewport)return A;var C=this.options.viewport&&this.options.viewport.padding||0,x=this.getPosition(this.$viewport);if(/right|left/.test(v)){var S=y.top-C-x.scroll,s=y.top+C-x.scroll+k;S<x.top?A.top=x.top-S:s>x.top+x.height&&(A.top=x.top+x.height-s)}else{var h=y.left-C,g=y.left+C+w;h<x.left?A.left=x.left-h:g>x.right&&(A.left=x.left+x.width-g)}return A},d.prototype.getTitle=function(){var v,y=this.$element,w=this.options;return v=y.attr("data-original-title")||(typeof w.title=="function"?w.title.call(y[0]):w.title),v},d.prototype.getUID=function(v){do v+=~~(Math.random()*1e6);while(document.getElementById(v));return v},d.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},d.prototype.enable=function(){this.enabled=!0},d.prototype.disable=function(){this.enabled=!1},d.prototype.toggleEnabled=function(){this.enabled=!this.enabled},d.prototype.toggle=function(v){var y=this;v&&(y=e(v.currentTarget).data("bs."+this.type),y||(y=new this.constructor(v.currentTarget,this.getDelegateOptions()),e(v.currentTarget).data("bs."+this.type,y))),v?(y.inState.click=!y.inState.click,y.isInStateTrue()?y.enter(y):y.leave(y)):y.tip().hasClass("in")?y.leave(y):y.enter(y)},d.prototype.destroy=function(){var v=this;clearTimeout(this.timeout),this.hide(function(){v.$element.off("."+v.type).removeData("bs."+v.type),v.$tip&&v.$tip.detach(),v.$tip=null,v.$arrow=null,v.$viewport=null,v.$element=null})},d.prototype.sanitizeHtml=function(v){return c(v,this.options.whiteList,this.options.sanitizeFn)};function f(v){return this.each(function(){var y=e(this),w=y.data("bs.tooltip"),k=typeof v=="object"&&v;!w&&/destroy|hide/.test(v)||(w||y.data("bs.tooltip",w=new d(this,k)),typeof v=="string"&&w[v]())})}var p=e.fn.tooltip;e.fn.tooltip=f,e.fn.tooltip.Constructor=d,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=p,this}}(jQuery)}),WS=Wo(()=>{+function(e){"use strict";var t=function(l,o){this.init("popover",l,o)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var l=this.tip(),o=this.getTitle(),u=this.getContent();if(this.options.html){var n=typeof u;this.options.sanitize&&(o=this.sanitizeHtml(o),n==="string"&&(u=this.sanitizeHtml(u))),l.find(".popover-title").html(o),l.find(".popover-content").children().detach().end()[n==="string"?"html":"append"](u)}else l.find(".popover-title").text(o),l.find(".popover-content").children().detach().end().text(u);l.removeClass("fade top bottom left right in"),l.find(".popover-title").html()||l.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var l=this.$element,o=this.options;return l.attr("data-content")||(typeof o.content=="function"?o.content.call(l[0]):o.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};function r(l){return this.each(function(){var o=e(this),u=o.data("bs.popover"),n=typeof l=="object"&&l;!u&&/destroy|hide/.test(l)||(u||o.data("bs.popover",u=new t(this,n)),typeof l=="string"&&u[l]())})}var a=e.fn.popover;e.fn.popover=r,e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=a,this}}(jQuery)}),VS=Wo(()=>{+function(e){"use strict";function t(l,o){this.$body=e(document.body),this.$scrollElement=e(l).is(document.body)?e(window):e(l),this.options=e.extend({},t.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}t.VERSION="3.4.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var l=this,o="offset",u=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(o="position",u=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var n=e(this),c=n.data("target")||n.attr("href"),d=/^#./.test(c)&&e(c);return d&&d.length&&d.is(":visible")&&[[d[o]().top+u,c]]||null}).sort(function(n,c){return n[0]-c[0]}).each(function(){l.offsets.push(this[0]),l.targets.push(this[1])})},t.prototype.process=function(){var l=this.$scrollElement.scrollTop()+this.options.offset,o=this.getScrollHeight(),u=this.options.offset+o-this.$scrollElement.height(),n=this.offsets,c=this.targets,d=this.activeTarget,f;if(this.scrollHeight!=o&&this.refresh(),l>=u)return d!=(f=c[c.length-1])&&this.activate(f);if(d&&l<n[0])return this.activeTarget=null,this.clear();for(f=n.length;f--;)d!=c[f]&&l>=n[f]&&(n[f+1]===void 0||l<n[f+1])&&this.activate(c[f])},t.prototype.activate=function(l){this.activeTarget=l,this.clear();var o=this.selector+'[data-target="'+l+'"],'+this.selector+'[href="'+l+'"]',u=e(o).parents("li").addClass("active");u.parent(".dropdown-menu").length&&(u=u.closest("li.dropdown").addClass("active")),u.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function r(l){return this.each(function(){var o=e(this),u=o.data("bs.scrollspy"),n=typeof l=="object"&&l;u||o.data("bs.scrollspy",u=new t(this,n)),typeof l=="string"&&u[l]()})}var a=e.fn.scrollspy;e.fn.scrollspy=r,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=a,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var l=e(this);r.call(l,l.data())})})}(jQuery)}),qS=Wo(()=>{+function(e){"use strict";var t=function(o){this.element=e(o)};t.VERSION="3.4.1",t.TRANSITION_DURATION=150,t.prototype.show=function(){var o=this.element,u=o.closest("ul:not(.dropdown-menu)"),n=o.data("target");if(n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!o.parent("li").hasClass("active")){var c=u.find(".active:last a"),d=e.Event("hide.bs.tab",{relatedTarget:o[0]}),f=e.Event("show.bs.tab",{relatedTarget:c[0]});if(c.trigger(d),o.trigger(f),!(f.isDefaultPrevented()||d.isDefaultPrevented())){var p=e(document).find(n);this.activate(o.closest("li"),u),this.activate(p,p.parent(),function(){c.trigger({type:"hidden.bs.tab",relatedTarget:o[0]}),o.trigger({type:"shown.bs.tab",relatedTarget:c[0]})})}}},t.prototype.activate=function(o,u,n){var c=u.find("> .active"),d=n&&e.support.transition&&(c.length&&c.hasClass("fade")||!!u.find("> .fade").length);function f(){c.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),o.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),d?(o[0].offsetWidth,o.addClass("in")):o.removeClass("fade"),o.parent(".dropdown-menu").length&&o.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}c.length&&d?c.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),c.removeClass("in")};function r(o){return this.each(function(){var u=e(this),n=u.data("bs.tab");n||u.data("bs.tab",n=new t(this)),typeof o=="string"&&n[o]()})}var a=e.fn.tab;e.fn.tab=r,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=a,this};var l=function(o){o.preventDefault(),r.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',l).on("click.bs.tab.data-api",'[data-toggle="pill"]',l)}(jQuery)}),GS=Wo(()=>{+function(e){"use strict";var t=function(l,o){this.options=e.extend({},t.DEFAULTS,o);var u=this.options.target===t.DEFAULTS.target?e(this.options.target):e(document).find(this.options.target);this.$target=u.on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(l),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};t.VERSION="3.4.1",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(l,o,u,n){var c=this.$target.scrollTop(),d=this.$element.offset(),f=this.$target.height();if(u!=null&&this.affixed=="top")return c<u?"top":!1;if(this.affixed=="bottom")return u!=null?c+this.unpin<=d.top?!1:"bottom":c+f<=l-n?!1:"bottom";var p=this.affixed==null,v=p?c:d.top,y=p?f:o;return u!=null&&c<=u?"top":n!=null&&v+y>=l-n?"bottom":!1},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var l=this.$target.scrollTop(),o=this.$element.offset();return this.pinnedOffset=o.top-l},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var l=this.$element.height(),o=this.options.offset,u=o.top,n=o.bottom,c=Math.max(e(document).height(),e(document.body).height());typeof o!="object"&&(n=u=o),typeof u=="function"&&(u=o.top(this.$element)),typeof n=="function"&&(n=o.bottom(this.$element));var d=this.getState(c,l,u,n);if(this.affixed!=d){this.unpin!=null&&this.$element.css("top","");var f="affix"+(d?"-"+d:""),p=e.Event(f+".bs.affix");if(this.$element.trigger(p),p.isDefaultPrevented())return;this.affixed=d,this.unpin=d=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(f).trigger(f.replace("affix","affixed")+".bs.affix")}d=="bottom"&&this.$element.offset({top:c-l-n})}};function r(l){return this.each(function(){var o=e(this),u=o.data("bs.affix"),n=typeof l=="object"&&l;u||o.data("bs.affix",u=new t(this,n)),typeof l=="string"&&u[l]()})}var a=e.fn.affix;e.fn.affix=r,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=a,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var l=e(this),o=l.data();o.offset=o.offset||{},o.offsetBottom!=null&&(o.offset.bottom=o.offsetBottom),o.offsetTop!=null&&(o.offset.top=o.offsetTop),r.call(l,o)})})}(jQuery)}),P1=Wo(()=>{RS(),jS(),BS(),NS(),FS(),zS(),HS(),US(),WS(),VS(),qS(),GS()}),O1={};LS(O1,{default:()=>Tm});YS=$1(P1());DS(O1,$1(P1()));E1=YS,{default:T1}=E1,KS=en(E1,["default"]),Tm=T1!==void 0?T1:KS;console.warn("[npm] %cdeprecated%c bootstrap@3.4.1: This version of Bootstrap is no longer supported. Please upgrade to the latest version.","color:red","")});var Pm={};On(Pm,{default:()=>Tm});var Om=Wt(()=>{$m();$m()});var ZS,Im,JS,XS,QS,eA,tA,iA,Mm,rA,L1,D1,R1,nA,M1,I1,oA,Lm,Dm=Wt(()=>{ZS=Object.create,Im=Object.defineProperty,JS=Object.getOwnPropertyDescriptor,XS=Object.getOwnPropertyNames,QS=Object.getPrototypeOf,eA=Object.prototype.hasOwnProperty,tA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),iA=(e,t)=>{for(var r in t)Im(e,r,{get:t[r],enumerable:!0})},Mm=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of XS(t))!eA.call(e,l)&&l!==r&&Im(e,l,{get:()=>t[l],enumerable:!(a=JS(t,l))||a.enumerable});return e},rA=(e,t,r)=>(Mm(e,t,"default"),r&&Mm(r,t,"default")),L1=(e,t,r)=>(r=e!=null?ZS(QS(e)):{},Mm(t||!e||!e.__esModule?Im(r,"default",{value:e,enumerable:!0}):r,e)),D1=tA(()=>{(function(e){e.color={},e.color.make=function(r,a,l,o){var u={};return u.r=r||0,u.g=a||0,u.b=l||0,u.a=o!=null?o:1,u.add=function(n,c){for(var d=0;d<n.length;++d)u[n.charAt(d)]+=c;return u.normalize()},u.scale=function(n,c){for(var d=0;d<n.length;++d)u[n.charAt(d)]*=c;return u.normalize()},u.toString=function(){return u.a>=1?"rgb("+[u.r,u.g,u.b].join(",")+")":"rgba("+[u.r,u.g,u.b,u.a].join(",")+")"},u.normalize=function(){function n(c,d,f){return d<c?c:d>f?f:d}return u.r=n(0,parseInt(u.r),255),u.g=n(0,parseInt(u.g),255),u.b=n(0,parseInt(u.b),255),u.a=n(0,u.a,1),u},u.clone=function(){return e.color.make(u.r,u.b,u.g,u.a)},u.normalize()},e.color.extract=function(r,a){var l;do{if(l=r.css(a).toLowerCase(),l!=""&&l!="transparent")break;r=r.parent()}while(r.length&&!e.nodeName(r.get(0),"body"));return l=="rgba(0, 0, 0, 0)"&&(l="transparent"),e.color.parse(l)},e.color.parse=function(r){var a,l=e.color.make;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(r))return l(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10));if(a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(r))return l(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseFloat(a[4]));if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(r))return l(parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55);if(a=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(r))return l(parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55,parseFloat(a[4]));if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(r))return l(parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16));if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(r))return l(parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16));var o=e.trim(r).toLowerCase();return o=="transparent"?l(255,255,255,0):(a=t[o]||[0,0,0],l(a[0],a[1],a[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(e){var t=Object.prototype.hasOwnProperty;e.fn.detach||(e.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});function r(o,u){var n=u.children("."+o)[0];if(n==null&&(n=document.createElement("canvas"),n.className=o,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(u),!n.getContext))if(window.G_vmlCanvasManager)n=window.G_vmlCanvasManager.initElement(n);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=n;var c=this.context=n.getContext("2d"),d=window.devicePixelRatio||1,f=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;this.pixelRatio=d/f,this.resize(u.width(),u.height()),this.textContainer=null,this.text={},this._textCache={}}r.prototype.resize=function(o,u){if(o<=0||u<=0)throw new Error("Invalid dimensions for plot, width = "+o+", height = "+u);var n=this.element,c=this.context,d=this.pixelRatio;this.width!=o&&(n.width=o*d,n.style.width=o+"px",this.width=o),this.height!=u&&(n.height=u*d,n.style.height=u+"px",this.height=u),c.restore(),c.save(),c.scale(d,d)},r.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},r.prototype.render=function(){var o=this._textCache;for(var u in o)if(t.call(o,u)){var n=this.getTextLayer(u),c=o[u];n.hide();for(var d in c)if(t.call(c,d)){var f=c[d];for(var p in f)if(t.call(f,p)){for(var v=f[p].positions,y=0,w;w=v[y];y++)w.active?w.rendered||(n.append(w.element),w.rendered=!0):(v.splice(y--,1),w.rendered&&w.element.detach());v.length==0&&delete f[p]}}n.show()}},r.prototype.getTextLayer=function(o){var u=this.text[o];return u==null&&(this.textContainer==null&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),u=this.text[o]=e("<div></div>").addClass(o).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),u},r.prototype.getTextInfo=function(o,u,n,c,d){var f,p,v,y;if(u=""+u,typeof n=="object"?f=n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:f=n,p=this._textCache[o],p==null&&(p=this._textCache[o]={}),v=p[f],v==null&&(v=p[f]={}),y=v[u],y==null){var w=e("<div></div>").html(u).css({position:"absolute","max-width":d,top:-9999}).appendTo(this.getTextLayer(o));typeof n=="object"?w.css({font:f,color:n.color}):typeof n=="string"&&w.addClass(n),y=v[u]={width:w.outerWidth(!0),height:w.outerHeight(!0),element:w,positions:[]},w.detach()}return y},r.prototype.addText=function(o,u,n,c,d,f,p,v,y){var w=this.getTextInfo(o,c,d,f,p),k=w.positions;v=="center"?u-=w.width/2:v=="right"&&(u-=w.width),y=="middle"?n-=w.height/2:y=="bottom"&&(n-=w.height);for(var A=0,C;C=k[A];A++)if(C.x==u&&C.y==n){C.active=!0;return}C={active:!0,rendered:!1,element:k.length?w.element.clone():w.element,x:u,y:n},k.push(C),C.element.css({top:Math.round(n),left:Math.round(u),"text-align":v})},r.prototype.removeText=function(o,u,n,c,d,f){if(c==null){var p=this._textCache[o];if(p!=null){for(var v in p)if(t.call(p,v)){var y=p[v];for(var w in y)if(t.call(y,w))for(var k=y[w].positions,A=0,C;C=k[A];A++)C.active=!1}}}else for(var k=this.getTextInfo(o,c,d,f).positions,A=0,C;C=k[A];A++)C.x==u&&C.y==n&&(C.active=!1)};function a(o,u,n,c){var d=[],f={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},p=null,v=null,y=null,w=null,k=null,A=[],C=[],x={left:0,right:0,top:0,bottom:0},S=0,s=0,h={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},g=this;g.setData=E,g.setupGrid=Ae,g.draw=de,g.getPlaceholder=function(){return o},g.getCanvas=function(){return p.element},g.getPlotOffset=function(){return x},g.width=function(){return S},g.height=function(){return s},g.offset=function(){var M=y.offset();return M.left+=x.left,M.top+=x.top,M},g.getData=function(){return d},g.getAxes=function(){var M={},be;return e.each(A.concat(C),function(he,Ge){Ge&&(M[Ge.direction+(Ge.n!=1?Ge.n:"")+"axis"]=Ge)}),M},g.getXAxes=function(){return A},g.getYAxes=function(){return C},g.c2p=G,g.p2c=q,g.getOptions=function(){return f},g.highlight=rt,g.unhighlight=oe,g.triggerRedrawOverlay=Ot,g.pointOffset=function(M){return{left:parseInt(A[j(M,"x")-1].p2c(+M.x)+x.left,10),top:parseInt(C[j(M,"y")-1].p2c(+M.y)+x.top,10)}},g.shutdown=Q,g.destroy=function(){Q(),o.removeData("plot").empty(),d=[],f=null,p=null,v=null,y=null,w=null,k=null,A=[],C=[],h=null,Te=[],g=null},g.resize=function(){var M=o.width(),be=o.height();p.resize(M,be),v.resize(M,be)},g.hooks=h,b(g),_(n),D(),E(u),Ae(),de(),J();function m(M,be){be=[g].concat(be);for(var he=0;he<M.length;++he)M[he].apply(this,be)}function b(){for(var M={Canvas:r},be=0;be<c.length;++be){var he=c[be];he.init(g,M),he.options&&e.extend(!0,f,he.options)}}function _(M){e.extend(!0,f,M),M&&M.colors&&(f.colors=M.colors),f.xaxis.color==null&&(f.xaxis.color=e.color.parse(f.grid.color).scale("a",.22).toString()),f.yaxis.color==null&&(f.yaxis.color=e.color.parse(f.grid.color).scale("a",.22).toString()),f.xaxis.tickColor==null&&(f.xaxis.tickColor=f.grid.tickColor||f.xaxis.color),f.yaxis.tickColor==null&&(f.yaxis.tickColor=f.grid.tickColor||f.yaxis.color),f.grid.borderColor==null&&(f.grid.borderColor=f.grid.color),f.grid.tickColor==null&&(f.grid.tickColor=e.color.parse(f.grid.color).scale("a",.22).toString());var be,he,Ge,vt=o.css("font-size"),kt=vt?+vt.replace("px",""):13,ce={style:o.css("font-style"),size:Math.round(.8*kt),variant:o.css("font-variant"),weight:o.css("font-weight"),family:o.css("font-family")};for(Ge=f.xaxes.length||1,be=0;be<Ge;++be)he=f.xaxes[be],he&&!he.tickColor&&(he.tickColor=he.color),he=e.extend(!0,{},f.xaxis,he),f.xaxes[be]=he,he.font&&(he.font=e.extend({},ce,he.font),he.font.color||(he.font.color=he.color),he.font.lineHeight||(he.font.lineHeight=Math.round(he.font.size*1.15)));for(Ge=f.yaxes.length||1,be=0;be<Ge;++be)he=f.yaxes[be],he&&!he.tickColor&&(he.tickColor=he.color),he=e.extend(!0,{},f.yaxis,he),f.yaxes[be]=he,he.font&&(he.font=e.extend({},ce,he.font),he.font.color||(he.font.color=he.color),he.font.lineHeight||(he.font.lineHeight=Math.round(he.font.size*1.15)));for(f.xaxis.noTicks&&f.xaxis.ticks==null&&(f.xaxis.ticks=f.xaxis.noTicks),f.yaxis.noTicks&&f.yaxis.ticks==null&&(f.yaxis.ticks=f.yaxis.noTicks),f.x2axis&&(f.xaxes[1]=e.extend(!0,{},f.xaxis,f.x2axis),f.xaxes[1].position="top",f.x2axis.min==null&&(f.xaxes[1].min=null),f.x2axis.max==null&&(f.xaxes[1].max=null)),f.y2axis&&(f.yaxes[1]=e.extend(!0,{},f.yaxis,f.y2axis),f.yaxes[1].position="right",f.y2axis.min==null&&(f.yaxes[1].min=null),f.y2axis.max==null&&(f.yaxes[1].max=null)),f.grid.coloredAreas&&(f.grid.markings=f.grid.coloredAreas),f.grid.coloredAreasColor&&(f.grid.markingsColor=f.grid.coloredAreasColor),f.lines&&e.extend(!0,f.series.lines,f.lines),f.points&&e.extend(!0,f.series.points,f.points),f.bars&&e.extend(!0,f.series.bars,f.bars),f.shadowSize!=null&&(f.series.shadowSize=f.shadowSize),f.highlightColor!=null&&(f.series.highlightColor=f.highlightColor),be=0;be<f.xaxes.length;++be)K(A,be+1).options=f.xaxes[be];for(be=0;be<f.yaxes.length;++be)K(C,be+1).options=f.yaxes[be];for(var _e in h)f.hooks[_e]&&f.hooks[_e].length&&(h[_e]=h[_e].concat(f.hooks[_e]));m(h.processOptions,[f])}function E(M){d=R(M),ue(),te()}function R(M){for(var be=[],he=0;he<M.length;++he){var Ge=e.extend(!0,{},f.series);M[he].data!=null?(Ge.data=M[he].data,delete M[he].data,e.extend(!0,Ge,M[he]),M[he].data=Ge.data):Ge.data=M[he],be.push(Ge)}return be}function j(M,be){var he=M[be+"axis"];return typeof he=="object"&&(he=he.n),typeof he!="number"&&(he=1),he}function H(){return e.grep(A.concat(C),function(M){return M})}function G(M){var be={},he,Ge;for(he=0;he<A.length;++he)Ge=A[he],Ge&&Ge.used&&(be["x"+Ge.n]=Ge.c2p(M.left));for(he=0;he<C.length;++he)Ge=C[he],Ge&&Ge.used&&(be["y"+Ge.n]=Ge.c2p(M.top));return be.x1!==void 0&&(be.x=be.x1),be.y1!==void 0&&(be.y=be.y1),be}function q(M){var be={},he,Ge,vt;for(he=0;he<A.length;++he)if(Ge=A[he],Ge&&Ge.used&&(vt="x"+Ge.n,M[vt]==null&&Ge.n==1&&(vt="x"),M[vt]!=null)){be.left=Ge.p2c(M[vt]);break}for(he=0;he<C.length;++he)if(Ge=C[he],Ge&&Ge.used&&(vt="y"+Ge.n,M[vt]==null&&Ge.n==1&&(vt="y"),M[vt]!=null)){be.top=Ge.p2c(M[vt]);break}return be}function K(M,be){return M[be-1]||(M[be-1]={n:be,direction:M==A?"x":"y",options:e.extend(!0,{},M==A?f.xaxis:f.yaxis)}),M[be-1]}function ue(){var M=d.length,be=-1,he;for(he=0;he<d.length;++he){var Ge=d[he].color;Ge!=null&&(M--,typeof Ge=="number"&&Ge>be&&(be=Ge))}M<=be&&(M=be+1);var vt,kt=[],ce=f.colors,_e=ce.length,Re=0;for(he=0;he<M;he++)vt=e.color.parse(ce[he%_e]||"#666"),he%_e==0&&he&&(Re>=0?Re<.5?Re=-Re-.2:Re=0:Re=-Re),kt[he]=vt.scale("rgb",1+Re);var st=0,xt;for(he=0;he<d.length;++he){if(xt=d[he],xt.color==null?(xt.color=kt[st].toString(),++st):typeof xt.color=="number"&&(xt.color=kt[xt.color].toString()),xt.lines.show==null){var Mt,Bt=!0;for(Mt in xt)if(xt[Mt]&&xt[Mt].show){Bt=!1;break}Bt&&(xt.lines.show=!0)}xt.lines.zero==null&&(xt.lines.zero=!!xt.lines.fill),xt.xaxis=K(A,j(xt,"x")),xt.yaxis=K(C,j(xt,"y"))}}function te(){var M=Number.POSITIVE_INFINITY,be=Number.NEGATIVE_INFINITY,he=Number.MAX_VALUE,Ge,vt,kt,ce,_e,Re,st,xt,Mt,Bt,Rt,qt,Be,me,ze,Ye;function ut(It,Dt,Et){Dt<It.datamin&&Dt!=-he&&(It.datamin=Dt),Et>It.datamax&&Et!=he&&(It.datamax=Et)}for(e.each(H(),function(It,Dt){Dt.datamin=M,Dt.datamax=be,Dt.used=!1}),Ge=0;Ge<d.length;++Ge)Re=d[Ge],Re.datapoints={points:[]},m(h.processRawData,[Re,Re.data,Re.datapoints]);for(Ge=0;Ge<d.length;++Ge){if(Re=d[Ge],ze=Re.data,Ye=Re.datapoints.format,!Ye){if(Ye=[],Ye.push({x:!0,number:!0,required:!0}),Ye.push({y:!0,number:!0,required:!0}),Re.bars.show||Re.lines.show&&Re.lines.fill){var ft=!!(Re.bars.show&&Re.bars.zero||Re.lines.show&&Re.lines.zero);Ye.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:ft}),Re.bars.horizontal&&(delete Ye[Ye.length-1].y,Ye[Ye.length-1].x=!0)}Re.datapoints.format=Ye}if(Re.datapoints.pointsize==null){Re.datapoints.pointsize=Ye.length,xt=Re.datapoints.pointsize,st=Re.datapoints.points;var dt=Re.lines.show&&Re.lines.steps;for(Re.xaxis.used=Re.yaxis.used=!0,vt=kt=0;vt<ze.length;++vt,kt+=xt){me=ze[vt];var at=me==null;if(!at)for(ce=0;ce<xt;++ce)qt=me[ce],Be=Ye[ce],Be&&(Be.number&&qt!=null&&(qt=+qt,isNaN(qt)?qt=null:qt==1/0?qt=he:qt==-1/0&&(qt=-he)),qt==null&&(Be.required&&(at=!0),Be.defaultValue!=null&&(qt=Be.defaultValue))),st[kt+ce]=qt;if(at)for(ce=0;ce<xt;++ce)qt=st[kt+ce],qt!=null&&(Be=Ye[ce],Be.autoscale!==!1&&(Be.x&&ut(Re.xaxis,qt,qt),Be.y&&ut(Re.yaxis,qt,qt))),st[kt+ce]=null;else if(dt&&kt>0&&st[kt-xt]!=null&&st[kt-xt]!=st[kt]&&st[kt-xt+1]!=st[kt+1]){for(ce=0;ce<xt;++ce)st[kt+xt+ce]=st[kt+ce];st[kt+1]=st[kt-xt+1],kt+=xt}}}}for(Ge=0;Ge<d.length;++Ge)Re=d[Ge],m(h.processDatapoints,[Re,Re.datapoints]);for(Ge=0;Ge<d.length;++Ge){Re=d[Ge],st=Re.datapoints.points,xt=Re.datapoints.pointsize,Ye=Re.datapoints.format;var Fe=M,pt=M,Ct=be,Nt=be;for(vt=0;vt<st.length;vt+=xt)if(st[vt]!=null)for(ce=0;ce<xt;++ce)qt=st[vt+ce],Be=Ye[ce],!(!Be||Be.autoscale===!1||qt==he||qt==-he)&&(Be.x&&(qt<Fe&&(Fe=qt),qt>Ct&&(Ct=qt)),Be.y&&(qt<pt&&(pt=qt),qt>Nt&&(Nt=qt)));if(Re.bars.show){var ke;switch(Re.bars.align){case"left":ke=0;break;case"right":ke=-Re.bars.barWidth;break;default:ke=-Re.bars.barWidth/2}Re.bars.horizontal?(pt+=ke,Nt+=ke+Re.bars.barWidth):(Fe+=ke,Ct+=ke+Re.bars.barWidth)}ut(Re.xaxis,Fe,Ct),ut(Re.yaxis,pt,Nt)}e.each(H(),function(It,Dt){Dt.datamin==M&&(Dt.datamin=null),Dt.datamax==be&&(Dt.datamax=null)})}function D(){o.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),o.css("position")=="static"&&o.css("position","relative"),p=new r("flot-base",o),v=new r("flot-overlay",o),w=p.context,k=v.context,y=e(v.element).unbind();var M=o.data("plot");M&&(M.shutdown(),v.clear()),o.data("plot",g)}function J(){f.grid.hoverable&&(y.mousemove(mt),y.bind("mouseleave",He)),f.grid.clickable&&y.click(We),m(h.bindEvents,[y])}function Q(){it&&clearTimeout(it),y.unbind("mousemove",mt),y.unbind("mouseleave",He),y.unbind("click",We),m(h.shutdown,[y])}function ne(M){function be(ce){return ce}var he,Ge,vt=M.options.transform||be,kt=M.options.inverseTransform;M.direction=="x"?(he=M.scale=S/Math.abs(vt(M.max)-vt(M.min)),Ge=Math.min(vt(M.max),vt(M.min))):(he=M.scale=s/Math.abs(vt(M.max)-vt(M.min)),he=-he,Ge=Math.max(vt(M.max),vt(M.min))),vt==be?M.p2c=function(ce){return(ce-Ge)*he}:M.p2c=function(ce){return(vt(ce)-Ge)*he},kt?M.c2p=function(ce){return kt(Ge+ce/he)}:M.c2p=function(ce){return Ge+ce/he}}function ie(M){for(var be=M.options,he=M.ticks||[],Ge=be.labelWidth||0,vt=be.labelHeight||0,kt=Ge||(M.direction=="x"?Math.floor(p.width/(he.length||1)):null),ce=M.direction+"Axis "+M.direction+M.n+"Axis",_e="flot-"+M.direction+"-axis flot-"+M.direction+M.n+"-axis "+ce,Re=be.font||"flot-tick-label tickLabel",st=0;st<he.length;++st){var xt=he[st];if(xt.label){var Mt=p.getTextInfo(_e,xt.label,Re,null,kt);Ge=Math.max(Ge,Mt.width),vt=Math.max(vt,Mt.height)}}M.labelWidth=be.labelWidth||Ge,M.labelHeight=be.labelHeight||vt}function W(M){var be=M.labelWidth,he=M.labelHeight,Ge=M.options.position,vt=M.direction==="x",kt=M.options.tickLength,ce=f.grid.axisMargin,_e=f.grid.labelMargin,Re=!0,st=!0,xt=!0,Mt=!1;e.each(vt?A:C,function(Bt,Rt){Rt&&(Rt.show||Rt.reserveSpace)&&(Rt===M?Mt=!0:Rt.options.position===Ge&&(Mt?st=!1:Re=!1),Mt||(xt=!1))}),st&&(ce=0),kt==null&&(kt=xt?"full":5),isNaN(+kt)||(_e+=+kt),vt?(he+=_e,Ge=="bottom"?(x.bottom+=he+ce,M.box={top:p.height-x.bottom,height:he}):(M.box={top:x.top+ce,height:he},x.top+=he+ce)):(be+=_e,Ge=="left"?(M.box={left:x.left+ce,width:be},x.left+=be+ce):(x.right+=be+ce,M.box={left:p.width-x.right,width:be})),M.position=Ge,M.tickLength=kt,M.box.padding=_e,M.innermost=Re}function V(M){M.direction=="x"?(M.box.left=x.left-M.labelWidth/2,M.box.width=p.width-x.left-x.right+M.labelWidth):(M.box.top=x.top-M.labelHeight/2,M.box.height=p.height-x.bottom-x.top+M.labelHeight)}function se(){var M=f.grid.minBorderMargin,be,he;if(M==null)for(M=0,he=0;he<d.length;++he)M=Math.max(M,2*(d[he].points.radius+d[he].points.lineWidth/2));var Ge={left:M,right:M,top:M,bottom:M};e.each(H(),function(vt,kt){kt.reserveSpace&&kt.ticks&&kt.ticks.length&&(kt.direction==="x"?(Ge.left=Math.max(Ge.left,kt.labelWidth/2),Ge.right=Math.max(Ge.right,kt.labelWidth/2)):(Ge.bottom=Math.max(Ge.bottom,kt.labelHeight/2),Ge.top=Math.max(Ge.top,kt.labelHeight/2)))}),x.left=Math.ceil(Math.max(Ge.left,x.left)),x.right=Math.ceil(Math.max(Ge.right,x.right)),x.top=Math.ceil(Math.max(Ge.top,x.top)),x.bottom=Math.ceil(Math.max(Ge.bottom,x.bottom))}function Ae(){var M,be=H(),he=f.grid.show;for(var Ge in x){var vt=f.grid.margin||0;x[Ge]=typeof vt=="number"?vt:vt[Ge]||0}m(h.processOffset,[x]);for(var Ge in x)typeof f.grid.borderWidth=="object"?x[Ge]+=he?f.grid.borderWidth[Ge]:0:x[Ge]+=he?f.grid.borderWidth:0;if(e.each(be,function(ce,_e){var Re=_e.options;_e.show=Re.show==null?_e.used:Re.show,_e.reserveSpace=Re.reserveSpace==null?_e.show:Re.reserveSpace,Oe(_e)}),he){var kt=e.grep(be,function(ce){return ce.show||ce.reserveSpace});for(e.each(kt,function(ce,_e){je(_e),De(_e),Se(_e,_e.ticks),ie(_e)}),M=kt.length-1;M>=0;--M)W(kt[M]);se(),e.each(kt,function(ce,_e){V(_e)})}S=p.width-x.left-x.right,s=p.height-x.bottom-x.top,e.each(be,function(ce,_e){ne(_e)}),he&&lt(),Ue()}function Oe(M){var be=M.options,he=+(be.min!=null?be.min:M.datamin),Ge=+(be.max!=null?be.max:M.datamax),vt=Ge-he;if(vt==0){var kt=Ge==0?1:.01;be.min==null&&(he-=kt),(be.max==null||be.min!=null)&&(Ge+=kt)}else{var ce=be.autoscaleMargin;ce!=null&&(be.min==null&&(he-=vt*ce,he<0&&M.datamin!=null&&M.datamin>=0&&(he=0)),be.max==null&&(Ge+=vt*ce,Ge>0&&M.datamax!=null&&M.datamax<=0&&(Ge=0)))}M.min=he,M.max=Ge}function je(M){var be=M.options,he;typeof be.ticks=="number"&&be.ticks>0?he=be.ticks:he=.3*Math.sqrt(M.direction=="x"?p.width:p.height);var Ge=(M.max-M.min)/he,vt=-Math.floor(Math.log(Ge)/Math.LN10),kt=be.tickDecimals;kt!=null&&vt>kt&&(vt=kt);var ce=Math.pow(10,-vt),_e=Ge/ce,Re;if(_e<1.5?Re=1:_e<3?(Re=2,_e>2.25&&(kt==null||vt+1<=kt)&&(Re=2.5,++vt)):_e<7.5?Re=5:Re=10,Re*=ce,be.minTickSize!=null&&Re<be.minTickSize&&(Re=be.minTickSize),M.delta=Ge,M.tickDecimals=Math.max(0,kt!=null?kt:vt),M.tickSize=be.tickSize||Re,be.mode=="time"&&!M.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(M.tickGenerator||(M.tickGenerator=function(Rt){var qt=[],Be=l(Rt.min,Rt.tickSize),me=0,ze=Number.NaN,Ye;do Ye=ze,ze=Be+me*Rt.tickSize,qt.push(ze),++me;while(ze<Rt.max&&ze!=Ye);return qt},M.tickFormatter=function(Rt,qt){var Be=qt.tickDecimals?Math.pow(10,qt.tickDecimals):1,me=""+Math.round(Rt*Be)/Be;if(qt.tickDecimals!=null){var ze=me.indexOf("."),Ye=ze==-1?0:me.length-ze-1;if(Ye<qt.tickDecimals)return(Ye?me:me+".")+(""+Be).substr(1,qt.tickDecimals-Ye)}return me}),e.isFunction(be.tickFormatter)&&(M.tickFormatter=function(Rt,qt){return""+be.tickFormatter(Rt,qt)}),be.alignTicksWithAxis!=null){var st=(M.direction=="x"?A:C)[be.alignTicksWithAxis-1];if(st&&st.used&&st!=M){var xt=M.tickGenerator(M);if(xt.length>0&&(be.min==null&&(M.min=Math.min(M.min,xt[0])),be.max==null&&xt.length>1&&(M.max=Math.max(M.max,xt[xt.length-1]))),M.tickGenerator=function(Rt){var qt=[],Be,me;for(me=0;me<st.ticks.length;++me)Be=(st.ticks[me].v-st.min)/(st.max-st.min),Be=Rt.min+Be*(Rt.max-Rt.min),qt.push(Be);return qt},!M.mode&&be.tickDecimals==null){var Mt=Math.max(0,-Math.floor(Math.log(M.delta)/Math.LN10)+1),Bt=M.tickGenerator(M);Bt.length>1&&/\..*0$/.test((Bt[1]-Bt[0]).toFixed(Mt))||(M.tickDecimals=Mt)}}}}function De(M){var be=M.options.ticks,he=[];be==null||typeof be=="number"&&be>0?he=M.tickGenerator(M):be&&(e.isFunction(be)?he=be(M):he=be);var Ge,vt;for(M.ticks=[],Ge=0;Ge<he.length;++Ge){var kt=null,ce=he[Ge];typeof ce=="object"?(vt=+ce[0],ce.length>1&&(kt=ce[1])):vt=+ce,kt==null&&(kt=M.tickFormatter(vt,M)),isNaN(vt)||M.ticks.push({v:vt,label:kt})}}function Se(M,be){M.options.autoscaleMargin&&be.length>0&&(M.options.min==null&&(M.min=Math.min(M.min,be[0].v)),M.options.max==null&&be.length>1&&(M.max=Math.max(M.max,be[be.length-1].v)))}function de(){p.clear(),m(h.drawBackground,[w]);var M=f.grid;M.show&&M.backgroundColor&&ht(),M.show&&!M.aboveData&&nt();for(var be=0;be<d.length;++be)m(h.drawSeries,[w,d[be]]),ot(d[be]);m(h.draw,[w]),M.show&&M.aboveData&&nt(),p.render(),Ot()}function Xe(M,be){for(var he,Ge,vt,kt,ce=H(),_e=0;_e<ce.length;++_e)if(he=ce[_e],he.direction==be&&(kt=be+he.n+"axis",!M[kt]&&he.n==1&&(kt=be+"axis"),M[kt])){Ge=M[kt].from,vt=M[kt].to;break}if(M[kt]||(he=be=="x"?A[0]:C[0],Ge=M[be+"1"],vt=M[be+"2"]),Ge!=null&&vt!=null&&Ge>vt){var Re=Ge;Ge=vt,vt=Re}return{from:Ge,to:vt,axis:he}}function ht(){w.save(),w.translate(x.left,x.top),w.fillStyle=qe(f.grid.backgroundColor,s,0,"rgba(255, 255, 255, 0)"),w.fillRect(0,0,S,s),w.restore()}function nt(){var M,be,he,Ge;w.save(),w.translate(x.left,x.top);var vt=f.grid.markings;if(vt)for(e.isFunction(vt)&&(be=g.getAxes(),be.xmin=be.xaxis.min,be.xmax=be.xaxis.max,be.ymin=be.yaxis.min,be.ymax=be.yaxis.max,vt=vt(be)),M=0;M<vt.length;++M){var kt=vt[M],ce=Xe(kt,"x"),_e=Xe(kt,"y");if(ce.from==null&&(ce.from=ce.axis.min),ce.to==null&&(ce.to=ce.axis.max),_e.from==null&&(_e.from=_e.axis.min),_e.to==null&&(_e.to=_e.axis.max),!(ce.to<ce.axis.min||ce.from>ce.axis.max||_e.to<_e.axis.min||_e.from>_e.axis.max)){ce.from=Math.max(ce.from,ce.axis.min),ce.to=Math.min(ce.to,ce.axis.max),_e.from=Math.max(_e.from,_e.axis.min),_e.to=Math.min(_e.to,_e.axis.max);var Re=ce.from===ce.to,st=_e.from===_e.to;if(!(Re&&st))if(ce.from=Math.floor(ce.axis.p2c(ce.from)),ce.to=Math.floor(ce.axis.p2c(ce.to)),_e.from=Math.floor(_e.axis.p2c(_e.from)),_e.to=Math.floor(_e.axis.p2c(_e.to)),Re||st){var xt=kt.lineWidth||f.grid.markingsLineWidth,Mt=xt%2?.5:0;w.beginPath(),w.strokeStyle=kt.color||f.grid.markingsColor,w.lineWidth=xt,Re?(w.moveTo(ce.to+Mt,_e.from),w.lineTo(ce.to+Mt,_e.to)):(w.moveTo(ce.from,_e.to+Mt),w.lineTo(ce.to,_e.to+Mt)),w.stroke()}else w.fillStyle=kt.color||f.grid.markingsColor,w.fillRect(ce.from,_e.to,ce.to-ce.from,_e.from-_e.to)}}be=H(),he=f.grid.borderWidth;for(var Bt=0;Bt<be.length;++Bt){var Rt=be[Bt],qt=Rt.box,Be=Rt.tickLength,me,ze,Ye,ut;if(!(!Rt.show||Rt.ticks.length==0)){for(w.lineWidth=1,Rt.direction=="x"?(me=0,Be=="full"?ze=Rt.position=="top"?0:s:ze=qt.top-x.top+(Rt.position=="top"?qt.height:0)):(ze=0,Be=="full"?me=Rt.position=="left"?0:S:me=qt.left-x.left+(Rt.position=="left"?qt.width:0)),Rt.innermost||(w.strokeStyle=Rt.options.color,w.beginPath(),Ye=ut=0,Rt.direction=="x"?Ye=S+1:ut=s+1,w.lineWidth==1&&(Rt.direction=="x"?ze=Math.floor(ze)+.5:me=Math.floor(me)+.5),w.moveTo(me,ze),w.lineTo(me+Ye,ze+ut),w.stroke()),w.strokeStyle=Rt.options.tickColor,w.beginPath(),M=0;M<Rt.ticks.length;++M){var ft=Rt.ticks[M].v;Ye=ut=0,!(isNaN(ft)||ft<Rt.min||ft>Rt.max||Be=="full"&&(typeof he=="object"&&he[Rt.position]>0||he>0)&&(ft==Rt.min||ft==Rt.max))&&(Rt.direction=="x"?(me=Rt.p2c(ft),ut=Be=="full"?-s:Be,Rt.position=="top"&&(ut=-ut)):(ze=Rt.p2c(ft),Ye=Be=="full"?-S:Be,Rt.position=="left"&&(Ye=-Ye)),w.lineWidth==1&&(Rt.direction=="x"?me=Math.floor(me)+.5:ze=Math.floor(ze)+.5),w.moveTo(me,ze),w.lineTo(me+Ye,ze+ut))}w.stroke()}}he&&(Ge=f.grid.borderColor,typeof he=="object"||typeof Ge=="object"?(typeof he!="object"&&(he={top:he,right:he,bottom:he,left:he}),typeof Ge!="object"&&(Ge={top:Ge,right:Ge,bottom:Ge,left:Ge}),he.top>0&&(w.strokeStyle=Ge.top,w.lineWidth=he.top,w.beginPath(),w.moveTo(0-he.left,0-he.top/2),w.lineTo(S,0-he.top/2),w.stroke()),he.right>0&&(w.strokeStyle=Ge.right,w.lineWidth=he.right,w.beginPath(),w.moveTo(S+he.right/2,0-he.top),w.lineTo(S+he.right/2,s),w.stroke()),he.bottom>0&&(w.strokeStyle=Ge.bottom,w.lineWidth=he.bottom,w.beginPath(),w.moveTo(S+he.right,s+he.bottom/2),w.lineTo(0,s+he.bottom/2),w.stroke()),he.left>0&&(w.strokeStyle=Ge.left,w.lineWidth=he.left,w.beginPath(),w.moveTo(0-he.left/2,s+he.bottom),w.lineTo(0-he.left/2,0),w.stroke())):(w.lineWidth=he,w.strokeStyle=f.grid.borderColor,w.strokeRect(-he/2,-he/2,S+he,s+he))),w.restore()}function lt(){e.each(H(),function(M,be){var he=be.box,Ge=be.direction+"Axis "+be.direction+be.n+"Axis",vt="flot-"+be.direction+"-axis flot-"+be.direction+be.n+"-axis "+Ge,kt=be.options.font||"flot-tick-label tickLabel",ce,_e,Re,st,xt;if(p.removeText(vt),!(!be.show||be.ticks.length==0))for(var Mt=0;Mt<be.ticks.length;++Mt)ce=be.ticks[Mt],!(!ce.label||ce.v<be.min||ce.v>be.max)&&(be.direction=="x"?(st="center",_e=x.left+be.p2c(ce.v),be.position=="bottom"?Re=he.top+he.padding:(Re=he.top+he.height-he.padding,xt="bottom")):(xt="middle",Re=x.top+be.p2c(ce.v),be.position=="left"?(_e=he.left+he.width-he.padding,st="right"):_e=he.left+he.padding),p.addText(vt,_e,Re,ce.label,kt,null,null,st,xt))})}function ot(M){M.lines.show&&ve(M),M.bars.show&&xe(M),M.points.show&&pe(M)}function ve(M){function be(_e,Re,st,xt,Mt){var Bt=_e.points,Rt=_e.pointsize,qt=null,Be=null;w.beginPath();for(var me=Rt;me<Bt.length;me+=Rt){var ze=Bt[me-Rt],Ye=Bt[me-Rt+1],ut=Bt[me],ft=Bt[me+1];if(!(ze==null||ut==null)){if(Ye<=ft&&Ye<Mt.min){if(ft<Mt.min)continue;ze=(Mt.min-Ye)/(ft-Ye)*(ut-ze)+ze,Ye=Mt.min}else if(ft<=Ye&&ft<Mt.min){if(Ye<Mt.min)continue;ut=(Mt.min-Ye)/(ft-Ye)*(ut-ze)+ze,ft=Mt.min}if(Ye>=ft&&Ye>Mt.max){if(ft>Mt.max)continue;ze=(Mt.max-Ye)/(ft-Ye)*(ut-ze)+ze,Ye=Mt.max}else if(ft>=Ye&&ft>Mt.max){if(Ye>Mt.max)continue;ut=(Mt.max-Ye)/(ft-Ye)*(ut-ze)+ze,ft=Mt.max}if(ze<=ut&&ze<xt.min){if(ut<xt.min)continue;Ye=(xt.min-ze)/(ut-ze)*(ft-Ye)+Ye,ze=xt.min}else if(ut<=ze&&ut<xt.min){if(ze<xt.min)continue;ft=(xt.min-ze)/(ut-ze)*(ft-Ye)+Ye,ut=xt.min}if(ze>=ut&&ze>xt.max){if(ut>xt.max)continue;Ye=(xt.max-ze)/(ut-ze)*(ft-Ye)+Ye,ze=xt.max}else if(ut>=ze&&ut>xt.max){if(ze>xt.max)continue;ft=(xt.max-ze)/(ut-ze)*(ft-Ye)+Ye,ut=xt.max}(ze!=qt||Ye!=Be)&&w.moveTo(xt.p2c(ze)+Re,Mt.p2c(Ye)+st),qt=ut,Be=ft,w.lineTo(xt.p2c(ut)+Re,Mt.p2c(ft)+st)}}w.stroke()}function he(_e,Re,st){for(var xt=_e.points,Mt=_e.pointsize,Bt=Math.min(Math.max(0,st.min),st.max),Rt=0,qt,Be=!1,me=1,ze=0,Ye=0;!(Mt>0&&Rt>xt.length+Mt);){Rt+=Mt;var ut=xt[Rt-Mt],ft=xt[Rt-Mt+me],dt=xt[Rt],at=xt[Rt+me];if(Be){if(Mt>0&&ut!=null&&dt==null){Ye=Rt,Mt=-Mt,me=2;continue}if(Mt<0&&Rt==ze+Mt){w.fill(),Be=!1,Mt=-Mt,me=1,Rt=ze=Ye+Mt;continue}}if(!(ut==null||dt==null)){if(ut<=dt&&ut<Re.min){if(dt<Re.min)continue;ft=(Re.min-ut)/(dt-ut)*(at-ft)+ft,ut=Re.min}else if(dt<=ut&&dt<Re.min){if(ut<Re.min)continue;at=(Re.min-ut)/(dt-ut)*(at-ft)+ft,dt=Re.min}if(ut>=dt&&ut>Re.max){if(dt>Re.max)continue;ft=(Re.max-ut)/(dt-ut)*(at-ft)+ft,ut=Re.max}else if(dt>=ut&&dt>Re.max){if(ut>Re.max)continue;at=(Re.max-ut)/(dt-ut)*(at-ft)+ft,dt=Re.max}if(Be||(w.beginPath(),w.moveTo(Re.p2c(ut),st.p2c(Bt)),Be=!0),ft>=st.max&&at>=st.max){w.lineTo(Re.p2c(ut),st.p2c(st.max)),w.lineTo(Re.p2c(dt),st.p2c(st.max));continue}else if(ft<=st.min&&at<=st.min){w.lineTo(Re.p2c(ut),st.p2c(st.min)),w.lineTo(Re.p2c(dt),st.p2c(st.min));continue}var Fe=ut,pt=dt;ft<=at&&ft<st.min&&at>=st.min?(ut=(st.min-ft)/(at-ft)*(dt-ut)+ut,ft=st.min):at<=ft&&at<st.min&&ft>=st.min&&(dt=(st.min-ft)/(at-ft)*(dt-ut)+ut,at=st.min),ft>=at&&ft>st.max&&at<=st.max?(ut=(st.max-ft)/(at-ft)*(dt-ut)+ut,ft=st.max):at>=ft&&at>st.max&&ft<=st.max&&(dt=(st.max-ft)/(at-ft)*(dt-ut)+ut,at=st.max),ut!=Fe&&w.lineTo(Re.p2c(Fe),st.p2c(ft)),w.lineTo(Re.p2c(ut),st.p2c(ft)),w.lineTo(Re.p2c(dt),st.p2c(at)),dt!=pt&&(w.lineTo(Re.p2c(dt),st.p2c(at)),w.lineTo(Re.p2c(pt),st.p2c(at)))}}}w.save(),w.translate(x.left,x.top),w.lineJoin="round";var Ge=M.lines.lineWidth,vt=M.shadowSize;if(Ge>0&&vt>0){w.lineWidth=vt,w.strokeStyle="rgba(0,0,0,0.1)";var kt=Math.PI/18;be(M.datapoints,Math.sin(kt)*(Ge/2+vt/2),Math.cos(kt)*(Ge/2+vt/2),M.xaxis,M.yaxis),w.lineWidth=vt/2,be(M.datapoints,Math.sin(kt)*(Ge/2+vt/4),Math.cos(kt)*(Ge/2+vt/4),M.xaxis,M.yaxis)}w.lineWidth=Ge,w.strokeStyle=M.color;var ce=Ce(M.lines,M.color,0,s);ce&&(w.fillStyle=ce,he(M.datapoints,M.xaxis,M.yaxis)),Ge>0&&be(M.datapoints,0,0,M.xaxis,M.yaxis),w.restore()}function pe(M){function be(_e,Re,st,xt,Mt,Bt,Rt,qt){for(var Be=_e.points,me=_e.pointsize,ze=0;ze<Be.length;ze+=me){var Ye=Be[ze],ut=Be[ze+1];Ye==null||Ye<Bt.min||Ye>Bt.max||ut<Rt.min||ut>Rt.max||(w.beginPath(),Ye=Bt.p2c(Ye),ut=Rt.p2c(ut)+xt,qt=="circle"?w.arc(Ye,ut,Re,0,Mt?Math.PI:Math.PI*2,!1):qt(w,Ye,ut,Re,Mt),w.closePath(),st&&(w.fillStyle=st,w.fill()),w.stroke())}}w.save(),w.translate(x.left,x.top);var he=M.points.lineWidth,Ge=M.shadowSize,vt=M.points.radius,kt=M.points.symbol;if(he==0&&(he=1e-4),he>0&&Ge>0){var ce=Ge/2;w.lineWidth=ce,w.strokeStyle="rgba(0,0,0,0.1)",be(M.datapoints,vt,null,ce+ce/2,!0,M.xaxis,M.yaxis,kt),w.strokeStyle="rgba(0,0,0,0.2)",be(M.datapoints,vt,null,ce/2,!0,M.xaxis,M.yaxis,kt)}w.lineWidth=he,w.strokeStyle=M.color,be(M.datapoints,vt,Ce(M.points,M.color),0,!1,M.xaxis,M.yaxis,kt),w.restore()}function tt(M,be,he,Ge,vt,kt,ce,_e,Re,st,xt){var Mt,Bt,Rt,qt,Be,me,ze,Ye,ut;st?(Ye=me=ze=!0,Be=!1,Mt=he,Bt=M,qt=be+Ge,Rt=be+vt,Bt<Mt&&(ut=Bt,Bt=Mt,Mt=ut,Be=!0,me=!1)):(Be=me=ze=!0,Ye=!1,Mt=M+Ge,Bt=M+vt,Rt=he,qt=be,qt<Rt&&(ut=qt,qt=Rt,Rt=ut,Ye=!0,ze=!1)),!(Bt<ce.min||Mt>ce.max||qt<_e.min||Rt>_e.max)&&(Mt<ce.min&&(Mt=ce.min,Be=!1),Bt>ce.max&&(Bt=ce.max,me=!1),Rt<_e.min&&(Rt=_e.min,Ye=!1),qt>_e.max&&(qt=_e.max,ze=!1),Mt=ce.p2c(Mt),Rt=_e.p2c(Rt),Bt=ce.p2c(Bt),qt=_e.p2c(qt),kt&&(Re.fillStyle=kt(Rt,qt),Re.fillRect(Mt,qt,Bt-Mt,Rt-qt)),xt>0&&(Be||me||ze||Ye)&&(Re.beginPath(),Re.moveTo(Mt,Rt),Be?Re.lineTo(Mt,qt):Re.moveTo(Mt,qt),ze?Re.lineTo(Bt,qt):Re.moveTo(Bt,qt),me?Re.lineTo(Bt,Rt):Re.moveTo(Bt,Rt),Ye?Re.lineTo(Mt,Rt):Re.moveTo(Mt,Rt),Re.stroke()))}function xe(M){function be(vt,kt,ce,_e,Re,st){for(var xt=vt.points,Mt=vt.pointsize,Bt=0;Bt<xt.length;Bt+=Mt)xt[Bt]!=null&&tt(xt[Bt],xt[Bt+1],xt[Bt+2],kt,ce,_e,Re,st,w,M.bars.horizontal,M.bars.lineWidth)}w.save(),w.translate(x.left,x.top),w.lineWidth=M.bars.lineWidth,w.strokeStyle=M.color;var he;switch(M.bars.align){case"left":he=0;break;case"right":he=-M.bars.barWidth;break;default:he=-M.bars.barWidth/2}var Ge=M.bars.fill?function(vt,kt){return Ce(M.bars,M.color,vt,kt)}:null;be(M.datapoints,he,he+M.bars.barWidth,Ge,M.xaxis,M.yaxis),w.restore()}function Ce(M,be,he,Ge){var vt=M.fill;if(!vt)return null;if(M.fillColor)return qe(M.fillColor,he,Ge,be);var kt=e.color.parse(be);return kt.a=typeof vt=="number"?vt:.4,kt.normalize(),kt.toString()}function Ue(){if(f.legend.container!=null?e(f.legend.container).html(""):o.find(".legend").remove(),!!f.legend.show){for(var M=[],be=[],he=!1,Ge=f.legend.labelFormatter,vt,kt,ce=0;ce<d.length;++ce)vt=d[ce],vt.label&&(kt=Ge?Ge(vt.label,vt):vt.label,kt&&be.push({label:kt,color:vt.color}));if(f.legend.sorted)if(e.isFunction(f.legend.sorted))be.sort(f.legend.sorted);else if(f.legend.sorted=="reverse")be.reverse();else{var _e=f.legend.sorted!="descending";be.sort(function(me,ze){return me.label==ze.label?0:me.label<ze.label!=_e?1:-1})}for(var ce=0;ce<be.length;++ce){var Re=be[ce];ce%f.legend.noColumns==0&&(he&&M.push("</tr>"),M.push("<tr>"),he=!0),M.push('<td class="legendColorBox"><div style="border:1px solid '+f.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+Re.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+Re.label+"</td>")}if(he&&M.push("</tr>"),M.length!=0){var st='<table style="font-size:smaller;color:'+f.grid.color+'">'+M.join("")+"</table>";if(f.legend.container!=null)e(f.legend.container).html(st);else{var xt="",Mt=f.legend.position,Bt=f.legend.margin;Bt[0]==null&&(Bt=[Bt,Bt]),Mt.charAt(0)=="n"?xt+="top:"+(Bt[1]+x.top)+"px;":Mt.charAt(0)=="s"&&(xt+="bottom:"+(Bt[1]+x.bottom)+"px;"),Mt.charAt(1)=="e"?xt+="right:"+(Bt[0]+x.right)+"px;":Mt.charAt(1)=="w"&&(xt+="left:"+(Bt[0]+x.left)+"px;");var Rt=e('<div class="legend">'+st.replace('style="','style="position:absolute;'+xt+";")+"</div>").appendTo(o);if(f.legend.backgroundOpacity!=0){var qt=f.legend.backgroundColor;qt==null&&(qt=f.grid.backgroundColor,qt&&typeof qt=="string"?qt=e.color.parse(qt):qt=e.color.extract(Rt,"background-color"),qt.a=1,qt=qt.toString());var Be=Rt.children();e('<div style="position:absolute;width:'+Be.width()+"px;height:"+Be.height()+"px;"+xt+"background-color:"+qt+';"> </div>').prependTo(Rt).css("opacity",f.legend.backgroundOpacity)}}}}}var Te=[],it=null;function Me(M,be,he){var Ge=f.grid.mouseActiveRadius,vt=Ge*Ge+1,kt=null,ce=!1,_e,Re,st;for(_e=d.length-1;_e>=0;--_e)if(he(d[_e])){var xt=d[_e],Mt=xt.xaxis,Bt=xt.yaxis,Rt=xt.datapoints.points,qt=Mt.c2p(M),Be=Bt.c2p(be),me=Ge/Mt.scale,ze=Ge/Bt.scale;if(st=xt.datapoints.pointsize,Mt.options.inverseTransform&&(me=Number.MAX_VALUE),Bt.options.inverseTransform&&(ze=Number.MAX_VALUE),xt.lines.show||xt.points.show)for(Re=0;Re<Rt.length;Re+=st){var Ye=Rt[Re],ut=Rt[Re+1];if(Ye!=null&&!(Ye-qt>me||Ye-qt<-me||ut-Be>ze||ut-Be<-ze)){var ft=Math.abs(Mt.p2c(Ye)-M),dt=Math.abs(Bt.p2c(ut)-be),at=ft*ft+dt*dt;at<vt&&(vt=at,kt=[_e,Re/st])}}if(xt.bars.show&&!kt){var Fe,pt;switch(xt.bars.align){case"left":Fe=0;break;case"right":Fe=-xt.bars.barWidth;break;default:Fe=-xt.bars.barWidth/2}for(pt=Fe+xt.bars.barWidth,Re=0;Re<Rt.length;Re+=st){var Ye=Rt[Re],ut=Rt[Re+1],Ct=Rt[Re+2];Ye!=null&&(d[_e].bars.horizontal?qt<=Math.max(Ct,Ye)&&qt>=Math.min(Ct,Ye)&&Be>=ut+Fe&&Be<=ut+pt:qt>=Ye+Fe&&qt<=Ye+pt&&Be>=Math.min(Ct,ut)&&Be<=Math.max(Ct,ut))&&(kt=[_e,Re/st])}}}return kt?(_e=kt[0],Re=kt[1],st=d[_e].datapoints.pointsize,{datapoint:d[_e].datapoints.points.slice(Re*st,(Re+1)*st),dataIndex:Re,series:d[_e],seriesIndex:_e}):null}function mt(M){f.grid.hoverable&&yt("plothover",M,function(be){return be.hoverable!=!1})}function He(M){f.grid.hoverable&&yt("plothover",M,function(be){return!1})}function We(M){yt("plotclick",M,function(be){return be.clickable!=!1})}function yt(M,be,he){var Ge=y.offset(),vt=be.pageX-Ge.left-x.left,kt=be.pageY-Ge.top-x.top,ce=G({left:vt,top:kt});ce.pageX=be.pageX,ce.pageY=be.pageY;var _e=Me(vt,kt,he);if(_e&&(_e.pageX=parseInt(_e.series.xaxis.p2c(_e.datapoint[0])+Ge.left+x.left,10),_e.pageY=parseInt(_e.series.yaxis.p2c(_e.datapoint[1])+Ge.top+x.top,10)),f.grid.autoHighlight){for(var Re=0;Re<Te.length;++Re){var st=Te[Re];st.auto==M&&!(_e&&st.series==_e.series&&st.point[0]==_e.datapoint[0]&&st.point[1]==_e.datapoint[1])&&oe(st.series,st.point)}_e&&rt(_e.series,_e.datapoint,M)}o.trigger(M,[ce,_e])}function Ot(){var M=f.interaction.redrawOverlayInterval;if(M==-1){Ft();return}it||(it=setTimeout(Ft,M))}function Ft(){it=null,k.save(),v.clear(),k.translate(x.left,x.top);var M,be;for(M=0;M<Te.length;++M)be=Te[M],be.series.bars.show?Je(be.series,be.point):Ze(be.series,be.point);k.restore(),m(h.drawOverlay,[k])}function rt(M,be,he){if(typeof M=="number"&&(M=d[M]),typeof be=="number"){var Ge=M.datapoints.pointsize;be=M.datapoints.points.slice(Ge*be,Ge*(be+1))}var vt=Pe(M,be);vt==-1?(Te.push({series:M,point:be,auto:he}),Ot()):he||(Te[vt].auto=!1)}function oe(M,be){if(M==null&&be==null){Te=[],Ot();return}if(typeof M=="number"&&(M=d[M]),typeof be=="number"){var he=M.datapoints.pointsize;be=M.datapoints.points.slice(he*be,he*(be+1))}var Ge=Pe(M,be);Ge!=-1&&(Te.splice(Ge,1),Ot())}function Pe(M,be){for(var he=0;he<Te.length;++he){var Ge=Te[he];if(Ge.series==M&&Ge.point[0]==be[0]&&Ge.point[1]==be[1])return he}return-1}function Ze(M,be){var he=be[0],Ge=be[1],vt=M.xaxis,kt=M.yaxis,ce=typeof M.highlightColor=="string"?M.highlightColor:e.color.parse(M.color).scale("a",.5).toString();if(!(he<vt.min||he>vt.max||Ge<kt.min||Ge>kt.max)){var _e=M.points.radius+M.points.lineWidth/2;k.lineWidth=_e,k.strokeStyle=ce;var Re=1.5*_e;he=vt.p2c(he),Ge=kt.p2c(Ge),k.beginPath(),M.points.symbol=="circle"?k.arc(he,Ge,Re,0,2*Math.PI,!1):M.points.symbol(k,he,Ge,Re,!1),k.closePath(),k.stroke()}}function Je(M,be){var he=typeof M.highlightColor=="string"?M.highlightColor:e.color.parse(M.color).scale("a",.5).toString(),Ge=he,vt;switch(M.bars.align){case"left":vt=0;break;case"right":vt=-M.bars.barWidth;break;default:vt=-M.bars.barWidth/2}k.lineWidth=M.bars.lineWidth,k.strokeStyle=he,tt(be[0],be[1],be[2]||0,vt,vt+M.bars.barWidth,function(){return Ge},M.xaxis,M.yaxis,k,M.bars.horizontal,M.bars.lineWidth)}function qe(M,be,he,Ge){if(typeof M=="string")return M;for(var vt=w.createLinearGradient(0,he,0,be),kt=0,ce=M.colors.length;kt<ce;++kt){var _e=M.colors[kt];if(typeof _e!="string"){var Re=e.color.parse(Ge);_e.brightness!=null&&(Re=Re.scale("rgb",_e.brightness)),_e.opacity!=null&&(Re.a*=_e.opacity),_e=Re.toString()}vt.addColorStop(kt/(ce-1),_e)}return vt}}e.plot=function(o,u,n){var c=new a(e(o),u,n,e.plot.plugins);return c},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(o,u){return this.each(function(){e.plot(this,o,u)})};function l(o,u){return u*Math.floor(o/u)}}(jQuery)}),R1={};iA(R1,{default:()=>Lm});nA=L1(D1());rA(R1,L1(D1()));M1=nA,{default:I1}=M1,oA=en(M1,["default"]),Lm=I1!==void 0?I1:oA});var j1={};On(j1,{default:()=>Lm});var B1=Wt(()=>{Dm();Dm()});var aA,jm,sA,lA,uA,cA,dA,hA,Rm,pA,z1,H1,U1,fA,N1,F1,mA,Bm,Nm=Wt(()=>{aA=Object.create,jm=Object.defineProperty,sA=Object.getOwnPropertyDescriptor,lA=Object.getOwnPropertyNames,uA=Object.getPrototypeOf,cA=Object.prototype.hasOwnProperty,dA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),hA=(e,t)=>{for(var r in t)jm(e,r,{get:t[r],enumerable:!0})},Rm=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of lA(t))!cA.call(e,l)&&l!==r&&jm(e,l,{get:()=>t[l],enumerable:!(a=sA(t,l))||a.enumerable});return e},pA=(e,t,r)=>(Rm(e,t,"default"),r&&Rm(r,t,"default")),z1=(e,t,r)=>(r=e!=null?aA(uA(e)):{},Rm(t||!e||!e.__esModule?jm(r,"default",{value:e,enumerable:!0}):r,e)),H1=dA(()=>{(function(e){var t={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}};function r(p,v){return v*Math.floor(p/v)}function a(p,v,y,w){if(typeof p.strftime=="function")return p.strftime(v);var k=function(m,b){return m=""+m,b=""+(b!=null?b:"0"),m.length==1?b+m:m},A=[],C=!1,x=p.getHours(),S=x<12;y==null&&(y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),w==null&&(w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var s;x>12?s=x-12:x==0?s=12:s=x;for(var h=0;h<v.length;++h){var g=v.charAt(h);if(C){switch(g){case"a":g=""+w[p.getDay()];break;case"b":g=""+y[p.getMonth()];break;case"d":g=k(p.getDate());break;case"e":g=k(p.getDate()," ");break;case"h":case"H":g=k(x);break;case"I":g=k(s);break;case"l":g=k(s," ");break;case"m":g=k(p.getMonth()+1);break;case"M":g=k(p.getMinutes());break;case"q":g=""+(Math.floor(p.getMonth()/3)+1);break;case"S":g=k(p.getSeconds());break;case"y":g=k(p.getFullYear()%100);break;case"Y":g=""+p.getFullYear();break;case"p":g=S?"am":"pm";break;case"P":g=S?"AM":"PM";break;case"w":g=""+p.getDay();break}A.push(g),C=!1}else g=="%"?C=!0:A.push(g)}return A.join("")}function l(p){function v(A,C,x,S){A[C]=function(){return x[S].apply(x,arguments)}}var y={date:p};p.strftime!=null&&v(y,"strftime",p,"strftime"),v(y,"getTime",p,"getTime"),v(y,"setTime",p,"setTime");for(var w=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],k=0;k<w.length;k++)v(y,"get"+w[k],p,"getUTC"+w[k]),v(y,"set"+w[k],p,"setUTC"+w[k]);return y}function o(p,v){if(v.timezone=="browser")return new Date(p);if(!v.timezone||v.timezone=="utc")return l(new Date(p));if(typeof timezoneJS<"u"&&typeof timezoneJS.Date<"u"){var y=new timezoneJS.Date;return y.setTimezone(v.timezone),y.setTime(p),y}else return l(new Date(p))}var u={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3},n=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=n.concat([[3,"month"],[6,"month"],[1,"year"]]),d=n.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function f(p){p.hooks.processOptions.push(function(v,y){e.each(v.getAxes(),function(w,k){var A=k.options;A.mode=="time"&&(k.tickGenerator=function(C){var x=[],S=o(C.min,A),s=0,h=A.tickSize&&A.tickSize[1]==="quarter"||A.minTickSize&&A.minTickSize[1]==="quarter"?d:c;A.minTickSize!=null&&(typeof A.tickSize=="number"?s=A.tickSize:s=A.minTickSize[0]*u[A.minTickSize[1]]);for(var g=0;g<h.length-1&&!(C.delta<(h[g][0]*u[h[g][1]]+h[g+1][0]*u[h[g+1][1]])/2&&h[g][0]*u[h[g][1]]>=s);++g);var m=h[g][0],b=h[g][1];if(b=="year"){if(A.minTickSize!=null&&A.minTickSize[1]=="year")m=Math.floor(A.minTickSize[0]);else{var _=Math.pow(10,Math.floor(Math.log(C.delta/u.year)/Math.LN10)),E=C.delta/u.year/_;E<1.5?m=1:E<3?m=2:E<7.5?m=5:m=10,m*=_}m<1&&(m=1)}C.tickSize=A.tickSize||[m,b];var R=C.tickSize[0];b=C.tickSize[1];var j=R*u[b];b=="second"?S.setSeconds(r(S.getSeconds(),R)):b=="minute"?S.setMinutes(r(S.getMinutes(),R)):b=="hour"?S.setHours(r(S.getHours(),R)):b=="month"?S.setMonth(r(S.getMonth(),R)):b=="quarter"?S.setMonth(3*r(S.getMonth()/3,R)):b=="year"&&S.setFullYear(r(S.getFullYear(),R)),S.setMilliseconds(0),j>=u.minute&&S.setSeconds(0),j>=u.hour&&S.setMinutes(0),j>=u.day&&S.setHours(0),j>=u.day*4&&S.setDate(1),j>=u.month*2&&S.setMonth(r(S.getMonth(),3)),j>=u.quarter*2&&S.setMonth(r(S.getMonth(),6)),j>=u.year&&S.setMonth(0);var H=0,G=Number.NaN,q;do if(q=G,G=S.getTime(),x.push(G),b=="month"||b=="quarter")if(R<1){S.setDate(1);var K=S.getTime();S.setMonth(S.getMonth()+(b=="quarter"?3:1));var ue=S.getTime();S.setTime(G+H*u.hour+(ue-K)*R),H=S.getHours(),S.setHours(0)}else S.setMonth(S.getMonth()+R*(b=="quarter"?3:1));else b=="year"?S.setFullYear(S.getFullYear()+R):S.setTime(G+j);while(G<C.max&&G!=q);return x},k.tickFormatter=function(C,x){var S=o(C,x.options);if(A.timeformat!=null)return a(S,A.timeformat,A.monthNames,A.dayNames);var s=x.options.tickSize&&x.options.tickSize[1]=="quarter"||x.options.minTickSize&&x.options.minTickSize[1]=="quarter",h=x.tickSize[0]*u[x.tickSize[1]],g=x.max-x.min,m=A.twelveHourClock?" %p":"",b=A.twelveHourClock?"%I":"%H",_;h<u.minute?_=b+":%M:%S"+m:h<u.day?g<2*u.day?_=b+":%M"+m:_="%b %d "+b+":%M"+m:h<u.month?_="%b %d":s&&h<u.quarter||!s&&h<u.year?g<u.year?_="%b":_="%b %Y":s&&h<u.year?g<u.year?_="Q%q":_="Q%q %Y":_="%Y";var E=a(S,_,A.monthNames,A.dayNames);return E})})})}e.plot.plugins.push({init:f,options:t,name:"time",version:"1.0"}),e.plot.formatDate=a,e.plot.dateGenerator=o})(jQuery)}),U1={};hA(U1,{default:()=>Bm});fA=z1(H1());pA(U1,z1(H1()));N1=fA,{default:F1}=N1,mA=en(N1,["default"]),Bm=F1!==void 0?F1:mA});var W1={};On(W1,{default:()=>Bm});var V1=Wt(()=>{Nm();Nm()});var gA,zm,vA,bA,yA,wA,_A,kA,Fm,xA,Y1,K1,Z1,SA,q1,G1,AA,Hm,Um=Wt(()=>{gA=Object.create,zm=Object.defineProperty,vA=Object.getOwnPropertyDescriptor,bA=Object.getOwnPropertyNames,yA=Object.getPrototypeOf,wA=Object.prototype.hasOwnProperty,_A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),kA=(e,t)=>{for(var r in t)zm(e,r,{get:t[r],enumerable:!0})},Fm=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of bA(t))!wA.call(e,l)&&l!==r&&zm(e,l,{get:()=>t[l],enumerable:!(a=vA(t,l))||a.enumerable});return e},xA=(e,t,r)=>(Fm(e,t,"default"),r&&Fm(r,t,"default")),Y1=(e,t,r)=>(r=e!=null?gA(yA(e)):{},Fm(t||!e||!e.__esModule?zm(r,"default",{value:e,enumerable:!0}):r,e)),K1=_A(()=>{(function(e){var t={series:{stack:null}};function r(a){function l(u,n){for(var c=null,d=0;d<n.length&&u!=n[d];++d)n[d].stack==u.stack&&(c=n[d]);return c}function o(u,n,c){if(!(n.stack==null||n.stack===!1)){var d=l(n,u.getData());if(d){for(var f=c.pointsize,p=c.points,v=d.datapoints.pointsize,y=d.datapoints.points,w=[],k,A,C,x,S,s,h=n.lines.show,g=n.bars.horizontal,m=f>2&&(g?c.format[2].x:c.format[2].y),b=h&&n.lines.steps,_=!0,E=g?1:0,R=g?0:1,j=0,H=0,G,q;!(j>=p.length);){if(G=w.length,p[j]==null){for(q=0;q<f;++q)w.push(p[j+q]);j+=f}else if(H>=y.length){if(!h)for(q=0;q<f;++q)w.push(p[j+q]);j+=f}else if(y[H]==null){for(q=0;q<f;++q)w.push(null);_=!0,H+=v}else{if(k=p[j+E],A=p[j+R],x=y[H+E],S=y[H+R],s=0,k==x){for(q=0;q<f;++q)w.push(p[j+q]);w[G+R]+=S,s=S,j+=f,H+=v}else if(k>x){if(h&&j>0&&p[j-f]!=null){for(C=A+(p[j-f+R]-A)*(x-k)/(p[j-f+E]-k),w.push(x),w.push(C+S),q=2;q<f;++q)w.push(p[j+q]);s=S}H+=v}else{if(_&&h){j+=f;continue}for(q=0;q<f;++q)w.push(p[j+q]);h&&H>0&&y[H-v]!=null&&(s=S+(y[H-v+R]-S)*(k-x)/(y[H-v+E]-x)),w[G+R]+=s,j+=f}_=!1,G!=w.length&&m&&(w[G+2]+=s)}if(b&&G!=w.length&&G>0&&w[G]!=null&&w[G]!=w[G-f]&&w[G+1]!=w[G-f+1]){for(q=0;q<f;++q)w[G+f+q]=w[G+q];w[G+1]=w[G-f+1]}}c.points=w}}}a.hooks.processDatapoints.push(o)}e.plot.plugins.push({init:r,options:t,name:"stack",version:"1.2"})})(jQuery)}),Z1={};kA(Z1,{default:()=>Hm});SA=Y1(K1());xA(Z1,Y1(K1()));q1=SA,{default:G1}=q1,AA=en(q1,["default"]),Hm=G1!==void 0?G1:AA});var J1={};On(J1,{default:()=>Hm});var X1=Wt(()=>{Um();Um()});var ku,CA,tw,EA,TA,$A,PA,OA,MA,IA,LA,DA,Q1,ew,iw,Wm=Wt(()=>{sc();ku=e=>{let t=a=>typeof a.default<"u"?a.default:a,r=a=>Object.assign({__esModule:!0},a);switch(e){case"jquery":return t(ff);default:return console.error('module "'+e+'" not found'),null}},CA=Object.create,tw=Object.defineProperty,EA=Object.getOwnPropertyDescriptor,TA=Object.getOwnPropertyNames,$A=Object.getPrototypeOf,PA=Object.prototype.hasOwnProperty,OA=(e=>typeof ku<"u"?ku:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof ku<"u"?ku:t)[r]}):e)(function(e){if(typeof ku<"u")return ku.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),MA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),IA=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of TA(t))!PA.call(e,l)&&l!==r&&tw(e,l,{get:()=>t[l],enumerable:!(a=EA(t,l))||a.enumerable});return e},LA=(e,t,r)=>(r=e!=null?CA($A(e)):{},IA(t||!e||!e.__esModule?tw(r,"default",{value:e,enumerable:!0}):r,e)),DA=MA((e,t)=>{(function(r){typeof define=="function"&&define.amd?define(["jquery"],r):typeof t=="object"&&typeof t.exports=="object"?t.exports=r(OA("jquery")):r(jQuery)})(function(r){return function(a){"use strict";var l=a.tablesorter={version:"2.32.0",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:null,ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(o,u){if(!o||!o.tHead||o.tBodies.length===0||o.hasInitialized===!0){l.debug(u,"core")&&(o.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",o));return}var n="",c=a(o),d=a.metadata;o.hasInitialized=!1,o.isProcessing=!0,o.config=u,a.data(o,"tablesorter",u),l.debug(u,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+l.version),a.data(o,"startoveralltimer",new Date)),u.supportsDataObject=function(f){return f[0]=parseInt(f[0],10),f[0]>1||f[0]===1&&parseInt(f[1],10)>=4}(a.fn.jquery.split(".")),u.emptyTo=u.emptyTo.toLowerCase(),u.stringTo=u.stringTo.toLowerCase(),u.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(c.attr("class"))||(n=u.theme!==""?" tablesorter-"+u.theme:""),u.namespace?u.namespace="."+u.namespace.replace(l.regex.nonWord,""):u.namespace=".tablesorter"+Math.random().toString(16).slice(2),u.table=o,u.$table=c.addClass(l.css.table+" "+u.tableClass+n+" "+u.namespace.slice(1)).attr("role","grid"),u.$headers=c.find(u.selectorHeaders),u.$table.children().children("tr").attr("role","row"),u.$tbodies=c.children("tbody:not(."+u.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),u.$table.children("caption").length&&(n=u.$table.children("caption")[0],n.id||(n.id=u.namespace.slice(1)+"caption"),u.$table.attr("aria-labelledby",n.id)),u.widgetInit={},u.textExtraction=u.$table.attr("data-text-extraction")||u.textExtraction||"basic",l.buildHeaders(u),l.fixColumnWidth(o),l.addWidgetFromClass(o),l.applyWidgetOptions(o),l.setupParsers(u),u.totalRows=0,u.debug&&l.validateOptions(u),u.delayInit||l.buildCache(u),l.bindEvents(o,u.$headers,!0),l.bindMethods(u),u.supportsDataObject&&typeof c.data().sortlist<"u"?u.sortList=c.data().sortlist:d&&c.metadata()&&c.metadata().sortlist&&(u.sortList=c.metadata().sortlist),l.applyWidget(o,!0),u.sortList.length>0?(u.last.sortList=u.sortList,l.sortOn(u,u.sortList,{},!u.initWidgets)):(l.setHeadersCss(u),u.initWidgets&&l.applyWidget(o,!1)),u.showProcessing&&c.unbind("sortBegin"+u.namespace+" sortEnd"+u.namespace).bind("sortBegin"+u.namespace+" sortEnd"+u.namespace,function(f){clearTimeout(u.timerProcessing),l.isProcessing(o),f.type==="sortBegin"&&(u.timerProcessing=setTimeout(function(){l.isProcessing(o,!0)},500))}),o.hasInitialized=!0,o.isProcessing=!1,l.debug(u,"core")&&(console.log("Overall initialization time:"+l.benchmark(a.data(o,"startoveralltimer"))),l.debug(u,"core")&&console.groupEnd&&console.groupEnd()),c.triggerHandler("tablesorter-initialized",o),typeof u.initialized=="function"&&u.initialized(o)},bindMethods:function(o){var u=o.$table,n=o.namespace,c="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(n+" ");u.unbind(c.replace(l.regex.spaces," ")).bind("sortReset"+n,function(d,f){d.stopPropagation(),l.sortReset(this.config,function(p){p.isApplyingWidgets?setTimeout(function(){l.applyWidget(p,"",f)},100):l.applyWidget(p,"",f)})}).bind("updateAll"+n,function(d,f,p){d.stopPropagation(),l.updateAll(this.config,f,p)}).bind("update"+n+" updateRows"+n,function(d,f,p){d.stopPropagation(),l.update(this.config,f,p)}).bind("updateHeaders"+n,function(d,f){d.stopPropagation(),l.updateHeaders(this.config,f)}).bind("updateCell"+n,function(d,f,p,v){d.stopPropagation(),l.updateCell(this.config,f,p,v)}).bind("addRows"+n,function(d,f,p,v){d.stopPropagation(),l.addRows(this.config,f,p,v)}).bind("updateComplete"+n,function(){this.isUpdating=!1}).bind("sorton"+n,function(d,f,p,v){d.stopPropagation(),l.sortOn(this.config,f,p,v)}).bind("appendCache"+n,function(d,f,p){d.stopPropagation(),l.appendCache(this.config,p),a.isFunction(f)&&f(this)}).bind("updateCache"+n,function(d,f,p){d.stopPropagation(),l.updateCache(this.config,f,p)}).bind("applyWidgetId"+n,function(d,f){d.stopPropagation(),l.applyWidgetId(this,f)}).bind("applyWidgets"+n,function(d,f){d.stopPropagation(),l.applyWidget(this,!1,f)}).bind("refreshWidgets"+n,function(d,f,p){d.stopPropagation(),l.refreshWidgets(this,f,p)}).bind("removeWidget"+n,function(d,f,p){d.stopPropagation(),l.removeWidget(this,f,p)}).bind("destroy"+n,function(d,f,p){d.stopPropagation(),l.destroy(this,f,p)}).bind("resetToLoadState"+n,function(d){d.stopPropagation(),l.removeWidget(this,!0,!1);var f=a.extend(!0,{},o.originalSettings);o=a.extend(!0,{},l.defaults,f),o.originalSettings=f,this.hasInitialized=!1,l.setup(this,o)})},bindEvents:function(o,u,n){o=a(o)[0];var c,d=o.config,f=d.namespace,p=null;n!==!0&&(u.addClass(f.slice(1)+"_extra_headers"),c=l.getClosest(u,"table"),c.length&&c[0].nodeName==="TABLE"&&c[0]!==o&&a(c[0]).addClass(f.slice(1)+"_extra_table")),c=(d.pointerDown+" "+d.pointerUp+" "+d.pointerClick+" sort keyup ").replace(l.regex.spaces," ").split(" ").join(f+" "),u.find(d.selectorSort).add(u.filter(d.selectorSort)).unbind(c).bind(c,function(v,y){var w,k,A,C=a(v.target),x=" "+v.type+" ";if(!((v.which||v.button)!==1&&!x.match(" "+d.pointerClick+" | sort | keyup ")||x===" keyup "&&v.which!==l.keyCodes.enter||x.match(" "+d.pointerClick+" ")&&typeof v.which<"u")&&!(x.match(" "+d.pointerUp+" ")&&p!==v.target&&y!==!0)){if(x.match(" "+d.pointerDown+" ")){p=v.target,A=C.jquery.split("."),A[0]==="1"&&A[1]<4&&v.preventDefault();return}if(p=null,w=l.getClosest(a(this),"."+l.css.header),l.regex.formElements.test(v.target.nodeName)||C.hasClass(d.cssNoSort)||C.parents("."+d.cssNoSort).length>0||w.hasClass("sorter-false")||C.parents("button").length>0)return!d.cancelSelection;d.delayInit&&l.isEmptyObject(d.cache)&&l.buildCache(d),d.last.clickedIndex=w.attr("data-column")||w.index(),k=d.$headerIndexed[d.last.clickedIndex][0],k&&!k.sortDisabled&&l.initSort(d,k,v)}}),d.cancelSelection&&u.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(o){var u,n,c,d;for(o.headerList=[],o.headerContent=[],o.sortVars=[],l.debug(o,"core")&&(c=new Date),o.columns=l.computeColumnIndex(o.$table.children("thead, tfoot").children("tr")),n=o.cssIcon?'<i class="'+(o.cssIcon===l.css.icon?l.css.icon:o.cssIcon+" "+l.css.icon)+'"></i>':"",o.$headers=a(a.map(o.$table.find(o.selectorHeaders),function(f,p){var v,y,w,k,A,C=a(f);if(!l.getClosest(C,"tr").hasClass(o.cssIgnoreRow))return/(th|td)/i.test(f.nodeName)||(A=l.getClosest(C,"th, td"),C.attr("data-column",A.attr("data-column"))),v=l.getColumnData(o.table,o.headers,p,!0),o.headerContent[p]=C.html(),o.headerTemplate!==""&&!C.find("."+l.css.headerIn).length&&(k=o.headerTemplate.replace(l.regex.templateContent,C.html()).replace(l.regex.templateIcon,C.find("."+l.css.icon).length?"":n),o.onRenderTemplate&&(y=o.onRenderTemplate.apply(C,[p,k]),y&&typeof y=="string"&&(k=y)),C.html('<div class="'+l.css.headerIn+'">'+k+"</div>")),o.onRenderHeader&&o.onRenderHeader.apply(C,[p,o,o.$table]),w=parseInt(C.attr("data-column"),10),f.column=w,A=l.getOrder(l.getData(C,v,"sortInitialOrder")||o.sortInitialOrder),o.sortVars[w]={count:-1,order:A?o.sortReset?[1,0,2]:[1,0]:o.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},A=l.getData(C,v,"lockedOrder")||!1,typeof A<"u"&&A!==!1&&(o.sortVars[w].lockedOrder=!0,o.sortVars[w].order=l.getOrder(A)?[1,1]:[0,0]),o.headerList[p]=f,C.addClass(l.css.header+" "+o.cssHeader),l.getClosest(C,"tr").addClass(l.css.headerRow+" "+o.cssHeaderRow).attr("role","row"),o.tabIndex&&C.attr("tabindex",0),f})),o.$headerIndexed=[],d=0;d<o.columns;d++)l.isEmptyObject(o.sortVars[d])&&(o.sortVars[d]={}),u=o.$headers.filter('[data-column="'+d+'"]'),o.$headerIndexed[d]=u.length?u.not(".sorter-false").length?u.not(".sorter-false").filter(":last"):u.filter(":last"):a();o.$table.find(o.selectorHeaders).attr({scope:"col",role:"columnheader"}),l.updateHeader(o),l.debug(o,"core")&&(console.log("Built headers:"+l.benchmark(c)),console.log(o.$headers))},addInstanceMethods:function(o){a.extend(l.instanceMethods,o)},setupParsers:function(o,u){var n,c,d,f,p,v,y,w,k,A,C,x,S,s,h=o.table,g=0,m=l.debug(o,"core"),b={};if(o.$tbodies=o.$table.children("tbody:not(."+o.cssInfoBlock+")"),S=typeof u>"u"?o.$tbodies:u,s=S.length,s===0)return m?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(m&&(x=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),c={extractors:[],parsers:[]};g<s;){if(n=S[g].rows,n.length)for(p=0,f=o.columns,v=0;v<f;v++){if(y=o.$headerIndexed[p],y&&y.length&&(w=l.getColumnData(h,o.headers,p),C=l.getParserById(l.getData(y,w,"extractor")),A=l.getParserById(l.getData(y,w,"sorter")),k=l.getData(y,w,"parser")==="false",o.empties[p]=(l.getData(y,w,"empty")||o.emptyTo||(o.emptyToBottom?"bottom":"top")).toLowerCase(),o.strings[p]=(l.getData(y,w,"string")||o.stringTo||"max").toLowerCase(),k&&(A=l.getParserById("no-parser")),C||(C=!1),A||(A=l.detectParserForColumn(o,n,-1,p)),m&&(b["("+p+") "+y.text()]={parser:A.id,extractor:C?C.id:"none",string:o.strings[p],empty:o.empties[p]}),c.parsers[p]=A,c.extractors[p]=C,d=y[0].colSpan-1,d>0))for(p+=d,f+=d;d+1>0;)c.parsers[p-d]=A,c.extractors[p-d]=C,d--;p++}g+=c.parsers.length?s:1}m&&(l.isEmptyObject(b)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](b),console.log("Completed detecting parsers"+l.benchmark(x)),console.groupEnd&&console.groupEnd()),o.parsers=c.parsers,o.extractors=c.extractors},addParser:function(o){var u,n=l.parsers.length,c=!0;for(u=0;u<n;u++)l.parsers[u].id.toLowerCase()===o.id.toLowerCase()&&(c=!1);c&&(l.parsers[l.parsers.length]=o)},getParserById:function(o){if(o=="false")return!1;var u,n=l.parsers.length;for(u=0;u<n;u++)if(l.parsers[u].id.toLowerCase()===o.toString().toLowerCase())return l.parsers[u];return!1},detectParserForColumn:function(o,u,n,c){for(var d,f,p,v=l.parsers.length,y=!1,w="",k=l.debug(o,"core"),A=!0;w===""&&A;)n++,p=u[n],p&&n<50?p.className.indexOf(l.cssIgnoreRow)<0&&(y=u[n].cells[c],w=l.getElementText(o,y,c),f=a(y),k&&console.log("Checking if value was empty on row "+n+", column: "+c+': "'+w+'"')):A=!1;for(;--v>=0;)if(d=l.parsers[v],d&&d.id!=="text"&&d.is&&d.is(w,o.table,y,f))return d;return l.getParserById("text")},getElementText:function(o,u,n){if(!u)return"";var c,d=o.textExtraction||"",f=u.jquery?u:a(u);return typeof d=="string"?d==="basic"&&typeof(c=f.attr(o.textAttribute))<"u"?a.trim(c):a.trim(u.textContent||f.text()):typeof d=="function"?a.trim(d(f[0],o.table,n)):typeof(c=l.getColumnData(o.table,d,n))=="function"?a.trim(c(f[0],o.table,n)):a.trim(f[0].textContent||f.text())},getParsedText:function(o,u,n,c){typeof c>"u"&&(c=l.getElementText(o,u,n));var d=""+c,f=o.parsers[n],p=o.extractors[n];return f&&(p&&typeof p.format=="function"&&(c=p.format(c,o.table,u,n)),d=f.id==="no-parser"?"":f.format(""+c,o.table,u,n),o.ignoreCase&&typeof d=="string"&&(d=d.toLowerCase())),d},buildCache:function(o,u,n){var c,d,f,p,v,y,w,k,A,C,x,S,s,h,g,m,b,_,E,R,j,H,G=o.table,q=o.parsers,K=l.debug(o,"core");if(o.$tbodies=o.$table.children("tbody:not(."+o.cssInfoBlock+")"),w=typeof n>"u"?o.$tbodies:n,o.cache={},o.totalRows=0,!q)return K?console.warn("Warning: *Empty table!* Not building a cache"):"";for(K&&(S=new Date),o.showProcessing&&l.isProcessing(G,!0),y=0;y<w.length;y++){for(m=[],c=o.cache[y]={normalized:[]},s=w[y]&&w[y].rows.length||0,p=0;p<s;++p)if(h={child:[],raw:[]},k=a(w[y].rows[p]),A=[],!k.hasClass(o.selectorRemove.slice(1))){if(k.hasClass(o.cssChildRow)&&p!==0){for(j=c.normalized.length-1,g=c.normalized[j][o.columns],g.$row=g.$row.add(k),k.prev().hasClass(o.cssChildRow)||k.prev().addClass(l.css.cssHasChild),C=k.children("th, td"),j=g.child.length,g.child[j]=[],_=0,R=o.columns,v=0;v<R;v++)x=C[v],x&&(g.child[j][v]=l.getParsedText(o,x,v),b=C[v].colSpan-1,b>0&&(_+=b,R+=b)),_++;continue}for(h.$row=k,h.order=p,_=0,R=o.columns,v=0;v<R;++v){if(x=k[0].cells[v],x&&_<o.columns&&(E=typeof q[_]<"u",!E&&K&&console.warn("No parser found for row: "+p+", column: "+v+'; cell containing: "'+a(x).text()+'"; does it have a header?'),d=l.getElementText(o,x,_),h.raw[_]=d,f=l.getParsedText(o,x,_,d),A[_]=f,E&&(q[_].type||"").toLowerCase()==="numeric"&&(m[_]=Math.max(Math.abs(f)||0,m[_]||0)),b=x.colSpan-1,b>0)){for(H=0;H<=b;)f=o.duplicateSpan||H===0?f:typeof o.textExtraction!="string"&&l.getElementText(o,x,_+H)||"",h.raw[_+H]=f,A[_+H]=f,H++;_+=b,R+=b}_++}A[o.columns]=h,c.normalized[c.normalized.length]=A}c.colMax=m,o.totalRows+=c.normalized.length}if(o.showProcessing&&l.isProcessing(G),K){for(j=Math.min(5,o.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+o.totalRows+" rows (showing "+j+" rows in log) and "+o.columns+" columns"+l.benchmark(S)),d={},v=0;v<o.columns;v++)for(_=0;_<j;_++)d["row: "+_]||(d["row: "+_]={}),d["row: "+_][o.$headerIndexed[v].text()]=o.cache[0].normalized[_][v];console[console.table?"table":"log"](d),console.groupEnd&&console.groupEnd()}a.isFunction(u)&&u(G)},getColumnText:function(o,u,n,c){o=a(o)[0];var d,f,p,v,y,w,k,A,C,x,S=typeof n=="function",s=u==="all",h={raw:[],parsed:[],$cell:[]},g=o.config;if(l.isEmptyObject(g))l.debug(g,"core")&&console.warn("No cache found - aborting getColumnText function!");else{for(y=g.$tbodies.length,d=0;d<y;d++)for(p=g.cache[d].normalized,w=p.length,f=0;f<w;f++)v=p[f],!(c&&!v[g.columns].$row.is(c))&&(x=!0,A=s?v.slice(0,g.columns):v[u],v=v[g.columns],k=s?v.raw:v.raw[u],C=s?v.$row.children():v.$row.children().eq(u),S&&(x=n({tbodyIndex:d,rowIndex:f,parsed:A,raw:k,$row:v.$row,$cell:C})),x!==!1&&(h.parsed[h.parsed.length]=A,h.raw[h.raw.length]=k,h.$cell[h.$cell.length]=C));return h}},setHeadersCss:function(o){var u,n,c=o.sortList,d=c.length,f=l.css.sortNone+" "+o.cssNone,p=[l.css.sortAsc+" "+o.cssAsc,l.css.sortDesc+" "+o.cssDesc],v=[o.cssIconAsc,o.cssIconDesc,o.cssIconNone],y=["ascending","descending"],w=function(C,x){C.removeClass(f).addClass(p[x]).attr("aria-sort",y[x]).find("."+l.css.icon).removeClass(v[2]).addClass(v[x])},k=o.$table.find("tfoot tr").children("td, th").add(a(o.namespace+"_extra_headers")).removeClass(p.join(" ")),A=o.$headers.add(a("thead "+o.namespace+"_extra_headers")).removeClass(p.join(" ")).addClass(f).attr("aria-sort","none").find("."+l.css.icon).removeClass(v.join(" ")).end();for(A.not(".sorter-false").find("."+l.css.icon).addClass(v[2]),o.cssIconDisabled&&A.filter(".sorter-false").find("."+l.css.icon).addClass(o.cssIconDisabled),u=0;u<d;u++)if(c[u][1]!==2){if(A=o.$headers.filter(function(C){for(var x=!0,S=o.$headers.eq(C),s=parseInt(S.attr("data-column"),10),h=s+l.getClosest(S,"th, td")[0].colSpan;s<h;s++)x=x?x||l.isValueInArray(s,o.sortList)>-1:!1;return x}),A=A.not(".sorter-false").filter('[data-column="'+c[u][0]+'"]'+(d===1?":last":"")),A.length)for(n=0;n<A.length;n++)A[n].sortDisabled||w(A.eq(n),c[u][1]);k.length&&w(k.filter('[data-column="'+c[u][0]+'"]'),c[u][1])}for(d=o.$headers.length,u=0;u<d;u++)l.setColumnAriaLabel(o,o.$headers.eq(u))},getClosest:function(o,u){return a.fn.closest?o.closest(u):o.is(u)?o:o.parents(u).filter(":first")},setColumnAriaLabel:function(o,u,n){if(u.length){var c=parseInt(u.attr("data-column"),10),d=o.sortVars[c],f=u.hasClass(l.css.sortAsc)?"sortAsc":u.hasClass(l.css.sortDesc)?"sortDesc":"sortNone",p=a.trim(u.text())+": "+l.language[f];u.hasClass("sorter-false")||n===!1?p+=l.language.sortDisabled:(f=(d.count+1)%d.order.length,n=d.order[f],p+=l.language[n===0?"nextAsc":n===1?"nextDesc":"nextNone"]),u.attr("aria-label",p),d.sortedBy?u.attr("data-sortedBy",d.sortedBy):u.removeAttr("data-sortedBy")}},updateHeader:function(o){var u,n,c,d,f=o.table,p=o.$headers.length;for(u=0;u<p;u++)c=o.$headers.eq(u),d=l.getColumnData(f,o.headers,u,!0),n=l.getData(c,d,"sorter")==="false"||l.getData(c,d,"parser")==="false",l.setColumnSort(o,c,n)},setColumnSort:function(o,u,n){var c=o.table.id;u[0].sortDisabled=n,u[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),o.tabIndex&&(n?u.removeAttr("tabindex"):u.attr("tabindex","0")),c&&(n?u.removeAttr("aria-controls"):u.attr("aria-controls",c))},updateHeaderSortCount:function(o,u){var n,c,d,f,p,v,y,w,k=u||o.sortList,A=k.length;for(o.sortList=[],f=0;f<A;f++)if(y=k[f],n=parseInt(y[0],10),n<o.columns){switch(o.sortVars[n].order||(l.getOrder(o.sortInitialOrder)?w=o.sortReset?[1,0,2]:[1,0]:w=o.sortReset?[0,1,2]:[0,1],o.sortVars[n].order=w,o.sortVars[n].count=0),w=o.sortVars[n].order,c=(""+y[1]).match(/^(1|d|s|o|n)/),c=c?c[0]:"",c){case"1":case"d":c=1;break;case"s":c=p||0;break;case"o":v=w[(p||0)%w.length],c=v===0?1:v===1?0:2;break;case"n":c=w[++o.sortVars[n].count%w.length];break;default:c=0;break}p=f===0?c:p,d=[n,parseInt(c,10)||0],o.sortList[o.sortList.length]=d,c=a.inArray(d[1],w),o.sortVars[n].count=c>=0?c:d[1]%w.length}},updateAll:function(o,u,n){var c=o.table;c.isUpdating=!0,l.refreshWidgets(c,!0,!0),l.buildHeaders(o),l.bindEvents(c,o.$headers,!0),l.bindMethods(o),l.commonUpdate(o,u,n)},update:function(o,u,n){var c=o.table;c.isUpdating=!0,l.updateHeader(o),l.commonUpdate(o,u,n)},updateHeaders:function(o,u){o.table.isUpdating=!0,l.buildHeaders(o),l.bindEvents(o.table,o.$headers,!0),l.resortComplete(o,u)},updateCell:function(o,u,n,c){if(a(u).closest("tr").hasClass(o.cssChildRow)){console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');return}if(l.isEmptyObject(o.cache)){l.updateHeader(o),l.commonUpdate(o,n,c);return}o.table.isUpdating=!0,o.$table.find(o.selectorRemove).remove();var d,f,p,v,y,w,k=o.$tbodies,A=a(u),C=k.index(l.getClosest(A,"tbody")),x=o.cache[C],S=l.getClosest(A,"tr");if(u=A[0],k.length&&C>=0){if(p=k.eq(C).find("tr").not("."+o.cssChildRow).index(S),y=x.normalized[p],w=S[0].cells.length,w!==o.columns)for(v=0,d=!1,f=0;f<w;f++)!d&&S[0].cells[f]!==u?v+=S[0].cells[f].colSpan:d=!0;else v=A.index();d=l.getElementText(o,u,v),y[o.columns].raw[v]=d,d=l.getParsedText(o,u,v,d),y[v]=d,(o.parsers[v].type||"").toLowerCase()==="numeric"&&(x.colMax[v]=Math.max(Math.abs(d)||0,x.colMax[v]||0)),d=n!=="undefined"?n:o.resort,d!==!1?l.checkResort(o,d,c):l.resortComplete(o,c)}else l.debug(o,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),o.table.isUpdating=!1},addRows:function(o,u,n,c){var d,f,p,v,y,w,k,A,C,x,S,s,h,g=typeof u=="string"&&o.$tbodies.length===1&&/<tr/.test(u||""),m=o.table;if(g)u=a(u),o.$tbodies.append(u);else if(!u||!(u instanceof a)||l.getClosest(u,"table")[0]!==o.table)return l.debug(o,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(m.isUpdating=!0,l.isEmptyObject(o.cache))l.updateHeader(o),l.commonUpdate(o,n,c);else{for(y=u.filter("tr").attr("role","row").length,p=o.$tbodies.index(u.parents("tbody").filter(":first")),o.parsers&&o.parsers.length||l.setupParsers(o),v=0;v<y;v++){for(C=0,k=u[v].cells.length,A=o.cache[p].normalized.length,S=[],x={child:[],raw:[],$row:u.eq(v),order:A},w=0;w<k;w++)s=u[v].cells[w],d=l.getElementText(o,s,C),x.raw[C]=d,f=l.getParsedText(o,s,C,d),S[C]=f,(o.parsers[C].type||"").toLowerCase()==="numeric"&&(o.cache[p].colMax[C]=Math.max(Math.abs(f)||0,o.cache[p].colMax[C]||0)),h=s.colSpan-1,h>0&&(C+=h),C++;S[o.columns]=x,o.cache[p].normalized[A]=S}l.checkResort(o,n,c)}},updateCache:function(o,u,n){o.parsers&&o.parsers.length||l.setupParsers(o,n),l.buildCache(o,u,n)},appendCache:function(o,u){var n,c,d,f,p,v,y,w=o.table,k=o.$tbodies,A=[],C=o.cache;if(l.isEmptyObject(C))return o.appender?o.appender(w,A):w.isUpdating?o.$table.triggerHandler("updateComplete",w):"";for(l.debug(o,"core")&&(y=new Date),v=0;v<k.length;v++)if(d=k.eq(v),d.length){for(f=l.processTbody(w,d,!0),n=C[v].normalized,c=n.length,p=0;p<c;p++)A[A.length]=n[p][o.columns].$row,(!o.appender||o.pager&&!o.pager.removeRows&&!o.pager.ajax)&&f.append(n[p][o.columns].$row);l.processTbody(w,f,!1)}o.appender&&o.appender(w,A),l.debug(o,"core")&&console.log("Rebuilt table"+l.benchmark(y)),!u&&!o.appender&&l.applyWidget(w),w.isUpdating&&o.$table.triggerHandler("updateComplete",w)},commonUpdate:function(o,u,n){o.$table.find(o.selectorRemove).remove(),l.setupParsers(o),l.buildCache(o),l.checkResort(o,u,n)},initSort:function(o,u,n){if(o.table.isUpdating)return setTimeout(function(){l.initSort(o,u,n)},50);var c,d,f,p,v,y,w,k=!n[o.sortMultiSortKey],A=o.table,C=o.$headers.length,x=l.getClosest(a(u),"th, td"),S=parseInt(x.attr("data-column"),10),s=n.type==="mouseup"?"user":n.type,h=o.sortVars[S].order;if(x=x[0],o.$table.triggerHandler("sortStart",A),y=(o.sortVars[S].count+1)%h.length,o.sortVars[S].count=n[o.sortResetKey]?2:y,o.sortRestart)for(f=0;f<C;f++)w=o.$headers.eq(f),y=parseInt(w.attr("data-column"),10),S!==y&&(k||w.hasClass(l.css.sortNone))&&(o.sortVars[y].count=-1);if(k){if(a.each(o.sortVars,function(g){o.sortVars[g].sortedBy=""}),o.sortList=[],o.last.sortList=[],o.sortForce!==null)for(c=o.sortForce,d=0;d<c.length;d++)c[d][0]!==S&&(o.sortList[o.sortList.length]=c[d],o.sortVars[c[d][0]].sortedBy="sortForce");if(p=h[o.sortVars[S].count],p<2&&(o.sortList[o.sortList.length]=[S,p],o.sortVars[S].sortedBy=s,x.colSpan>1))for(d=1;d<x.colSpan;d++)o.sortList[o.sortList.length]=[S+d,p],o.sortVars[S+d].count=a.inArray(p,h),o.sortVars[S+d].sortedBy=s}else if(o.sortList=a.extend([],o.last.sortList),l.isValueInArray(S,o.sortList)>=0)for(o.sortVars[S].sortedBy=s,d=0;d<o.sortList.length;d++)y=o.sortList[d],y[0]===S&&(y[1]=h[o.sortVars[S].count],y[1]===2&&(o.sortList.splice(d,1),o.sortVars[S].count=-1));else if(p=h[o.sortVars[S].count],o.sortVars[S].sortedBy=s,p<2&&(o.sortList[o.sortList.length]=[S,p],x.colSpan>1))for(d=1;d<x.colSpan;d++)o.sortList[o.sortList.length]=[S+d,p],o.sortVars[S+d].count=a.inArray(p,h),o.sortVars[S+d].sortedBy=s;if(o.last.sortList=a.extend([],o.sortList),o.sortList.length&&o.sortAppend&&(c=a.isArray(o.sortAppend)?o.sortAppend:o.sortAppend[o.sortList[0][0]],!l.isEmptyObject(c))){for(d=0;d<c.length;d++)if(c[d][0]!==S&&l.isValueInArray(c[d][0],o.sortList)<0){if(p=c[d][1],v=(""+p).match(/^(a|d|s|o|n)/),v)switch(y=o.sortList[0][1],v[0]){case"d":p=1;break;case"s":p=y;break;case"o":p=y===0?1:0;break;case"n":p=(y+1)%h.length;break;default:p=0;break}o.sortList[o.sortList.length]=[c[d][0],p],o.sortVars[c[d][0]].sortedBy="sortAppend"}}o.$table.triggerHandler("sortBegin",A),setTimeout(function(){l.setHeadersCss(o),l.multisort(o),l.appendCache(o),o.$table.triggerHandler("sortBeforeEnd",A),o.$table.triggerHandler("sortEnd",A)},1)},multisort:function(o){var u,n,c,d,f,p=o.table,v=[],y=0,w=o.textSorter||"",k=o.sortList,A=k.length,C=o.$tbodies.length;if(!(o.serverSideSorting||l.isEmptyObject(o.cache))){if(l.debug(o,"core")&&(n=new Date),typeof w=="object")for(c=o.columns;c--;)f=l.getColumnData(p,w,c),typeof f=="function"&&(v[c]=f);for(u=0;u<C;u++)c=o.cache[u].colMax,d=o.cache[u].normalized,d.sort(function(x,S){var s,h,g,m,b,_,E;for(s=0;s<A;s++){if(g=k[s][0],m=k[s][1],y=m===0,o.sortStable&&x[g]===S[g]&&A===1)return x[o.columns].order-S[o.columns].order;if(h=/n/i.test(l.getSortType(o.parsers,g)),h&&o.strings[g]?(typeof l.string[o.strings[g]]=="boolean"?h=(y?1:-1)*(l.string[o.strings[g]]?-1:1):h=o.strings[g]&&l.string[o.strings[g]]||0,b=o.numberSorter?o.numberSorter(x[g],S[g],y,c[g],p):l["sortNumeric"+(y?"Asc":"Desc")](x[g],S[g],h,c[g],g,o)):(_=y?x:S,E=y?S:x,typeof w=="function"?b=w(_[g],E[g],y,g,p):typeof v[g]=="function"?b=v[g](_[g],E[g],y,g,p):b=l["sortNatural"+(y?"Asc":"Desc")](x[g]||"",S[g]||"",g,o)),b)return b}return x[o.columns].order-S[o.columns].order});l.debug(o,"core")&&console.log("Applying sort "+k.toString()+l.benchmark(n))}},resortComplete:function(o,u){o.table.isUpdating&&o.$table.triggerHandler("updateComplete",o.table),a.isFunction(u)&&u(o.table)},checkResort:function(o,u,n){var c=a.isArray(u)?u:o.sortList,d=typeof u>"u"?o.resort:u;d!==!1&&!o.serverSideSorting&&!o.table.isProcessing?c.length?l.sortOn(o,c,function(){l.resortComplete(o,n)},!0):l.sortReset(o,function(){l.resortComplete(o,n),l.applyWidget(o.table,!1)}):(l.resortComplete(o,n),l.applyWidget(o.table,!1))},sortOn:function(o,u,n,c){var d,f=o.table;for(o.$table.triggerHandler("sortStart",f),d=0;d<o.columns;d++)o.sortVars[d].sortedBy=l.isValueInArray(d,u)>-1?"sorton":"";l.updateHeaderSortCount(o,u),l.setHeadersCss(o),o.delayInit&&l.isEmptyObject(o.cache)&&l.buildCache(o),o.$table.triggerHandler("sortBegin",f),l.multisort(o),l.appendCache(o,c),o.$table.triggerHandler("sortBeforeEnd",f),o.$table.triggerHandler("sortEnd",f),l.applyWidget(f),a.isFunction(n)&&n(f)},sortReset:function(o,u){o.sortList=[];var n;for(n=0;n<o.columns;n++)o.sortVars[n].count=-1,o.sortVars[n].sortedBy="";l.setHeadersCss(o),l.multisort(o),l.appendCache(o),a.isFunction(u)&&u(o.table)},getSortType:function(o,u){return o&&o[u]&&o[u].type||""},getOrder:function(o){return/^d/i.test(o)||o===1},sortNatural:function(o,u){if(o===u)return 0;o=(o||"").toString(),u=(u||"").toString();var n,c,d,f,p,v,y=l.regex;if(y.hex.test(u)){if(n=parseInt(o.match(y.hex),16),c=parseInt(u.match(y.hex),16),n<c)return-1;if(n>c)return 1}for(n=o.replace(y.chunk,"\\0$1\\0").replace(y.chunks,"").split("\\0"),c=u.replace(y.chunk,"\\0$1\\0").replace(y.chunks,"").split("\\0"),v=Math.max(n.length,c.length),p=0;p<v;p++){if(d=isNaN(n[p])?n[p]||0:parseFloat(n[p])||0,f=isNaN(c[p])?c[p]||0:parseFloat(c[p])||0,isNaN(d)!==isNaN(f))return isNaN(d)?1:-1;if(typeof d!=typeof f&&(d+="",f+=""),d<f)return-1;if(d>f)return 1}return 0},sortNaturalAsc:function(o,u,n,c){if(o===u)return 0;var d=l.string[c.empties[n]||c.emptyTo];return o===""&&d!==0?typeof d=="boolean"?d?-1:1:-d||-1:u===""&&d!==0?typeof d=="boolean"?d?1:-1:d||1:l.sortNatural(o,u)},sortNaturalDesc:function(o,u,n,c){if(o===u)return 0;var d=l.string[c.empties[n]||c.emptyTo];return o===""&&d!==0?typeof d=="boolean"?d?-1:1:d||1:u===""&&d!==0?typeof d=="boolean"?d?1:-1:-d||-1:l.sortNatural(u,o)},sortText:function(o,u){return o>u?1:o<u?-1:0},getTextValue:function(o,u,n){if(n){var c,d=o?o.length:0,f=n+u;for(c=0;c<d;c++)f+=o.charCodeAt(c);return u*f}return 0},sortNumericAsc:function(o,u,n,c,d,f){if(o===u)return 0;var p=l.string[f.empties[d]||f.emptyTo];return o===""&&p!==0?typeof p=="boolean"?p?-1:1:-p||-1:u===""&&p!==0?typeof p=="boolean"?p?1:-1:p||1:(isNaN(o)&&(o=l.getTextValue(o,n,c)),isNaN(u)&&(u=l.getTextValue(u,n,c)),o-u)},sortNumericDesc:function(o,u,n,c,d,f){if(o===u)return 0;var p=l.string[f.empties[d]||f.emptyTo];return o===""&&p!==0?typeof p=="boolean"?p?-1:1:p||1:u===""&&p!==0?typeof p=="boolean"?p?1:-1:-p||-1:(isNaN(o)&&(o=l.getTextValue(o,n,c)),isNaN(u)&&(u=l.getTextValue(u,n,c)),u-o)},sortNumeric:function(o,u){return o-u},addWidget:function(o){o.id&&!l.isEmptyObject(l.getWidgetById(o.id))&&console.warn('"'+o.id+'" widget was loaded more than once!'),l.widgets[l.widgets.length]=o},hasWidget:function(o,u){return o=a(o),o.length&&o[0].config&&o[0].config.widgetInit[u]||!1},getWidgetById:function(o){var u,n,c=l.widgets.length;for(u=0;u<c;u++)if(n=l.widgets[u],n&&n.id&&n.id.toLowerCase()===o.toLowerCase())return n},applyWidgetOptions:function(o){var u,n,c,d=o.config,f=d.widgets.length;if(f)for(u=0;u<f;u++)n=l.getWidgetById(d.widgets[u]),n&&n.options&&(c=a.extend(!0,{},n.options),d.widgetOptions=a.extend(!0,c,d.widgetOptions),a.extend(!0,l.defaults.widgetOptions,n.options))},addWidgetFromClass:function(o){var u,n,c=o.config,d="^"+c.widgetClass.replace(l.regex.templateName,"(\\S+)+")+"$",f=new RegExp(d,"g"),p=(o.className||"").split(l.regex.spaces);if(p.length)for(u=p.length,n=0;n<u;n++)p[n].match(f)&&(c.widgets[c.widgets.length]=p[n].replace(f,"$1"))},applyWidgetId:function(o,u,n){o=a(o)[0];var c,d,f,p=o.config,v=p.widgetOptions,y=l.debug(p,"core"),w=l.getWidgetById(u);w&&(f=w.id,c=!1,a.inArray(f,p.widgets)<0&&(p.widgets[p.widgets.length]=f),y&&(d=new Date),(n||!p.widgetInit[f])&&(p.widgetInit[f]=!0,o.hasInitialized&&l.applyWidgetOptions(o),typeof w.init=="function"&&(c=!0,y&&console[console.group?"group":"log"]("Initializing "+f+" widget"),w.init(o,w,p,v))),!n&&typeof w.format=="function"&&(c=!0,y&&console[console.group?"group":"log"]("Updating "+f+" widget"),w.format(o,p,v,!1)),y&&c&&(console.log("Completed "+(n?"initializing ":"applying ")+f+" widget"+l.benchmark(d)),console.groupEnd&&console.groupEnd()))},applyWidget:function(o,u,n){o=a(o)[0];var c,d,f,p,v,y=o.config,w=l.debug(y,"core"),k=[];if(!(u!==!1&&o.hasInitialized&&(o.isApplyingWidgets||o.isUpdating))){if(w&&(v=new Date),l.addWidgetFromClass(o),clearTimeout(y.timerReady),y.widgets.length){for(o.isApplyingWidgets=!0,y.widgets=a.grep(y.widgets,function(A,C){return a.inArray(A,y.widgets)===C}),f=y.widgets||[],d=f.length,c=0;c<d;c++)p=l.getWidgetById(f[c]),p&&p.id?(p.priority||(p.priority=10),k[c]=p):w&&console.warn('"'+f[c]+'" was enabled, but the widget code has not been loaded!');for(k.sort(function(A,C){return A.priority<C.priority?-1:A.priority===C.priority?0:1}),d=k.length,w&&console[console.group?"group":"log"]("Start "+(u?"initializing":"applying")+" widgets"),c=0;c<d;c++)p=k[c],p&&p.id&&l.applyWidgetId(o,p.id,u);w&&console.groupEnd&&console.groupEnd()}y.timerReady=setTimeout(function(){o.isApplyingWidgets=!1,a.data(o,"lastWidgetApplication",new Date),y.$table.triggerHandler("tablesorter-ready"),!u&&typeof n=="function"&&n(o),w&&(p=y.widgets.length,console.log("Completed "+(u===!0?"initializing ":"applying ")+p+" widget"+(p!==1?"s":"")+l.benchmark(v)))},10)}},removeWidget:function(o,u,n){o=a(o)[0];var c,d,f,p,v=o.config;if(u===!0)for(u=[],p=l.widgets.length,f=0;f<p;f++)d=l.widgets[f],d&&d.id&&(u[u.length]=d.id);else u=(a.isArray(u)?u.join(","):u||"").toLowerCase().split(/[\s,]+/);for(p=u.length,c=0;c<p;c++)d=l.getWidgetById(u[c]),f=a.inArray(u[c],v.widgets),f>=0&&n!==!0&&v.widgets.splice(f,1),d&&d.remove&&(l.debug(v,"core")&&console.log((n?"Refreshing":"Removing")+' "'+u[c]+'" widget'),d.remove(o,v,v.widgetOptions,n),v.widgetInit[u[c]]=!1);v.$table.triggerHandler("widgetRemoveEnd",o)},refreshWidgets:function(o,u,n){o=a(o)[0];var c,d,f=o.config,p=f.widgets,v=l.widgets,y=v.length,w=[],k=function(A){a(A).triggerHandler("refreshComplete")};for(c=0;c<y;c++)d=v[c],d&&d.id&&(u||a.inArray(d.id,p)<0)&&(w[w.length]=d.id);l.removeWidget(o,w.join(","),!0),n!==!0?(l.applyWidget(o,u||!1,k),u&&l.applyWidget(o,!1,k)):k(o)},benchmark:function(o){return" ("+(new Date().getTime()-o.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(o,u){return o&&(o.debug===!0||typeof o.debug=="string"&&o.debug.indexOf(u)>-1)},isEmptyObject:function(o){for(var u in o)return!1;return!0},isValueInArray:function(o,u){var n,c=u&&u.length||0;for(n=0;n<c;n++)if(u[n][0]===o)return n;return-1},formatFloat:function(o,u){if(typeof o!="string"||o==="")return o;var n,c=u&&u.config?u.config.usNumberFormat!==!1:typeof u<"u"?u:!0;return c?o=o.replace(l.regex.comma,""):o=o.replace(l.regex.digitNonUS,"").replace(l.regex.comma,"."),l.regex.digitNegativeTest.test(o)&&(o=o.replace(l.regex.digitNegativeReplace,"-$1")),n=parseFloat(o),isNaN(n)?a.trim(o):n},isDigit:function(o){return isNaN(o)?l.regex.digitTest.test(o.toString().replace(l.regex.digitReplace,"")):o!==""},computeColumnIndex:function(o,u){var n,c,d,f,p,v,y,w,k,A,C=u&&u.columns||0,x=[],S=new Array(C);for(n=0;n<o.length;n++)for(v=o[n].cells,c=0;c<v.length;c++){for(p=v[c],y=n,w=p.rowSpan||1,k=p.colSpan||1,typeof x[y]>"u"&&(x[y]=[]),d=0;d<x[y].length+1;d++)if(typeof x[y][d]>"u"){A=d;break}for(C&&p.cellIndex===A||(p.setAttribute?p.setAttribute("data-column",A):a(p).attr("data-column",A)),d=y;d<y+w;d++)for(typeof x[d]>"u"&&(x[d]=[]),S=x[d],f=A;f<A+k;f++)S[f]="x"}return l.checkColumnCount(o,x,S.length),S.length},checkColumnCount:function(o,u,n){var c,d,f=!0,p=[];for(c=0;c<u.length;c++)if(u[c]&&(d=u[c].length,u[c].length!==n)){f=!1;break}f||(o.each(function(v,y){var w=y.parentElement.nodeName;p.indexOf(w)<0&&p.push(w)}),console.error("Invalid or incorrect number of columns in the "+p.join(" or ")+"; expected "+n+", but found "+d+" columns"))},fixColumnWidth:function(o){o=a(o)[0];var u,n,c,d,f,p=o.config,v=p.$table.children("colgroup");if(v.length&&v.hasClass(l.css.colgroup)&&v.remove(),p.widthFixed&&p.$table.children("colgroup").length===0){for(v=a('<colgroup class="'+l.css.colgroup+'">'),u=p.$table.width(),c=p.$tbodies.find("tr:first").children(":visible"),d=c.length,f=0;f<d;f++)n=parseInt(c.eq(f).width()/u*1e3,10)/10+"%",v.append(a("<col>").css("width",n));p.$table.prepend(v)}},getData:function(o,u,n){var c,d,f="",p=a(o);return p.length?(c=a.metadata?p.metadata():!1,d=" "+(p.attr("class")||""),typeof p.data(n)<"u"||typeof p.data(n.toLowerCase())<"u"?f+=p.data(n)||p.data(n.toLowerCase()):c&&typeof c[n]<"u"?f+=c[n]:u&&typeof u[n]<"u"?f+=u[n]:d!==" "&&d.match(" "+n+"-")&&(f=d.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),a.trim(f)):""},getColumnData:function(o,u,n,c,d){if(typeof u!="object"||u===null)return u;o=a(o)[0];var f,p,v=o.config,y=d||v.$headers,w=v.$headerIndexed&&v.$headerIndexed[n]||y.find('[data-column="'+n+'"]:last');if(typeof u[n]<"u")return c?u[n]:u[y.index(w)];for(p in u)if(typeof p=="string"&&(f=w.filter(p).add(w.find(p)),f.length))return u[p]},isProcessing:function(o,u,n){o=a(o);var c=o[0].config,d=n||o.find("."+l.css.header);u?(typeof n<"u"&&c.sortList.length>0&&(d=d.filter(function(){return this.sortDisabled?!1:l.isValueInArray(parseFloat(a(this).attr("data-column")),c.sortList)>=0})),o.add(d).addClass(l.css.processing+" "+c.cssProcessing)):o.add(d).removeClass(l.css.processing+" "+c.cssProcessing)},processTbody:function(o,u,n){if(o=a(o)[0],n)return o.isProcessing=!0,u.before('<colgroup class="tablesorter-savemyplace"/>'),a.fn.detach?u.detach():u.remove();var c=a(o).find("colgroup.tablesorter-savemyplace");u.insertAfter(c),c.remove(),o.isProcessing=!1},clearTableBody:function(o){a(o)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xE1\xE0\xE2\xE3\xE4\u0105\xE5",A:"\xC1\xC0\xC2\xC3\xC4\u0104\xC5",c:"\xE7\u0107\u010D",C:"\xC7\u0106\u010C",e:"\xE9\xE8\xEA\xEB\u011B\u0119",E:"\xC9\xC8\xCA\xCB\u011A\u0118",i:"\xED\xEC\u0130\xEE\xEF\u0131",I:"\xCD\xCC\u0130\xCE\xCF",o:"\xF3\xF2\xF4\xF5\xF6\u014D",O:"\xD3\xD2\xD4\xD5\xD6\u014C",ss:"\xDF",SS:"\u1E9E",u:"\xFA\xF9\xFB\xFC\u016F",U:"\xDA\xD9\xDB\xDC\u016E"},replaceAccents:function(o){var u,n="[",c=l.characterEquivalents;if(!l.characterRegex){l.characterRegexArray={};for(u in c)typeof u=="string"&&(n+=c[u],l.characterRegexArray[u]=new RegExp("["+c[u]+"]","g"));l.characterRegex=new RegExp(n+"]")}if(l.characterRegex.test(o))for(u in c)typeof u=="string"&&(o=o.replace(l.characterRegexArray[u],u));return o},validateOptions:function(o){var u,n,c,d,f="headers sortForce sortList sortAppend widgets".split(" "),p=o.originalSettings;if(p){l.debug(o,"core")&&(d=new Date);for(u in p)if(c=typeof l.defaults[u],c==="undefined")console.warn('Tablesorter Warning! "table.config.'+u+'" option not recognized');else if(c==="object")for(n in p[u])c=l.defaults[u]&&typeof l.defaults[u][n],a.inArray(u,f)<0&&c==="undefined"&&console.warn('Tablesorter Warning! "table.config.'+u+"."+n+'" option not recognized');l.debug(o,"core")&&console.log("validate options time:"+l.benchmark(d))}},restoreHeaders:function(o){var u,n,c=a(o)[0].config,d=c.$table.find(c.selectorHeaders),f=d.length;for(u=0;u<f;u++)n=d.eq(u),n.find("."+l.css.headerIn).length&&n.html(c.headerContent[u])},destroy:function(o,u,n){if(o=a(o)[0],!!o.hasInitialized){l.removeWidget(o,!0,!1);var c,d=a(o),f=o.config,p=d.find("thead:first"),v=p.find("tr."+l.css.headerRow).removeClass(l.css.headerRow+" "+f.cssHeaderRow),y=d.find("tfoot:first > tr").children("th, td");u===!1&&a.inArray("uitheme",f.widgets)>=0&&(d.triggerHandler("applyWidgetId",["uitheme"]),d.triggerHandler("applyWidgetId",["zebra"])),p.find("tr").not(v).remove(),c="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(f.namespace+" "),d.removeData("tablesorter").unbind(c.replace(l.regex.spaces," ")),f.$headers.add(y).removeClass([l.css.header,f.cssHeader,f.cssAsc,f.cssDesc,l.css.sortAsc,l.css.sortDesc,l.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),v.find(f.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(f.namespace+" ").replace(l.regex.spaces," ")),l.restoreHeaders(o),d.toggleClass(l.css.table+" "+f.tableClass+" tablesorter-"+f.theme,u===!1),d.removeClass(f.namespace.slice(1)),o.hasInitialized=!1,delete o.config.cache,typeof n=="function"&&n(o),l.debug(f,"core")&&console.log("tablesorter has been removed")}}};a.fn.tablesorter=function(o){return this.each(function(){var u=this,n=a.extend(!0,{},l.defaults,o,l.instanceMethods);n.originalSettings=o,!u.hasInitialized&&l.buildTable&&this.nodeName!=="TABLE"?l.buildTable(u,n):l.setup(u,n)})},window.console&&window.console.log||(l.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var o=arguments.length>1?arguments:arguments[0];l.logs[l.logs.length]={date:Date.now(),log:o}}),l.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),l.addParser({id:"text",is:function(){return!0},format:function(o,u){var n=u.config;return o&&(o=a.trim(n.ignoreCase?o.toLocaleLowerCase():o),o=n.sortLocaleCompare?l.replaceAccents(o):o),o},type:"text"}),l.regex.nondigit=/[^\w,. \-()]/g,l.addParser({id:"digit",is:function(o){return l.isDigit(o)},format:function(o,u){var n=l.formatFloat((o||"").replace(l.regex.nondigit,""),u);return o&&typeof n=="number"?n:o&&a.trim(o&&u.config.ignoreCase?o.toLocaleLowerCase():o)},type:"numeric"}),l.regex.currencyReplace=/[+\-,. ]/g,l.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,l.addParser({id:"currency",is:function(o){return o=(o||"").replace(l.regex.currencyReplace,""),l.regex.currencyTest.test(o)},format:function(o,u){var n=l.formatFloat((o||"").replace(l.regex.nondigit,""),u);return o&&typeof n=="number"?n:o&&a.trim(o&&u.config.ignoreCase?o.toLocaleLowerCase():o)},type:"numeric"}),l.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,l.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,l.addParser({id:"url",is:function(o){return l.regex.urlProtocolTest.test(o)},format:function(o){return o&&a.trim(o.replace(l.regex.urlProtocolReplace,""))},type:"text"}),l.regex.dash=/-/g,l.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,l.addParser({id:"isoDate",is:function(o){return l.regex.isoDate.test(o)},format:function(o){var u=o&&new Date(o.replace(l.regex.dash,"/"));return u instanceof Date&&isFinite(u)?u.getTime():o},type:"numeric"}),l.regex.percent=/%/g,l.regex.percentTest=/(\d\s*?%|%\s*?\d)/,l.addParser({id:"percent",is:function(o){return l.regex.percentTest.test(o)&&o.length<15},format:function(o,u){return o&&l.formatFloat(o.replace(l.regex.percent,""),u)},type:"numeric"}),l.addParser({id:"image",is:function(o,u,n,c){return c.find("img").length>0},format:function(o,u,n){return a(n).find("img").attr(u.config.imgAttr||"alt")||o},parsed:!0,type:"text"}),l.regex.dateReplace=/(\S)([AP]M)$/i,l.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,l.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,l.addParser({id:"usLongDate",is:function(o){return l.regex.usLongDateTest1.test(o)||l.regex.usLongDateTest2.test(o)},format:function(o){var u=o&&new Date(o.replace(l.regex.dateReplace,"$1 $2"));return u instanceof Date&&isFinite(u)?u.getTime():o},type:"numeric"}),l.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,l.regex.shortDateReplace=/[\-.,]/g,l.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,l.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,l.convertFormat=function(o,u){o=(o||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),u==="mmddyyyy"?o=o.replace(l.regex.shortDateXXY,"$3/$1/$2"):u==="ddmmyyyy"?o=o.replace(l.regex.shortDateXXY,"$3/$2/$1"):u==="yyyymmdd"&&(o=o.replace(l.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(o);return n instanceof Date&&isFinite(n)?n.getTime():""},l.addParser({id:"shortDate",is:function(o){return o=(o||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),l.regex.shortDateTest.test(o)},format:function(o,u,n,c){if(o){var d=u.config,f=d.$headerIndexed[c],p=f.length&&f.data("dateFormat")||l.getData(f,l.getColumnData(u,d.headers,c),"dateFormat")||d.dateFormat;return f.length&&f.data("dateFormat",p),l.convertFormat(o,p)||o}return o},type:"numeric"}),l.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,l.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,l.addParser({id:"time",is:function(o){return l.regex.timeTest.test(o)},format:function(o){var u,n=(o||"").match(l.regex.timeMatch),c=new Date(o),d=o&&(n!==null?n[0]:"00:00 AM"),f=d&&new Date("2000/01/01 "+d.replace(l.regex.dateReplace,"$1 $2"));return f instanceof Date&&isFinite(f)?(u=c instanceof Date&&isFinite(c)?c.getTime():0,u?parseFloat(f.getTime()+"."+c.getTime()):f.getTime()):o},type:"numeric"}),l.addParser({id:"metadata",is:function(){return!1},format:function(o,u,n){var c=u.config,d=c.parserMetadataName?c.parserMetadataName:"sortValue";return a(n).metadata()[d]},type:"numeric"}),l.addWidget({id:"zebra",priority:90,format:function(o,u,n){var c,d,f,p,v,y,w,k=new RegExp(u.cssChildRow,"i"),A=u.$tbodies.add(a(u.namespace+"_extra_table").children("tbody:not(."+u.cssInfoBlock+")"));for(v=0;v<A.length;v++)for(f=0,c=A.eq(v).children("tr:visible").not(u.selectorRemove),w=c.length,y=0;y<w;y++)d=c.eq(y),k.test(d[0].className)||f++,p=f%2===0,d.removeClass(n.zebra[p?1:0]).addClass(n.zebra[p?0:1])},remove:function(o,u,n,c){if(!c){var d,f,p=u.$tbodies,v=(n.zebra||["even","odd"]).join(" ");for(d=0;d<p.length;d++)f=l.processTbody(o,p.eq(d),!0),f.children().removeClass(v),l.processTbody(o,f,!1)}}})}(r),function(a,l,o){"use strict";var u=a.tablesorter||{};a.extend(!0,u.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),u.storage=function(n,c,d,f){n=a(n)[0];var p,v,y,w=!1,k={},A=n.config,C=A&&A.widgetOptions,x=u.debug(A,"storage"),S=(f&&f.storageType||C&&C.storage_storageType).toString().charAt(0).toLowerCase(),s=S?"":f&&f.useSessionStorage||C&&C.storage_useSessionStorage,h=a(n),g=f&&f.id||h.attr(f&&f.group||C&&C.storage_group||"data-table-group")||C&&C.storage_tableId||n.id||a(".tablesorter").index(h),m=f&&f.url||h.attr(f&&f.page||C&&C.storage_page||"data-table-page")||C&&C.storage_fixedUrl||A&&A.fixedUrl||l.location.pathname;if(S!=="c"&&(S=S==="s"||s?"sessionStorage":"localStorage",S in l))try{l[S].setItem("_tmptest","temp"),w=!0,l[S].removeItem("_tmptest")}catch(b){console.warn(S+" is not supported in this browser")}if(x&&console.log("Storage >> Using",w?S:"cookies"),a.parseJSON&&(w?k=a.parseJSON(l[S][c]||"null")||{}:(v=o.cookie.split(/[;\s|=]/),p=a.inArray(c,v)+1,k=p!==0?a.parseJSON(v[p]||"null")||{}:{})),typeof d<"u"&&l.JSON&&JSON.hasOwnProperty("stringify"))k[m]||(k[m]={}),k[m][g]=d,w?l[S][c]=JSON.stringify(k):(y=new Date,y.setTime(y.getTime()+31536e6),o.cookie=c+"="+JSON.stringify(k).replace(/\"/g,'"')+"; expires="+y.toGMTString()+"; path=/");else return k&&k[m]?k[m][g]:""}}(r,window,document),function(a){"use strict";var l=a.tablesorter||{};l.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},a.extend(l.css,{wrapper:"tablesorter-wrapper"}),l.addWidget({id:"uitheme",priority:10,format:function(o,u,n){var c,d,f,p,v,y,w,k,A,C,x,S,s,h=l.themes,g=u.$table.add(a(u.namespace+"_extra_table")),m=u.$headers.add(a(u.namespace+"_extra_headers")),b=u.theme||"jui",_=h[b]||{},E=a.trim([_.sortNone,_.sortDesc,_.sortAsc,_.active].join(" ")),R=a.trim([_.iconSortNone,_.iconSortDesc,_.iconSortAsc].join(" ")),j=l.debug(u,"uitheme");for(j&&(v=new Date),(!g.hasClass("tablesorter-"+b)||u.theme!==u.appliedTheme||!n.uitheme_applied)&&(n.uitheme_applied=!0,C=h[u.appliedTheme]||{},s=!a.isEmptyObject(C),x=s?[C.sortNone,C.sortDesc,C.sortAsc,C.active].join(" "):"",S=s?[C.iconSortNone,C.iconSortDesc,C.iconSortAsc].join(" "):"",s&&(n.zebra[0]=a.trim(" "+n.zebra[0].replace(" "+C.even,"")),n.zebra[1]=a.trim(" "+n.zebra[1].replace(" "+C.odd,"")),u.$tbodies.children().removeClass([C.even,C.odd].join(" "))),_.even&&(n.zebra[0]+=" "+_.even),_.odd&&(n.zebra[1]+=" "+_.odd),g.children("caption").removeClass(C.caption||"").addClass(_.caption),k=g.removeClass((u.appliedTheme?"tablesorter-"+(u.appliedTheme||""):"")+" "+(C.table||"")).addClass("tablesorter-"+b+" "+(_.table||"")).children("tfoot"),u.appliedTheme=u.theme,k.length&&k.children("tr").removeClass(C.footerRow||"").addClass(_.footerRow).children("th, td").removeClass(C.footerCells||"").addClass(_.footerCells),m.removeClass((s?[C.header,C.hover,x].join(" "):"")||"").addClass(_.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(H){a(this)[H.type==="mouseenter"?"addClass":"removeClass"](_.hover||"")}),m.each(function(){var H=a(this);H.find("."+l.css.wrapper).length||H.wrapInner('<div class="'+l.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),u.cssIcon&&m.find("."+l.css.icon).removeClass(s?[C.icons,S].join(" "):"").addClass(_.icons||""),l.hasWidget(u.table,"filter")&&(d=function(){g.children("thead").children("."+l.css.filterRow).removeClass(s&&C.filterRow||"").addClass(_.filterRow||"")},n.filter_initialized?d():g.one("filterInit",function(){d()}))),c=0;c<u.columns;c++)y=u.$headers.add(a(u.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+c+'"]'),w=l.css.icon?y.find("."+l.css.icon):a(),A=m.not(".sorter-false").filter('[data-column="'+c+'"]:last'),A.length&&(y.removeClass(E),w.removeClass(R),A[0].sortDisabled?w.removeClass(_.icons||""):(f=_.sortNone,p=_.iconSortNone,A.hasClass(l.css.sortAsc)?(f=[_.sortAsc,_.active].join(" "),p=_.iconSortAsc):A.hasClass(l.css.sortDesc)&&(f=[_.sortDesc,_.active].join(" "),p=_.iconSortDesc),y.addClass(f),w.addClass(p||"")));j&&console.log("uitheme >> Applied "+b+" theme"+l.benchmark(v))},remove:function(o,u,n,c){if(n.uitheme_applied){var d=u.$table,f=u.appliedTheme||"jui",p=l.themes[f]||l.themes.jui,v=d.children("thead").children(),y=p.sortNone+" "+p.sortDesc+" "+p.sortAsc,w=p.iconSortNone+" "+p.iconSortDesc+" "+p.iconSortAsc;d.removeClass("tablesorter-"+f+" "+p.table),n.uitheme_applied=!1,!c&&(d.find(l.css.header).removeClass(p.header),v.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(p.hover+" "+y+" "+p.active).filter("."+l.css.filterRow).removeClass(p.filterRow),v.find("."+l.css.icon).removeClass(p.icons+" "+w))}}})}(r),function(a){"use strict";var l=a.tablesorter||{};l.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(o,u,n){var c,d,f,p,v,y,w,k,A=u.$table,C=u.$tbodies,x=u.sortList,S=x.length,s=n&&n.columns||["primary","secondary","tertiary"],h=s.length-1;for(w=s.join(" "),d=0;d<C.length;d++)c=l.processTbody(o,C.eq(d),!0),f=c.children("tr"),f.each(function(){if(v=a(this),this.style.display!=="none"&&(y=v.children().removeClass(w),x&&x[0]&&(y.eq(x[0][0]).addClass(s[0]),S>1)))for(k=1;k<S;k++)y.eq(x[k][0]).addClass(s[k]||s[h])}),l.processTbody(o,c,!1);if(p=n.columns_thead!==!1?["thead tr"]:[],n.columns_tfoot!==!1&&p.push("tfoot tr"),p.length&&(f=A.find(p.join(",")).children().removeClass(w),S))for(k=0;k<S;k++)f.filter('[data-column="'+x[k][0]+'"]').addClass(s[k]||s[h])},remove:function(o,u,n){var c,d,f=u.$tbodies,p=(n.columns||["primary","secondary","tertiary"]).join(" ");for(u.$headers.removeClass(p),u.$table.children("tfoot").children("tr").children("th, td").removeClass(p),c=0;c<f.length;c++)d=l.processTbody(o,f.eq(c),!0),d.children("tr").each(function(){a(this).children().removeClass(p)}),l.processTbody(o,d,!1)}})}(r),function(a){"use strict";var l,o,u=a.tablesorter||{},n=u.css,c=u.keyCodes;a.extend(n,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),a.extend(c,{backSpace:8,escape:27,space:32,left:37,down:40}),u.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(d,f,p){f.$table.hasClass("hasFilters")||l.init(d,f,p)},remove:function(d,f,p,v){var y,w,k=f.$table,A=f.$tbodies,C="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(f.namespace+"filter ");if(k.removeClass("hasFilters").unbind(C.replace(u.regex.spaces," ")).find("."+n.filterRow).remove(),p.filter_initialized=!1,!v){for(y=0;y<A.length;y++)w=u.processTbody(d,A.eq(y),!0),w.children().removeClass(p.filter_filteredRow).show(),u.processTbody(d,w,!1);p.filter_reset&&a(document).undelegate(p.filter_reset,"click"+f.namespace+"filter")}}}),l=u.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(d,f,p){if((o.orTest.test(f.iFilter)||o.orSplit.test(f.filter))&&!o.regex.test(f.filter)){var v,y,w,k,A=a.extend({},f),C=f.filter.split(o.orSplit),x=f.iFilter.split(o.orSplit),S=C.length;for(v=0;v<S;v++){A.nestedFilters=!0,A.filter=""+(l.parseFilter(d,C[v],f)||""),A.iFilter=""+(l.parseFilter(d,x[v],f)||""),w="("+(l.parseFilter(d,A.filter,f)||"")+")";try{if(k=new RegExp(f.isMatch?w:"^"+w+"$",d.widgetOptions.filter_ignoreCase?"i":""),y=k.test(A.exact)||l.processTypes(d,A,p),y)return y}catch(s){return null}}return y||!1}return null},and:function(d,f,p){if(o.andTest.test(f.filter)){var v,y,w,k,A,C=a.extend({},f),x=f.filter.split(o.andSplit),S=f.iFilter.split(o.andSplit),s=x.length;for(v=0;v<s;v++){C.nestedFilters=!0,C.filter=""+(l.parseFilter(d,x[v],f)||""),C.iFilter=""+(l.parseFilter(d,S[v],f)||""),k=("("+(l.parseFilter(d,C.filter,f)||"")+")").replace(o.wild01,"\\S{1}").replace(o.wild0More,"\\S*");try{A=new RegExp(f.isMatch?k:"^"+k+"$",d.widgetOptions.filter_ignoreCase?"i":""),w=A.test(C.exact)||l.processTypes(d,C,p),v===0?y=w:y=y&&w}catch(h){return null}}return y||!1}return null},regex:function(d,f){if(o.regex.test(f.filter)){var p,v=f.filter_regexCache[f.index]||o.regex.exec(f.filter),y=v instanceof RegExp;try{y||(f.filter_regexCache[f.index]=v=new RegExp(v[1],v[2])),p=v.test(f.exact)}catch(w){p=!1}return p}return null},operators:function(d,f){if(o.operTest.test(f.iFilter)&&f.iExact!==""){var p,v,y,w=d.table,k=f.parsed[f.index],A=u.formatFloat(f.iFilter.replace(o.operators,""),w),C=d.parsers[f.index]||{},x=A;return(k||C.type==="numeric")&&(y=a.trim(""+f.iFilter.replace(o.operators,"")),v=l.parseFilter(d,y,f,!0),A=typeof v=="number"&&v!==""&&!isNaN(v)?v:A),(k||C.type==="numeric")&&!isNaN(A)&&typeof f.cache<"u"?p=f.cache:(y=isNaN(f.iExact)?f.iExact.replace(u.regex.nondigit,""):f.iExact,p=u.formatFloat(y,w)),o.gtTest.test(f.iFilter)?v=o.gteTest.test(f.iFilter)?p>=A:p>A:o.ltTest.test(f.iFilter)&&(v=o.lteTest.test(f.iFilter)?p<=A:p<A),!v&&x===""&&(v=!0),v}return null},notMatch:function(d,f){if(o.notTest.test(f.iFilter)){var p,v=f.iFilter.replace("!",""),y=l.parseFilter(d,v,f)||"";return o.exact.test(y)?(y=y.replace(o.exact,""),y===""?!0:a.trim(y)!==f.iExact):(p=f.iExact.search(a.trim(y)),y===""?!0:f.anyMatch?p<0:!(d.widgetOptions.filter_startsWith?p===0:p>=0))}return null},exact:function(d,f){if(o.exact.test(f.iFilter)){var p=f.iFilter.replace(o.exact,""),v=l.parseFilter(d,p,f)||"";return f.anyMatch?a.inArray(v,f.rowArray)>=0:v==f.iExact}return null},range:function(d,f){if(o.toTest.test(f.iFilter)){var p,v,y,w,k=d.table,A=f.index,C=f.parsed[A],x=f.iFilter.split(o.toSplit);return v=x[0].replace(u.regex.nondigit,"")||"",y=u.formatFloat(l.parseFilter(d,v,f),k),v=x[1].replace(u.regex.nondigit,"")||"",w=u.formatFloat(l.parseFilter(d,v,f),k),(C||d.parsers[A].type==="numeric")&&(p=d.parsers[A].format(""+x[0],k,d.$headers.eq(A),A),y=p!==""&&!isNaN(p)?p:y,p=d.parsers[A].format(""+x[1],k,d.$headers.eq(A),A),w=p!==""&&!isNaN(p)?p:w),(C||d.parsers[A].type==="numeric")&&!isNaN(y)&&!isNaN(w)?p=f.cache:(v=isNaN(f.iExact)?f.iExact.replace(u.regex.nondigit,""):f.iExact,p=u.formatFloat(v,k)),y>w&&(v=y,y=w,w=v),p>=y&&p<=w||y===""||w===""}return null},wild:function(d,f){if(o.wildOrTest.test(f.iFilter)){var p=""+(l.parseFilter(d,f.iFilter,f)||"");!o.wildTest.test(p)&&f.nestedFilters&&(p=f.isMatch?p:"^("+p+")$");try{return new RegExp(p.replace(o.wild01,"\\S{1}").replace(o.wild0More,"\\S*"),d.widgetOptions.filter_ignoreCase?"i":"").test(f.exact)}catch(v){return null}}return null},fuzzy:function(d,f){if(o.fuzzyTest.test(f.iFilter)){var p,v=0,y=f.iExact.length,w=f.iFilter.slice(1),k=l.parseFilter(d,w,f)||"";for(p=0;p<y;p++)f.iExact[p]===k[v]&&(v+=1);return v===k.length}return null}},init:function(d){u.language=a.extend(!0,{},{to:"to",or:"or",and:"and"},u.language);var f,p,v,y,w,k,A,C,x=d.config,S=x.widgetOptions,s=function(h,g,m){return g=g.trim(),g===""?"":(h||"")+g+(m||"")};if(x.$table.addClass("hasFilters"),x.lastSearch=[],S.filter_searchTimer=null,S.filter_initTimer=null,S.filter_formatterCount=0,S.filter_formatterInit=[],S.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',S.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',k="\\{"+o.query+"\\}",a.extend(o,{child:new RegExp(x.cssChildRow),filtered:new RegExp(S.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+s("|",u.language.or)+s("|",u.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+s("|",u.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+s("|",u.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+s("",u.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+s("",u.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+s("|\\s+",u.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+s("|\\s+(?:",u.language.or,")\\s+")+")","gi"),iQuery:new RegExp(k,"i"),igQuery:new RegExp(k,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),k=x.$headers.filter(".filter-false, .parser-false").length,S.filter_columnFilters!==!1&&k!==x.$headers.length&&l.buildRow(d,x,S),v="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(x.namespace+"filter "),x.$table.bind(v,function(h,g){return k=S.filter_hideEmpty&&a.isEmptyObject(x.cache)&&!(x.delayInit&&h.type==="appendCache"),x.$table.find("."+n.filterRow).toggleClass(S.filter_filteredRow,k),/(search|filter)/.test(h.type)||(h.stopPropagation(),l.buildDefault(d,!0)),h.type==="filterReset"||h.type==="filterAndSortReset"?(x.$table.find("."+n.filter).add(S.filter_$externalFilters).val(""),h.type==="filterAndSortReset"?u.sortReset(this.config,function(){l.searching(d,[])}):l.searching(d,[])):h.type==="filterResetSaved"?u.storage(d,"tablesorter-filters",""):h.type==="filterEnd"?l.buildDefault(d,!0):(g=h.type==="search"?g:h.type==="updateComplete"?x.$table.data("lastSearch"):"",/(update|add)/.test(h.type)&&h.type!=="updateComplete"&&(x.lastCombinedFilter=null,x.lastSearch=[],setTimeout(function(){x.$table.triggerHandler("filterFomatterUpdate")},100)),l.searching(d,g,!0)),!1}),S.filter_reset&&(S.filter_reset instanceof a?S.filter_reset.click(function(){x.$table.triggerHandler("filterReset")}):a(S.filter_reset).length&&a(document).undelegate(S.filter_reset,"click"+x.namespace+"filter").delegate(S.filter_reset,"click"+x.namespace+"filter",function(){x.$table.triggerHandler("filterReset")})),S.filter_functions){for(w=0;w<x.columns;w++)if(A=u.getColumnData(d,S.filter_functions,w),A){if(y=x.$headerIndexed[w].removeClass("filter-select"),C=!(y.hasClass("filter-false")||y.hasClass("parser-false")),f="",A===!0&&C)l.buildSelect(d,w);else if(typeof A=="object"&&C){for(p in A)typeof p=="string"&&(f+=f===""?'<option value="">'+(y.data("placeholder")||y.attr("data-placeholder")||S.filter_placeholder.select||"")+"</option>":"",k=p,v=p,p.indexOf(S.filter_selectSourceSeparator)>=0&&(k=p.split(S.filter_selectSourceSeparator),v=k[1],k=k[0]),f+="<option "+(v===k?"":'data-function-name="'+p+'" ')+'value="'+k+'">'+v+"</option>");x.$table.find("thead").find("select."+n.filter+'[data-column="'+w+'"]').append(f),v=S.filter_selectSource,A=typeof v=="function"?!0:u.getColumnData(d,v,w),A&&l.buildSelect(x.table,w,"",!0,y.hasClass(S.filter_onlyAvail))}}}l.buildDefault(d,!0),l.bindSearch(d,x.$table.find("."+n.filter),!0),S.filter_external&&l.bindSearch(d,S.filter_external),S.filter_hideFilters&&l.hideFilters(x),x.showProcessing&&(v="filterStart filterEnd ".split(" ").join(x.namespace+"filter-sp "),x.$table.unbind(v.replace(u.regex.spaces," ")).bind(v,function(h,g){y=g?x.$table.find("."+n.header).filter("[data-column]").filter(function(){return g[a(this).data("column")]!==""}):"",u.isProcessing(d,h.type==="filterStart",g?y:"")})),x.filteredRows=x.totalRows,v="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(x.namespace+"filter "),x.$table.unbind(v.replace(u.regex.spaces," ")).bind(v,function(){l.completeInit(this)}),x.pager&&x.pager.initialized&&!S.filter_initialized?(x.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){l.filterInitComplete(x)},100)):S.filter_initialized||l.completeInit(d)},completeInit:function(d){var f=d.config,p=f.widgetOptions,v=l.setDefaults(d,f,p)||[];v.length&&(f.delayInit&&v.join("")===""||u.setFilters(d,v,!0)),f.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){p.filter_initialized||l.filterInitComplete(f)},100)},formatterUpdated:function(d,f){var p=d&&d.closest("table"),v=p.length&&p[0].config,y=v&&v.widgetOptions;y&&!y.filter_initialized&&(y.filter_formatterInit[f]=1)},filterInitComplete:function(d){var f,p,v=d.widgetOptions,y=0,w=function(){v.filter_initialized=!0,d.lastSearch=d.$table.data("lastSearch"),d.$table.triggerHandler("filterInit",d),l.findRows(d.table,d.lastSearch||[]),u.debug(d,"filter")&&console.log("Filter >> Widget initialized")};if(a.isEmptyObject(v.filter_formatter))w();else{for(p=v.filter_formatterInit.length,f=0;f<p;f++)v.filter_formatterInit[f]===1&&y++;clearTimeout(v.filter_initTimer),!v.filter_initialized&&y===v.filter_formatterCount?w():v.filter_initialized||(v.filter_initTimer=setTimeout(function(){w()},500))}},processFilters:function(d,f){var p,v=[],y=f?encodeURIComponent:decodeURIComponent,w=d.length;for(p=0;p<w;p++)d[p]&&(v[p]=y(d[p]));return v},setDefaults:function(d,f,p){var v,y,w,k,A,C=u.getFilters(d)||[];if(p.filter_saveFilters&&u.storage&&(y=u.storage(d,"tablesorter-filters")||[],v=a.isArray(y),v&&y.join("")===""||!v||(C=l.processFilters(y))),C.join("")==="")for(A=f.$headers.add(p.filter_$externalFilters).filter("["+p.filter_defaultAttrib+"]"),w=0;w<=f.columns;w++)k=w===f.columns?"all":w,C[w]=A.filter('[data-column="'+k+'"]').attr(p.filter_defaultAttrib)||C[w]||"";return f.$table.data("lastSearch",C),C},parseFilter:function(d,f,p,v){return v||p.parsed[p.index]?d.parsers[p.index].format(f,d.table,[],p.index):f},buildRow:function(d,f,p){var v,y,w,k,A,C,x,S,s,h=p.filter_cellFilter,g=f.columns,m=a.isArray(h),b='<tr role="search" class="'+n.filterRow+" "+f.cssIgnoreRow+'">';for(w=0;w<g;w++)f.$headerIndexed[w].length&&(s=f.$headerIndexed[w]&&f.$headerIndexed[w][0].colSpan||0,s>1?b+='<td data-column="'+w+"-"+(w+s-1)+'" colspan="'+s+'"':b+='<td data-column="'+w+'"',m?b+=h[w]?' class="'+h[w]+'"':"":b+=h!==""?' class="'+h+'"':"",b+="></td>");for(f.$filters=a(b+="</tr>").appendTo(f.$table.children("thead").eq(0)).children("td"),w=0;w<g;w++)C=!1,k=f.$headerIndexed[w],k&&k.length&&(v=l.getColumnElm(f,f.$filters,w),S=u.getColumnData(d,p.filter_functions,w),A=p.filter_functions&&S&&typeof S!="function"||k.hasClass("filter-select"),y=u.getColumnData(d,f.headers,w),C=u.getData(k[0],y,"filter")==="false"||u.getData(k[0],y,"parser")==="false",A?b=a("<select>").appendTo(v):(S=u.getColumnData(d,p.filter_formatter,w),S?(p.filter_formatterCount++,b=S(v,w),b&&b.length===0&&(b=v.children("input")),b&&(b.parent().length===0||b.parent().length&&b.parent()[0]!==v[0])&&v.append(b)):b=a('<input type="search">').appendTo(v),b&&(s=k.data("placeholder")||k.attr("data-placeholder")||p.filter_placeholder.search||"",b.attr("placeholder",s))),b&&(x=(a.isArray(p.filter_cssFilter)?typeof p.filter_cssFilter[w]<"u"&&p.filter_cssFilter[w]||"":p.filter_cssFilter)||"",b.addClass(n.filter+" "+x),x=p.filter_filterLabel,s=x.match(/{{([^}]+?)}}/g),s||(s=["{{label}}"]),a.each(s,function(_,E){var R=new RegExp(E,"g"),j=k.attr("data-"+E.replace(/{{|}}/g,"")),H=typeof j>"u"?k.text():j;x=x.replace(R,a.trim(H))}),b.attr({"data-column":v.attr("data-column"),"aria-label":x}),C&&(b.attr("placeholder","").addClass(n.filterDisabled)[0].disabled=!0)))},bindSearch:function(d,f,p){if(d=a(d)[0],f=a(f),!!f.length){var v,y=d.config,w=y.widgetOptions,k=y.namespace+"filter",A=w.filter_$externalFilters;p!==!0&&(v=w.filter_anyColumnSelector+","+w.filter_multipleColumnSelector,w.filter_$anyMatch=f.filter(v),A&&A.length?w.filter_$externalFilters=w.filter_$externalFilters.add(f):w.filter_$externalFilters=f,u.setFilters(d,y.$table.data("lastSearch")||[],p===!1)),v="keypress keyup keydown search change input ".split(" ").join(k+" "),f.attr("data-lastSearchTime",new Date().getTime()).unbind(v.replace(u.regex.spaces," ")).bind("keydown"+k,function(C){if(C.which===c.escape&&!d.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+k,function(C){w=d.config.widgetOptions;var x=parseInt(a(this).attr("data-column"),10),S=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:u.getColumnData(d,w.filter_liveSearch,x);if(typeof S>"u"&&(S=w.filter_liveSearch.fallback||!1),a(this).attr("data-lastSearchTime",new Date().getTime()),C.which===c.escape)this.value=w.filter_resetOnEsc?"":y.lastSearch[x];else if(this.value!==""&&(typeof S=="number"&&this.value.length<S||C.which!==c.enter&&C.which!==c.backSpace&&(C.which<c.space||C.which>=c.left&&C.which<=c.down))||S===!1&&this.value!==""&&C.which!==c.enter)return;l.searching(d,!0,!0,x)}).bind("search change keypress input blur ".split(" ").join(k+" "),function(C){var x=parseInt(a(this).attr("data-column"),10),S=C.type,s=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:u.getColumnData(d,w.filter_liveSearch,x);d.config.widgetOptions.filter_initialized&&(C.which===c.enter||S==="search"||S==="blur"||(S==="change"||S==="input")&&(s===!0||s!==!0&&C.target.nodeName!=="INPUT")&&this.value!==y.lastSearch[x])&&(C.preventDefault(),a(this).attr("data-lastSearchTime",new Date().getTime()),l.searching(d,S!=="keypress"||C.which===c.enter,!0,x))})}},searching:function(d,f,p,v){var y,w=d.config.widgetOptions;typeof v>"u"?y=!1:(y=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:u.getColumnData(d,w.filter_liveSearch,v),typeof y>"u"&&(y=w.filter_liveSearch.fallback||!1)),clearTimeout(w.filter_searchTimer),typeof f>"u"||f===!0?w.filter_searchTimer=setTimeout(function(){l.checkFilters(d,f,p)},y?w.filter_searchDelay:10):l.checkFilters(d,f,p)},equalFilters:function(d,f,p){var v,y=[],w=[],k=d.columns+1;for(f=a.isArray(f)?f:[],p=a.isArray(p)?p:[],v=0;v<k;v++)y[v]=f[v]||"",w[v]=p[v]||"";return y.join(",")===w.join(",")},checkFilters:function(d,f,p){var v=d.config,y=v.widgetOptions,w=a.isArray(f),k=w?f:u.getFilters(d,!0),A=k||[];if(a.isEmptyObject(v.cache)){v.delayInit&&(!v.pager||v.pager&&v.pager.initialized)&&u.updateCache(v,function(){l.checkFilters(d,!1,p)});return}if(w&&(u.setFilters(d,k,!1,p!==!0),y.filter_initialized||(v.lastSearch=[],v.lastCombinedFilter="")),y.filter_hideFilters&&v.$table.find("."+n.filterRow).triggerHandler(l.hideFiltersCheck(v)?"mouseleave":"mouseenter"),l.equalFilters(v,v.lastSearch,A)){if(f!==!1)return;v.lastCombinedFilter="",v.lastSearch=[]}if(k=k||[],k=Array.prototype.map?k.map(String):k.join("\uFFFD").split("\uFFFD"),y.filter_initialized&&v.$table.triggerHandler("filterStart",[k]),v.showProcessing)setTimeout(function(){return l.findRows(d,k,A),!1},30);else return l.findRows(d,k,A),!1},hideFiltersCheck:function(d){if(typeof d.widgetOptions.filter_hideFilters=="function"){var f=d.widgetOptions.filter_hideFilters(d);if(typeof f=="boolean")return f}return u.getFilters(d.$table).join("")===""},hideFilters:function(d,f){var p;(f||d.$table).find("."+n.filterRow).addClass(n.filterRowHide).bind("mouseenter mouseleave",function(v){var y=v,w=a(this);clearTimeout(p),p=setTimeout(function(){/enter|over/.test(y.type)?w.removeClass(n.filterRowHide):a(document.activeElement).closest("tr")[0]!==w[0]&&w.toggleClass(n.filterRowHide,l.hideFiltersCheck(d))},200)}).find("input, select").bind("focus blur",function(v){var y=v,w=a(this).closest("tr");clearTimeout(p),p=setTimeout(function(){clearTimeout(p),w.toggleClass(n.filterRowHide,l.hideFiltersCheck(d)&&y.type!=="focus")},200)})},defaultFilter:function(d,f){if(d==="")return d;var p=o.iQuery,v=f.match(o.igQuery).length,y=v>1?a.trim(d).split(/\s/):[a.trim(d)],w=y.length-1,k=0,A=f;for(w<1&&v>1&&(y[1]=y[0]);p.test(A);)A=A.replace(p,y[k++]||""),p.test(A)&&k<w&&(y[k]||"")!==""&&(A=f.replace(p,A));return A},getLatestSearch:function(d){return d?d.sort(function(f,p){return a(p).attr("data-lastSearchTime")-a(f).attr("data-lastSearchTime")}):d||a()},findRange:function(d,f,p){var v,y,w,k,A,C,x,S,s,h=[];if(/^[0-9]+$/.test(f))return[parseInt(f,10)];if(!p&&/-/.test(f))for(y=f.match(/(\d+)\s*-\s*(\d+)/g),s=y?y.length:0,S=0;S<s;S++){for(w=y[S].split(/\s*-\s*/),k=parseInt(w[0],10)||0,A=parseInt(w[1],10)||d.columns-1,k>A&&(v=k,k=A,A=v),A>=d.columns&&(A=d.columns-1);k<=A;k++)h[h.length]=k;f=f.replace(y[S],"")}if(!p&&/,/.test(f))for(C=f.split(/\s*,\s*/),s=C.length,x=0;x<s;x++)C[x]!==""&&(S=parseInt(C[x],10),S<d.columns&&(h[h.length]=S));if(!h.length)for(S=0;S<d.columns;S++)h[h.length]=S;return h},getColumnElm:function(d,f,p){return f.filter(function(){var v=l.findRange(d,a(this).attr("data-column"));return a.inArray(p,v)>-1})},multipleColumns:function(d,f){var p=d.widgetOptions,v=p.filter_initialized||!f.filter(p.filter_anyColumnSelector).length,y=a.trim(l.getLatestSearch(f).attr("data-column")||"");return l.findRange(d,y,!v)},processTypes:function(d,f,p){var v,y=null,w=null;for(v in l.types)a.inArray(v,p.excludeMatch)<0&&w===null&&(w=l.types[v](d,f,p),w!==null&&(f.matchedOn=v,y=w));return y},matchType:function(d,f){var p,v=d.widgetOptions,y=d.$headerIndexed[f];return y.hasClass("filter-exact")?p=!1:y.hasClass("filter-match")?p=!0:(v.filter_columnFilters?y=d.$filters.find("."+n.filter).add(v.filter_$externalFilters).filter('[data-column="'+f+'"]'):v.filter_$externalFilters&&(y=v.filter_$externalFilters.filter('[data-column="'+f+'"]')),p=y.length?d.widgetOptions.filter_matchType[(y[0].nodeName||"").toLowerCase()]==="match":!1),p},processRow:function(d,f,p){var v,y,w,k,A,C=d.widgetOptions,x=!0,S=C.filter_$anyMatch&&C.filter_$anyMatch.length,s=C.filter_$anyMatch&&C.filter_$anyMatch.length?l.multipleColumns(d,C.filter_$anyMatch):[];if(f.$cells=f.$row.children(),f.matchedOn=null,f.anyMatchFlag&&s.length>1||f.anyMatchFilter&&!S){if(f.anyMatch=!0,f.isMatch=!0,f.rowArray=f.$cells.map(function(h){if(a.inArray(h,s)>-1||f.anyMatchFilter&&!S)return f.parsed[h]?A=f.cacheArray[h]:(A=f.rawArray[h],A=a.trim(C.filter_ignoreCase?A.toLowerCase():A),d.sortLocaleCompare&&(A=u.replaceAccents(A))),A}).get(),f.filter=f.anyMatchFilter,f.iFilter=f.iAnyMatchFilter,f.exact=f.rowArray.join(" "),f.iExact=C.filter_ignoreCase?f.exact.toLowerCase():f.exact,f.cache=f.cacheArray.slice(0,-1).join(" "),p.excludeMatch=p.noAnyMatch,y=l.processTypes(d,f,p),y!==null)x=y;else if(C.filter_startsWith)for(x=!1,s=Math.min(d.columns,f.rowArray.length);!x&&s>0;)s--,x=x||f.rowArray[s].indexOf(f.iFilter)===0;else x=(f.iExact+f.childRowText).indexOf(f.iFilter)>=0;if(f.anyMatch=!1,f.filters.join("")===f.filter)return x}for(s=0;s<d.columns;s++)f.filter=f.filters[s],f.index=s,p.excludeMatch=p.excludeFilter[s],f.filter&&(f.cache=f.cacheArray[s],v=f.parsed[s]?f.cache:f.rawArray[s]||"",f.exact=d.sortLocaleCompare?u.replaceAccents(v):v,f.iExact=!o.type.test(typeof f.exact)&&C.filter_ignoreCase?f.exact.toLowerCase():f.exact,f.isMatch=l.matchType(d,s),v=x,k=C.filter_columnFilters&&d.$filters.add(C.filter_$externalFilters).filter('[data-column="'+s+'"]').find("select option:selected").attr("data-function-name")||"",d.sortLocaleCompare&&(f.filter=u.replaceAccents(f.filter)),C.filter_defaultFilter&&o.iQuery.test(p.defaultColFilter[s])&&(f.filter=l.defaultFilter(f.filter,p.defaultColFilter[s])),f.iFilter=C.filter_ignoreCase?(f.filter||"").toLowerCase():f.filter,w=p.functions[s],y=null,w&&(typeof w=="function"?y=w(f.exact,f.cache,f.filter,s,f.$row,d,f):typeof w[k||f.filter]=="function"&&(A=k||f.filter,y=w[A](f.exact,f.cache,f.filter,s,f.$row,d,f))),y===null?(y=l.processTypes(d,f,p),A=w===!0&&(f.matchedOn==="and"||f.matchedOn==="or"),y!==null&&!A?v=y:w===!0?v=f.isMatch?(""+f.iExact).search(f.iFilter)>=0:f.filter===f.exact:(A=(f.iExact+f.childRowText).indexOf(l.parseFilter(d,f.iFilter,f)),v=!C.filter_startsWith&&A>=0||C.filter_startsWith&&A===0)):v=y,x=v?x:!1);return x},findRows:function(d,f,p){if(!(l.equalFilters(d.config,d.config.lastSearch,p)||!d.config.widgetOptions.filter_initialized)){var v,y,w,k,A,C,x,S,s,h,g,m,b,_,E,R,j,H,G,q,K,ue,te,D,J=a.extend([],f),Q=d.config,ne=Q.widgetOptions,ie=u.debug(Q,"filter"),W={anyMatch:!1,filters:f,filter_regexCache:[]},V={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:u.getColumnData(d,ne.filter_defaultFilter,Q.columns,!0)||""};for(W.parsed=[],s=0;s<Q.columns;s++)W.parsed[s]=ne.filter_useParsedData||Q.parsers&&Q.parsers[s]&&Q.parsers[s].parsed||u.getData&&u.getData(Q.$headerIndexed[s],u.getColumnData(d,Q.headers,s),"filter")==="parsed"||Q.$headerIndexed[s].hasClass("filter-parsed"),V.functions[s]=u.getColumnData(d,ne.filter_functions,s)||Q.$headerIndexed[s].hasClass("filter-select"),V.defaultColFilter[s]=u.getColumnData(d,ne.filter_defaultFilter,s)||"",V.excludeFilter[s]=(u.getColumnData(d,ne.filter_excludeFilter,s,!0)||"").split(/\s+/);for(ie&&(console.log("Filter >> Starting filter widget search",f),E=new Date),Q.filteredRows=0,Q.totalRows=0,p=J||[],x=0;x<Q.$tbodies.length;x++){if(S=u.processTbody(d,Q.$tbodies.eq(x),!0),s=Q.columns,y=Q.cache[x].normalized,k=a(a.map(y,function(se){return se[s].$row.get()})),p.join("")===""||ne.filter_serversideFiltering)k.removeClass(ne.filter_filteredRow).not("."+Q.cssChildRow).css("display","");else{if(k=k.not("."+Q.cssChildRow),v=k.length,(ne.filter_$anyMatch&&ne.filter_$anyMatch.length||typeof f[Q.columns]<"u")&&(W.anyMatchFlag=!0,W.anyMatchFilter=""+(f[Q.columns]||ne.filter_$anyMatch&&l.getLatestSearch(ne.filter_$anyMatch).val()||""),ne.filter_columnAnyMatch)){for(q=W.anyMatchFilter.split(o.andSplit),K=!1,j=0;j<q.length;j++)ue=q[j].split(":"),ue.length>1&&(isNaN(ue[0])?a.each(Q.headerContent,function(se,Ae){Ae.toLowerCase().indexOf(ue[0])>-1&&(te=se,f[te]=ue[1])}):te=parseInt(ue[0],10)-1,te>=0&&te<Q.columns&&(f[te]=ue[1],q.splice(j,1),j--,K=!0));K&&(W.anyMatchFilter=q.join(" && "))}if(G=ne.filter_searchFiltered,m=Q.lastSearch||Q.$table.data("lastSearch")||[],G)for(j=0;j<s+1;j++)R=f[j]||"",G||(j=s),G=G&&m.length&&R.indexOf(m[j]||"")===0&&!o.alreadyFiltered.test(R)&&!o.exactTest.test(R)&&!(o.isNeg1.test(R)||o.isNeg2.test(R))&&!(R!==""&&Q.$filters&&Q.$filters.filter('[data-column="'+j+'"]').find("select").length&&!l.matchType(Q,j));for(H=k.not("."+ne.filter_filteredRow).length,G&&H===0&&(G=!1),ie&&console.log("Filter >> Searching through "+(G&&H<v?H:"all")+" rows"),W.anyMatchFlag&&(Q.sortLocaleCompare&&(W.anyMatchFilter=u.replaceAccents(W.anyMatchFilter)),ne.filter_defaultFilter&&o.iQuery.test(V.defaultAnyFilter)&&(W.anyMatchFilter=l.defaultFilter(W.anyMatchFilter,V.defaultAnyFilter),G=!1),W.iAnyMatchFilter=ne.filter_ignoreCase&&Q.ignoreCase?W.anyMatchFilter.toLowerCase():W.anyMatchFilter),C=0;C<v;C++)if(D=k[C].className,h=C&&o.child.test(D),!(h||G&&o.filtered.test(D))){if(W.$row=k.eq(C),W.rowIndex=C,W.cacheArray=y[C],w=W.cacheArray[Q.columns],W.rawArray=w.raw,W.childRowText="",!ne.filter_childByColumn){for(D="",g=w.child,j=0;j<g.length;j++)D+=" "+g[j].join(" ")||"";W.childRowText=ne.filter_childRows?ne.filter_ignoreCase?D.toLowerCase():D:""}if(b=!1,_=l.processRow(Q,W,V),A=w.$row,R=!!_,g=w.$row.filter(":gt(0)"),ne.filter_childRows&&g.length){if(ne.filter_childByColumn)for(ne.filter_childWithSibs||(g.addClass(ne.filter_filteredRow),A=A.eq(0)),j=0;j<g.length;j++)W.$row=g.eq(j),W.cacheArray=w.child[j],W.rawArray=W.cacheArray,R=l.processRow(Q,W,V),b=b||R,!ne.filter_childWithSibs&&R&&g.eq(j).removeClass(ne.filter_filteredRow);b=b||_}else b=R;A.toggleClass(ne.filter_filteredRow,!b)[0].display=b?"":"none"}}Q.filteredRows+=k.not("."+ne.filter_filteredRow).length,Q.totalRows+=k.length,u.processTbody(d,S,!1)}Q.lastCombinedFilter=J.join(""),Q.lastSearch=J,Q.$table.data("lastSearch",J),ne.filter_saveFilters&&u.storage&&u.storage(d,"tablesorter-filters",l.processFilters(J,!0)),ie&&console.log("Filter >> Completed search"+u.benchmark(E)),ne.filter_initialized&&(Q.$table.triggerHandler("filterBeforeEnd",Q),Q.$table.triggerHandler("filterEnd",Q)),setTimeout(function(){u.applyWidget(Q.table)},0)}},getOptionSource:function(d,f,p){d=a(d)[0];var v=d.config,y=v.widgetOptions,w=!1,k=y.filter_selectSource,A=v.$table.data("lastSearch")||[],C=typeof k=="function"?!0:u.getColumnData(d,k,f);if(p&&A[f]!==""&&(p=!1),C===!0)w=k(d,f,p);else{if(C instanceof a||a.type(C)==="string"&&C.indexOf("</option>")>=0)return C;if(a.isArray(C))w=C;else if(a.type(k)==="object"&&C&&(w=C(d,f,p),w===null))return null}return w===!1&&(w=l.getOptions(d,f,p)),l.processOptions(d,f,w)},processOptions:function(d,f,p){if(!a.isArray(p))return!1;d=a(d)[0];var v,y,w,k,A,C,x=d.config,S=typeof f<"u"&&f!==null&&f>=0&&f<x.columns,s=S?x.$headerIndexed[f].hasClass("filter-select-sort-desc"):!1,h=[];if(p=a.grep(p,function(g,m){return g.text?!0:a.inArray(g,p)===m}),S&&x.$headerIndexed[f].hasClass("filter-select-nosort"))return p;for(k=p.length,w=0;w<k;w++)y=p[w],C=y.text?y.text:y,A=(S&&x.parsers&&x.parsers.length&&x.parsers[f].format(C,d,[],f)||C).toString(),A=x.widgetOptions.filter_ignoreCase?A.toLowerCase():A,y.text?(y.parsed=A,h[h.length]=y):h[h.length]={text:y,parsed:A};for(v=x.textSorter||"",h.sort(function(g,m){var b=s?m.parsed:g.parsed,_=s?g.parsed:m.parsed;return S&&typeof v=="function"?v(b,_,!0,f,d):S&&typeof v=="object"&&v.hasOwnProperty(f)?v[f](b,_,!0,f,d):u.sortNatural?u.sortNatural(b,_):!0}),p=[],k=h.length,w=0;w<k;w++)p[p.length]=h[w];return p},getOptions:function(d,f,p){d=a(d)[0];var v,y,w,k,A,C,x,S,s=d.config,h=s.widgetOptions,g=[];for(y=0;y<s.$tbodies.length;y++)for(A=s.cache[y],w=s.cache[y].normalized.length,v=0;v<w;v++)if(k=A.row?A.row[v]:A.normalized[v][s.columns].$row[0],!(p&&k.className.match(h.filter_filteredRow))){if(h.filter_useParsedData||s.parsers[f].parsed||s.$headerIndexed[f].hasClass("filter-parsed")){if(g[g.length]=""+A.normalized[v][f],h.filter_childRows&&h.filter_childByColumn)for(S=A.normalized[v][s.columns].$row.length-1,C=0;C<S;C++)g[g.length]=""+A.normalized[v][s.columns].child[C][f]}else if(g[g.length]=A.normalized[v][s.columns].raw[f],h.filter_childRows&&h.filter_childByColumn)for(S=A.normalized[v][s.columns].$row.length,C=1;C<S;C++)x=A.normalized[v][s.columns].$row.eq(C).children().eq(f),g[g.length]=""+u.getElementText(s,x,f)}return g},buildSelect:function(d,f,p,v,y){if(d=a(d)[0],f=parseInt(f,10),!(!d.config.cache||a.isEmptyObject(d.config.cache))){var w,k,A,C,x,S,s,h=d.config,g=h.widgetOptions,m=h.$headerIndexed[f],b='<option value="">'+(m.data("placeholder")||m.attr("data-placeholder")||g.filter_placeholder.select||"")+"</option>",_=h.$table.find("thead").find("select."+n.filter+'[data-column="'+f+'"]').val();if(!((typeof p>"u"||p==="")&&(p=l.getOptionSource(d,f,y),p===null))){if(a.isArray(p)){for(w=0;w<p.length;w++)if(s=p[w],s.text){s["data-function-name"]=typeof s.value>"u"?s.text:s.value,b+="<option";for(k in s)s.hasOwnProperty(k)&&k!=="text"&&(b+=" "+k+'="'+s[k].replace(o.quote,"&quot;")+'"');s.value||(b+=' value="'+s.text.replace(o.quote,"&quot;")+'"'),b+=">"+s.text.replace(o.quote,"&quot;")+"</option>"}else""+s!="[object Object]"&&(A=s=(""+s).replace(o.quote,"&quot;"),k=A,A.indexOf(g.filter_selectSourceSeparator)>=0&&(C=A.split(g.filter_selectSourceSeparator),k=C[0],A=C[1]),b+=s!==""?"<option "+(k===A?"":'data-function-name="'+s+'" ')+'value="'+k+'">'+A+"</option>":"");p=[]}x=(h.$filters?h.$filters:h.$table.children("thead")).find("."+n.filter),g.filter_$externalFilters&&(x=x&&x.length?x.add(g.filter_$externalFilters):g.filter_$externalFilters),S=x.filter('select[data-column="'+f+'"]'),S.length&&(S[v?"html":"append"](b),a.isArray(p)||S.append(p).val(_),S.val(_))}}},buildDefault:function(d,f){var p,v,y,w=d.config,k=w.widgetOptions,A=w.columns;for(p=0;p<A;p++)v=w.$headerIndexed[p],y=!(v.hasClass("filter-false")||v.hasClass("parser-false")),(v.hasClass("filter-select")||u.getColumnData(d,k.filter_functions,p)===!0)&&y&&l.buildSelect(d,p,"",f,v.hasClass(k.filter_onlyAvail))}},o=l.regex,u.getFilters=function(d,f,p,v){var y,w,k,A,C=[],x=d?a(d)[0].config:"",S=x?x.widgetOptions:"";if(f!==!0&&S&&!S.filter_columnFilters||a.isArray(p)&&l.equalFilters(x,p,x.lastSearch))return a(d).data("lastSearch")||[];if(x&&(x.$filters&&(w=x.$filters.find("."+n.filter)),S.filter_$externalFilters&&(w=w&&w.length?w.add(S.filter_$externalFilters):S.filter_$externalFilters),w&&w.length))for(C=p||[],y=0;y<x.columns+1;y++)A=y===x.columns?S.filter_anyColumnSelector+","+S.filter_multipleColumnSelector:'[data-column="'+y+'"]',k=w.filter(A),k.length&&(k=l.getLatestSearch(k),a.isArray(p)?(v&&k.length>1&&(k=k.slice(1)),y===x.columns&&(A=k.filter(S.filter_anyColumnSelector),k=A.length?A:k),k.val(p[y]).trigger("change"+x.namespace)):(C[y]=k.val()||"",y===x.columns?k.slice(1).filter('[data-column*="'+k.attr("data-column")+'"]').val(C[y]):k.slice(1).val(C[y])),y===x.columns&&k.length&&(S.filter_$anyMatch=k));return C},u.setFilters=function(d,f,p,v){var y=d?a(d)[0].config:"",w=u.getFilters(d,!0,f,v);return typeof p>"u"&&(p=!0),y&&p&&(y.lastCombinedFilter=null,y.lastSearch=[],l.searching(y.table,f,v),y.$table.triggerHandler("filterFomatterUpdate")),w.length!==0}}(r),function(a,l){"use strict";var o=a.tablesorter||{};a.extend(o.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),o.addHeaderResizeEvent=function(n,c,d){if(n=a(n)[0],!!n.config){var f={timer:250},p=a.extend({},f,d),v=n.config,y=v.widgetOptions,w=function(k){var A,C,x,S,s,h,g=v.$headers.length;for(y.resize_flag=!0,C=[],A=0;A<g;A++)x=v.$headers.eq(A),S=x.data("savedSizes")||[0,0],s=x[0].offsetWidth,h=x[0].offsetHeight,(s!==S[0]||h!==S[1])&&(x.data("savedSizes",[s,h]),C.push(x[0]));C.length&&k!==!1&&v.$table.triggerHandler("resize",[C]),y.resize_flag=!1};if(clearInterval(y.resize_timer),c)return y.resize_flag=!1,!1;w(!1),y.resize_timer=setInterval(function(){y.resize_flag||w()},p.timer)}};function u(n,c){var d=isNaN(c.stickyHeaders_offset)?a(c.stickyHeaders_offset):[];return d.length?d.height()||0:parseInt(c.stickyHeaders_offset,10)||0}o.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,c,d){if(!(c.$table.hasClass("hasStickyHeaders")||a.inArray("filter",c.widgets)>=0&&!c.$table.hasClass("hasFilters"))){var f,p,v,y=c.$table,w=a(d.stickyHeaders_attachTo||d.stickyHeaders_appendTo),k=c.namespace+"stickyheaders ",A=a(d.stickyHeaders_yScroll||d.stickyHeaders_attachTo||l),C=a(d.stickyHeaders_xScroll||d.stickyHeaders_attachTo||l),x=y.children("thead:first"),S=x.children("tr").not(".sticky-false").children(),s=y.children("tfoot"),h=u(c,d),g=y.parent().closest("."+o.css.table).hasClass("hasStickyHeaders")?y.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],m=g.length?g.height():0,b=d.$sticky=y.clone().addClass("containsStickyHeaders "+o.css.sticky+" "+d.stickyHeaders+" "+c.namespace.slice(1)+"_extra_table").wrap('<div class="'+o.css.stickyWrap+'">'),_=b.parent().addClass(o.css.stickyHide).css({position:w.length?"absolute":"fixed",padding:parseInt(b.parent().parent().css("padding-left"),10),top:h+m,left:0,visibility:"hidden",zIndex:d.stickyHeaders_zIndex||2}),E=b.children("thead:first"),R,j="",H=function(ue,te){var D,J,Q,ne,ie,W=ue.filter(":visible"),V=W.length;for(D=0;D<V;D++)ne=te.filter(":visible").eq(D),ie=W.eq(D),ie.css("box-sizing")==="border-box"?J=ie.outerWidth():ne.css("border-collapse")==="collapse"?l.getComputedStyle?J=parseFloat(l.getComputedStyle(ie[0],null).width):(Q=parseFloat(ie.css("border-width")),J=ie.outerWidth()-parseFloat(ie.css("padding-left"))-parseFloat(ie.css("padding-right"))-Q):J=ie.width(),ne.css({width:J,"min-width":J,"max-width":J})},G=function(ue){return ue===!1&&g.length?y.position().left:w.length?parseInt(w.css("padding-left"),10)||0:y.offset().left-parseInt(y.css("margin-left"),10)-a(l).scrollLeft()},q=function(){_.css({left:G(),width:y.outerWidth()}),H(y,b),H(S,R)},K=function(ue){if(y.is(":visible")){m=g.length?g.offset().top-A.scrollTop()+g.height():0;var te,D=y.offset(),J=u(c,d),Q=a.isWindow(A[0]),ne=Q?A.scrollTop():g.length?parseInt(g[0].style.top,10):A.offset().top,ie=w.length?ne:A.scrollTop(),W=d.stickyHeaders_includeCaption?0:y.children("caption").height()||0,V=ie+J+m-W,se=y.height()-(_.height()+(s.height()||0))-W,Ae=V>D.top&&V<D.top+se?"visible":"hidden",Oe=Ae==="visible"?o.css.stickyVis:o.css.stickyHide,je=!_.hasClass(Oe),De={visibility:Ae};w.length&&(je=!0,De.top=Q?V-w.offset().top:w.scrollTop()),te=G(Q),te!==parseInt(_.css("left"),10)&&(je=!0,De.left=te),De.top=(De.top||0)+(!Q&&g.length?g.height():J+m),je&&_.removeClass(o.css.stickyVis+" "+o.css.stickyHide).addClass(Oe).css(De),(Ae!==j||ue)&&(q(),j=Ae)}};if(w.length&&!w.css("position")&&w.css("position","relative"),b.attr("id")&&(b[0].id+=d.stickyHeaders_cloneId),b.find("> thead:gt(0), tr.sticky-false").hide(),b.find("> tbody, > tfoot").remove(),b.find("caption").toggle(d.stickyHeaders_includeCaption),R=E.children().children(),b.css({height:0,width:0,margin:0}),R.find("."+o.css.resizer).remove(),y.addClass("hasStickyHeaders").bind("pagerComplete"+k,function(){q()}),o.bindEvents(n,E.children().children("."+o.css.header)),d.stickyHeaders_appendTo?a(d.stickyHeaders_appendTo).append(_):y.after(_),c.onRenderHeader)for(v=E.children("tr").children(),p=v.length,f=0;f<p;f++)c.onRenderHeader.apply(v.eq(f),[f,c,b]);C.add(A).unbind("scroll resize ".split(" ").join(k).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(k),function(ue){K(ue.type==="resize")}),c.$table.unbind("stickyHeadersUpdate"+k).bind("stickyHeadersUpdate"+k,function(){K(!0)}),d.stickyHeaders_addResizeEvent&&o.addHeaderResizeEvent(n),y.hasClass("hasFilters")&&d.filter_columnFilters&&(y.bind("filterEnd"+k,function(){var ue=a(document.activeElement).closest("td"),te=ue.parent().children().index(ue);_.hasClass(o.css.stickyVis)&&d.stickyHeaders_filteredToTop&&(l.scrollTo(0,y.position().top),te>=0&&c.$filters&&c.$filters.eq(te).find("a, select, input").filter(":visible").focus())}),o.filter.bindSearch(y,R.find("."+o.css.filter)),d.filter_hideFilters&&o.filter.hideFilters(c,b)),d.stickyHeaders_addResizeEvent&&y.bind("resize"+c.namespace+"stickyheaders",function(){q()}),K(!0),y.triggerHandler("stickyHeadersInit")}},remove:function(n,c,d){var f=c.namespace+"stickyheaders ";c.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(f).replace(/\s+/g," ")).next("."+o.css.stickyWrap).remove(),d.$sticky&&d.$sticky.length&&d.$sticky.remove(),a(l).add(d.stickyHeaders_xScroll).add(d.stickyHeaders_yScroll).add(d.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(f).replace(/\s+/g," ")),o.addHeaderResizeEvent(n,!0)}})}(r,window),function(a,l){"use strict";var o=a.tablesorter||{};a.extend(o.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),a(function(){var u="<style>body."+o.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+o.css.resizableContainer+" { position: relative; height: 1px; }."+o.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";a("head").append(u)}),o.resizable={init:function(u,n){if(!u.$table.hasClass("hasResizable")){u.$table.addClass("hasResizable");var c,d,f,p,v,y=u.$table,w=y.parent(),k=parseInt(y.css("margin-top"),10),A=n.resizable_vars={useStorage:o.storage&&n.resizable!==!1,$wrap:w,mouseXPosition:0,$target:null,$next:null,overflow:w.css("overflow")==="auto"||w.css("overflow")==="scroll"||w.css("overflow-x")==="auto"||w.css("overflow-x")==="scroll",storedSizes:[]};for(o.resizableReset(u.table,!0),A.tableWidth=y.width(),A.fullWidth=Math.abs(w.width()-A.tableWidth)<20,A.useStorage&&A.overflow&&(o.storage(u.table,"tablesorter-table-original-css-width",A.tableWidth),v=o.storage(u.table,"tablesorter-table-resized-width")||"auto",o.resizable.setWidth(y,v,!0)),n.resizable_vars.storedSizes=p=(A.useStorage?o.storage(u.table,o.css.resizableStorage):[])||[],o.resizable.setWidths(u,n,p),o.resizable.updateStoredSizes(u,n),n.$resizable_container=a('<div class="'+o.css.resizableContainer+'">').css({top:k}).insertBefore(y),f=0;f<u.columns;f++)d=u.$headerIndexed[f],v=o.getColumnData(u.table,u.headers,f),c=o.getData(d,v,"resizable")==="false",c||a('<div class="'+o.css.resizableHandle+'">').appendTo(n.$resizable_container).attr({"data-column":f,unselectable:"on"}).data("header",d).bind("selectstart",!1);o.resizable.bindings(u,n)}},updateStoredSizes:function(u,n){var c,d,f=u.columns,p=n.resizable_vars;for(p.storedSizes=[],c=0;c<f;c++)d=u.$headerIndexed[c],p.storedSizes[c]=d.is(":visible")?d.width():0},setWidth:function(u,n,c){u.css({width:n,"min-width":c?n:"","max-width":c?n:""})},setWidths:function(u,n,c){var d,f,p=n.resizable_vars,v=a(u.namespace+"_extra_headers"),y=u.$table.children("colgroup").children("col");if(c=c||p.storedSizes||[],c.length){for(d=0;d<u.columns;d++)o.resizable.setWidth(u.$headerIndexed[d],c[d],p.overflow),v.length&&(f=v.eq(d).add(y.eq(d)),o.resizable.setWidth(f,c[d],p.overflow));f=a(u.namespace+"_extra_table"),f.length&&!o.hasWidget(u.table,"scroller")&&o.resizable.setWidth(f,u.$table.outerWidth(),p.overflow)}},setHandlePosition:function(u,n){var c,d=u.$table.height(),f=n.$resizable_container.children(),p=Math.floor(f.width()/2);o.hasWidget(u.table,"scroller")&&(d=0,u.$table.closest("."+o.css.scrollerWrap).children().each(function(){var v=a(this);d+=v.filter('[style*="height"]').length?v.height():v.children("table").height()})),!n.resizable_includeFooter&&u.$table.children("tfoot").length&&(d-=u.$table.children("tfoot").height()),c=parseFloat(a.fn.jquery)>=3.3?0:u.$table.position().left,f.each(function(){var v=a(this),y=parseInt(v.attr("data-column"),10),w=u.columns-1,k=v.data("header");k&&(!k.is(":visible")||!n.resizable_addLastColumn&&o.resizable.checkVisibleColumns(u,y)?v.hide():(y<w||y===w&&n.resizable_addLastColumn)&&v.css({display:"inline-block",height:d,left:k.position().left-c+k.outerWidth()-p}))})},checkVisibleColumns:function(u,n){var c,d=0;for(c=n+1;c<u.columns;c++)d+=u.$headerIndexed[c].is(":visible")?1:0;return d===0},toggleTextSelection:function(u,n,c){var d=u.namespace+"tsresize";n.resizable_vars.disabled=c,a("body").toggleClass(o.css.resizableNoSelect,c),c?a("body").attr("unselectable","on").bind("selectstart"+d,!1):a("body").removeAttr("unselectable").unbind("selectstart"+d)},bindings:function(u,n){var c=u.namespace+"tsresize";n.$resizable_container.children().bind("mousedown",function(d){var f,p=n.resizable_vars,v=a(u.namespace+"_extra_headers"),y=a(d.target).data("header");f=parseInt(y.attr("data-column"),10),p.$target=y=y.add(v.filter('[data-column="'+f+'"]')),p.target=f,p.$next=d.shiftKey||n.resizable_targetLast?y.parent().children().not(".resizable-false").filter(":last"):y.nextAll(":not(.resizable-false)").eq(0),f=parseInt(p.$next.attr("data-column"),10),p.$next=p.$next.add(v.filter('[data-column="'+f+'"]')),p.next=f,p.mouseXPosition=d.pageX,o.resizable.updateStoredSizes(u,n),o.resizable.toggleTextSelection(u,n,!0)}),a(document).bind("mousemove"+c,function(d){var f=n.resizable_vars;!f.disabled||f.mouseXPosition===0||!f.$target||(n.resizable_throttle?(clearTimeout(f.timer),f.timer=setTimeout(function(){o.resizable.mouseMove(u,n,d)},isNaN(n.resizable_throttle)?5:n.resizable_throttle)):o.resizable.mouseMove(u,n,d))}).bind("mouseup"+c,function(){n.resizable_vars.disabled&&(o.resizable.toggleTextSelection(u,n,!1),o.resizable.stopResize(u,n),o.resizable.setHandlePosition(u,n))}),a(l).bind("resize"+c+" resizeEnd"+c,function(){o.resizable.setHandlePosition(u,n)}),u.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(c+" "),function(){o.resizable.setHandlePosition(u,n)}).bind("resizableReset"+c,function(){o.resizableReset(u.table)}).find("thead:first").add(a(u.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+c,function(){var d=n.resizable_vars.storedSizes.length===0;return o.resizableReset(u.table),o.resizable.setHandlePosition(u,n),n.resizable_vars.storedSizes=[],d})},mouseMove:function(u,n,c){if(!(n.resizable_vars.mouseXPosition===0||!n.resizable_vars.$target)){var d,f=0,p=n.resizable_vars,v=p.$next,y=p.storedSizes[p.target],w=c.pageX-p.mouseXPosition;if(p.overflow){if(y+w>0){for(p.storedSizes[p.target]+=w,o.resizable.setWidth(p.$target,p.storedSizes[p.target],!0),d=0;d<u.columns;d++)f+=p.storedSizes[d];o.resizable.setWidth(u.$table.add(a(u.namespace+"_extra_table")),f)}v.length||(p.$wrap[0].scrollLeft=u.$table.width())}else p.fullWidth?(p.storedSizes[p.target]+=w,p.storedSizes[p.next]-=w,o.resizable.setWidths(u,n)):(p.storedSizes[p.target]+=w,o.resizable.setWidths(u,n));p.mouseXPosition=c.pageX,u.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(u,n){var c=n.resizable_vars;o.resizable.updateStoredSizes(u,n),c.useStorage&&(o.storage(u.table,o.css.resizableStorage,c.storedSizes),o.storage(u.table,"tablesorter-table-resized-width",u.$table.width())),c.mouseXPosition=0,c.$target=c.$next=null,u.$table.triggerHandler("stickyHeadersUpdate"),u.$table.triggerHandler("resizableComplete")}},o.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(u,n,c,d){o.resizable.init(c,d)},format:function(u,n,c){o.resizable.setHandlePosition(n,c)},remove:function(u,n,c,d){if(c.$resizable_container){var f=n.namespace+"tsresize";n.$table.add(a(n.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+f),c.$resizable_container.remove(),o.resizable.toggleTextSelection(n,c,!1),o.resizableReset(u,d),a(document).unbind("mousemove"+f+" mouseup"+f)}}}),o.resizableReset=function(u,n){a(u).each(function(){var c,d,f=this.config,p=f&&f.widgetOptions,v=p.resizable_vars;if(u&&f&&f.$headerIndexed.length){for(v.overflow&&v.tableWidth&&(o.resizable.setWidth(f.$table,v.tableWidth,!0),v.useStorage&&o.storage(u,"tablesorter-table-resized-width",v.tableWidth)),c=0;c<f.columns;c++)d=f.$headerIndexed[c],p.resizable_widths&&p.resizable_widths[c]?o.resizable.setWidth(d,p.resizable_widths[c],v.overflow):d.hasClass("resizable-false")||o.resizable.setWidth(d,"",v.overflow);f.$table.triggerHandler("stickyHeadersUpdate"),o.storage&&!n&&o.storage(this,o.css.resizableStorage,[])}})}}(r,window),function(a){"use strict";var l=a.tablesorter||{};function o(n){var c=l.storage(n.table,"tablesorter-savesort");return c&&c.hasOwnProperty("sortList")&&a.isArray(c.sortList)?c.sortList:[]}function u(n,c){return(c||o(n)).join(",")!==n.sortList.join(",")}l.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(n,c,d,f){c.format(n,d,f,!0)},format:function(n,c,d,f){var p,v=c.$table,y=d.saveSort!==!1,w={sortList:c.sortList},k=l.debug(c,"saveSort");k&&(p=new Date),v.hasClass("hasSaveSort")?y&&n.hasInitialized&&l.storage&&u(c)&&(l.storage(n,"tablesorter-savesort",w),k&&console.log("saveSort >> Saving last sort: "+c.sortList+l.benchmark(p))):(v.addClass("hasSaveSort"),w="",l.storage&&(w=o(c),k&&console.log('saveSort >> Last sort loaded: "'+w+'"'+l.benchmark(p)),v.bind("saveSortReset",function(A){A.stopPropagation(),l.storage(n,"tablesorter-savesort","")})),f&&w&&w.length>0?c.sortList=w:n.hasInitialized&&w&&w.length>0&&u(c,w)&&l.sortOn(c,w))},remove:function(n,c){c.$table.removeClass("hasSaveSort"),l.storage&&l.storage(n,"tablesorter-savesort","")}})}(r),r.tablesorter})}),Q1=LA(DA()),iw=(ew=Q1.default)!=null?ew:Q1;});var rw={};On(rw,{default:()=>iw});var nw=Wt(()=>{sc();Wm();Wm()});function Tw(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return bw!==void 0?bw.createHTML(t):t}function Su(e,t,r=e,a){var l,o,u,n;if(t===Bc)return t;let c=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,d=jc(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==d&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),d===void 0?c=void 0:(c=new d(e),c._$AT(e,r,a)),a!==void 0?((u=(n=r)._$Co)!==null&&u!==void 0?u:n._$Co=[])[a]=c:r._$Cl=c),c!==void 0&&(t=Su(e,c._$AS(e,t.values),c,a)),t}var Zm,Th,xu,bw,Qm,Ts,Sw,KA,ml,$h,jc,Aw,ZA,Jm,Rc,yw,ww,pl,_w,kw,Cw,Ew,EB,TB,Bc,Qn,xw,fl,JA,eg,XA,Pw,Ph,QA,e7,t7,i7,r7,Xm,Nc,Mw=Wt(()=>{Th=window,xu=Th.trustedTypes,bw=xu?xu.createPolicy("lit-html",{createHTML:e=>e}):void 0,Qm="$lit$",Ts=`lit$${(Math.random()+"").slice(9)}$`,Sw="?"+Ts,KA=`<${Sw}>`,ml=document,$h=()=>ml.createComment(""),jc=e=>e===null||typeof e!="object"&&typeof e!="function",Aw=Array.isArray,ZA=e=>Aw(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Jm=`[ 	
\f\r]`,Rc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,yw=/-->/g,ww=/>/g,pl=RegExp(`>|${Jm}(?:([^\\s"'>=/]+)(${Jm}*=${Jm}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),_w=/'/g,kw=/"/g,Cw=/^(?:script|style|textarea|title)$/i,Ew=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),EB=Ew(1),TB=Ew(2),Bc=Symbol.for("lit-noChange"),Qn=Symbol.for("lit-nothing"),xw=new WeakMap,fl=ml.createTreeWalker(ml,129,null,!1);JA=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",u=Rc;for(let n=0;n<r;n++){let c=e[n],d,f,p=-1,v=0;for(;v<c.length&&(u.lastIndex=v,f=u.exec(c),f!==null);)v=u.lastIndex,u===Rc?f[1]==="!--"?u=yw:f[1]!==void 0?u=ww:f[2]!==void 0?(Cw.test(f[2])&&(l=RegExp("</"+f[2],"g")),u=pl):f[3]!==void 0&&(u=pl):u===pl?f[0]===">"?(u=l!=null?l:Rc,p=-1):f[1]===void 0?p=-2:(p=u.lastIndex-f[2].length,d=f[1],u=f[3]===void 0?pl:f[3]==='"'?kw:_w):u===kw||u===_w?u=pl:u===yw||u===ww?u=Rc:(u=pl,l=void 0);let y=u===pl&&e[n+1].startsWith("/>")?" ":"";o+=u===Rc?c+KA:p>=0?(a.push(d),c.slice(0,p)+Qm+c.slice(p)+Ts+y):c+Ts+(p===-2?(a.push(void 0),n):y)}return[Tw(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},eg=class $w{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,u=0,n=t.length-1,c=this.parts,[d,f]=JA(t,r);if(this.el=$w.createElement(d,a),fl.currentNode=this.el.content,r===2){let p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(l=fl.nextNode())!==null&&c.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let p=[];for(let v of l.getAttributeNames())if(v.endsWith(Qm)||v.startsWith(Ts)){let y=f[u++];if(p.push(v),y!==void 0){let w=l.getAttribute(y.toLowerCase()+Qm).split(Ts),k=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?QA:k[1]==="?"?t7:k[1]==="@"?i7:Ph})}else c.push({type:6,index:o})}for(let v of p)l.removeAttribute(v)}if(Cw.test(l.tagName)){let p=l.textContent.split(Ts),v=p.length-1;if(v>0){l.textContent=xu?xu.emptyScript:"";for(let y=0;y<v;y++)l.append(p[y],$h()),fl.nextNode(),c.push({type:2,index:++o});l.append(p[v],$h())}}}else if(l.nodeType===8)if(l.data===Sw)c.push({type:2,index:o});else{let p=-1;for(;(p=l.data.indexOf(Ts,p+1))!==-1;)c.push({type:7,index:o}),p+=Ts.length-1}o++}}static createElement(t,r){let a=ml.createElement("template");return a.innerHTML=t,a}};XA=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:ml).importNode(r,!0);fl.currentNode=l;let o=fl.nextNode(),u=0,n=0,c=a[0];for(;c!==void 0;){if(u===c.index){let d;c.type===2?d=new Pw(o,o.nextSibling,this,e):c.type===1?d=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(d=new r7(o,this,e)),this._$AV.push(d),c=a[++n]}u!==(c==null?void 0:c.index)&&(o=fl.nextNode(),u++)}return fl.currentNode=ml,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Pw=class Ow{constructor(t,r,a,l){var o;this.type=2,this._$AH=Qn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Su(this,t,r),jc(t)?t===Qn||t==null||t===""?(this._$AH!==Qn&&this._$AR(),this._$AH=Qn):t!==this._$AH&&t!==Bc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):ZA(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Qn&&jc(this._$AH)?this._$AA.nextSibling.data=t:this.$(ml.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=eg.createElement(Tw(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let u=new XA(o,this),n=u.u(this.options);u.v(a),this.$(n),this._$AH=u}}_$AC(t){let r=xw.get(t.strings);return r===void 0&&xw.set(t.strings,r=new eg(t)),r}T(t){Aw(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new Ow(this.k($h()),this.k($h()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Ph=class{constructor(e,t,r,a,l){this.type=1,this._$AH=Qn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Qn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=Su(this,e,t,0),o=!jc(e)||e!==this._$AH&&e!==Bc,o&&(this._$AH=e);else{let u=e,n,c;for(e=l[0],n=0;n<l.length-1;n++)c=Su(this,u[r+n],t,n),c===Bc&&(c=this._$AH[n]),o||(o=!jc(c)||c!==this._$AH[n]),c===Qn?e=Qn:e!==Qn&&(e+=(c!=null?c:"")+l[n+1]),this._$AH[n]=c}o&&!a&&this.j(e)}j(e){e===Qn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},QA=class extends Ph{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Qn?void 0:e}},e7=xu?xu.emptyScript:"",t7=class extends Ph{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Qn?this.element.setAttribute(this.name,e7):this.element.removeAttribute(this.name)}},i7=class extends Ph{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Su(this,e,t,0))!==null&&r!==void 0?r:Qn)===Bc)return;let a=this._$AH,l=e===Qn&&a!==Qn||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==Qn&&(a===Qn||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},r7=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Su(this,e)}},Xm=Th.litHtmlPolyfillSupport;Xm==null||Xm(eg,Pw),((Zm=Th.litHtmlVersions)!==null&&Zm!==void 0?Zm:Th.litHtmlVersions=[]).push("2.8.0");Nc=e=>e!=null?e:Qn;});var Oh=Wt(()=>{Mw()});var Tu,Eo,La,Xa,$s,$u,Lh,Pu,Da,Nn=Wt(()=>{Tu=class{parseValue(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}};Tu.shared=new Tu;Eo=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=parseFloat(e);if(!Number.isNaN(t))return t}};Eo.shared=new Eo;La=class{parseValue(e){return Eo.shared.parseValue(e)}};La.shared=new La;Xa=class{parseValue(e){return this.parseJSDate(e)||this.parseBracketDate(e)}parseBracketDate(e){if(typeof e!="string")return;let t=e.match(/\[([0-9]{4})\]/);if(!(!t||t.length<2))return this.parseJSDate(t[1])}parseJSDate(e){if(typeof e!="string")return;let t=e;t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(t=t.replace(" ","T"));let r=Date.parse(t);if(Number.isNaN(r))return;let a=new Date(t);return(t.indexOf("Z")>-1||t.indexOf("+")>-1||t.match(/^[0-9]{4}$/)||t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||t.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||t.match(/^.*?-[0-9]{4}$/))&&(a=new Date(a.getTime()+a.getTimezoneOffset()*1e3*60)),a}};Xa.shared=new Xa;$s=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=e.split(":"),r;return t.length===1?r=this.parseNumberFormat(t[0]):r=this.parseColonSeparatedFormat(t),r}parseNumberFormat(e){let t=parseFloat(e);return Number.isNaN(t)&&(t=void 0),t}parseColonSeparatedFormat(e){let t=!1,r=e.map((a,l)=>{let o=parseFloat(a);if(Number.isNaN(o))return t=!0,0;let u=xn(60,e.length-1-l);return o*Math.floor(u)}).reduce((a,l)=>a+l,0);return t?void 0:r}};$s.shared=new $s;$u=class{parseValue(e){if(typeof e=="string")return e}};$u.shared=new $u;Lh=class{constructor(e,t){this.separators=[";",","],this.parser=e,t&&t.separators&&(this.separators=t.separators)}parseValue(e){let t=String(e),r=[];for(let a of this.separators)if(r=t.split(a),r.length>1)break;return this.parseListValues(r)}parseListValues(e){let t=e.map(a=>a.trim()).map(a=>this.parser.parseValue(a)),r=[];return t.forEach(a=>{a!==void 0&&r.push(a)}),r}},Pu=class{parseValue(e){if(typeof e=="string")return e}};Pu.shared=new Pu;Da=class{parseValue(e){return String(e)}};Da.shared=new Da});var Q7,Xw,Qw,eC,e2,fg=Wt(()=>{Q7={};(function(){var e,t={34:function(o,u,n){"use strict";var c=n(4901);o.exports=function(d){return typeof d=="object"?d!==null:c(d)}},81:function(o,u,n){"use strict";var c=n(9565),d=n(9306),f=n(8551),p=n(6823),v=n(851),y=TypeError;o.exports=function(w,k){var A=arguments.length<2?v(w):k;if(d(A))return f(c(A,w));throw new y(p(w)+" is not iterable")}},113:function(o,u,n){"use strict";var c=n(6518),d=n(9213).find,f=n(6469),p="find",v=!0;p in[]&&Array(1)[p](function(){v=!1}),c({target:"Array",proto:!0,forced:v},{find:function(y){return d(this,y,arguments.length>1?arguments[1]:void 0)}}),f(p)},235:function(o,u,n){"use strict";var c=n(9213).forEach,d=n(4598)("forEach");o.exports=d?[].forEach:function(f){return c(this,f,arguments.length>1?arguments[1]:void 0)}},237:function(o,u,n){"use strict";n(6469)("flatMap")},259:function(o,u,n){"use strict";var c=n(4376),d=n(6198),f=n(6837),p=n(6080),v=function(y,w,k,A,C,x,S,s){for(var h,g,m=C,b=0,_=!!S&&p(S,s);b<A;)b in k&&(h=_?_(k[b],b,w):k[b],x>0&&c(h)?(g=d(h),m=v(y,w,h,g,m,x-1)-1):(f(m+1),y[m]=h),m++),b++;return m};o.exports=v},280:function(o,u,n){"use strict";var c=n(6518),d=n(7751),f=n(6395),p=n(550),v=n(916).CONSTRUCTOR,y=n(3438),w=d("Promise"),k=f&&!v;c({target:"Promise",stat:!0,forced:f||v},{resolve:function(A){return y(k&&this===w?p:this,A)}})},283:function(o,u,n){"use strict";var c=n(9504),d=n(9039),f=n(4901),p=n(9297),v=n(3724),y=n(350).CONFIGURABLE,w=n(3706),k=n(1181),A=k.enforce,C=k.get,x=String,S=Object.defineProperty,s=c("".slice),h=c("".replace),g=c([].join),m=v&&!d(function(){return S(function(){},"length",{value:8}).length!==8}),b=String(String).split("String"),_=o.exports=function(E,R,j){s(x(R),0,7)==="Symbol("&&(R="["+h(x(R),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),j&&j.getter&&(R="get "+R),j&&j.setter&&(R="set "+R),(!p(E,"name")||y&&E.name!==R)&&(v?S(E,"name",{value:R,configurable:!0}):E.name=R),m&&j&&p(j,"arity")&&E.length!==j.arity&&S(E,"length",{value:j.arity});try{j&&p(j,"constructor")&&j.constructor?v&&S(E,"prototype",{writable:!1}):E.prototype&&(E.prototype=void 0)}catch(G){}var H=A(E);return p(H,"source")||(H.source=g(b,typeof R=="string"?R:"")),E};Function.prototype.toString=_(function(){return f(this)&&C(this).source||w(this)},"toString")},298:function(o,u,n){"use strict";var c=n(2195),d=n(5397),f=n(8480).f,p=n(7680),v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(y){return v&&c(y)==="Window"?function(w){try{return f(w)}catch(k){return p(v)}}(y):f(d(y))}},350:function(o,u,n){"use strict";var c=n(3724),d=n(9297),f=Function.prototype,p=c&&Object.getOwnPropertyDescriptor,v=d(f,"name"),y=v&&function(){}.name==="something",w=v&&(!c||c&&p(f,"name").configurable);o.exports={EXISTS:v,PROPER:y,CONFIGURABLE:w}},397:function(o,u,n){"use strict";var c=n(7751);o.exports=c("document","documentElement")},420:function(o,u,n){"use strict";function c(xe){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},c(xe)}function d(xe,Ce){(Ce==null||Ce>xe.length)&&(Ce=xe.length);for(var Ue=0,Te=Array(Ce);Ue<Ce;Ue++)Te[Ue]=xe[Ue];return Te}function f(xe,Ce){for(var Ue=0;Ue<Ce.length;Ue++){var Te=Ce[Ue];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(xe,p(Te.key),Te)}}function p(xe){var Ce=function(Ue){if(c(Ue)!="object"||!Ue)return Ue;var Te=Ue[Symbol.toPrimitive];if(Te!==void 0){var it=Te.call(Ue,"string");if(c(it)!="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)}(xe);return c(Ce)=="symbol"?Ce:Ce+""}n.d(u,{WF:function(){return pe},AH:function(){return x},qy:function(){return je.qy},s6:function(){return je.s6},XX:function(){return je.XX},JW:function(){return je.JW}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(6449),n(3418),n(3792),n(4490),n(4782),n(4554),n(3514),n(739),n(9572),n(2010),n(6033),n(8130),n(1480),n(875),n(9432),n(6099),n(3362),n(825),n(7495),n(8781),n(1415),n(7764),n(3500),n(2953),n(2062),n(2712),n(3772);var v,y=window,w=y.ShadowRoot&&(y.ShadyCSS===void 0||y.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,k=Symbol(),A=new WeakMap,C=function(){return function(xe,Ce){return Ce&&f(xe.prototype,Ce),Object.defineProperty(xe,"prototype",{writable:!1}),xe}(function xe(Ce,Ue,Te){if(function(it,Me){if(!(it instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,xe),this._$cssResult$=!0,Te!==k)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Ce,this.t=Ue},[{key:"styleSheet",get:function(){var xe=this.o,Ce=this.t;if(w&&xe===void 0){var Ue=Ce!==void 0&&Ce.length===1;Ue&&(xe=A.get(Ce)),xe===void 0&&((this.o=xe=new CSSStyleSheet).replaceSync(this.cssText),Ue&&A.set(Ce,xe))}return xe}},{key:"toString",value:function(){return this.cssText}}])}(),x=function(xe){for(var Ce=arguments.length,Ue=new Array(Ce>1?Ce-1:0),Te=1;Te<Ce;Te++)Ue[Te-1]=arguments[Te];var it=xe.length===1?xe[0]:Ue.reduce(function(Me,mt,He){return Me+function(We){if(We._$cssResult$===!0)return We.cssText;if(typeof We=="number")return We;throw Error("Value passed to 'css' function must be a 'css' function result: "+We+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(mt)+xe[He+1]},xe[0]);return new C(it,xe,k)},S=w?function(xe){return xe}:function(xe){return xe instanceof CSSStyleSheet?function(Ce){var Ue,Te="",it=function(Me,mt){var He=typeof Symbol<"u"&&Me[Symbol.iterator]||Me["@@iterator"];if(!He){if(Array.isArray(Me)||(He=function(oe,Pe){if(oe){if(typeof oe=="string")return d(oe,Pe);var Ze={}.toString.call(oe).slice(8,-1);return Ze==="Object"&&oe.constructor&&(Ze=oe.constructor.name),Ze==="Map"||Ze==="Set"?Array.from(oe):Ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze)?d(oe,Pe):void 0}}(Me))||mt&&Me&&typeof Me.length=="number"){He&&(Me=He);var We=0,yt=function(){};return{s:yt,n:function(){return We>=Me.length?{done:!0}:{done:!1,value:Me[We++]}},e:function(oe){throw oe},f:yt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ot,Ft=!0,rt=!1;return{s:function(){He=He.call(Me)},n:function(){var oe=He.next();return Ft=oe.done,oe},e:function(oe){rt=!0,Ot=oe},f:function(){try{Ft||He.return==null||He.return()}finally{if(rt)throw Ot}}}}(Ce.cssRules);try{for(it.s();!(Ue=it.n()).done;)Te+=Ue.value.cssText}catch(Me){it.e(Me)}finally{it.f()}return function(Me){return new C(typeof Me=="string"?Me:Me+"",void 0,k)}(Te)}(xe):xe};function s(xe,Ce){var Ue=typeof Symbol<"u"&&xe[Symbol.iterator]||xe["@@iterator"];if(!Ue){if(Array.isArray(xe)||(Ue=g(xe))||Ce&&xe&&typeof xe.length=="number"){Ue&&(xe=Ue);var Te=0,it=function(){};return{s:it,n:function(){return Te>=xe.length?{done:!0}:{done:!1,value:xe[Te++]}},e:function(We){throw We},f:it}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Me,mt=!0,He=!1;return{s:function(){Ue=Ue.call(xe)},n:function(){var We=Ue.next();return mt=We.done,We},e:function(We){He=!0,Me=We},f:function(){try{mt||Ue.return==null||Ue.return()}finally{if(He)throw Me}}}}function h(xe){return function(Ce){if(Array.isArray(Ce))return m(Ce)}(xe)||function(Ce){if(typeof Symbol<"u"&&Ce[Symbol.iterator]!=null||Ce["@@iterator"]!=null)return Array.from(Ce)}(xe)||g(xe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g(xe,Ce){if(xe){if(typeof xe=="string")return m(xe,Ce);var Ue={}.toString.call(xe).slice(8,-1);return Ue==="Object"&&xe.constructor&&(Ue=xe.constructor.name),Ue==="Map"||Ue==="Set"?Array.from(xe):Ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ue)?m(xe,Ce):void 0}}function m(xe,Ce){(Ce==null||Ce>xe.length)&&(Ce=xe.length);for(var Ue=0,Te=Array(Ce);Ue<Ce;Ue++)Te[Ue]=xe[Ue];return Te}function b(xe){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},b(xe)}function _(){var xe,Ce,Ue=typeof Symbol=="function"?Symbol:{},Te=Ue.iterator||"@@iterator",it=Ue.toStringTag||"@@toStringTag";function Me(oe,Pe,Ze,Je){var qe=Pe&&Pe.prototype instanceof He?Pe:He,M=Object.create(qe.prototype);return E(M,"_invoke",function(be,he,Ge){var vt,kt,ce,_e=0,Re=Ge||[],st=!1,xt={p:0,n:0,v:xe,a:Mt,f:Mt.bind(xe,4),d:function(Bt,Rt){return vt=Bt,kt=0,ce=xe,xt.n=Rt,mt}};function Mt(Bt,Rt){for(kt=Bt,ce=Rt,Ce=0;!st&&_e&&!qt&&Ce<Re.length;Ce++){var qt,Be=Re[Ce],me=xt.p,ze=Be[2];Bt>3?(qt=ze===Rt)&&(ce=Be[(kt=Be[4])?5:(kt=3,3)],Be[4]=Be[5]=xe):Be[0]<=me&&((qt=Bt<2&&me<Be[1])?(kt=0,xt.v=Rt,xt.n=Be[1]):me<ze&&(qt=Bt<3||Be[0]>Rt||Rt>ze)&&(Be[4]=Bt,Be[5]=Rt,xt.n=ze,kt=0))}if(qt||Bt>1)return mt;throw st=!0,Rt}return function(Bt,Rt,qt){if(_e>1)throw TypeError("Generator is already running");for(st&&Rt===1&&Mt(Rt,qt),kt=Rt,ce=qt;(Ce=kt<2?xe:ce)||!st;){vt||(kt?kt<3?(kt>1&&(xt.n=-1),Mt(kt,ce)):xt.n=ce:xt.v=ce);try{if(_e=2,vt){if(kt||(Bt="next"),Ce=vt[Bt]){if(!(Ce=Ce.call(vt,ce)))throw TypeError("iterator result is not an object");if(!Ce.done)return Ce;ce=Ce.value,kt<2&&(kt=0)}else kt===1&&(Ce=vt.return)&&Ce.call(vt),kt<2&&(ce=TypeError("The iterator does not provide a '"+Bt+"' method"),kt=1);vt=xe}else if((Ce=(st=xt.n<0)?ce:be.call(he,xt))!==mt)break}catch(Be){vt=xe,kt=1,ce=Be}finally{_e=1}}return{value:Ce,done:st}}}(oe,Ze,Je),!0),M}var mt={};function He(){}function We(){}function yt(){}Ce=Object.getPrototypeOf;var Ot=[][Te]?Ce(Ce([][Te]())):(E(Ce={},Te,function(){return this}),Ce),Ft=yt.prototype=He.prototype=Object.create(Ot);function rt(oe){return Object.setPrototypeOf?Object.setPrototypeOf(oe,yt):(oe.__proto__=yt,E(oe,it,"GeneratorFunction")),oe.prototype=Object.create(Ft),oe}return We.prototype=yt,E(Ft,"constructor",yt),E(yt,"constructor",We),We.displayName="GeneratorFunction",E(yt,it,"GeneratorFunction"),E(Ft),E(Ft,it,"Generator"),E(Ft,Te,function(){return this}),E(Ft,"toString",function(){return"[object Generator]"}),(_=function(){return{w:Me,m:rt}})()}function E(xe,Ce,Ue,Te){var it=Object.defineProperty;try{it({},"",{})}catch(Me){it=0}E=function(Me,mt,He,We){function yt(Ot,Ft){E(Me,Ot,function(rt){return this._invoke(Ot,Ft,rt)})}mt?it?it(Me,mt,{value:He,enumerable:!We,configurable:!We,writable:!We}):Me[mt]=He:(yt("next",0),yt("throw",1),yt("return",2))},E(xe,Ce,Ue,Te)}function R(xe,Ce,Ue,Te,it,Me,mt){try{var He=xe[Me](mt),We=He.value}catch(yt){return void Ue(yt)}He.done?Ce(We):Promise.resolve(We).then(Te,it)}function j(xe,Ce){for(var Ue=0;Ue<Ce.length;Ue++){var Te=Ce[Ue];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(xe,H(Te.key),Te)}}function H(xe){var Ce=function(Ue){if(b(Ue)!="object"||!Ue)return Ue;var Te=Ue[Symbol.toPrimitive];if(Te!==void 0){var it=Te.call(Ue,"string");if(b(it)!="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)}(xe);return b(Ce)=="symbol"?Ce:Ce+""}function G(xe){var Ce=typeof Map=="function"?new Map:void 0;return G=function(Ue){if(Ue===null||!function(it){try{return Function.toString.call(it).indexOf("[native code]")!==-1}catch(Me){return typeof it=="function"}}(Ue))return Ue;if(typeof Ue!="function")throw new TypeError("Super expression must either be null or a function");if(Ce!==void 0){if(Ce.has(Ue))return Ce.get(Ue);Ce.set(Ue,Te)}function Te(){return function(it,Me,mt){if(q())return Reflect.construct.apply(null,arguments);var He=[null];He.push.apply(He,Me);var We=new(it.bind.apply(it,He));return mt&&K(We,mt.prototype),We}(Ue,arguments,ue(this).constructor)}return Te.prototype=Object.create(Ue.prototype,{constructor:{value:Te,enumerable:!1,writable:!0,configurable:!0}}),K(Te,Ue)},G(xe)}function q(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Ce){}return(q=function(){return!!xe})()}function K(xe,Ce){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,Te){return Ue.__proto__=Te,Ue},K(xe,Ce)}function ue(xe){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},ue(xe)}var te=window,D=te.trustedTypes,J=D?D.emptyScript:"",Q=te.reactiveElementPolyfillSupport,ne={toAttribute:function(xe,Ce){switch(Ce){case Boolean:xe=xe?J:null;break;case Object:case Array:xe=xe==null?xe:JSON.stringify(xe)}return xe},fromAttribute:function(xe,Ce){var Ue=xe;switch(Ce){case Boolean:Ue=xe!==null;break;case Number:Ue=xe===null?null:Number(xe);break;case Object:case Array:try{Ue=JSON.parse(xe)}catch(Te){Ue=null}}return Ue}},ie=function(xe,Ce){return Ce!==xe&&(Ce==Ce||xe==xe)},W={attribute:!0,type:String,converter:ne,reflect:!1,hasChanged:ie},V="finalized",se=function(xe){function Ce(){var Te;return function(it,Me){if(!(it instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,Ce),(Te=function(it,Me,mt){return Me=ue(Me),function(He,We){if(We&&(b(We)=="object"||typeof We=="function"))return We;if(We!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(He)}(it,q()?Reflect.construct(Me,mt||[],ue(it).constructor):Me.apply(it,mt))}(this,Ce))._$Ei=new Map,Te.isUpdatePending=!1,Te.hasUpdated=!1,Te._$El=null,Te._$Eu(),Te}return function(Te,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(it&&it.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),it&&K(Te,it)}(Ce,xe),function(Te,it,Me){return it&&j(Te.prototype,it),Me&&j(Te,Me),Object.defineProperty(Te,"prototype",{writable:!1}),Te}(Ce,[{key:"_$Eu",value:function(){var Te,it=this;this._$E_=new Promise(function(Me){return it.enableUpdating=Me}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(Te=this.constructor.h)===null||Te===void 0||Te.forEach(function(Me){return Me(it)})}},{key:"addController",value:function(Te){var it,Me;((it=this._$ES)!==null&&it!==void 0?it:this._$ES=[]).push(Te),this.renderRoot!==void 0&&this.isConnected&&((Me=Te.hostConnected)===null||Me===void 0||Me.call(Te))}},{key:"removeController",value:function(Te){var it;(it=this._$ES)===null||it===void 0||it.splice(this._$ES.indexOf(Te)>>>0,1)}},{key:"_$Eg",value:function(){var Te=this;this.constructor.elementProperties.forEach(function(it,Me){Te.hasOwnProperty(Me)&&(Te._$Ei.set(Me,Te[Me]),delete Te[Me])})}},{key:"createRenderRoot",value:function(){var Te,it=(Te=this.shadowRoot)!==null&&Te!==void 0?Te:this.attachShadow(this.constructor.shadowRootOptions);return function(Me,mt){w?Me.adoptedStyleSheets=mt.map(function(He){return He instanceof CSSStyleSheet?He:He.styleSheet}):mt.forEach(function(He){var We=document.createElement("style"),yt=y.litNonce;yt!==void 0&&We.setAttribute("nonce",yt),We.textContent=He.cssText,Me.appendChild(We)})}(it,this.constructor.elementStyles),it}},{key:"connectedCallback",value:function(){var Te;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Te=this._$ES)===null||Te===void 0||Te.forEach(function(it){var Me;return(Me=it.hostConnected)===null||Me===void 0?void 0:Me.call(it)})}},{key:"enableUpdating",value:function(Te){}},{key:"disconnectedCallback",value:function(){var Te;(Te=this._$ES)===null||Te===void 0||Te.forEach(function(it){var Me;return(Me=it.hostDisconnected)===null||Me===void 0?void 0:Me.call(it)})}},{key:"attributeChangedCallback",value:function(Te,it,Me){this._$AK(Te,Me)}},{key:"_$EO",value:function(Te,it){var Me,mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:W,He=this.constructor._$Ep(Te,mt);if(He!==void 0&&mt.reflect===!0){var We=(((Me=mt.converter)===null||Me===void 0?void 0:Me.toAttribute)!==void 0?mt.converter:ne).toAttribute(it,mt.type);this._$El=Te,We==null?this.removeAttribute(He):this.setAttribute(He,We),this._$El=null}}},{key:"_$AK",value:function(Te,it){var Me,mt=this.constructor,He=mt._$Ev.get(Te);if(He!==void 0&&this._$El!==He){var We=mt.getPropertyOptions(He),yt=typeof We.converter=="function"?{fromAttribute:We.converter}:((Me=We.converter)===null||Me===void 0?void 0:Me.fromAttribute)!==void 0?We.converter:ne;this._$El=He,this[He]=yt.fromAttribute(it,We.type),this._$El=null}}},{key:"requestUpdate",value:function(Te,it,Me){var mt=!0;Te!==void 0&&(((Me=Me||this.constructor.getPropertyOptions(Te)).hasChanged||ie)(this[Te],it)?(this._$AL.has(Te)||this._$AL.set(Te,it),Me.reflect===!0&&this._$El!==Te&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(Te,Me))):mt=!1),!this.isUpdatePending&&mt&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(Ue=function(Te){return function(){var it=this,Me=arguments;return new Promise(function(mt,He){var We=Te.apply(it,Me);function yt(Ft){R(We,mt,He,yt,Ot,"next",Ft)}function Ot(Ft){R(We,mt,He,yt,Ot,"throw",Ft)}yt(void 0)})}}(_().m(function Te(){var it,Me;return _().w(function(mt){for(;;)switch(mt.p=mt.n){case 0:return this.isUpdatePending=!0,mt.p=1,mt.n=2,this._$E_;case 2:mt.n=4;break;case 3:mt.p=3,Me=mt.v,Promise.reject(Me);case 4:if((it=this.scheduleUpdate())==null){mt.n=5;break}return mt.n=5,it;case 5:return mt.a(2,!this.isUpdatePending)}},Te,this,[[1,3]])})),function(){return Ue.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var Te,it=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(He,We){return it[We]=He}),this._$Ei=void 0);var Me=!1,mt=this._$AL;try{(Me=this.shouldUpdate(mt))?(this.willUpdate(mt),(Te=this._$ES)===null||Te===void 0||Te.forEach(function(He){var We;return(We=He.hostUpdate)===null||We===void 0?void 0:We.call(He)}),this.update(mt)):this._$Ek()}catch(He){throw Me=!1,this._$Ek(),He}Me&&this._$AE(mt)}}},{key:"willUpdate",value:function(Te){}},{key:"_$AE",value:function(Te){var it;(it=this._$ES)===null||it===void 0||it.forEach(function(Me){var mt;return(mt=Me.hostUpdated)===null||mt===void 0?void 0:mt.call(Me)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Te)),this.updated(Te)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(Te){return!0}},{key:"update",value:function(Te){var it=this;this._$EC!==void 0&&(this._$EC.forEach(function(Me,mt){return it._$EO(mt,it[mt],Me)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(Te){}},{key:"firstUpdated",value:function(Te){}}],[{key:"addInitializer",value:function(Te){var it;this.finalize(),((it=this.h)!==null&&it!==void 0?it:this.h=[]).push(Te)}},{key:"observedAttributes",get:function(){var Te=this;this.finalize();var it=[];return this.elementProperties.forEach(function(Me,mt){var He=Te._$Ep(mt,Me);He!==void 0&&(Te._$Ev.set(He,mt),it.push(He))}),it}},{key:"createProperty",value:function(Te){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W;if(it.state&&(it.attribute=!1),this.finalize(),this.elementProperties.set(Te,it),!it.noAccessor&&!this.prototype.hasOwnProperty(Te)){var Me=b(Te)=="symbol"?Symbol():"__"+Te,mt=this.getPropertyDescriptor(Te,Me,it);mt!==void 0&&Object.defineProperty(this.prototype,Te,mt)}}},{key:"getPropertyDescriptor",value:function(Te,it,Me){return{get:function(){return this[it]},set:function(mt){var He=this[Te];this[it]=mt,this.requestUpdate(Te,He,Me)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(Te){return this.elementProperties.get(Te)||W}},{key:"finalize",value:function(){if(this.hasOwnProperty(V))return!1;this[V]=!0;var Te=Object.getPrototypeOf(this);if(Te.finalize(),Te.h!==void 0&&(this.h=h(Te.h)),this.elementProperties=new Map(Te.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var it,Me=this.properties,mt=s([].concat(h(Object.getOwnPropertyNames(Me)),h(Object.getOwnPropertySymbols(Me))));try{for(mt.s();!(it=mt.n()).done;){var He=it.value;this.createProperty(He,Me[He])}}catch(We){mt.e(We)}finally{mt.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(Te){var it=[];if(Array.isArray(Te)){var Me,mt=s(new Set(Te.flat(1/0).reverse()));try{for(mt.s();!(Me=mt.n()).done;){var He=Me.value;it.unshift(S(He))}}catch(We){mt.e(We)}finally{mt.f()}}else Te!==void 0&&it.push(S(Te));return it}},{key:"_$Ep",value:function(Te,it){var Me=it.attribute;return Me===!1?void 0:typeof Me=="string"?Me:typeof Te=="string"?Te.toLowerCase():void 0}}]);var Ue}(G(HTMLElement));se[V]=!0,se.elementProperties=new Map,se.elementStyles=[],se.shadowRootOptions={mode:"open"},Q==null||Q({ReactiveElement:se}),((v=te.reactiveElementVersions)!==null&&v!==void 0?v:te.reactiveElementVersions=[]).push("1.6.3");var Ae,Oe,je=n(6681);function De(xe){return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},De(xe)}function Se(xe,Ce){for(var Ue=0;Ue<Ce.length;Ue++){var Te=Ce[Ue];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(xe,de(Te.key),Te)}}function de(xe){var Ce=function(Ue){if(De(Ue)!="object"||!Ue)return Ue;var Te=Ue[Symbol.toPrimitive];if(Te!==void 0){var it=Te.call(Ue,"string");if(De(it)!="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)}(xe);return De(Ce)=="symbol"?Ce:Ce+""}function Xe(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function ht(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Ce){}return(ht=function(){return!!xe})()}function nt(xe,Ce,Ue,Te){var it=lt(ot(1&Te?xe.prototype:xe),Ce,Ue);return 2&Te&&typeof it=="function"?function(Me){return it.apply(Ue,Me)}:it}function lt(){return lt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(xe,Ce,Ue){var Te=function(Me,mt){for(;!{}.hasOwnProperty.call(Me,mt)&&(Me=ot(Me))!==null;);return Me}(xe,Ce);if(Te){var it=Object.getOwnPropertyDescriptor(Te,Ce);return it.get?it.get.call(arguments.length<3?xe:Ue):it.value}},lt.apply(null,arguments)}function ot(xe){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},ot(xe)}function ve(xe,Ce){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,Te){return Ue.__proto__=Te,Ue},ve(xe,Ce)}n(3851),n(888),n(2480);var pe=function(xe){function Ce(){var Ue;return function(Te,it){if(!(Te instanceof it))throw new TypeError("Cannot call a class as a function")}(this,Ce),(Ue=function(Te,it,Me){return it=ot(it),function(mt,He){if(He&&(De(He)=="object"||typeof He=="function"))return He;if(He!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xe(mt)}(Te,ht()?Reflect.construct(it,Me||[],ot(Te).constructor):it.apply(Te,Me))}(this,Ce,arguments)).renderOptions={host:Xe(Ue)},Ue._$Do=void 0,Ue}return function(Ue,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(Te&&Te.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),Object.defineProperty(Ue,"prototype",{writable:!1}),Te&&ve(Ue,Te)}(Ce,xe),function(Ue,Te){return Te&&Se(Ue.prototype,Te),Object.defineProperty(Ue,"prototype",{writable:!1}),Ue}(Ce,[{key:"createRenderRoot",value:function(){var Ue,Te,it=nt(Ce,"createRenderRoot",this,3)([]);return(Ue=(Te=this.renderOptions).renderBefore)!==null&&Ue!==void 0||(Te.renderBefore=it.firstChild),it}},{key:"update",value:function(Ue){var Te=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),nt(Ce,"update",this,3)([Ue]),this._$Do=(0,je.XX)(Te,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var Ue;nt(Ce,"connectedCallback",this,3)([]),(Ue=this._$Do)===null||Ue===void 0||Ue.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var Ue;nt(Ce,"disconnectedCallback",this,3)([]),(Ue=this._$Do)===null||Ue===void 0||Ue.setConnected(!1)}},{key:"render",value:function(){return je.c0}}])}(se);pe.finalized=!0,pe._$litElement$=!0,(Ae=globalThis.litElementHydrateSupport)===null||Ae===void 0||Ae.call(globalThis,{LitElement:pe});var tt=globalThis.litElementPolyfillSupport;tt==null||tt({LitElement:pe}),((Oe=globalThis.litElementVersions)!==null&&Oe!==void 0?Oe:globalThis.litElementVersions=[]).push("3.3.3")},421:function(o){"use strict";o.exports={}},436:function(o,u,n){"use strict";var c,d,f,p,v=n(6518),y=n(6395),w=n(6193),k=n(4576),A=n(9167),C=n(9565),x=n(6840),S=n(2967),s=n(687),h=n(7633),g=n(9306),m=n(4901),b=n(34),_=n(679),E=n(2293),R=n(9225).set,j=n(1955),H=n(3138),G=n(1103),q=n(8265),K=n(1181),ue=n(550),te=n(916),D=n(6043),J="Promise",Q=te.CONSTRUCTOR,ne=te.REJECTION_EVENT,ie=te.SUBCLASSING,W=K.getterFor(J),V=K.set,se=ue&&ue.prototype,Ae=ue,Oe=se,je=k.TypeError,De=k.document,Se=k.process,de=D.f,Xe=de,ht=!!(De&&De.createEvent&&k.dispatchEvent),nt="unhandledrejection",lt=function(Me){var mt;return!(!b(Me)||!m(mt=Me.then))&&mt},ot=function(Me,mt){var He,We,yt,Ot=mt.value,Ft=mt.state===1,rt=Ft?Me.ok:Me.fail,oe=Me.resolve,Pe=Me.reject,Ze=Me.domain;try{rt?(Ft||(mt.rejection===2&&Ce(mt),mt.rejection=1),rt===!0?He=Ot:(Ze&&Ze.enter(),He=rt(Ot),Ze&&(Ze.exit(),yt=!0)),He===Me.promise?Pe(new je("Promise-chain cycle")):(We=lt(He))?C(We,He,oe,Pe):oe(He)):Pe(Ot)}catch(Je){Ze&&!yt&&Ze.exit(),Pe(Je)}},ve=function(Me,mt){Me.notified||(Me.notified=!0,j(function(){for(var He,We=Me.reactions;He=We.get();)ot(He,Me);Me.notified=!1,mt&&!Me.rejection&&tt(Me)}))},pe=function(Me,mt,He){var We,yt;ht?((We=De.createEvent("Event")).promise=mt,We.reason=He,We.initEvent(Me,!1,!0),k.dispatchEvent(We)):We={promise:mt,reason:He},!ne&&(yt=k["on"+Me])?yt(We):Me===nt&&H("Unhandled promise rejection",He)},tt=function(Me){C(R,k,function(){var mt,He=Me.facade,We=Me.value;if(xe(Me)&&(mt=G(function(){w?Se.emit("unhandledRejection",We,He):pe(nt,He,We)}),Me.rejection=w||xe(Me)?2:1,mt.error))throw mt.value})},xe=function(Me){return Me.rejection!==1&&!Me.parent},Ce=function(Me){C(R,k,function(){var mt=Me.facade;w?Se.emit("rejectionHandled",mt):pe("rejectionhandled",mt,Me.value)})},Ue=function(Me,mt,He){return function(We){Me(mt,We,He)}},Te=function(Me,mt,He){Me.done||(Me.done=!0,He&&(Me=He),Me.value=mt,Me.state=2,ve(Me,!0))},it=function(Me,mt,He){if(!Me.done){Me.done=!0,He&&(Me=He);try{if(Me.facade===mt)throw new je("Promise can't be resolved itself");var We=lt(mt);We?j(function(){var yt={done:!1};try{C(We,mt,Ue(it,yt,Me),Ue(Te,yt,Me))}catch(Ot){Te(yt,Ot,Me)}}):(Me.value=mt,Me.state=1,ve(Me,!1))}catch(yt){Te({done:!1},yt,Me)}}};if(Q&&(Oe=(Ae=function(Me){_(this,Oe),g(Me),C(c,this);var mt=W(this);try{Me(Ue(it,mt),Ue(Te,mt))}catch(He){Te(mt,He)}}).prototype,(c=function(Me){V(this,{type:J,done:!1,notified:!1,parent:!1,reactions:new q,rejection:!1,state:0,value:null})}).prototype=x(Oe,"then",function(Me,mt){var He=W(this),We=de(E(this,Ae));return He.parent=!0,We.ok=!m(Me)||Me,We.fail=m(mt)&&mt,We.domain=w?Se.domain:void 0,He.state===0?He.reactions.add(We):j(function(){ot(We,He)}),We.promise}),d=function(){var Me=new c,mt=W(Me);this.promise=Me,this.resolve=Ue(it,mt),this.reject=Ue(Te,mt)},D.f=de=function(Me){return Me===Ae||Me===f?new d(Me):Xe(Me)},!y&&m(ue)&&se!==Object.prototype)){p=se.then,ie||x(se,"then",function(Me,mt){var He=this;return new Ae(function(We,yt){C(p,He,We,yt)}).then(Me,mt)},{unsafe:!0});try{delete se.constructor}catch(Me){}S&&S(se,Oe)}v({global:!0,constructor:!0,wrap:!0,forced:Q},{Promise:Ae}),f=A.Promise,s(Ae,J,!1,!0),h(J)},479:function(o,u,n){"use strict";n(687)(Math,"Math",!0)},511:function(o,u,n){"use strict";var c=n(9167),d=n(9297),f=n(1951),p=n(4913).f;o.exports=function(v){var y=c.Symbol||(c.Symbol={});d(y,v)||p(y,v,{value:f.f(v)})}},537:function(o,u,n){"use strict";var c=n(550),d=n(4428),f=n(916).CONSTRUCTOR;o.exports=f||!d(function(p){c.all(p).then(void 0,function(){})})},550:function(o,u,n){"use strict";var c=n(4576);o.exports=c.Promise},566:function(o,u,n){"use strict";var c=n(9504),d=n(9306),f=n(34),p=n(9297),v=n(7680),y=n(616),w=Function,k=c([].concat),A=c([].join),C={};o.exports=y?w.bind:function(x){var S=d(this),s=S.prototype,h=v(arguments,1),g=function(){var m=k(h,v(arguments));return this instanceof g?function(b,_,E){if(!p(C,_)){for(var R=[],j=0;j<_;j++)R[j]="a["+j+"]";C[_]=w("C,a","return new C("+A(R,",")+")")}return C[_](b,E)}(S,m.length,m):S.apply(x,m)};return f(s)&&(g.prototype=s),g}},597:function(o,u,n){"use strict";var c=n(9039),d=n(8227),f=n(9519),p=d("species");o.exports=function(v){return f>=51||!c(function(){var y=[];return(y.constructor={})[p]=function(){return{foo:1}},y[v](Boolean).foo!==1})}},616:function(o,u,n){"use strict";var c=n(9039);o.exports=!c(function(){var d=function(){}.bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},655:function(o,u,n){"use strict";var c=n(6955),d=String;o.exports=function(f){if(c(f)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return d(f)}},679:function(o,u,n){"use strict";var c=n(1625),d=TypeError;o.exports=function(f,p){if(c(p,f))return f;throw new d("Incorrect invocation")}},687:function(o,u,n){"use strict";var c=n(4913).f,d=n(9297),f=n(8227)("toStringTag");o.exports=function(p,v,y){p&&!y&&(p=p.prototype),p&&!d(p,f)&&c(p,f,{configurable:!0,value:v})}},739:function(o,u,n){"use strict";var c=n(6518),d=n(9039),f=n(8981),p=n(2777);c({target:"Date",proto:!0,arity:1,forced:d(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(v){var y=f(this),w=p(y,"number");return typeof w!="number"||isFinite(w)?y.toISOString():null}})},741:function(o){"use strict";var u=Math.ceil,n=Math.floor;o.exports=Math.trunc||function(c){var d=+c;return(d>0?n:u)(d)}},744:function(o,u,n){"use strict";var c=n(9565),d=n(9504),f=n(9228),p=n(8551),v=n(34),y=n(7750),w=n(2293),k=n(7829),A=n(8014),C=n(655),x=n(5966),S=n(6682),s=n(8429),h=n(9039),g=s.UNSUPPORTED_Y,m=Math.min,b=d([].push),_=d("".slice),E=!h(function(){var j=/(?:)/,H=j.exec;j.exec=function(){return H.apply(this,arguments)};var G="ab".split(j);return G.length!==2||G[0]!=="a"||G[1]!=="b"}),R="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;f("split",function(j,H,G){var q="0".split(void 0,0).length?function(K,ue){return K===void 0&&ue===0?[]:c(H,this,K,ue)}:H;return[function(K,ue){var te=y(this),D=v(K)?x(K,j):void 0;return D?c(D,K,te,ue):c(q,C(te),K,ue)},function(K,ue){var te=p(this),D=C(K);if(!R){var J=G(q,te,D,ue,q!==H);if(J.done)return J.value}var Q=w(te,RegExp),ne=te.unicode,ie=(te.ignoreCase?"i":"")+(te.multiline?"m":"")+(te.unicode?"u":"")+(g?"g":"y"),W=new Q(g?"^(?:"+te.source+")":te,ie),V=ue===void 0?4294967295:ue>>>0;if(V===0)return[];if(D.length===0)return S(W,D)===null?[D]:[];for(var se=0,Ae=0,Oe=[];Ae<D.length;){W.lastIndex=g?0:Ae;var je,De=S(W,g?_(D,Ae):D);if(De===null||(je=m(A(W.lastIndex+(g?Ae:0)),D.length))===se)Ae=k(D,Ae,ne);else{if(b(Oe,_(D,se,Ae)),Oe.length===V)return Oe;for(var Se=1;Se<=De.length-1;Se++)if(b(Oe,De[Se]),Oe.length===V)return Oe;Ae=se=je}}return b(Oe,_(D,se)),Oe}]},R||!E,g)},757:function(o,u,n){"use strict";var c=n(7751),d=n(4901),f=n(1625),p=n(7040),v=Object;o.exports=p?function(y){return typeof y=="symbol"}:function(y){var w=c("Symbol");return d(w)&&f(w.prototype,v(y))}},788:function(o,u,n){"use strict";var c=n(34),d=n(2195),f=n(8227)("match");o.exports=function(p){var v;return c(p)&&((v=p[f])!==void 0?!!v:d(p)==="RegExp")}},825:function(o,u,n){"use strict";var c=n(6518),d=n(7751),f=n(8745),p=n(566),v=n(5548),y=n(8551),w=n(34),k=n(2360),A=n(9039),C=d("Reflect","construct"),x=Object.prototype,S=[].push,s=A(function(){function m(){}return!(C(function(){},[],m)instanceof m)}),h=!A(function(){C(function(){})}),g=s||h;c({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(m,b){v(m),y(b);var _=arguments.length<3?m:v(arguments[2]);if(h&&!s)return C(m,b,_);if(m===_){switch(b.length){case 0:return new m;case 1:return new m(b[0]);case 2:return new m(b[0],b[1]);case 3:return new m(b[0],b[1],b[2]);case 4:return new m(b[0],b[1],b[2],b[3])}var E=[null];return f(S,E,b),new(f(p,m,E))}var R=_.prototype,j=k(w(R)?R:x),H=f(m,j,b);return w(H)?H:j}})},851:function(o,u,n){"use strict";var c=n(6955),d=n(5966),f=n(4117),p=n(6269),v=n(8227)("iterator");o.exports=function(y){if(!f(y))return d(y,v)||d(y,"@@iterator")||p[c(y)]}},875:function(o,u,n){"use strict";var c=n(6518),d=n(9039),f=n(8981),p=n(2787),v=n(2211);c({target:"Object",stat:!0,forced:d(function(){p(1)}),sham:!v},{getPrototypeOf:function(y){return p(f(y))}})},888:function(o,u,n){"use strict";var c=n(6518),d=n(9565),f=n(34),p=n(8551),v=n(6575),y=n(7347),w=n(2787);c({target:"Reflect",stat:!0},{get:function k(A,C){var x,S,s=arguments.length<3?A:arguments[2];return p(A)===s?A[C]:(x=y.f(A,C))?v(x)?x.value:x.get===void 0?void 0:d(x.get,s):f(S=w(A))?k(S,C,s):void 0}})},916:function(o,u,n){"use strict";var c=n(4576),d=n(550),f=n(4901),p=n(2796),v=n(3706),y=n(8227),w=n(4215),k=n(6395),A=n(9519),C=d&&d.prototype,x=y("species"),S=!1,s=f(c.PromiseRejectionEvent),h=p("Promise",function(){var g=v(d),m=g!==String(d);if(!m&&A===66||k&&(!C.catch||!C.finally))return!0;if(!A||A<51||!/native code/.test(g)){var b=new d(function(E){E(1)}),_=function(E){E(function(){},function(){})};if((b.constructor={})[x]=_,!(S=b.then(function(){})instanceof _))return!0}return!(m||w!=="BROWSER"&&w!=="DENO"||s)});o.exports={CONSTRUCTOR:h,REJECTION_EVENT:s,SUBCLASSING:S}},926:function(o,u,n){"use strict";var c=n(9306),d=n(8981),f=n(7055),p=n(6198),v=TypeError,y="Reduce of empty array with no initial value",w=function(k){return function(A,C,x,S){var s=d(A),h=f(s),g=p(s);if(c(C),g===0&&x<2)throw new v(y);var m=k?g-1:0,b=k?-1:1;if(x<2)for(;;){if(m in h){S=h[m],m+=b;break}if(m+=b,k?m<0:g<=m)throw new v(y)}for(;k?m>=0:g>m;m+=b)m in h&&(S=C(S,h[m],m,s));return S}};o.exports={left:w(!1),right:w(!0)}},1034:function(o,u,n){"use strict";var c=n(9565),d=n(9297),f=n(1625),p=n(5213),v=n(7979),y=RegExp.prototype;o.exports=p.correct?function(w){return w.flags}:function(w){return p.correct||!f(y,w)||d(w,"flags")?w.flags:c(v,w)}},1056:function(o,u,n){"use strict";var c=n(4913).f;o.exports=function(d,f,p){p in d||c(d,p,{configurable:!0,get:function(){return f[p]},set:function(v){f[p]=v}})}},1072:function(o,u,n){"use strict";var c=n(1828),d=n(8727);o.exports=Object.keys||function(f){return c(f,d)}},1088:function(o,u,n){"use strict";var c=n(6518),d=n(9565),f=n(6395),p=n(350),v=n(4901),y=n(3994),w=n(2787),k=n(2967),A=n(687),C=n(6699),x=n(6840),S=n(8227),s=n(6269),h=n(7657),g=p.PROPER,m=p.CONFIGURABLE,b=h.IteratorPrototype,_=h.BUGGY_SAFARI_ITERATORS,E=S("iterator"),R="keys",j="values",H="entries",G=function(){return this};o.exports=function(q,K,ue,te,D,J,Q){y(ue,K,te);var ne,ie,W,V=function(de){if(de===D&&De)return De;if(!_&&de&&de in Oe)return Oe[de];switch(de){case R:case j:case H:return function(){return new ue(this,de)}}return function(){return new ue(this)}},se=K+" Iterator",Ae=!1,Oe=q.prototype,je=Oe[E]||Oe["@@iterator"]||D&&Oe[D],De=!_&&je||V(D),Se=K==="Array"&&Oe.entries||je;if(Se&&(ne=w(Se.call(new q)))!==Object.prototype&&ne.next&&(f||w(ne)===b||(k?k(ne,b):v(ne[E])||x(ne,E,G)),A(ne,se,!0,!0),f&&(s[se]=G)),g&&D===j&&je&&je.name!==j&&(!f&&m?C(Oe,"name",j):(Ae=!0,De=function(){return d(je,this)})),D)if(ie={values:V(j),keys:J?De:V(R),entries:V(H)},Q)for(W in ie)(_||Ae||!(W in Oe))&&x(Oe,W,ie[W]);else c({target:K,proto:!0,forced:_||Ae},ie);return f&&!Q||Oe[E]===De||x(Oe,E,De,{name:D}),s[K]=De,ie}},1091:function(o,u,n){"use strict";function c(k){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},c(k)}function d(k,A){(A==null||A>k.length)&&(A=k.length);for(var C=0,x=Array(A);C<A;C++)x[C]=k[C];return x}function f(k,A){for(var C=0;C<A.length;C++){var x=A[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(k,p(x.key),x)}}function p(k){var A=function(C){if(c(C)!="object"||!C)return C;var x=C[Symbol.toPrimitive];if(x!==void 0){var S=x.call(C,"string");if(c(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(k);return c(A)=="symbol"?A:A+""}n.d(u,{OA:function(){return v},WL:function(){return w},u$:function(){return y}}),n(2675),n(9463),n(2259),n(5700),n(3418),n(3792),n(4782),n(9572),n(2010),n(8130),n(6099),n(7495),n(8781),n(7764),n(2953);var v={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},y=function(k){return function(){for(var A=arguments.length,C=new Array(A),x=0;x<A;x++)C[x]=arguments[x];return{_$litDirective$:k,values:C}}},w=function(){return function(k,A){return A&&f(k.prototype,A),Object.defineProperty(k,"prototype",{writable:!1}),k}(function k(A){(function(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")})(this,k)},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(k,A,C){this._$Ct=k,this._$AM=A,this._$Ci=C}},{key:"_$AS",value:function(k,A){return this.update(k,A)}},{key:"update",value:function(k,A){return this.render.apply(this,function(x){if(Array.isArray(x))return d(x)}(C=A)||function(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(C)||function(x,S){if(x){if(typeof x=="string")return d(x,S);var s={}.toString.call(x).slice(8,-1);return s==="Object"&&x.constructor&&(s=x.constructor.name),s==="Map"||s==="Set"?Array.from(x):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?d(x,S):void 0}}(C)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());var C}}])}()},1103:function(o){"use strict";o.exports=function(u){try{return{error:!1,value:u()}}catch(n){return{error:!0,value:n}}}},1181:function(o,u,n){"use strict";var c,d,f,p=n(8622),v=n(4576),y=n(34),w=n(6699),k=n(9297),A=n(7629),C=n(6119),x=n(421),S="Object already initialized",s=v.TypeError,h=v.WeakMap;if(p||A.state){var g=A.state||(A.state=new h);g.get=g.get,g.has=g.has,g.set=g.set,c=function(b,_){if(g.has(b))throw new s(S);return _.facade=b,g.set(b,_),_},d=function(b){return g.get(b)||{}},f=function(b){return g.has(b)}}else{var m=C("state");x[m]=!0,c=function(b,_){if(k(b,m))throw new s(S);return _.facade=b,w(b,m,_),_},d=function(b){return k(b,m)?b[m]:{}},f=function(b){return k(b,m)}}o.exports={set:c,get:d,has:f,enforce:function(b){return f(b)?d(b):c(b,{})},getterFor:function(b){return function(_){var E;if(!y(_)||(E=d(_)).type!==b)throw new s("Incompatible receiver, "+b+" required");return E}}}},1240:function(o,u,n){"use strict";var c=n(9504);o.exports=c(1.1.valueOf)},1278:function(o,u,n){"use strict";var c=n(6518),d=n(3724),f=n(5031),p=n(5397),v=n(7347),y=n(4659);c({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(w){for(var k,A,C=p(w),x=v.f,S=f(C),s={},h=0;S.length>h;)(A=x(C,k=S[h++]))!==void 0&&y(s,k,A);return s}})},1291:function(o,u,n){"use strict";var c=n(741);o.exports=function(d){var f=+d;return f!=f||f===0?0:c(f)}},1296:function(o,u,n){"use strict";var c=n(4495);o.exports=c&&!!Symbol.for&&!!Symbol.keyFor},1367:function(o,u,n){"use strict";n(6518)({target:"Math",stat:!0},{log2:n(7787)})},1392:function(o,u,n){"use strict";var c,d=n(6518),f=n(7476),p=n(7347).f,v=n(8014),y=n(655),w=n(2892),k=n(7750),A=n(1436),C=n(6395),x=f("".slice),S=Math.min,s=A("startsWith");d({target:"String",proto:!0,forced:!(!C&&!s&&(c=p(String.prototype,"startsWith"),c&&!c.writable)||s)},{startsWith:function(h){var g=y(k(this));w(h);var m=v(S(arguments.length>1?arguments[1]:void 0,g.length)),b=y(h);return x(g,m,m+b.length)===b}})},1415:function(o,u,n){"use strict";n(2405)},1436:function(o,u,n){"use strict";var c=n(8227)("match");o.exports=function(d){var f=/./;try{"/./"[d](f)}catch(p){try{return f[c]=!1,"/./"[d](f)}catch(v){}}return!1}},1469:function(o,u,n){"use strict";var c=n(7433);o.exports=function(d,f){return new(c(d))(f===0?0:f)}},1480:function(o,u,n){"use strict";var c=n(6518),d=n(9039),f=n(298).f;c({target:"Object",stat:!0,forced:d(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:f})},1481:function(o,u,n){"use strict";var c=n(6518),d=n(6043);c({target:"Promise",stat:!0,forced:n(916).CONSTRUCTOR},{reject:function(f){var p=d.f(this);return(0,p.reject)(f),p.promise}})},1510:function(o,u,n){"use strict";var c=n(6518),d=n(7751),f=n(9297),p=n(655),v=n(5745),y=n(1296),w=v("string-to-symbol-registry"),k=v("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!y},{for:function(A){var C=p(A);if(f(w,C))return w[C];var x=d("Symbol")(C);return w[C]=x,k[x]=C,x}})},1625:function(o,u,n){"use strict";var c=n(9504);o.exports=c({}.isPrototypeOf)},1669:function(o){"use strict";o.exports=jQuery},1699:function(o,u,n){"use strict";var c=n(6518),d=n(9504),f=n(2892),p=n(7750),v=n(655),y=n(1436),w=d("".indexOf);c({target:"String",proto:!0,forced:!y("includes")},{includes:function(k){return!!~w(v(p(this)),v(f(k)),arguments.length>1?arguments[1]:void 0)}})},1761:function(o,u,n){"use strict";var c=n(9565),d=n(9504),f=n(9228),p=n(8551),v=n(34),y=n(8014),w=n(655),k=n(7750),A=n(5966),C=n(7829),x=n(1034),S=n(6682),s=d("".indexOf);f("match",function(h,g,m){return[function(b){var _=k(this),E=v(b)?A(b,h):void 0;return E?c(E,b,_):new RegExp(b)[h](w(_))},function(b){var _=p(this),E=w(b),R=m(g,_,E);if(R.done)return R.value;var j=w(x(_));if(s(j,"g")===-1)return S(_,E);var H=s(j,"u")!==-1;_.lastIndex=0;for(var G,q=[],K=0;(G=S(_,E))!==null;){var ue=w(G[0]);q[K]=ue,ue===""&&(_.lastIndex=C(E,y(_.lastIndex),H)),K++}return K===0?null:q}]})},1828:function(o,u,n){"use strict";var c=n(9504),d=n(9297),f=n(5397),p=n(9617).indexOf,v=n(421),y=c([].push);o.exports=function(w,k){var A,C=f(w),x=0,S=[];for(A in C)!d(v,A)&&d(C,A)&&y(S,A);for(;k.length>x;)d(C,A=k[x++])&&(~p(S,A)||y(S,A));return S}},1897:function(o,u,n){var c,d,f;d=[n(1669),n(6883)],(f=typeof(c=function(p){return p.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})=="function"?c.apply(u,d):c)===void 0||(o.exports=f)},1951:function(o,u,n){"use strict";var c=n(8227);u.f=c},1955:function(o,u,n){"use strict";var c,d,f,p,v,y=n(4576),w=n(3389),k=n(6080),A=n(9225).set,C=n(8265),x=n(9544),S=n(4265),s=n(7860),h=n(6193),g=y.MutationObserver||y.WebKitMutationObserver,m=y.document,b=y.process,_=y.Promise,E=w("queueMicrotask");if(!E){var R=new C,j=function(){var H,G;for(h&&(H=b.domain)&&H.exit();G=R.get();)try{G()}catch(q){throw R.head&&c(),q}H&&H.enter()};x||h||s||!g||!m?!S&&_&&_.resolve?((p=_.resolve(void 0)).constructor=_,v=k(p.then,p),c=function(){v(j)}):h?c=function(){b.nextTick(j)}:(A=k(A,y),c=function(){A(j)}):(d=!0,f=m.createTextNode(""),new g(j).observe(f,{characterData:!0}),c=function(){f.data=d=!d}),E=function(H){R.head||c(),R.add(H)}}o.exports=E},2003:function(o,u,n){"use strict";var c=n(6518),d=n(6395),f=n(916).CONSTRUCTOR,p=n(550),v=n(7751),y=n(4901),w=n(6840),k=p&&p.prototype;if(c({target:"Promise",proto:!0,forced:f,real:!0},{catch:function(C){return this.then(void 0,C)}}),!d&&y(p)){var A=v("Promise").prototype.catch;k.catch!==A&&w(k,"catch",A,{unsafe:!0})}},2008:function(o,u,n){"use strict";var c=n(6518),d=n(9213).filter;c({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(f){return d(this,f,arguments.length>1?arguments[1]:void 0)}})},2010:function(o,u,n){"use strict";var c=n(3724),d=n(350).EXISTS,f=n(9504),p=n(2106),v=Function.prototype,y=f(v.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=f(w.exec);c&&!d&&p(v,"name",{configurable:!0,get:function(){try{return k(w,y(this))[1]}catch(A){return""}}})},2062:function(o,u,n){"use strict";var c=n(6518),d=n(9213).map;c({target:"Array",proto:!0,forced:!n(597)("map")},{map:function(f){return d(this,f,arguments.length>1?arguments[1]:void 0)}})},2106:function(o,u,n){"use strict";var c=n(283),d=n(4913);o.exports=function(f,p,v){return v.get&&c(v.get,p,{getter:!0}),v.set&&c(v.set,p,{setter:!0}),d.f(f,p,v)}},2140:function(o,u,n){"use strict";var c={};c[n(8227)("toStringTag")]="z",o.exports=String(c)==="[object z]"},2195:function(o,u,n){"use strict";var c=n(9504),d=c({}.toString),f=c("".slice);o.exports=function(p){return f(d(p),8,-1)}},2211:function(o,u,n){"use strict";var c=n(9039);o.exports=!c(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},2259:function(o,u,n){"use strict";n(511)("iterator")},2293:function(o,u,n){"use strict";var c=n(8551),d=n(5548),f=n(4117),p=n(8227)("species");o.exports=function(v,y){var w,k=c(v).constructor;return k===void 0||f(w=c(k)[p])?y:d(w)}},2357:function(o,u,n){"use strict";var c=n(3724),d=n(9039),f=n(9504),p=n(2787),v=n(1072),y=n(5397),w=f(n(8773).f),k=f([].push),A=c&&d(function(){var x=Object.create(null);return x[2]=2,!w(x,2)}),C=function(x){return function(S){for(var s,h=y(S),g=v(h),m=A&&p(h)===null,b=g.length,_=0,E=[];b>_;)s=g[_++],c&&!(m?s in h:w(h,s))||k(E,x?[s,h[s]]:h[s]);return E}};o.exports={entries:C(!0),values:C(!1)}},2360:function(o,u,n){"use strict";var c,d=n(8551),f=n(6801),p=n(8727),v=n(421),y=n(397),w=n(4055),k=n(6119),A="prototype",C="script",x=k("IE_PROTO"),S=function(){},s=function(m){return"<"+C+">"+m+"</"+C+">"},h=function(m){m.write(s("")),m.close();var b=m.parentWindow.Object;return m=null,b},g=function(){try{c=new ActiveXObject("htmlfile")}catch(R){}var m,b,_;g=typeof document<"u"?document.domain&&c?h(c):(b=w("iframe"),_="java"+C+":",b.style.display="none",y.appendChild(b),b.src=String(_),(m=b.contentWindow.document).open(),m.write(s("document.F=Object")),m.close(),m.F):h(c);for(var E=p.length;E--;)delete g[A][p[E]];return g()};v[x]=!0,o.exports=Object.create||function(m,b){var _;return m!==null?(S[A]=d(m),_=new S,S[A]=null,_[x]=m):_=g(),b===void 0?_:f.f(_,b)}},2405:function(o,u,n){"use strict";n(6468)("Set",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},n(6938))},2478:function(o,u,n){"use strict";var c=n(9504),d=n(8981),f=Math.floor,p=c("".charAt),v=c("".replace),y=c("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;o.exports=function(A,C,x,S,s,h){var g=x+A.length,m=S.length,b=k;return s!==void 0&&(s=d(s),b=w),v(h,b,function(_,E){var R;switch(p(E,0)){case"$":return"$";case"&":return A;case"`":return y(C,0,x);case"'":return y(C,g);case"<":R=s[y(E,1,-1)];break;default:var j=+E;if(j===0)return _;if(j>m){var H=f(j/10);return H===0?_:H<=m?S[H-1]===void 0?p(E,1):S[H-1]+p(E,1):_}R=S[j-1]}return R===void 0?"":R})}},2480:function(o,u,n){"use strict";n(5081)},2529:function(o){"use strict";o.exports=function(u,n){return{value:u,done:n}}},2617:function(o){o.exports=function(){var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,u.default=function(T){return!(!T||!T.Window)&&T instanceof T.Window};var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.getWindow=function(T){return(0,u.default)(T)?T:(T.ownerDocument||T).defaultView||d.window},n.init=f,n.window=n.realWindow=void 0;var c=void 0;n.realWindow=c;var d=void 0;function f(T){n.realWindow=c=T;var I=T.document.createTextNode("");I.ownerDocument!==T.document&&typeof T.wrap=="function"&&T.wrap(I)===I&&(T=T.wrap(T)),n.window=d=T}n.window=d,typeof window<"u"&&window&&f(window);var p={};function v(T){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},v(T)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var y=function(T){return!!T&&v(T)==="object"},w=function(T){return typeof T=="function"},k={window:function(T){return T===n.window||(0,u.default)(T)},docFrag:function(T){return y(T)&&T.nodeType===11},object:y,func:w,number:function(T){return typeof T=="number"},bool:function(T){return typeof T=="boolean"},string:function(T){return typeof T=="string"},element:function(T){if(!T||v(T)!=="object")return!1;var I=n.getWindow(T)||n.window;return/object|function/.test(typeof Element>"u"?"undefined":v(Element))?T instanceof Element||T instanceof I.Element:T.nodeType===1&&typeof T.nodeName=="string"},plainObject:function(T){return y(T)&&!!T.constructor&&/function Object\b/.test(T.constructor.toString())},array:function(T){return y(T)&&T.length!==void 0&&w(T.splice)}};p.default=k;var A={};function C(T){var I=T.interaction;if(I.prepared.name==="drag"){var z=I.prepared.axis;z==="x"?(I.coords.cur.page.y=I.coords.start.page.y,I.coords.cur.client.y=I.coords.start.client.y,I.coords.velocity.client.y=0,I.coords.velocity.page.y=0):z==="y"&&(I.coords.cur.page.x=I.coords.start.page.x,I.coords.cur.client.x=I.coords.start.client.x,I.coords.velocity.client.x=0,I.coords.velocity.page.x=0)}}function x(T){var I=T.iEvent,z=T.interaction;if(z.prepared.name==="drag"){var U=z.prepared.axis;if(U==="x"||U==="y"){var X=U==="x"?"y":"x";I.page[X]=z.coords.start.page[X],I.client[X]=z.coords.start.client[X],I.delta[X]=0}}}Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var S={id:"actions/drag",install:function(T){var I=T.actions,z=T.Interactable,U=T.defaults;z.prototype.draggable=S.draggable,I.map.drag=S,I.methodDict.drag="draggable",U.actions.drag=S.defaults},listeners:{"interactions:before-action-move":C,"interactions:action-resume":C,"interactions:action-move":x,"auto-start:check":function(T){var I=T.interaction,z=T.interactable,U=T.buttons,X=z.options.drag;if(X&&X.enabled&&(!I.pointerIsDown||!/mouse|pointer/.test(I.pointerType)||U&z.options.drag.mouseButtons))return T.action={name:"drag",axis:X.lockAxis==="start"?X.startAxis:X.lockAxis},!1}},draggable:function(T){return p.default.object(T)?(this.options.drag.enabled=T.enabled!==!1,this.setPerAction("drag",T),this.setOnEvents("drag",T),/^(xy|x|y|start)$/.test(T.lockAxis)&&(this.options.drag.lockAxis=T.lockAxis),/^(xy|x|y)$/.test(T.startAxis)&&(this.options.drag.startAxis=T.startAxis),this):p.default.bool(T)?(this.options.drag.enabled=T,this):this.options.drag},beforeMove:C,move:x,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},s=S;A.default=s;var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var g={init:function(T){var I=T;g.document=I.document,g.DocumentFragment=I.DocumentFragment||m,g.SVGElement=I.SVGElement||m,g.SVGSVGElement=I.SVGSVGElement||m,g.SVGElementInstance=I.SVGElementInstance||m,g.Element=I.Element||m,g.HTMLElement=I.HTMLElement||g.Element,g.Event=I.Event,g.Touch=I.Touch||m,g.PointerEvent=I.PointerEvent||I.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function m(){}var b=g;h.default=b;var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var E={init:function(T){var I=h.default.Element,z=T.navigator||{};E.supportsTouch="ontouchstart"in T||p.default.func(T.DocumentTouch)&&h.default.document instanceof T.DocumentTouch,E.supportsPointerEvent=z.pointerEnabled!==!1&&!!h.default.PointerEvent,E.isIOS=/iP(hone|od|ad)/.test(z.platform),E.isIOS7=/iP(hone|od|ad)/.test(z.platform)&&/OS 7[^\d]/.test(z.appVersion),E.isIe9=/MSIE 9/.test(z.userAgent),E.isOperaMobile=z.appName==="Opera"&&E.supportsTouch&&/Presto/.test(z.userAgent),E.prefixedMatchesSelector="matches"in I.prototype?"matches":"webkitMatchesSelector"in I.prototype?"webkitMatchesSelector":"mozMatchesSelector"in I.prototype?"mozMatchesSelector":"oMatchesSelector"in I.prototype?"oMatchesSelector":"msMatchesSelector",E.pEventTypes=E.supportsPointerEvent?h.default.PointerEvent===T.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,E.wheelEvent=h.default.document&&"onmousewheel"in h.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},R=E;_.default=R;var j={};function H(T){var I=T.parentNode;if(p.default.docFrag(I)){for(;(I=I.host)&&p.default.docFrag(I););return I}return I}function G(T,I){return n.window!==n.realWindow&&(I=I.replace(/\/deep\//g," ")),T[_.default.prefixedMatchesSelector](I)}Object.defineProperty(j,"__esModule",{value:!0}),j.closest=function(T,I){for(;p.default.element(T);){if(G(T,I))return T;T=H(T)}return null},j.getActualElement=function(T){return T.correspondingUseElement||T},j.getElementClientRect=te,j.getElementRect=function(T){var I=te(T);if(!_.default.isIOS7&&I){var z=ue(n.getWindow(T));I.left+=z.x,I.right+=z.x,I.top+=z.y,I.bottom+=z.y}return I},j.getPath=function(T){for(var I=[];T;)I.push(T),T=H(T);return I},j.getScrollXY=ue,j.indexOfDeepestElement=function(T){for(var I,z=[],U=0;U<T.length;U++){var X=T[U],fe=T[I];if(X&&U!==I)if(fe){var $e=q(X),Ee=q(fe);if($e!==X.ownerDocument)if(Ee!==X.ownerDocument)if($e!==Ee){z=z.length?z:K(fe);var Ve=void 0;if(fe instanceof h.default.HTMLElement&&X instanceof h.default.SVGElement&&!(X instanceof h.default.SVGSVGElement)){if(X===Ee)continue;Ve=X.ownerSVGElement}else Ve=X;for(var At=K(Ve,fe.ownerDocument),_t=0;At[_t]&&At[_t]===z[_t];)_t++;var jt=[At[_t-1],At[_t],z[_t]];if(jt[0])for(var oi=jt[0].lastChild;oi;){if(oi===jt[1]){I=U,z=At;break}if(oi===jt[2])break;oi=oi.previousSibling}}else fi=X,Jt=fe,(parseInt(n.getWindow(fi).getComputedStyle(fi).zIndex,10)||0)>=(parseInt(n.getWindow(Jt).getComputedStyle(Jt).zIndex,10)||0)&&(I=U);else I=U}else I=U}var fi,Jt;return I},j.matchesSelector=G,j.matchesUpTo=function(T,I,z){for(;p.default.element(T);){if(G(T,I))return!0;if((T=H(T))===z)return G(T,I)}return!1},j.nodeContains=function(T,I){if(T.contains)return T.contains(I);for(;I;){if(I===T)return!0;I=I.parentNode}return!1},j.parentNode=H,j.trySelector=function(T){return!!p.default.string(T)&&(h.default.document.querySelector(T),!0)};var q=function(T){return T.parentNode||T.host};function K(T,I){for(var z,U=[],X=T;(z=q(X))&&X!==I&&z!==X.ownerDocument;)U.unshift(X),X=z;return U}function ue(T){return{x:(T=T||n.window).scrollX||T.document.documentElement.scrollLeft,y:T.scrollY||T.document.documentElement.scrollTop}}function te(T){var I=T instanceof h.default.SVGElement?T.getBoundingClientRect():T.getClientRects()[0];return I&&{left:I.left,right:I.right,top:I.top,bottom:I.bottom,width:I.width||I.right-I.left,height:I.height||I.bottom-I.top}}var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.default=function(T,I){for(var z in I)T[z]=I[z];return T};var J={};function Q(T,I){(I==null||I>T.length)&&(I=T.length);for(var z=0,U=Array(I);z<I;z++)U[z]=T[z];return U}function ne(T,I,z){return T==="parent"?(0,j.parentNode)(z):T==="self"?I.getRect(z):(0,j.closest)(z,T)}Object.defineProperty(J,"__esModule",{value:!0}),J.addEdges=function(T,I,z){T.left&&(I.left+=z.x),T.right&&(I.right+=z.x),T.top&&(I.top+=z.y),T.bottom&&(I.bottom+=z.y),I.width=I.right-I.left,I.height=I.bottom-I.top},J.getStringOptionResult=ne,J.rectToXY=function(T){return T&&{x:"x"in T?T.x:T.left,y:"y"in T?T.y:T.top}},J.resolveRectLike=function(T,I,z,U){var X,fe=T;return p.default.string(fe)?fe=ne(fe,I,z):p.default.func(fe)&&(fe=fe.apply(void 0,function($e){if(Array.isArray($e))return Q($e)}(X=U)||function($e){if(typeof Symbol<"u"&&$e[Symbol.iterator]!=null||$e["@@iterator"]!=null)return Array.from($e)}(X)||function($e,Ee){if($e){if(typeof $e=="string")return Q($e,Ee);var Ve=Object.prototype.toString.call($e).slice(8,-1);return Ve==="Object"&&$e.constructor&&(Ve=$e.constructor.name),Ve==="Map"||Ve==="Set"?Array.from($e):Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve)?Q($e,Ee):void 0}}(X)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),p.default.element(fe)&&(fe=(0,j.getElementRect)(fe)),fe},J.tlbrToXywh=function(T){return!T||"x"in T&&"y"in T||((T=(0,D.default)({},T)).x=T.left||0,T.y=T.top||0,T.width=T.width||(T.right||0)-T.x,T.height=T.height||(T.bottom||0)-T.y),T},J.xywhToTlbr=function(T){return!T||"left"in T&&"top"in T||((T=(0,D.default)({},T)).left=T.x||0,T.top=T.y||0,T.right=T.right||T.left+T.width,T.bottom=T.bottom||T.top+T.height),T};var ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(T,I,z){var U=T.options[z],X=U&&U.origin||T.options.origin,fe=(0,J.resolveRectLike)(X,T,I,[T&&I]);return(0,J.rectToXY)(fe)||{x:0,y:0}};var W={};function V(T){return T.trim().split(/ +/)}Object.defineProperty(W,"__esModule",{value:!0}),W.default=function T(I,z,U){if(U=U||{},p.default.string(I)&&I.search(" ")!==-1&&(I=V(I)),p.default.array(I))return I.reduce(function(Ve,At){return(0,D.default)(Ve,T(At,z,U))},U);if(p.default.object(I)&&(z=I,I=""),p.default.func(z))U[I]=U[I]||[],U[I].push(z);else if(p.default.array(z))for(var X=0;X<z.length;X++){var fe;fe=z[X],T(I,fe,U)}else if(p.default.object(z))for(var $e in z){var Ee=V($e).map(function(Ve){return"".concat(I).concat(Ve)});T(Ee,z[$e],U)}return U};var se={};Object.defineProperty(se,"__esModule",{value:!0}),se.default=void 0,se.default=function(T,I){return Math.sqrt(T*T+I*I)};var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=function(T,I){T.__set||(T.__set={});var z=function(X){typeof T[X]!="function"&&X!=="__set"&&Object.defineProperty(T,X,{get:function(){return X in T.__set?T.__set[X]:T.__set[X]=I[X]},set:function(fe){T.__set[X]=fe},configurable:!0})};for(var U in I)z(U);return T};var Oe={};function je(T){return T instanceof h.default.Event||T instanceof h.default.Touch}function De(T,I,z){return T=T||"page",(z=z||{}).x=I[T+"X"],z.y=I[T+"Y"],z}function Se(T,I){return I=I||{x:0,y:0},_.default.isOperaMobile&&je(T)?(De("screen",T,I),I.x+=window.scrollX,I.y+=window.scrollY):De("page",T,I),I}function de(T,I){return I=I||{},_.default.isOperaMobile&&je(T)?De("screen",T,I):De("client",T,I),I}function Xe(T){var I=[];return p.default.array(T)?(I[0]=T[0],I[1]=T[1]):T.type==="touchend"?T.touches.length===1?(I[0]=T.touches[0],I[1]=T.changedTouches[0]):T.touches.length===0&&(I[0]=T.changedTouches[0],I[1]=T.changedTouches[1]):(I[0]=T.touches[0],I[1]=T.touches[1]),I}function ht(T){for(var I={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},z=0;z<T.length;z++){var U=T[z];for(var X in I)I[X]+=U[X]}for(var fe in I)I[fe]/=T.length;return I}Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.coordsToEvent=function(T){return{coords:T,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Oe.copyCoords=function(T,I){T.page=T.page||{},T.page.x=I.page.x,T.page.y=I.page.y,T.client=T.client||{},T.client.x=I.client.x,T.client.y=I.client.y,T.timeStamp=I.timeStamp},Oe.getClientXY=de,Oe.getEventTargets=function(T){var I=p.default.func(T.composedPath)?T.composedPath():T.path;return[j.getActualElement(I?I[0]:T.target),j.getActualElement(T.currentTarget)]},Oe.getPageXY=Se,Oe.getPointerId=function(T){return p.default.number(T.pointerId)?T.pointerId:T.identifier},Oe.getPointerType=function(T){return p.default.string(T.pointerType)?T.pointerType:p.default.number(T.pointerType)?[void 0,void 0,"touch","pen","mouse"][T.pointerType]:/touch/.test(T.type||"")||T instanceof h.default.Touch?"touch":"mouse"},Oe.getTouchPair=Xe,Oe.getXY=De,Oe.isNativePointer=je,Oe.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},Oe.pointerAverage=ht,Object.defineProperty(Oe,"pointerExtend",{enumerable:!0,get:function(){return Ae.default}}),Oe.setCoordDeltas=function(T,I,z){T.page.x=z.page.x-I.page.x,T.page.y=z.page.y-I.page.y,T.client.x=z.client.x-I.client.x,T.client.y=z.client.y-I.client.y,T.timeStamp=z.timeStamp-I.timeStamp},Oe.setCoordVelocity=function(T,I){var z=Math.max(I.timeStamp/1e3,.001);T.page.x=I.page.x/z,T.page.y=I.page.y/z,T.client.x=I.client.x/z,T.client.y=I.client.y/z,T.timeStamp=z},Oe.setCoords=function(T,I,z){var U=I.length>1?ht(I):I[0];Se(U,T.page),de(U,T.client),T.timeStamp=z},Oe.setZeroCoords=function(T){T.page.x=0,T.page.y=0,T.client.x=0,T.client.y=0},Oe.touchAngle=function(T,I){var z=I+"X",U=I+"Y",X=Xe(T),fe=X[1][z]-X[0][z],$e=X[1][U]-X[0][U];return 180*Math.atan2($e,fe)/Math.PI},Oe.touchBBox=function(T){if(!T.length)return null;var I=Xe(T),z=Math.min(I[0].pageX,I[1].pageX),U=Math.min(I[0].pageY,I[1].pageY),X=Math.max(I[0].pageX,I[1].pageX),fe=Math.max(I[0].pageY,I[1].pageY);return{x:z,y:U,left:z,top:U,right:X,bottom:fe,width:X-z,height:fe-U}},Oe.touchDistance=function(T,I){var z=I+"X",U=I+"Y",X=Xe(T),fe=X[0][z]-X[1][z],$e=X[0][U]-X[1][U];return(0,se.default)(fe,$e)};var nt={};function lt(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty(nt,"__esModule",{value:!0}),nt.BaseEvent=void 0;var ot=function(){function T(U){(function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,T),lt(this,"immediatePropagationStopped",!1),lt(this,"propagationStopped",!1),this._interaction=U}var I,z;return I=T,(z=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(U,X){for(var fe=0;fe<X.length;fe++){var $e=X[fe];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(U,$e.key,$e)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),T}();nt.BaseEvent=ot,Object.defineProperty(ot.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var ve={};Object.defineProperty(ve,"__esModule",{value:!0}),ve.remove=ve.merge=ve.from=ve.findIndex=ve.find=ve.contains=void 0,ve.contains=function(T,I){return T.indexOf(I)!==-1},ve.remove=function(T,I){return T.splice(T.indexOf(I),1)};var pe=function(T,I){for(var z=0;z<I.length;z++){var U=I[z];T.push(U)}return T};ve.merge=pe,ve.from=function(T){return pe([],T)};var tt=function(T,I){for(var z=0;z<T.length;z++)if(I(T[z],z,T))return z;return-1};ve.findIndex=tt,ve.find=function(T,I){return T[tt(T,I)]};var xe={};function Ce(T){return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Ce(T)}function Ue(T,I){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,U){return z.__proto__=U,z},Ue(T,I)}function Te(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function it(T){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},it(T)}function Me(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty(xe,"__esModule",{value:!0}),xe.DropEvent=void 0;var mt=function(T){(function(Ee,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),Ve&&Ue(Ee,Ve)})($e,T);var I,z,U,X,fe=(U=$e,X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}(),function(){var Ee,Ve=it(U);if(X){var At=it(this).constructor;Ee=Reflect.construct(Ve,arguments,At)}else Ee=Ve.apply(this,arguments);return function(_t,jt){if(jt&&(Ce(jt)==="object"||typeof jt=="function"))return jt;if(jt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(_t)}(this,Ee)});function $e(Ee,Ve,At){var _t;(function(Jt,$i){if(!(Jt instanceof $i))throw new TypeError("Cannot call a class as a function")})(this,$e),Me(Te(_t=fe.call(this,Ve._interaction)),"dropzone",void 0),Me(Te(_t),"dragEvent",void 0),Me(Te(_t),"relatedTarget",void 0),Me(Te(_t),"draggable",void 0),Me(Te(_t),"propagationStopped",!1),Me(Te(_t),"immediatePropagationStopped",!1);var jt=At==="dragleave"?Ee.prev:Ee.cur,oi=jt.element,fi=jt.dropzone;return _t.type=At,_t.target=oi,_t.currentTarget=oi,_t.dropzone=fi,_t.dragEvent=Ve,_t.relatedTarget=Ve.target,_t.draggable=Ve.interactable,_t.timeStamp=Ve.timeStamp,_t}return I=$e,(z=[{key:"reject",value:function(){var Ee=this,Ve=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&Ve.cur.dropzone===this.dropzone&&Ve.cur.element===this.target)if(Ve.prev.dropzone=this.dropzone,Ve.prev.element=this.target,Ve.rejected=!0,Ve.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var At=Ve.activeDrops,_t=ve.findIndex(At,function(oi){var fi=oi.dropzone,Jt=oi.element;return fi===Ee.dropzone&&Jt===Ee.target});Ve.activeDrops.splice(_t,1);var jt=new $e(Ve,this.dragEvent,"dropdeactivate");jt.dropzone=this.dropzone,jt.target=this.target,this.dropzone.fire(jt)}else this.dropzone.fire(new $e(Ve,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(Ee,Ve){for(var At=0;At<Ve.length;At++){var _t=Ve[At];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(Ee,_t.key,_t)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),$e}(nt.BaseEvent);xe.DropEvent=mt;var He={};function We(T,I){for(var z=0;z<T.slice().length;z++){var U=T.slice()[z],X=U.dropzone,fe=U.element;I.dropzone=X,I.target=fe,X.fire(I),I.propagationStopped=I.immediatePropagationStopped=!1}}function yt(T,I){for(var z=function(fe,$e){for(var Ee=fe.interactables,Ve=[],At=0;At<Ee.list.length;At++){var _t=Ee.list[At];if(_t.options.drop.enabled){var jt=_t.options.drop.accept;if(!(p.default.element(jt)&&jt!==$e||p.default.string(jt)&&!j.matchesSelector($e,jt)||p.default.func(jt)&&!jt({dropzone:_t,draggableElement:$e})))for(var oi=p.default.string(_t.target)?_t._context.querySelectorAll(_t.target):p.default.array(_t.target)?_t.target:[_t.target],fi=0;fi<oi.length;fi++){var Jt=oi[fi];Jt!==$e&&Ve.push({dropzone:_t,element:Jt,rect:_t.getRect(Jt)})}}}return Ve}(T,I),U=0;U<z.length;U++){var X=z[U];X.rect=X.dropzone.getRect(X.element)}return z}function Ot(T,I,z){for(var U=T.dropState,X=T.interactable,fe=T.element,$e=[],Ee=0;Ee<U.activeDrops.length;Ee++){var Ve=U.activeDrops[Ee],At=Ve.dropzone,_t=Ve.element,jt=Ve.rect;$e.push(At.dropCheck(I,z,X,fe,_t,jt)?_t:null)}var oi=j.indexOfDeepestElement($e);return U.activeDrops[oi]||null}function Ft(T,I,z){var U=T.dropState,X={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return z.type==="dragstart"&&(X.activate=new xe.DropEvent(U,z,"dropactivate"),X.activate.target=null,X.activate.dropzone=null),z.type==="dragend"&&(X.deactivate=new xe.DropEvent(U,z,"dropdeactivate"),X.deactivate.target=null,X.deactivate.dropzone=null),U.rejected||(U.cur.element!==U.prev.element&&(U.prev.dropzone&&(X.leave=new xe.DropEvent(U,z,"dragleave"),z.dragLeave=X.leave.target=U.prev.element,z.prevDropzone=X.leave.dropzone=U.prev.dropzone),U.cur.dropzone&&(X.enter=new xe.DropEvent(U,z,"dragenter"),z.dragEnter=U.cur.element,z.dropzone=U.cur.dropzone)),z.type==="dragend"&&U.cur.dropzone&&(X.drop=new xe.DropEvent(U,z,"drop"),z.dropzone=U.cur.dropzone,z.relatedTarget=U.cur.element),z.type==="dragmove"&&U.cur.dropzone&&(X.move=new xe.DropEvent(U,z,"dropmove"),X.move.dragmove=z,z.dropzone=U.cur.dropzone)),X}function rt(T,I){var z=T.dropState,U=z.activeDrops,X=z.cur,fe=z.prev;I.leave&&fe.dropzone.fire(I.leave),I.enter&&X.dropzone.fire(I.enter),I.move&&X.dropzone.fire(I.move),I.drop&&X.dropzone.fire(I.drop),I.deactivate&&We(U,I.deactivate),z.prev.dropzone=X.dropzone,z.prev.element=X.element}function oe(T,I){var z=T.interaction,U=T.iEvent,X=T.event;if(U.type==="dragmove"||U.type==="dragend"){var fe=z.dropState;I.dynamicDrop&&(fe.activeDrops=yt(I,z.element));var $e=U,Ee=Ot(z,$e,X);fe.rejected=fe.rejected&&!!Ee&&Ee.dropzone===fe.cur.dropzone&&Ee.element===fe.cur.element,fe.cur.dropzone=Ee&&Ee.dropzone,fe.cur.element=Ee&&Ee.element,fe.events=Ft(z,0,$e)}}Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var Pe={id:"actions/drop",install:function(T){var I=T.actions,z=T.interactStatic,U=T.Interactable,X=T.defaults;T.usePlugin(A.default),U.prototype.dropzone=function(fe){return function($e,Ee){if(p.default.object(Ee)){if($e.options.drop.enabled=Ee.enabled!==!1,Ee.listeners){var Ve=(0,W.default)(Ee.listeners),At=Object.keys(Ve).reduce(function(_t,jt){return _t[/^(enter|leave)/.test(jt)?"drag".concat(jt):/^(activate|deactivate|move)/.test(jt)?"drop".concat(jt):jt]=Ve[jt],_t},{});$e.off($e.options.drop.listeners),$e.on(At),$e.options.drop.listeners=At}return p.default.func(Ee.ondrop)&&$e.on("drop",Ee.ondrop),p.default.func(Ee.ondropactivate)&&$e.on("dropactivate",Ee.ondropactivate),p.default.func(Ee.ondropdeactivate)&&$e.on("dropdeactivate",Ee.ondropdeactivate),p.default.func(Ee.ondragenter)&&$e.on("dragenter",Ee.ondragenter),p.default.func(Ee.ondragleave)&&$e.on("dragleave",Ee.ondragleave),p.default.func(Ee.ondropmove)&&$e.on("dropmove",Ee.ondropmove),/^(pointer|center)$/.test(Ee.overlap)?$e.options.drop.overlap=Ee.overlap:p.default.number(Ee.overlap)&&($e.options.drop.overlap=Math.max(Math.min(1,Ee.overlap),0)),"accept"in Ee&&($e.options.drop.accept=Ee.accept),"checker"in Ee&&($e.options.drop.checker=Ee.checker),$e}return p.default.bool(Ee)?($e.options.drop.enabled=Ee,$e):$e.options.drop}(this,fe)},U.prototype.dropCheck=function(fe,$e,Ee,Ve,At,_t){return function(jt,oi,fi,Jt,$i,Mi,Pi){var or=!1;if(!(Pi=Pi||jt.getRect(Mi)))return!!jt.options.drop.checker&&jt.options.drop.checker(oi,fi,or,jt,Mi,Jt,$i);var Mr=jt.options.drop.overlap;if(Mr==="pointer"){var Hr=(0,ie.default)(Jt,$i,"drag"),nn=Oe.getPageXY(oi);nn.x+=Hr.x,nn.y+=Hr.y;var kn=nn.x>Pi.left&&nn.x<Pi.right,Qr=nn.y>Pi.top&&nn.y<Pi.bottom;or=kn&&Qr}var Pn=Jt.getRect($i);if(Pn&&Mr==="center"){var xa=Pn.left+Pn.width/2,qa=Pn.top+Pn.height/2;or=xa>=Pi.left&&xa<=Pi.right&&qa>=Pi.top&&qa<=Pi.bottom}return Pn&&p.default.number(Mr)&&(or=Math.max(0,Math.min(Pi.right,Pn.right)-Math.max(Pi.left,Pn.left))*Math.max(0,Math.min(Pi.bottom,Pn.bottom)-Math.max(Pi.top,Pn.top))/(Pn.width*Pn.height)>=Mr),jt.options.drop.checker&&(or=jt.options.drop.checker(oi,fi,or,jt,Mi,Jt,$i)),or}(this,fe,$e,Ee,Ve,At,_t)},z.dynamicDrop=function(fe){return p.default.bool(fe)?(T.dynamicDrop=fe,z):T.dynamicDrop},(0,D.default)(I.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),I.methodDict.drop="dropzone",T.dynamicDrop=!1,X.actions.drop=Pe.defaults},listeners:{"interactions:before-action-start":function(T){var I=T.interaction;I.prepared.name==="drag"&&(I.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(T,I){var z=T.interaction,U=(T.event,T.iEvent);if(z.prepared.name==="drag"){var X=z.dropState;X.activeDrops=null,X.events=null,X.activeDrops=yt(I,z.element),X.events=Ft(z,0,U),X.events.activate&&(We(X.activeDrops,X.events.activate),I.fire("actions/drop:start",{interaction:z,dragEvent:U}))}},"interactions:action-move":oe,"interactions:after-action-move":function(T,I){var z=T.interaction,U=T.iEvent;z.prepared.name==="drag"&&(rt(z,z.dropState.events),I.fire("actions/drop:move",{interaction:z,dragEvent:U}),z.dropState.events={})},"interactions:action-end":function(T,I){if(T.interaction.prepared.name==="drag"){var z=T.interaction,U=T.iEvent;oe(T,I),rt(z,z.dropState.events),I.fire("actions/drop:end",{interaction:z,dragEvent:U})}},"interactions:stop":function(T){var I=T.interaction;if(I.prepared.name==="drag"){var z=I.dropState;z&&(z.activeDrops=null,z.events=null,z.cur.dropzone=null,z.cur.element=null,z.prev.dropzone=null,z.prev.element=null,z.rejected=!1)}}},getActiveDrops:yt,getDrop:Ot,getDropEvents:Ft,fireDropEvents:rt,defaults:{enabled:!1,accept:null,overlap:"pointer"}},Ze=Pe;He.default=Ze;var Je={};function qe(T){var I=T.interaction,z=T.iEvent,U=T.phase;if(I.prepared.name==="gesture"){var X=I.pointers.map(function(At){return At.pointer}),fe=U==="start",$e=U==="end",Ee=I.interactable.options.deltaSource;if(z.touches=[X[0],X[1]],fe)z.distance=Oe.touchDistance(X,Ee),z.box=Oe.touchBBox(X),z.scale=1,z.ds=0,z.angle=Oe.touchAngle(X,Ee),z.da=0,I.gesture.startDistance=z.distance,I.gesture.startAngle=z.angle;else if($e){var Ve=I.prevEvent;z.distance=Ve.distance,z.box=Ve.box,z.scale=Ve.scale,z.ds=0,z.angle=Ve.angle,z.da=0}else z.distance=Oe.touchDistance(X,Ee),z.box=Oe.touchBBox(X),z.scale=z.distance/I.gesture.startDistance,z.angle=Oe.touchAngle(X,Ee),z.ds=z.scale-I.gesture.scale,z.da=z.angle-I.gesture.angle;I.gesture.distance=z.distance,I.gesture.angle=z.angle,p.default.number(z.scale)&&z.scale!==1/0&&!isNaN(z.scale)&&(I.gesture.scale=z.scale)}}Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var M={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(T){var I=T.actions,z=T.Interactable,U=T.defaults;z.prototype.gesturable=function(X){return p.default.object(X)?(this.options.gesture.enabled=X.enabled!==!1,this.setPerAction("gesture",X),this.setOnEvents("gesture",X),this):p.default.bool(X)?(this.options.gesture.enabled=X,this):this.options.gesture},I.map.gesture=M,I.methodDict.gesture="gesturable",U.actions.gesture=M.defaults},listeners:{"interactions:action-start":qe,"interactions:action-move":qe,"interactions:action-end":qe,"interactions:new":function(T){T.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(T){if(!(T.interaction.pointers.length<2)){var I=T.interactable.options.gesture;if(I&&I.enabled)return T.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},be=M;Je.default=be;var he={};function Ge(T,I,z,U,X,fe,$e){if(!I)return!1;if(I===!0){var Ee=p.default.number(fe.width)?fe.width:fe.right-fe.left,Ve=p.default.number(fe.height)?fe.height:fe.bottom-fe.top;if($e=Math.min($e,Math.abs((T==="left"||T==="right"?Ee:Ve)/2)),Ee<0&&(T==="left"?T="right":T==="right"&&(T="left")),Ve<0&&(T==="top"?T="bottom":T==="bottom"&&(T="top")),T==="left"){var At=Ee>=0?fe.left:fe.right;return z.x<At+$e}if(T==="top"){var _t=Ve>=0?fe.top:fe.bottom;return z.y<_t+$e}if(T==="right")return z.x>(Ee>=0?fe.right:fe.left)-$e;if(T==="bottom")return z.y>(Ve>=0?fe.bottom:fe.top)-$e}return!!p.default.element(U)&&(p.default.element(I)?I===U:j.matchesUpTo(U,I,X))}function vt(T){var I=T.iEvent,z=T.interaction;if(z.prepared.name==="resize"&&z.resizeAxes){var U=I;z.interactable.options.resize.square?(z.resizeAxes==="y"?U.delta.x=U.delta.y:U.delta.y=U.delta.x,U.axes="xy"):(U.axes=z.resizeAxes,z.resizeAxes==="x"?U.delta.y=0:z.resizeAxes==="y"&&(U.delta.x=0))}}Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var kt={id:"actions/resize",before:["actions/drag"],install:function(T){var I=T.actions,z=T.browser,U=T.Interactable,X=T.defaults;kt.cursors=function(fe){return fe.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(z),kt.defaultMargin=z.supportsTouch||z.supportsPointerEvent?20:10,U.prototype.resizable=function(fe){return function($e,Ee,Ve){return p.default.object(Ee)?($e.options.resize.enabled=Ee.enabled!==!1,$e.setPerAction("resize",Ee),$e.setOnEvents("resize",Ee),p.default.string(Ee.axis)&&/^x$|^y$|^xy$/.test(Ee.axis)?$e.options.resize.axis=Ee.axis:Ee.axis===null&&($e.options.resize.axis=Ve.defaults.actions.resize.axis),p.default.bool(Ee.preserveAspectRatio)?$e.options.resize.preserveAspectRatio=Ee.preserveAspectRatio:p.default.bool(Ee.square)&&($e.options.resize.square=Ee.square),$e):p.default.bool(Ee)?($e.options.resize.enabled=Ee,$e):$e.options.resize}(this,fe,T)},I.map.resize=kt,I.methodDict.resize="resizable",X.actions.resize=kt.defaults},listeners:{"interactions:new":function(T){T.interaction.resizeAxes="xy"},"interactions:action-start":function(T){(function(I){var z=I.iEvent,U=I.interaction;if(U.prepared.name==="resize"&&U.prepared.edges){var X=z,fe=U.rect;U._rects={start:(0,D.default)({},fe),corrected:(0,D.default)({},fe),previous:(0,D.default)({},fe),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},X.edges=U.prepared.edges,X.rect=U._rects.corrected,X.deltaRect=U._rects.delta}})(T),vt(T)},"interactions:action-move":function(T){(function(I){var z=I.iEvent,U=I.interaction;if(U.prepared.name==="resize"&&U.prepared.edges){var X=z,fe=U.interactable.options.resize.invert,$e=fe==="reposition"||fe==="negate",Ee=U.rect,Ve=U._rects,At=Ve.start,_t=Ve.corrected,jt=Ve.delta,oi=Ve.previous;if((0,D.default)(oi,_t),$e){if((0,D.default)(_t,Ee),fe==="reposition"){if(_t.top>_t.bottom){var fi=_t.top;_t.top=_t.bottom,_t.bottom=fi}if(_t.left>_t.right){var Jt=_t.left;_t.left=_t.right,_t.right=Jt}}}else _t.top=Math.min(Ee.top,At.bottom),_t.bottom=Math.max(Ee.bottom,At.top),_t.left=Math.min(Ee.left,At.right),_t.right=Math.max(Ee.right,At.left);for(var $i in _t.width=_t.right-_t.left,_t.height=_t.bottom-_t.top,_t)jt[$i]=_t[$i]-oi[$i];X.edges=U.prepared.edges,X.rect=_t,X.deltaRect=jt}})(T),vt(T)},"interactions:action-end":function(T){var I=T.iEvent,z=T.interaction;if(z.prepared.name==="resize"&&z.prepared.edges){var U=I;U.edges=z.prepared.edges,U.rect=z._rects.corrected,U.deltaRect=z._rects.delta}},"auto-start:check":function(T){var I=T.interaction,z=T.interactable,U=T.element,X=T.rect,fe=T.buttons;if(X){var $e=(0,D.default)({},I.coords.cur.page),Ee=z.options.resize;if(Ee&&Ee.enabled&&(!I.pointerIsDown||!/mouse|pointer/.test(I.pointerType)||fe&Ee.mouseButtons)){if(p.default.object(Ee.edges)){var Ve={left:!1,right:!1,top:!1,bottom:!1};for(var At in Ve)Ve[At]=Ge(At,Ee.edges[At],$e,I._latestPointer.eventTarget,U,X,Ee.margin||kt.defaultMargin);Ve.left=Ve.left&&!Ve.right,Ve.top=Ve.top&&!Ve.bottom,(Ve.left||Ve.right||Ve.top||Ve.bottom)&&(T.action={name:"resize",edges:Ve})}else{var _t=Ee.axis!=="y"&&$e.x>X.right-kt.defaultMargin,jt=Ee.axis!=="x"&&$e.y>X.bottom-kt.defaultMargin;(_t||jt)&&(T.action={name:"resize",axes:(_t?"x":"")+(jt?"y":"")})}return!T.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(T){var I=T.edges,z=T.axis,U=T.name,X=kt.cursors,fe=null;if(z)fe=X[U+z];else if(I){for(var $e="",Ee=["top","bottom","left","right"],Ve=0;Ve<Ee.length;Ve++){var At=Ee[Ve];I[At]&&($e+=At)}fe=X[$e]}return fe},defaultMargin:null},ce=kt;he.default=ce;var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var Re={id:"actions",install:function(T){T.usePlugin(Je.default),T.usePlugin(he.default),T.usePlugin(A.default),T.usePlugin(He.default)}};_e.default=Re;var st={};Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var xt,Mt,Bt=0,Rt={request:function(T){return xt(T)},cancel:function(T){return Mt(T)},init:function(T){if(xt=T.requestAnimationFrame,Mt=T.cancelAnimationFrame,!xt)for(var I=["ms","moz","webkit","o"],z=0;z<I.length;z++){var U=I[z];xt=T["".concat(U,"RequestAnimationFrame")],Mt=T["".concat(U,"CancelAnimationFrame")]||T["".concat(U,"CancelRequestAnimationFrame")]}xt=xt&&xt.bind(T),Mt=Mt&&Mt.bind(T),xt||(xt=function(X){var fe=Date.now(),$e=Math.max(0,16-(fe-Bt)),Ee=T.setTimeout(function(){X(fe+$e)},$e);return Bt=fe+$e,Ee},Mt=function(X){return clearTimeout(X)})}};st.default=Rt;var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.default=void 0,qt.getContainer=me,qt.getScroll=ze,qt.getScrollSize=function(T){return p.default.window(T)&&(T=window.document.body),{x:T.scrollWidth,y:T.scrollHeight}},qt.getScrollSizeDelta=function(T,I){var z=T.interaction,U=T.element,X=z&&z.interactable.options[z.prepared.name].autoScroll;if(!X||!X.enabled)return I(),{x:0,y:0};var fe=me(X.container,z.interactable,U),$e=ze(fe);I();var Ee=ze(fe);return{x:Ee.x-$e.x,y:Ee.y-$e.y}};var Be={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(T){Be.isScrolling=!0,st.default.cancel(Be.i),T.autoScroll=Be,Be.interaction=T,Be.prevTime=Be.now(),Be.i=st.default.request(Be.scroll)},stop:function(){Be.isScrolling=!1,Be.interaction&&(Be.interaction.autoScroll=null),st.default.cancel(Be.i)},scroll:function(){var T=Be.interaction,I=T.interactable,z=T.element,U=T.prepared.name,X=I.options[U].autoScroll,fe=me(X.container,I,z),$e=Be.now(),Ee=($e-Be.prevTime)/1e3,Ve=X.speed*Ee;if(Ve>=1){var At={x:Be.x*Ve,y:Be.y*Ve};if(At.x||At.y){var _t=ze(fe);p.default.window(fe)?fe.scrollBy(At.x,At.y):fe&&(fe.scrollLeft+=At.x,fe.scrollTop+=At.y);var jt=ze(fe),oi={x:jt.x-_t.x,y:jt.y-_t.y};(oi.x||oi.y)&&I.fire({type:"autoscroll",target:z,interactable:I,delta:oi,interaction:T,container:fe})}Be.prevTime=$e}Be.isScrolling&&(st.default.cancel(Be.i),Be.i=st.default.request(Be.scroll))},check:function(T,I){var z;return(z=T.options[I].autoScroll)==null?void 0:z.enabled},onInteractionMove:function(T){var I=T.interaction,z=T.pointer;if(I.interacting()&&Be.check(I.interactable,I.prepared.name))if(I.simulation)Be.x=Be.y=0;else{var U,X,fe,$e,Ee=I.interactable,Ve=I.element,At=I.prepared.name,_t=Ee.options[At].autoScroll,jt=me(_t.container,Ee,Ve);if(p.default.window(jt))$e=z.clientX<Be.margin,U=z.clientY<Be.margin,X=z.clientX>jt.innerWidth-Be.margin,fe=z.clientY>jt.innerHeight-Be.margin;else{var oi=j.getElementClientRect(jt);$e=z.clientX<oi.left+Be.margin,U=z.clientY<oi.top+Be.margin,X=z.clientX>oi.right-Be.margin,fe=z.clientY>oi.bottom-Be.margin}Be.x=X?1:$e?-1:0,Be.y=fe?1:U?-1:0,Be.isScrolling||(Be.margin=_t.margin,Be.speed=_t.speed,Be.start(I))}}};function me(T,I,z){return(p.default.string(T)?(0,J.getStringOptionResult)(T,I,z):T)||(0,n.getWindow)(z)}function ze(T){return p.default.window(T)&&(T=window.document.body),{x:T.scrollLeft,y:T.scrollTop}}var Ye={id:"auto-scroll",install:function(T){var I=T.defaults,z=T.actions;T.autoScroll=Be,Be.now=function(){return T.now()},z.phaselessTypes.autoscroll=!0,I.perAction.autoScroll=Be.defaults},listeners:{"interactions:new":function(T){T.interaction.autoScroll=null},"interactions:destroy":function(T){T.interaction.autoScroll=null,Be.stop(),Be.interaction&&(Be.interaction=null)},"interactions:stop":Be.stop,"interactions:action-move":function(T){return Be.onInteractionMove(T)}}},ut=Ye;qt.default=ut;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.copyAction=function(T,I){return T.name=I.name,T.axis=I.axis,T.edges=I.edges,T},ft.sign=void 0,ft.warnOnce=function(T,I){var z=!1;return function(){return z||(n.window.console.warn(I),z=!0),T.apply(this,arguments)}},ft.sign=function(T){return T>=0?1:-1};var dt={};function at(T){return p.default.bool(T)?(this.options.styleCursor=T,this):T===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Fe(T){return p.default.func(T)?(this.options.actionChecker=T,this):T===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(dt,"__esModule",{value:!0}),dt.default=void 0;var pt={id:"auto-start/interactableMethods",install:function(T){var I=T.Interactable;I.prototype.getAction=function(z,U,X,fe){var $e=function(Ee,Ve,At,_t,jt){var oi=Ee.getRect(_t),fi={action:null,interactable:Ee,interaction:At,element:_t,rect:oi,buttons:Ve.buttons||{0:1,1:4,3:8,4:16}[Ve.button]};return jt.fire("auto-start:check",fi),fi.action}(this,U,X,fe,T);return this.options.actionChecker?this.options.actionChecker(z,U,$e,this,fe,X):$e},I.prototype.ignoreFrom=(0,ft.warnOnce)(function(z){return this._backCompatOption("ignoreFrom",z)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),I.prototype.allowFrom=(0,ft.warnOnce)(function(z){return this._backCompatOption("allowFrom",z)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),I.prototype.actionChecker=Fe,I.prototype.styleCursor=at}};dt.default=pt;var Ct={};function Nt(T,I,z,U,X){return I.testIgnoreAllow(I.options[T.name],z,U)&&I.options[T.name].enabled&&Et(I,z,T,X)?T:null}function ke(T,I,z,U,X,fe,$e){for(var Ee=0,Ve=U.length;Ee<Ve;Ee++){var At=U[Ee],_t=X[Ee],jt=At.getAction(I,z,T,_t);if(jt){var oi=Nt(jt,At,_t,fe,$e);if(oi)return{action:oi,interactable:At,element:_t}}}return{action:null,interactable:null,element:null}}function It(T,I,z,U,X){var fe=[],$e=[],Ee=U;function Ve(_t){fe.push(_t),$e.push(Ee)}for(;p.default.element(Ee);){fe=[],$e=[],X.interactables.forEachMatch(Ee,Ve);var At=ke(T,I,z,fe,$e,U,X);if(At.action&&!At.interactable.options[At.action.name].manualStart)return At;Ee=j.parentNode(Ee)}return{action:null,interactable:null,element:null}}function Dt(T,I,z){var U=I.action,X=I.interactable,fe=I.element;U=U||{name:null},T.interactable=X,T.element=fe,(0,ft.copyAction)(T.prepared,U),T.rect=X&&U.name?X.getRect(fe):null,vi(T,z),z.fire("autoStart:prepared",{interaction:T})}function Et(T,I,z,U){var X=T.options,fe=X[z.name].max,$e=X[z.name].maxPerElement,Ee=U.autoStart.maxInteractions,Ve=0,At=0,_t=0;if(!(fe&&$e&&Ee))return!1;for(var jt=0;jt<U.interactions.list.length;jt++){var oi=U.interactions.list[jt],fi=oi.prepared.name;if(oi.interacting()&&(++Ve>=Ee||oi.interactable===T&&((At+=fi===z.name?1:0)>=fe||oi.element===I&&(_t++,fi===z.name&&_t>=$e))))return!1}return Ee>0}function ui(T,I){return p.default.number(T)?(I.autoStart.maxInteractions=T,this):I.autoStart.maxInteractions}function ki(T,I,z){var U=z.autoStart.cursorElement;U&&U!==T&&(U.style.cursor=""),T.ownerDocument.documentElement.style.cursor=I,T.style.cursor=I,z.autoStart.cursorElement=I?T:null}function vi(T,I){var z=T.interactable,U=T.element,X=T.prepared;if(T.pointerType==="mouse"&&z&&z.options.styleCursor){var fe="";if(X.name){var $e=z.options[X.name].cursorChecker;fe=p.default.func($e)?$e(X,z,U,T._interacting):I.actions.map[X.name].getCursor(X)}ki(T.element,fe||"",I)}else I.autoStart.cursorElement&&ki(I.autoStart.cursorElement,"",I)}Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=void 0;var nr={id:"auto-start/base",before:["actions"],install:function(T){var I=T.interactStatic,z=T.defaults;T.usePlugin(dt.default),z.base.actionChecker=null,z.base.styleCursor=!0,(0,D.default)(z.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),I.maxInteractions=function(U){return ui(U,T)},T.autoStart={maxInteractions:1/0,withinInteractionLimit:Et,cursorElement:null}},listeners:{"interactions:down":function(T,I){var z=T.interaction,U=T.pointer,X=T.event,fe=T.eventTarget;z.interacting()||Dt(z,It(z,U,X,fe,I),I)},"interactions:move":function(T,I){(function(z,U){var X=z.interaction,fe=z.pointer,$e=z.event,Ee=z.eventTarget;X.pointerType!=="mouse"||X.pointerIsDown||X.interacting()||Dt(X,It(X,fe,$e,Ee,U),U)})(T,I),function(z,U){var X=z.interaction;if(X.pointerIsDown&&!X.interacting()&&X.pointerWasMoved&&X.prepared.name){U.fire("autoStart:before-start",z);var fe=X.interactable,$e=X.prepared.name;$e&&fe&&(fe.options[$e].manualStart||!Et(fe,X.element,X.prepared,U)?X.stop():(X.start(X.prepared,fe,X.element),vi(X,U)))}}(T,I)},"interactions:stop":function(T,I){var z=T.interaction,U=z.interactable;U&&U.options.styleCursor&&ki(z.element,"",I)}},maxInteractions:ui,withinInteractionLimit:Et,validateAction:Nt},Li=nr;Ct.default=Li;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.default=void 0;var xi={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(T,I){var z=T.interaction,U=T.eventTarget,X=T.dx,fe=T.dy;if(z.prepared.name==="drag"){var $e=Math.abs(X),Ee=Math.abs(fe),Ve=z.interactable.options.drag,At=Ve.startAxis,_t=$e>Ee?"x":$e<Ee?"y":"xy";if(z.prepared.axis=Ve.lockAxis==="start"?_t[0]:Ve.lockAxis,_t!=="xy"&&At!=="xy"&&At!==_t){z.prepared.name=null;for(var jt=U,oi=function(Jt){if(Jt!==z.interactable){var $i=z.interactable.options.drag;if(!$i.manualStart&&Jt.testIgnoreAllow($i,jt,U)){var Mi=Jt.getAction(z.downPointer,z.downEvent,z,jt);if(Mi&&Mi.name==="drag"&&function(Pi,or){if(!or)return!1;var Mr=or.options.drag.startAxis;return Pi==="xy"||Mr==="xy"||Mr===Pi}(_t,Jt)&&Ct.default.validateAction(Mi,Jt,jt,U,I))return Jt}}};p.default.element(jt);){var fi=I.interactables.forEachMatch(jt,oi);if(fi){z.prepared.name="drag",z.interactable=fi,z.element=jt;break}jt=(0,j.parentNode)(jt)}}}}}};Ri.default=xi;var ai={};function wi(T){var I=T.prepared&&T.prepared.name;if(!I)return null;var z=T.interactable.options;return z[I].hold||z[I].delay}Object.defineProperty(ai,"__esModule",{value:!0}),ai.default=void 0;var _r={id:"auto-start/hold",install:function(T){var I=T.defaults;T.usePlugin(Ct.default),I.perAction.hold=0,I.perAction.delay=0},listeners:{"interactions:new":function(T){T.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(T){var I=T.interaction,z=wi(I);z>0&&(I.autoStartHoldTimer=setTimeout(function(){I.start(I.prepared,I.interactable,I.element)},z))},"interactions:move":function(T){var I=T.interaction,z=T.duplicate;I.autoStartHoldTimer&&I.pointerWasMoved&&!z&&(clearTimeout(I.autoStartHoldTimer),I.autoStartHoldTimer=null)},"autoStart:before-start":function(T){var I=T.interaction;wi(I)>0&&(I.prepared.name=null)}},getHoldDuration:wi},Jr=_r;ai.default=Jr;var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.default=void 0;var Gi={id:"auto-start",install:function(T){T.usePlugin(Ct.default),T.usePlugin(ai.default),T.usePlugin(Ri.default)}};pr.default=Gi;var Dr={};function ji(T){return/^(always|never|auto)$/.test(T)?(this.options.preventDefault=T,this):p.default.bool(T)?(this.options.preventDefault=T?"always":"never",this):this.options.preventDefault}function Ii(T){var I=T.interaction,z=T.event;I.interactable&&I.interactable.checkAndPreventDefault(z)}function ar(T){var I=T.Interactable;I.prototype.preventDefault=ji,I.prototype.checkAndPreventDefault=function(z){return function(U,X,fe){var $e=U.options.preventDefault;if($e!=="never")if($e!=="always"){if(X.events.supportsPassive&&/^touch(start|move)$/.test(fe.type)){var Ee=(0,n.getWindow)(fe.target).document,Ve=X.getDocOptions(Ee);if(!Ve||!Ve.events||Ve.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(fe.type)||p.default.element(fe.target)&&(0,j.matchesSelector)(fe.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||fe.preventDefault()}else fe.preventDefault()}(this,T,z)},T.interactions.docEvents.push({type:"dragstart",listener:function(z){for(var U=0;U<T.interactions.list.length;U++){var X=T.interactions.list[U];if(X.element&&(X.element===z.target||(0,j.nodeContains)(X.element,z.target)))return void X.interactable.checkAndPreventDefault(z)}}})}Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.default=void 0,Dr.install=ar;var Oi={id:"core/interactablePreventDefault",install:ar,listeners:["down","move","up","cancel"].reduce(function(T,I){return T["interactions:".concat(I)]=Ii,T},{})};Dr.default=Oi;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.default=void 0,Tr.default={};var ge,wt={};Object.defineProperty(wt,"__esModule",{value:!0}),wt.default=void 0,function(T){T.touchAction="touchAction",T.boxSizing="boxSizing",T.noListeners="noListeners"}(ge||(ge={})),ge.touchAction,ge.boxSizing,ge.noListeners,wt.default={id:"dev-tools",install:function(){}};var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=function T(I){var z={};for(var U in I){var X=I[U];p.default.plainObject(X)?z[U]=T(X):p.default.array(X)?z[U]=ve.from(X):z[U]=X}return z};var pi={};function ii(T,I){return function(z){if(Array.isArray(z))return z}(T)||function(z,U){var X=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(X!=null){var fe,$e,Ee=[],Ve=!0,At=!1;try{for(X=X.call(z);!(Ve=(fe=X.next()).done)&&(Ee.push(fe.value),!U||Ee.length!==U);Ve=!0);}catch(_t){At=!0,$e=_t}finally{try{Ve||X.return==null||X.return()}finally{if(At)throw $e}}return Ee}}(T,I)||function(z,U){if(z){if(typeof z=="string")return Yi(z,U);var X=Object.prototype.toString.call(z).slice(8,-1);return X==="Object"&&z.constructor&&(X=z.constructor.name),X==="Map"||X==="Set"?Array.from(z):X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X)?Yi(z,U):void 0}}(T,I)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yi(T,I){(I==null||I>T.length)&&(I=T.length);for(var z=0,U=Array(I);z<I;z++)U[z]=T[z];return U}function Ji(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty(pi,"__esModule",{value:!0}),pi.default=void 0,pi.getRectOffset=un;var cr=function(){function T(U){(function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,T),Ji(this,"states",[]),Ji(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Ji(this,"startDelta",void 0),Ji(this,"result",void 0),Ji(this,"endResult",void 0),Ji(this,"startEdges",void 0),Ji(this,"edges",void 0),Ji(this,"interaction",void 0),this.interaction=U,this.result=on(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var I,z;return I=T,(z=[{key:"start",value:function(U,X){var fe=U.phase,$e=this.interaction,Ee=function(At){var _t=At.interactable.options[At.prepared.name],jt=_t.modifiers;return jt&&jt.length?jt:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(oi){var fi=_t[oi];return fi&&fi.enabled&&{options:fi,methods:fi._methods}}).filter(function(oi){return!!oi})}($e);this.prepareStates(Ee),this.startEdges=(0,D.default)({},$e.edges),this.edges=(0,D.default)({},this.startEdges),this.startOffset=un($e.rect,X),this.startDelta={x:0,y:0};var Ve=this.fillArg({phase:fe,pageCoords:X,preEnd:!1});return this.result=on(),this.startAll(Ve),this.result=this.setAll(Ve)}},{key:"fillArg",value:function(U){var X=this.interaction;return U.interaction=X,U.interactable=X.interactable,U.element=X.element,U.rect||(U.rect=X.rect),U.edges||(U.edges=this.startEdges),U.startOffset=this.startOffset,U}},{key:"startAll",value:function(U){for(var X=0;X<this.states.length;X++){var fe=this.states[X];fe.methods.start&&(U.state=fe,fe.methods.start(U))}}},{key:"setAll",value:function(U){var X=U.phase,fe=U.preEnd,$e=U.skipModifiers,Ee=U.rect,Ve=U.edges;U.coords=(0,D.default)({},U.pageCoords),U.rect=(0,D.default)({},Ee),U.edges=(0,D.default)({},Ve);for(var At=$e?this.states.slice($e):this.states,_t=on(U.coords,U.rect),jt=0;jt<At.length;jt++){var oi,fi=At[jt],Jt=fi.options,$i=(0,D.default)({},U.coords),Mi=null;(oi=fi.methods)!=null&&oi.set&&this.shouldDo(Jt,fe,X)&&(U.state=fi,Mi=fi.methods.set(U),J.addEdges(U.edges,U.rect,{x:U.coords.x-$i.x,y:U.coords.y-$i.y})),_t.eventProps.push(Mi)}(0,D.default)(this.edges,U.edges),_t.delta.x=U.coords.x-U.pageCoords.x,_t.delta.y=U.coords.y-U.pageCoords.y,_t.rectDelta.left=U.rect.left-Ee.left,_t.rectDelta.right=U.rect.right-Ee.right,_t.rectDelta.top=U.rect.top-Ee.top,_t.rectDelta.bottom=U.rect.bottom-Ee.bottom;var Pi=this.result.coords,or=this.result.rect;if(Pi&&or){var Mr=_t.rect.left!==or.left||_t.rect.right!==or.right||_t.rect.top!==or.top||_t.rect.bottom!==or.bottom;_t.changed=Mr||Pi.x!==_t.coords.x||Pi.y!==_t.coords.y}return _t}},{key:"applyToInteraction",value:function(U){var X=this.interaction,fe=U.phase,$e=X.coords.cur,Ee=X.coords.start,Ve=this.result,At=this.startDelta,_t=Ve.delta;fe==="start"&&(0,D.default)(this.startDelta,Ve.delta);for(var jt=0;jt<2;jt++){var oi=ii([[Ee,At],[$e,_t]][jt],2),fi=oi[0],Jt=oi[1];fi.page.x+=Jt.x,fi.page.y+=Jt.y,fi.client.x+=Jt.x,fi.client.y+=Jt.y}var $i=this.result.rectDelta,Mi=U.rect||X.rect;Mi.left+=$i.left,Mi.right+=$i.right,Mi.top+=$i.top,Mi.bottom+=$i.bottom,Mi.width=Mi.right-Mi.left,Mi.height=Mi.bottom-Mi.top}},{key:"setAndApply",value:function(U){var X=this.interaction,fe=U.phase,$e=U.preEnd,Ee=U.skipModifiers,Ve=this.setAll(this.fillArg({preEnd:$e,phase:fe,pageCoords:U.modifiedCoords||X.coords.cur.page}));if(this.result=Ve,!Ve.changed&&(!Ee||Ee<this.states.length)&&X.interacting())return!1;if(U.modifiedCoords){var At=X.coords.cur.page,_t={x:U.modifiedCoords.x-At.x,y:U.modifiedCoords.y-At.y};Ve.coords.x+=_t.x,Ve.coords.y+=_t.y,Ve.delta.x+=_t.x,Ve.delta.y+=_t.y}this.applyToInteraction(U)}},{key:"beforeEnd",value:function(U){var X=U.interaction,fe=U.event,$e=this.states;if($e&&$e.length){for(var Ee=!1,Ve=0;Ve<$e.length;Ve++){var At=$e[Ve];U.state=At;var _t=At.options,jt=At.methods,oi=jt.beforeEnd&&jt.beforeEnd(U);if(oi)return this.endResult=oi,!1;Ee=Ee||!Ee&&this.shouldDo(_t,!0,U.phase,!0)}Ee&&X.move({event:fe,preEnd:!0})}}},{key:"stop",value:function(U){var X=U.interaction;if(this.states&&this.states.length){var fe=(0,D.default)({states:this.states,interactable:X.interactable,element:X.element,rect:null},U);this.fillArg(fe);for(var $e=0;$e<this.states.length;$e++){var Ee=this.states[$e];fe.state=Ee,Ee.methods.stop&&Ee.methods.stop(fe)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(U){this.states=[];for(var X=0;X<U.length;X++){var fe=U[X],$e=fe.options,Ee=fe.methods,Ve=fe.name;this.states.push({options:$e,methods:Ee,index:X,name:Ve})}return this.states}},{key:"restoreInteractionCoords",value:function(U){var X=U.interaction,fe=X.coords,$e=X.rect,Ee=X.modification;if(Ee.result){for(var Ve=Ee.startDelta,At=Ee.result,_t=At.delta,jt=At.rectDelta,oi=[[fe.start,Ve],[fe.cur,_t]],fi=0;fi<oi.length;fi++){var Jt=ii(oi[fi],2),$i=Jt[0],Mi=Jt[1];$i.page.x-=Mi.x,$i.page.y-=Mi.y,$i.client.x-=Mi.x,$i.client.y-=Mi.y}$e.left-=jt.left,$e.right-=jt.right,$e.top-=jt.top,$e.bottom-=jt.bottom}}},{key:"shouldDo",value:function(U,X,fe,$e){return!(!U||U.enabled===!1||$e&&!U.endOnly||U.endOnly&&!X||fe==="start"&&!U.setStart)}},{key:"copyFrom",value:function(U){this.startOffset=U.startOffset,this.startDelta=U.startDelta,this.startEdges=U.startEdges,this.edges=U.edges,this.states=U.states.map(function(X){return(0,Ht.default)(X)}),this.result=on((0,D.default)({},U.result.coords),(0,D.default)({},U.result.rect))}},{key:"destroy",value:function(){for(var U in this)this[U]=null}}])&&function(U,X){for(var fe=0;fe<X.length;fe++){var $e=X[fe];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(U,$e.key,$e)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),T}();function on(T,I){return{rect:I,coords:T,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function un(T,I){return T?{left:I.x-T.left,top:I.y-T.top,right:T.right-I.x,bottom:T.bottom-I.y}:{left:0,top:0,right:0,bottom:0}}pi.default=cr;var Kr={};function ae(T){var I=T.iEvent,z=T.interaction.modification.result;z&&(I.modifiers=z.eventProps)}Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.addEventModifiers=ae,Kr.default=void 0,Kr.makeModifier=function(T,I){var z=T.defaults,U={start:T.start,set:T.set,beforeEnd:T.beforeEnd,stop:T.stop},X=function(fe){var $e=fe||{};for(var Ee in $e.enabled=$e.enabled!==!1,z)Ee in $e||($e[Ee]=z[Ee]);var Ve={options:$e,methods:U,name:I,enable:function(){return $e.enabled=!0,Ve},disable:function(){return $e.enabled=!1,Ve}};return Ve};return I&&typeof I=="string"&&(X._defaults=z,X._methods=U),X};var ro={id:"modifiers/base",before:["actions"],install:function(T){T.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(T){var I=T.interaction;I.modification=new pi.default(I)},"interactions:before-action-start":function(T){var I=T.interaction,z=T.interaction.modification;z.start(T,I.coords.start.page),I.edges=z.edges,z.applyToInteraction(T)},"interactions:before-action-move":function(T){var I=T.interaction,z=I.modification,U=z.setAndApply(T);return I.edges=z.edges,U},"interactions:before-action-end":function(T){var I=T.interaction,z=I.modification,U=z.beforeEnd(T);return I.edges=z.startEdges,U},"interactions:action-start":ae,"interactions:action-move":ae,"interactions:action-end":ae,"interactions:after-action-start":function(T){return T.interaction.modification.restoreInteractionCoords(T)},"interactions:after-action-move":function(T){return T.interaction.modification.restoreInteractionCoords(T)},"interactions:stop":function(T){return T.interaction.modification.stop(T)}}},Dn=ro;Kr.default=Dn;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.defaults=void 0,Fn.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Mn={};function Zt(T){return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Zt(T)}function di(T,I){return di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,U){return z.__proto__=U,z},di(T,I)}function ni(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function Xi(T){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},Xi(T)}function Wi(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.InteractEvent=void 0;var hn=function(T){(function(Ee,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),Ve&&di(Ee,Ve)})($e,T);var I,z,U,X,fe=(U=$e,X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}(),function(){var Ee,Ve=Xi(U);if(X){var At=Xi(this).constructor;Ee=Reflect.construct(Ve,arguments,At)}else Ee=Ve.apply(this,arguments);return function(_t,jt){if(jt&&(Zt(jt)==="object"||typeof jt=="function"))return jt;if(jt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ni(_t)}(this,Ee)});function $e(Ee,Ve,At,_t,jt,oi,fi){var Jt;(function(kn,Qr){if(!(kn instanceof Qr))throw new TypeError("Cannot call a class as a function")})(this,$e),Wi(ni(Jt=fe.call(this,Ee)),"relatedTarget",null),Wi(ni(Jt),"screenX",void 0),Wi(ni(Jt),"screenY",void 0),Wi(ni(Jt),"button",void 0),Wi(ni(Jt),"buttons",void 0),Wi(ni(Jt),"ctrlKey",void 0),Wi(ni(Jt),"shiftKey",void 0),Wi(ni(Jt),"altKey",void 0),Wi(ni(Jt),"metaKey",void 0),Wi(ni(Jt),"page",void 0),Wi(ni(Jt),"client",void 0),Wi(ni(Jt),"delta",void 0),Wi(ni(Jt),"rect",void 0),Wi(ni(Jt),"x0",void 0),Wi(ni(Jt),"y0",void 0),Wi(ni(Jt),"t0",void 0),Wi(ni(Jt),"dt",void 0),Wi(ni(Jt),"duration",void 0),Wi(ni(Jt),"clientX0",void 0),Wi(ni(Jt),"clientY0",void 0),Wi(ni(Jt),"velocity",void 0),Wi(ni(Jt),"speed",void 0),Wi(ni(Jt),"swipe",void 0),Wi(ni(Jt),"axes",void 0),Wi(ni(Jt),"preEnd",void 0),jt=jt||Ee.element;var $i=Ee.interactable,Mi=($i&&$i.options||Fn.defaults).deltaSource,Pi=(0,ie.default)($i,jt,At),or=_t==="start",Mr=_t==="end",Hr=or?ni(Jt):Ee.prevEvent,nn=or?Ee.coords.start:Mr?{page:Hr.page,client:Hr.client,timeStamp:Ee.coords.cur.timeStamp}:Ee.coords.cur;return Jt.page=(0,D.default)({},nn.page),Jt.client=(0,D.default)({},nn.client),Jt.rect=(0,D.default)({},Ee.rect),Jt.timeStamp=nn.timeStamp,Mr||(Jt.page.x-=Pi.x,Jt.page.y-=Pi.y,Jt.client.x-=Pi.x,Jt.client.y-=Pi.y),Jt.ctrlKey=Ve.ctrlKey,Jt.altKey=Ve.altKey,Jt.shiftKey=Ve.shiftKey,Jt.metaKey=Ve.metaKey,Jt.button=Ve.button,Jt.buttons=Ve.buttons,Jt.target=jt,Jt.currentTarget=jt,Jt.preEnd=oi,Jt.type=fi||At+(_t||""),Jt.interactable=$i,Jt.t0=or?Ee.pointers[Ee.pointers.length-1].downTime:Hr.t0,Jt.x0=Ee.coords.start.page.x-Pi.x,Jt.y0=Ee.coords.start.page.y-Pi.y,Jt.clientX0=Ee.coords.start.client.x-Pi.x,Jt.clientY0=Ee.coords.start.client.y-Pi.y,Jt.delta=or||Mr?{x:0,y:0}:{x:Jt[Mi].x-Hr[Mi].x,y:Jt[Mi].y-Hr[Mi].y},Jt.dt=Ee.coords.delta.timeStamp,Jt.duration=Jt.timeStamp-Jt.t0,Jt.velocity=(0,D.default)({},Ee.coords.velocity[Mi]),Jt.speed=(0,se.default)(Jt.velocity.x,Jt.velocity.y),Jt.swipe=Mr||_t==="inertiastart"?Jt.getSwipe():null,Jt}return I=$e,(z=[{key:"getSwipe",value:function(){var Ee=this._interaction;if(Ee.prevEvent.speed<600||this.timeStamp-Ee.prevEvent.timeStamp>150)return null;var Ve=180*Math.atan2(Ee.prevEvent.velocityY,Ee.prevEvent.velocityX)/Math.PI;Ve<0&&(Ve+=360);var At=112.5<=Ve&&Ve<247.5,_t=202.5<=Ve&&Ve<337.5;return{up:_t,down:!_t&&22.5<=Ve&&Ve<157.5,left:At,right:!At&&(292.5<=Ve||Ve<67.5),angle:Ve,speed:Ee.prevEvent.speed,velocity:{x:Ee.prevEvent.velocityX,y:Ee.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(Ee,Ve){for(var At=0;At<Ve.length;At++){var _t=Ve[At];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(Ee,_t.key,_t)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),$e}(nt.BaseEvent);Mn.InteractEvent=hn,Object.defineProperties(hn.prototype,{pageX:{get:function(){return this.page.x},set:function(T){this.page.x=T}},pageY:{get:function(){return this.page.y},set:function(T){this.page.y=T}},clientX:{get:function(){return this.client.x},set:function(T){this.client.x=T}},clientY:{get:function(){return this.client.y},set:function(T){this.client.y=T}},dx:{get:function(){return this.delta.x},set:function(T){this.delta.x=T}},dy:{get:function(){return this.delta.y},set:function(T){this.delta.y=T}},velocityX:{get:function(){return this.velocity.x},set:function(T){this.velocity.x=T}},velocityY:{get:function(){return this.velocity.y},set:function(T){this.velocity.y=T}}});var Wn={};function sa(T,I){for(var z=0;z<I.length;z++){var U=I[z];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}function To(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.PointerInfo=void 0;var Rs=function(T,I,z){return I&&sa(T.prototype,I),z&&sa(T,z),Object.defineProperty(T,"prototype",{writable:!1}),T}(function T(I,z,U,X,fe){(function($e,Ee){if(!($e instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,T),To(this,"id",void 0),To(this,"pointer",void 0),To(this,"event",void 0),To(this,"downTime",void 0),To(this,"downTarget",void 0),this.id=I,this.pointer=z,this.event=U,this.downTime=X,this.downTarget=fe});Wn.PointerInfo=Rs;var wa,_a,$n={};function sn(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty($n,"__esModule",{value:!0}),$n.Interaction=void 0,Object.defineProperty($n,"PointerInfo",{enumerable:!0,get:function(){return Wn.PointerInfo}}),$n.default=$n._ProxyValues=$n._ProxyMethods=void 0,$n._ProxyValues=wa,function(T){T.interactable="",T.element="",T.prepared="",T.pointerIsDown="",T.pointerWasMoved="",T._proxy=""}(wa||($n._ProxyValues=wa={})),$n._ProxyMethods=_a,function(T){T.start="",T.move="",T.end="",T.stop="",T.interacting=""}(_a||($n._ProxyMethods=_a={}));var Ko=0,js=function(){function T(U){var X=this,fe=U.pointerType,$e=U.scopeFire;(function(oi,fi){if(!(oi instanceof fi))throw new TypeError("Cannot call a class as a function")})(this,T),sn(this,"interactable",null),sn(this,"element",null),sn(this,"rect",null),sn(this,"_rects",void 0),sn(this,"edges",null),sn(this,"_scopeFire",void 0),sn(this,"prepared",{name:null,axis:null,edges:null}),sn(this,"pointerType",void 0),sn(this,"pointers",[]),sn(this,"downEvent",null),sn(this,"downPointer",{}),sn(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),sn(this,"prevEvent",null),sn(this,"pointerIsDown",!1),sn(this,"pointerWasMoved",!1),sn(this,"_interacting",!1),sn(this,"_ending",!1),sn(this,"_stopped",!0),sn(this,"_proxy",null),sn(this,"simulation",null),sn(this,"doMove",(0,ft.warnOnce)(function(oi){this.move(oi)},"The interaction.doMove() method has been renamed to interaction.move()")),sn(this,"coords",{start:Oe.newCoords(),prev:Oe.newCoords(),cur:Oe.newCoords(),delta:Oe.newCoords(),velocity:Oe.newCoords()}),sn(this,"_id",Ko++),this._scopeFire=$e,this.pointerType=fe;var Ee=this;this._proxy={};var Ve=function(oi){Object.defineProperty(X._proxy,oi,{get:function(){return Ee[oi]}})};for(var At in wa)Ve(At);var _t=function(oi){Object.defineProperty(X._proxy,oi,{value:function(){return Ee[oi].apply(Ee,arguments)}})};for(var jt in _a)_t(jt);this._scopeFire("interactions:new",{interaction:this})}var I,z;return I=T,z=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(U,X,fe){var $e=this.updatePointer(U,X,fe,!0),Ee=this.pointers[$e];this._scopeFire("interactions:down",{pointer:U,event:X,eventTarget:fe,pointerIndex:$e,pointerInfo:Ee,type:"down",interaction:this})}},{key:"start",value:function(U,X,fe){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(U.name==="gesture"?2:1)||!X.options[U.name].enabled)&&((0,ft.copyAction)(this.prepared,U),this.interactable=X,this.element=fe,this.rect=X.getRect(fe),this.edges=this.prepared.edges?(0,D.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(U,X,fe){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(U,X,fe,!1);var $e,Ee,Ve=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&($e=this.coords.cur.client.x-this.coords.start.client.x,Ee=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,se.default)($e,Ee)>this.pointerMoveTolerance);var At=this.getPointerIndex(U),_t={pointer:U,pointerIndex:At,pointerInfo:this.pointers[At],event:X,type:"move",eventTarget:fe,dx:$e,dy:Ee,duplicate:Ve,interaction:this};Ve||Oe.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",_t),Ve||this.simulation||(this.interacting()&&(_t.type=null,this.move(_t)),this.pointerWasMoved&&Oe.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(U){U&&U.event||Oe.setZeroCoords(this.coords.delta),(U=(0,D.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},U||{})).phase="move",this._doPhase(U)}},{key:"pointerUp",value:function(U,X,fe,$e){var Ee=this.getPointerIndex(U);Ee===-1&&(Ee=this.updatePointer(U,X,fe,!1));var Ve=/cancel$/i.test(X.type)?"cancel":"up";this._scopeFire("interactions:".concat(Ve),{pointer:U,pointerIndex:Ee,pointerInfo:this.pointers[Ee],event:X,eventTarget:fe,type:Ve,curEventTarget:$e,interaction:this}),this.simulation||this.end(X),this.removePointer(U,X)}},{key:"documentBlur",value:function(U){this.end(U),this._scopeFire("interactions:blur",{event:U,type:"blur",interaction:this})}},{key:"end",value:function(U){var X;this._ending=!0,U=U||this._latestPointer.event,this.interacting()&&(X=this._doPhase({event:U,interaction:this,phase:"end"})),this._ending=!1,X===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(U){var X=Oe.getPointerId(U);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:ve.findIndex(this.pointers,function(fe){return fe.id===X})}},{key:"getPointerInfo",value:function(U){return this.pointers[this.getPointerIndex(U)]}},{key:"updatePointer",value:function(U,X,fe,$e){var Ee=Oe.getPointerId(U),Ve=this.getPointerIndex(U),At=this.pointers[Ve];return $e=$e!==!1&&($e||/(down|start)$/i.test(X.type)),At?At.pointer=U:(At=new Wn.PointerInfo(Ee,U,X,null,null),Ve=this.pointers.length,this.pointers.push(At)),Oe.setCoords(this.coords.cur,this.pointers.map(function(_t){return _t.pointer}),this._now()),Oe.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),$e&&(this.pointerIsDown=!0,At.downTime=this.coords.cur.timeStamp,At.downTarget=fe,Oe.pointerExtend(this.downPointer,U),this.interacting()||(Oe.copyCoords(this.coords.start,this.coords.cur),Oe.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=X,this.pointerWasMoved=!1)),this._updateLatestPointer(U,X,fe),this._scopeFire("interactions:update-pointer",{pointer:U,event:X,eventTarget:fe,down:$e,pointerInfo:At,pointerIndex:Ve,interaction:this}),Ve}},{key:"removePointer",value:function(U,X){var fe=this.getPointerIndex(U);if(fe!==-1){var $e=this.pointers[fe];this._scopeFire("interactions:remove-pointer",{pointer:U,event:X,eventTarget:null,pointerIndex:fe,pointerInfo:$e,interaction:this}),this.pointers.splice(fe,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(U,X,fe){this._latestPointer.pointer=U,this._latestPointer.event=X,this._latestPointer.eventTarget=fe}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(U,X,fe,$e){return new Mn.InteractEvent(this,U,this.prepared.name,X,this.element,fe,$e)}},{key:"_fireEvent",value:function(U){var X;(X=this.interactable)==null||X.fire(U),(!this.prevEvent||U.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=U)}},{key:"_doPhase",value:function(U){var X=U.event,fe=U.phase,$e=U.preEnd,Ee=U.type,Ve=this.rect;if(Ve&&fe==="move"&&(J.addEdges(this.edges,Ve,this.coords.delta[this.interactable.options.deltaSource]),Ve.width=Ve.right-Ve.left,Ve.height=Ve.bottom-Ve.top),this._scopeFire("interactions:before-action-".concat(fe),U)===!1)return!1;var At=U.iEvent=this._createPreparedEvent(X,fe,$e,Ee);return this._scopeFire("interactions:action-".concat(fe),U),fe==="start"&&(this.prevEvent=At),this._fireEvent(At),this._scopeFire("interactions:after-action-".concat(fe),U),!0}},{key:"_now",value:function(){return Date.now()}}],z&&function(U,X){for(var fe=0;fe<X.length;fe++){var $e=X[fe];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(U,$e.key,$e)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),T}();$n.Interaction=js;var Zl=js;$n.default=Zl;var Zn={};function us(T){T.pointerIsDown&&(ds(T.coords.cur,T.offset.total),T.offset.pending.x=0,T.offset.pending.y=0)}function no(T){cs(T.interaction)}function cs(T){if(!function(z){return!(!z.offset.pending.x&&!z.offset.pending.y)}(T))return!1;var I=T.offset.pending;return ds(T.coords.cur,I),ds(T.coords.delta,I),J.addEdges(T.edges,T.rect,I),I.x=0,I.y=0,!0}function Wa(T){var I=T.x,z=T.y;this.offset.pending.x+=I,this.offset.pending.y+=z,this.offset.total.x+=I,this.offset.total.y+=z}function ds(T,I){var z=T.page,U=T.client,X=I.x,fe=I.y;z.x+=X,z.y+=fe,U.x+=X,U.y+=fe}Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.addTotal=us,Zn.applyPending=cs,Zn.default=void 0,$n._ProxyMethods.offsetBy="";var hs={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(T){T.Interaction.prototype.offsetBy=Wa},listeners:{"interactions:new":function(T){T.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(T){return us(T.interaction)},"interactions:before-action-start":no,"interactions:before-action-move":no,"interactions:before-action-end":function(T){var I=T.interaction;if(cs(I))return I.move({offset:!0}),I.end(),!1},"interactions:stop":function(T){var I=T.interaction;I.offset.total.x=0,I.offset.total.y=0,I.offset.pending.x=0,I.offset.pending.y=0}}},ps=hs;Zn.default=ps;var Mo={};function In(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.default=Mo.InertiaState=void 0;var P=function(){function T(U){(function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,T),In(this,"active",!1),In(this,"isModified",!1),In(this,"smoothEnd",!1),In(this,"allowResume",!1),In(this,"modification",void 0),In(this,"modifierCount",0),In(this,"modifierArg",void 0),In(this,"startCoords",void 0),In(this,"t0",0),In(this,"v0",0),In(this,"te",0),In(this,"targetOffset",void 0),In(this,"modifiedOffset",void 0),In(this,"currentOffset",void 0),In(this,"lambda_v0",0),In(this,"one_ve_v0",0),In(this,"timeout",void 0),In(this,"interaction",void 0),this.interaction=U}var I,z;return I=T,(z=[{key:"start",value:function(U){var X=this.interaction,fe=N(X);if(!fe||!fe.enabled)return!1;var $e=X.coords.velocity.client,Ee=(0,se.default)($e.x,$e.y),Ve=this.modification||(this.modification=new pi.default(X));if(Ve.copyFrom(X.modification),this.t0=X._now(),this.allowResume=fe.allowResume,this.v0=Ee,this.currentOffset={x:0,y:0},this.startCoords=X.coords.cur.page,this.modifierArg=Ve.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-X.coords.cur.timeStamp<50&&Ee>fe.minSpeed&&Ee>fe.endSpeed)this.startInertia();else{if(Ve.result=Ve.setAll(this.modifierArg),!Ve.result.changed)return!1;this.startSmoothEnd()}return X.modification.result.rect=null,X.offsetBy(this.targetOffset),X._doPhase({interaction:X,event:U,phase:"inertiastart"}),X.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),X.modification.result.rect=null,this.active=!0,X.simulation=this,!0}},{key:"startInertia",value:function(){var U=this,X=this.interaction.coords.velocity.client,fe=N(this.interaction),$e=fe.resistance,Ee=-Math.log(fe.endSpeed/this.v0)/$e;this.targetOffset={x:(X.x-Ee)/$e,y:(X.y-Ee)/$e},this.te=Ee,this.lambda_v0=$e/this.v0,this.one_ve_v0=1-fe.endSpeed/this.v0;var Ve=this.modification,At=this.modifierArg;At.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},Ve.result=Ve.setAll(At),Ve.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+Ve.result.delta.x,y:this.targetOffset.y+Ve.result.delta.y}),this.onNextFrame(function(){return U.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var U=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return U.smoothEndTick()})}},{key:"onNextFrame",value:function(U){var X=this;this.timeout=st.default.request(function(){X.active&&U()})}},{key:"inertiaTick",value:function(){var U,X,fe,$e,Ee,Ve=this,At=this.interaction,_t=N(At).resistance,jt=(At._now()-this.t0)/1e3;if(jt<this.te){var oi,fi=1-(Math.exp(-_t*jt)-this.lambda_v0)/this.one_ve_v0;this.isModified?(U=this.targetOffset.x,X=this.targetOffset.y,fe=this.modifiedOffset.x,$e=this.modifiedOffset.y,oi={x:re(Ee=fi,0,U,fe),y:re(Ee,0,X,$e)}):oi={x:this.targetOffset.x*fi,y:this.targetOffset.y*fi};var Jt={x:oi.x-this.currentOffset.x,y:oi.y-this.currentOffset.y};this.currentOffset.x+=Jt.x,this.currentOffset.y+=Jt.y,At.offsetBy(Jt),At.move(),this.onNextFrame(function(){return Ve.inertiaTick()})}else At.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var U=this,X=this.interaction,fe=X._now()-this.t0,$e=N(X).smoothEndDuration;if(fe<$e){var Ee={x:Ie(fe,0,this.targetOffset.x,$e),y:Ie(fe,0,this.targetOffset.y,$e)},Ve={x:Ee.x-this.currentOffset.x,y:Ee.y-this.currentOffset.y};this.currentOffset.x+=Ve.x,this.currentOffset.y+=Ve.y,X.offsetBy(Ve),X.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return U.smoothEndTick()})}else X.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(U){var X=U.pointer,fe=U.event,$e=U.eventTarget,Ee=this.interaction;Ee.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),Ee.updatePointer(X,fe,$e,!0),Ee._doPhase({interaction:Ee,event:fe,phase:"resume"}),(0,Oe.copyCoords)(Ee.coords.prev,Ee.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,st.default.cancel(this.timeout)}}])&&function(U,X){for(var fe=0;fe<X.length;fe++){var $e=X[fe];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(U,$e.key,$e)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),T}();function N(T){var I=T.interactable,z=T.prepared;return I&&I.options&&z.name&&I.options[z.name].inertia}Mo.InertiaState=P;var Z={id:"inertia",before:["modifiers","actions"],install:function(T){var I=T.defaults;T.usePlugin(Zn.default),T.usePlugin(Kr.default),T.actions.phases.inertiastart=!0,T.actions.phases.resume=!0,I.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(T){var I=T.interaction;I.inertia=new P(I)},"interactions:before-action-end":function(T){var I=T.interaction,z=T.event;return(!I._interacting||I.simulation||!I.inertia.start(z))&&null},"interactions:down":function(T){var I=T.interaction,z=T.eventTarget,U=I.inertia;if(U.active)for(var X=z;p.default.element(X);){if(X===I.element){U.resume(T);break}X=j.parentNode(X)}},"interactions:stop":function(T){var I=T.interaction.inertia;I.active&&I.stop()},"interactions:before-action-resume":function(T){var I=T.interaction.modification;I.stop(T),I.start(T,T.interaction.coords.cur.page),I.applyToInteraction(T)},"interactions:before-action-inertiastart":function(T){return T.interaction.modification.setAndApply(T)},"interactions:action-resume":Kr.addEventModifiers,"interactions:action-inertiastart":Kr.addEventModifiers,"interactions:after-action-inertiastart":function(T){return T.interaction.modification.restoreInteractionCoords(T)},"interactions:after-action-resume":function(T){return T.interaction.modification.restoreInteractionCoords(T)}}};function re(T,I,z,U){var X=1-T;return X*X*I+2*X*T*z+T*T*U}function Ie(T,I,z,U){return-z*(T/=U)*(T-2)+I}var Ne=Z;Mo.default=Ne;var Qe={};function Lt(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}function Pt(T,I){for(var z=0;z<I.length;z++){var U=I[z];if(T.immediatePropagationStopped)break;U(T)}}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.Eventable=void 0;var Kt=function(){function T(U){(function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,T),Lt(this,"options",void 0),Lt(this,"types",{}),Lt(this,"propagationStopped",!1),Lt(this,"immediatePropagationStopped",!1),Lt(this,"global",void 0),this.options=(0,D.default)({},U||{})}var I,z;return I=T,(z=[{key:"fire",value:function(U){var X,fe=this.global;(X=this.types[U.type])&&Pt(U,X),!U.propagationStopped&&fe&&(X=fe[U.type])&&Pt(U,X)}},{key:"on",value:function(U,X){var fe=(0,W.default)(U,X);for(U in fe)this.types[U]=ve.merge(this.types[U]||[],fe[U])}},{key:"off",value:function(U,X){var fe=(0,W.default)(U,X);for(U in fe){var $e=this.types[U];if($e&&$e.length)for(var Ee=0;Ee<fe[U].length;Ee++){var Ve=fe[U][Ee],At=$e.indexOf(Ve);At!==-1&&$e.splice(At,1)}}}},{key:"getRect",value:function(U){return null}}])&&function(U,X){for(var fe=0;fe<X.length;fe++){var $e=X[fe];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(U,$e.key,$e)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),T}();Qe.Eventable=Kt;var si={};Object.defineProperty(si,"__esModule",{value:!0}),si.default=function(T,I){if(I.phaselessTypes[T])return!0;for(var z in I.map)if(T.indexOf(z)===0&&T.substr(z.length)in I.phases)return!0;return!1};var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.createInteractStatic=function(T){var I=function z(U,X){var fe=T.interactables.get(U,X);return fe||((fe=T.interactables.new(U,X)).events.global=z.globalEvents),fe};return I.getPointerAverage=Oe.pointerAverage,I.getTouchBBox=Oe.touchBBox,I.getTouchDistance=Oe.touchDistance,I.getTouchAngle=Oe.touchAngle,I.getElementRect=j.getElementRect,I.getElementClientRect=j.getElementClientRect,I.matchesSelector=j.matchesSelector,I.closest=j.closest,I.globalEvents={},I.version="1.10.18",I.scope=T,I.use=function(z,U){return this.scope.usePlugin(z,U),this},I.isSet=function(z,U){return!!this.scope.interactables.get(z,U&&U.context)},I.on=(0,ft.warnOnce)(function(z,U,X){if(p.default.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),p.default.array(z)){for(var fe=0;fe<z.length;fe++){var $e=z[fe];this.on($e,U,X)}return this}if(p.default.object(z)){for(var Ee in z)this.on(Ee,z[Ee],U);return this}return(0,si.default)(z,this.scope.actions)?this.globalEvents[z]?this.globalEvents[z].push(U):this.globalEvents[z]=[U]:this.scope.events.add(this.scope.document,z,U,{options:X}),this},"The interact.on() method is being deprecated"),I.off=(0,ft.warnOnce)(function(z,U,X){if(p.default.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),p.default.array(z)){for(var fe=0;fe<z.length;fe++){var $e=z[fe];this.off($e,U,X)}return this}if(p.default.object(z)){for(var Ee in z)this.off(Ee,z[Ee],U);return this}var Ve;return(0,si.default)(z,this.scope.actions)?z in this.globalEvents&&(Ve=this.globalEvents[z].indexOf(U))!==-1&&this.globalEvents[z].splice(Ve,1):this.scope.events.remove(this.scope.document,z,U,X),this},"The interact.off() method is being deprecated"),I.debug=function(){return this.scope},I.supportsTouch=function(){return _.default.supportsTouch},I.supportsPointerEvent=function(){return _.default.supportsPointerEvent},I.stop=function(){for(var z=0;z<this.scope.interactions.list.length;z++)this.scope.interactions.list[z].stop();return this},I.pointerMoveTolerance=function(z){return p.default.number(z)?(this.scope.interactions.pointerMoveTolerance=z,this):this.scope.interactions.pointerMoveTolerance},I.addDocument=function(z,U){this.scope.addDocument(z,U)},I.removeDocument=function(z){this.scope.removeDocument(z)},I};var Qt={};function hi(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.Interactable=void 0;var dr=function(){function T(U,X,fe,$e){(function(Ee,Ve){if(!(Ee instanceof Ve))throw new TypeError("Cannot call a class as a function")})(this,T),hi(this,"options",void 0),hi(this,"_actions",void 0),hi(this,"target",void 0),hi(this,"events",new Qe.Eventable),hi(this,"_context",void 0),hi(this,"_win",void 0),hi(this,"_doc",void 0),hi(this,"_scopeEvents",void 0),hi(this,"_rectChecker",void 0),this._actions=X.actions,this.target=U,this._context=X.context||fe,this._win=(0,n.getWindow)((0,j.trySelector)(U)?this._context:U),this._doc=this._win.document,this._scopeEvents=$e,this.set(X)}var I,z;return I=T,(z=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(U,X){return p.default.func(X.onstart)&&this.on("".concat(U,"start"),X.onstart),p.default.func(X.onmove)&&this.on("".concat(U,"move"),X.onmove),p.default.func(X.onend)&&this.on("".concat(U,"end"),X.onend),p.default.func(X.oninertiastart)&&this.on("".concat(U,"inertiastart"),X.oninertiastart),this}},{key:"updatePerActionListeners",value:function(U,X,fe){(p.default.array(X)||p.default.object(X))&&this.off(U,X),(p.default.array(fe)||p.default.object(fe))&&this.on(U,fe)}},{key:"setPerAction",value:function(U,X){var fe=this._defaults;for(var $e in X){var Ee=$e,Ve=this.options[U],At=X[Ee];Ee==="listeners"&&this.updatePerActionListeners(U,Ve.listeners,At),p.default.array(At)?Ve[Ee]=ve.from(At):p.default.plainObject(At)?(Ve[Ee]=(0,D.default)(Ve[Ee]||{},(0,Ht.default)(At)),p.default.object(fe.perAction[Ee])&&"enabled"in fe.perAction[Ee]&&(Ve[Ee].enabled=At.enabled!==!1)):p.default.bool(At)&&p.default.object(fe.perAction[Ee])?Ve[Ee].enabled=At:Ve[Ee]=At}}},{key:"getRect",value:function(U){return U=U||(p.default.element(this.target)?this.target:null),p.default.string(this.target)&&(U=U||this._context.querySelector(this.target)),(0,j.getElementRect)(U)}},{key:"rectChecker",value:function(U){var X=this;return p.default.func(U)?(this._rectChecker=U,this.getRect=function(fe){var $e=(0,D.default)({},X._rectChecker(fe));return"width"in $e||($e.width=$e.right-$e.left,$e.height=$e.bottom-$e.top),$e},this):U===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(U,X){if((0,j.trySelector)(X)||p.default.object(X)){for(var fe in this.options[U]=X,this._actions.map)this.options[fe][U]=X;return this}return this.options[U]}},{key:"origin",value:function(U){return this._backCompatOption("origin",U)}},{key:"deltaSource",value:function(U){return U==="page"||U==="client"?(this.options.deltaSource=U,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(U){return this._context===U.ownerDocument||(0,j.nodeContains)(this._context,U)}},{key:"testIgnoreAllow",value:function(U,X,fe){return!this.testIgnore(U.ignoreFrom,X,fe)&&this.testAllow(U.allowFrom,X,fe)}},{key:"testAllow",value:function(U,X,fe){return!U||!!p.default.element(fe)&&(p.default.string(U)?(0,j.matchesUpTo)(fe,U,X):!!p.default.element(U)&&(0,j.nodeContains)(U,fe))}},{key:"testIgnore",value:function(U,X,fe){return!(!U||!p.default.element(fe))&&(p.default.string(U)?(0,j.matchesUpTo)(fe,U,X):!!p.default.element(U)&&(0,j.nodeContains)(U,fe))}},{key:"fire",value:function(U){return this.events.fire(U),this}},{key:"_onOff",value:function(U,X,fe,$e){p.default.object(X)&&!p.default.array(X)&&($e=fe,fe=null);var Ee=U==="on"?"add":"remove",Ve=(0,W.default)(X,fe);for(var At in Ve){At==="wheel"&&(At=_.default.wheelEvent);for(var _t=0;_t<Ve[At].length;_t++){var jt=Ve[At][_t];(0,si.default)(At,this._actions)?this.events[U](At,jt):p.default.string(this.target)?this._scopeEvents["".concat(Ee,"Delegate")](this.target,this._context,At,jt,$e):this._scopeEvents[Ee](this.target,At,jt,$e)}}return this}},{key:"on",value:function(U,X,fe){return this._onOff("on",U,X,fe)}},{key:"off",value:function(U,X,fe){return this._onOff("off",U,X,fe)}},{key:"set",value:function(U){var X=this._defaults;for(var fe in p.default.object(U)||(U={}),this.options=(0,Ht.default)(X.base),this._actions.methodDict){var $e=fe,Ee=this._actions.methodDict[$e];this.options[$e]={},this.setPerAction($e,(0,D.default)((0,D.default)({},X.perAction),X.actions[$e])),this[Ee](U[$e])}for(var Ve in U)p.default.func(this[Ve])&&this[Ve](U[Ve]);return this}},{key:"unset",value:function(){if(p.default.string(this.target))for(var U in this._scopeEvents.delegatedEvents)for(var X=this._scopeEvents.delegatedEvents[U],fe=X.length-1;fe>=0;fe--){var $e=X[fe],Ee=$e.selector,Ve=$e.context,At=$e.listeners;Ee===this.target&&Ve===this._context&&X.splice(fe,1);for(var _t=At.length-1;_t>=0;_t--)this._scopeEvents.removeDelegate(this.target,this._context,U,At[_t][0],At[_t][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(U,X){for(var fe=0;fe<X.length;fe++){var $e=X[fe];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(U,$e.key,$e)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),T}();Qt.Interactable=dr;var xr={};function sr(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty(xr,"__esModule",{value:!0}),xr.InteractableSet=void 0;var wn=function(){function T(U){var X=this;(function(fe,$e){if(!(fe instanceof $e))throw new TypeError("Cannot call a class as a function")})(this,T),sr(this,"list",[]),sr(this,"selectorMap",{}),sr(this,"scope",void 0),this.scope=U,U.addListeners({"interactable:unset":function(fe){var $e=fe.interactable,Ee=$e.target,Ve=$e._context,At=p.default.string(Ee)?X.selectorMap[Ee]:Ee[X.scope.id],_t=ve.findIndex(At,function(jt){return jt.context===Ve});At[_t]&&(At[_t].context=null,At[_t].interactable=null),At.splice(_t,1)}})}var I,z;return I=T,(z=[{key:"new",value:function(U,X){X=(0,D.default)(X||{},{actions:this.scope.actions});var fe=new this.scope.Interactable(U,X,this.scope.document,this.scope.events),$e={context:fe._context,interactable:fe};return this.scope.addDocument(fe._doc),this.list.push(fe),p.default.string(U)?(this.selectorMap[U]||(this.selectorMap[U]=[]),this.selectorMap[U].push($e)):(fe.target[this.scope.id]||Object.defineProperty(U,this.scope.id,{value:[],configurable:!0}),U[this.scope.id].push($e)),this.scope.fire("interactable:new",{target:U,options:X,interactable:fe,win:this.scope._win}),fe}},{key:"get",value:function(U,X){var fe=X&&X.context||this.scope.document,$e=p.default.string(U),Ee=$e?this.selectorMap[U]:U[this.scope.id];if(!Ee)return null;var Ve=ve.find(Ee,function(At){return At.context===fe&&($e||At.interactable.inContext(U))});return Ve&&Ve.interactable}},{key:"forEachMatch",value:function(U,X){for(var fe=0;fe<this.list.length;fe++){var $e=this.list[fe],Ee=void 0;if((p.default.string($e.target)?p.default.element(U)&&j.matchesSelector(U,$e.target):U===$e.target)&&$e.inContext(U)&&(Ee=X($e)),Ee!==void 0)return Ee}}}])&&function(U,X){for(var fe=0;fe<X.length;fe++){var $e=X[fe];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(U,$e.key,$e)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),T}();xr.InteractableSet=wn;var pn={};function Jn(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}function Xr(T,I){return function(z){if(Array.isArray(z))return z}(T)||function(z,U){var X=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(X!=null){var fe,$e,Ee=[],Ve=!0,At=!1;try{for(X=X.call(z);!(Ve=(fe=X.next()).done)&&(Ee.push(fe.value),!U||Ee.length!==U);Ve=!0);}catch(_t){At=!0,$e=_t}finally{try{Ve||X.return==null||X.return()}finally{if(At)throw $e}}return Ee}}(T,I)||function(z,U){if(z){if(typeof z=="string")return $r(z,U);var X=Object.prototype.toString.call(z).slice(8,-1);return X==="Object"&&z.constructor&&(X=z.constructor.name),X==="Map"||X==="Set"?Array.from(z):X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X)?$r(z,U):void 0}}(T,I)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $r(T,I){(I==null||I>T.length)&&(I=T.length);for(var z=0,U=Array(I);z<I;z++)U[z]=T[z];return U}Object.defineProperty(pn,"__esModule",{value:!0}),pn.default=void 0;var Ur=function(){function T(U){(function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,T),Jn(this,"currentTarget",void 0),Jn(this,"originalEvent",void 0),Jn(this,"type",void 0),this.originalEvent=U,(0,Ae.default)(this,U)}var I,z;return I=T,(z=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(U,X){for(var fe=0;fe<X.length;fe++){var $e=X[fe];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(U,$e.key,$e)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),T}();function Or(T){if(!p.default.object(T))return{capture:!!T,passive:!1};var I=(0,D.default)({},T);return I.capture=!!T.capture,I.passive=!!T.passive,I}var qr={id:"events",install:function(T){var I,z=[],U={},X=[],fe={add:$e,remove:Ee,addDelegate:function(_t,jt,oi,fi,Jt){var $i=Or(Jt);if(!U[oi]){U[oi]=[];for(var Mi=0;Mi<X.length;Mi++){var Pi=X[Mi];$e(Pi,oi,Ve),$e(Pi,oi,At,!0)}}var or=U[oi],Mr=ve.find(or,function(Hr){return Hr.selector===_t&&Hr.context===jt});Mr||(Mr={selector:_t,context:jt,listeners:[]},or.push(Mr)),Mr.listeners.push([fi,$i])},removeDelegate:function(_t,jt,oi,fi,Jt){var $i,Mi=Or(Jt),Pi=U[oi],or=!1;if(Pi)for($i=Pi.length-1;$i>=0;$i--){var Mr=Pi[$i];if(Mr.selector===_t&&Mr.context===jt){for(var Hr=Mr.listeners,nn=Hr.length-1;nn>=0;nn--){var kn=Xr(Hr[nn],2),Qr=kn[0],Pn=kn[1],xa=Pn.capture,qa=Pn.passive;if(Qr===fi&&xa===Mi.capture&&qa===Mi.passive){Hr.splice(nn,1),Hr.length||(Pi.splice($i,1),Ee(jt,oi,Ve),Ee(jt,oi,At,!0)),or=!0;break}}if(or)break}}},delegateListener:Ve,delegateUseCapture:At,delegatedEvents:U,documents:X,targets:z,supportsOptions:!1,supportsPassive:!1};function $e(_t,jt,oi,fi){var Jt=Or(fi),$i=ve.find(z,function(Mi){return Mi.eventTarget===_t});$i||($i={eventTarget:_t,events:{}},z.push($i)),$i.events[jt]||($i.events[jt]=[]),_t.addEventListener&&!ve.contains($i.events[jt],oi)&&(_t.addEventListener(jt,oi,fe.supportsOptions?Jt:Jt.capture),$i.events[jt].push(oi))}function Ee(_t,jt,oi,fi){var Jt=Or(fi),$i=ve.findIndex(z,function(nn){return nn.eventTarget===_t}),Mi=z[$i];if(Mi&&Mi.events)if(jt!=="all"){var Pi=!1,or=Mi.events[jt];if(or){if(oi==="all"){for(var Mr=or.length-1;Mr>=0;Mr--)Ee(_t,jt,or[Mr],Jt);return}for(var Hr=0;Hr<or.length;Hr++)if(or[Hr]===oi){_t.removeEventListener(jt,oi,fe.supportsOptions?Jt:Jt.capture),or.splice(Hr,1),or.length===0&&(delete Mi.events[jt],Pi=!0);break}}Pi&&!Object.keys(Mi.events).length&&z.splice($i,1)}else for(jt in Mi.events)Mi.events.hasOwnProperty(jt)&&Ee(_t,jt,"all")}function Ve(_t,jt){for(var oi=Or(jt),fi=new Ur(_t),Jt=U[_t.type],$i=Xr(Oe.getEventTargets(_t),1)[0],Mi=$i;p.default.element(Mi);){for(var Pi=0;Pi<Jt.length;Pi++){var or=Jt[Pi],Mr=or.selector,Hr=or.context;if(j.matchesSelector(Mi,Mr)&&j.nodeContains(Hr,$i)&&j.nodeContains(Hr,Mi)){var nn=or.listeners;fi.currentTarget=Mi;for(var kn=0;kn<nn.length;kn++){var Qr=Xr(nn[kn],2),Pn=Qr[0],xa=Qr[1],qa=xa.capture,jp=xa.passive;qa===oi.capture&&jp===oi.passive&&Pn(fi)}}}Mi=j.parentNode(Mi)}}function At(_t){return Ve(_t,!0)}return(I=T.document)==null||I.createElement("div").addEventListener("test",null,{get capture(){return fe.supportsOptions=!0},get passive(){return fe.supportsPassive=!0}}),T.events=fe,fe}};pn.default=qr;var Io={};Object.defineProperty(Io,"__esModule",{value:!0}),Io.default=void 0;var Lo={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(T){for(var I=0;I<Lo.methodOrder.length;I++){var z;z=Lo.methodOrder[I];var U=Lo[z](T);if(U)return U}return null},simulationResume:function(T){var I=T.pointerType,z=T.eventType,U=T.eventTarget,X=T.scope;if(!/down|start/i.test(z))return null;for(var fe=0;fe<X.interactions.list.length;fe++){var $e=X.interactions.list[fe],Ee=U;if($e.simulation&&$e.simulation.allowResume&&$e.pointerType===I)for(;Ee;){if(Ee===$e.element)return $e;Ee=j.parentNode(Ee)}}return null},mouseOrPen:function(T){var I,z=T.pointerId,U=T.pointerType,X=T.eventType,fe=T.scope;if(U!=="mouse"&&U!=="pen")return null;for(var $e=0;$e<fe.interactions.list.length;$e++){var Ee=fe.interactions.list[$e];if(Ee.pointerType===U){if(Ee.simulation&&!Ln(Ee,z))continue;if(Ee.interacting())return Ee;I||(I=Ee)}}if(I)return I;for(var Ve=0;Ve<fe.interactions.list.length;Ve++){var At=fe.interactions.list[Ve];if(!(At.pointerType!==U||/down/i.test(X)&&At.simulation))return At}return null},hasPointer:function(T){for(var I=T.pointerId,z=T.scope,U=0;U<z.interactions.list.length;U++){var X=z.interactions.list[U];if(Ln(X,I))return X}return null},idle:function(T){for(var I=T.pointerType,z=T.scope,U=0;U<z.interactions.list.length;U++){var X=z.interactions.list[U];if(X.pointers.length===1){var fe=X.interactable;if(fe&&(!fe.options.gesture||!fe.options.gesture.enabled))continue}else if(X.pointers.length>=2)continue;if(!X.interacting()&&I===X.pointerType)return X}return null}};function Ln(T,I){return T.pointers.some(function(z){return z.id===I})}var Zo=Lo;Io.default=Zo;var po={};function ri(T){return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},ri(T)}function Xn(T,I){return function(z){if(Array.isArray(z))return z}(T)||function(z,U){var X=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(X!=null){var fe,$e,Ee=[],Ve=!0,At=!1;try{for(X=X.call(z);!(Ve=(fe=X.next()).done)&&(Ee.push(fe.value),!U||Ee.length!==U);Ve=!0);}catch(_t){At=!0,$e=_t}finally{try{Ve||X.return==null||X.return()}finally{if(At)throw $e}}return Ee}}(T,I)||function(z,U){if(z){if(typeof z=="string")return B(z,U);var X=Object.prototype.toString.call(z).slice(8,-1);return X==="Object"&&z.constructor&&(X=z.constructor.name),X==="Map"||X==="Set"?Array.from(z):X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X)?B(z,U):void 0}}(T,I)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function B(T,I){(I==null||I>T.length)&&(I=T.length);for(var z=0,U=Array(I);z<I;z++)U[z]=T[z];return U}function O(T,I){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,U){return z.__proto__=U,z},O(T,I)}function L(T){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},L(T)}Object.defineProperty(po,"__esModule",{value:!0}),po.default=void 0;var F=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function ee(T,I){return function(z){var U=I.interactions.list,X=Oe.getPointerType(z),fe=Xn(Oe.getEventTargets(z),2),$e=fe[0],Ee=fe[1],Ve=[];if(/^touch/.test(z.type)){I.prevTouchTime=I.now();for(var At=0;At<z.changedTouches.length;At++){var _t=z.changedTouches[At],jt={pointer:_t,pointerId:Oe.getPointerId(_t),pointerType:X,eventType:z.type,eventTarget:$e,curEventTarget:Ee,scope:I},oi=le(jt);Ve.push([jt.pointer,jt.eventTarget,jt.curEventTarget,oi])}}else{var fi=!1;if(!_.default.supportsPointerEvent&&/mouse/.test(z.type)){for(var Jt=0;Jt<U.length&&!fi;Jt++)fi=U[Jt].pointerType!=="mouse"&&U[Jt].pointerIsDown;fi=fi||I.now()-I.prevTouchTime<500||z.timeStamp===0}if(!fi){var $i={pointer:z,pointerId:Oe.getPointerId(z),pointerType:X,eventType:z.type,curEventTarget:Ee,eventTarget:$e,scope:I},Mi=le($i);Ve.push([$i.pointer,$i.eventTarget,$i.curEventTarget,Mi])}}for(var Pi=0;Pi<Ve.length;Pi++){var or=Xn(Ve[Pi],4),Mr=or[0],Hr=or[1],nn=or[2];or[3][T](Mr,z,Hr,nn)}}}function le(T){var I=T.pointerType,z=T.scope,U={interaction:Io.default.search(T),searchDetails:T};return z.fire("interactions:find",U),U.interaction||z.interactions.new({pointerType:I})}function ye(T,I){var z=T.doc,U=T.scope,X=T.options,fe=U.interactions.docEvents,$e=U.events,Ee=$e[I];for(var Ve in U.browser.isIOS&&!X.events&&(X.events={passive:!1}),$e.delegatedEvents)Ee(z,Ve,$e.delegateListener),Ee(z,Ve,$e.delegateUseCapture,!0);for(var At=X&&X.events,_t=0;_t<fe.length;_t++){var jt=fe[_t];Ee(z,jt.type,jt.listener,At)}}var gt={id:"core/interactions",install:function(T){for(var I={},z=0;z<F.length;z++){var U=F[z];I[U]=ee(U,T)}var X,fe=_.default.pEventTypes;function $e(){for(var Ee=0;Ee<T.interactions.list.length;Ee++){var Ve=T.interactions.list[Ee];if(Ve.pointerIsDown&&Ve.pointerType==="touch"&&!Ve._interacting)for(var At=function(){var jt=Ve.pointers[_t];T.documents.some(function(oi){var fi=oi.doc;return(0,j.nodeContains)(fi,jt.downTarget)})||Ve.removePointer(jt.pointer,jt.event)},_t=0;_t<Ve.pointers.length;_t++)At()}}(X=h.default.PointerEvent?[{type:fe.down,listener:$e},{type:fe.down,listener:I.pointerDown},{type:fe.move,listener:I.pointerMove},{type:fe.up,listener:I.pointerUp},{type:fe.cancel,listener:I.pointerUp}]:[{type:"mousedown",listener:I.pointerDown},{type:"mousemove",listener:I.pointerMove},{type:"mouseup",listener:I.pointerUp},{type:"touchstart",listener:$e},{type:"touchstart",listener:I.pointerDown},{type:"touchmove",listener:I.pointerMove},{type:"touchend",listener:I.pointerUp},{type:"touchcancel",listener:I.pointerUp}]).push({type:"blur",listener:function(Ee){for(var Ve=0;Ve<T.interactions.list.length;Ve++)T.interactions.list[Ve].documentBlur(Ee)}}),T.prevTouchTime=0,T.Interaction=function(Ee){(function(Jt,$i){if(typeof $i!="function"&&$i!==null)throw new TypeError("Super expression must either be null or a function");Jt.prototype=Object.create($i&&$i.prototype,{constructor:{value:Jt,writable:!0,configurable:!0}}),Object.defineProperty(Jt,"prototype",{writable:!1}),$i&&O(Jt,$i)})(fi,Ee);var Ve,At,_t,jt,oi=(_t=fi,jt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Jt){return!1}}(),function(){var Jt,$i=L(_t);if(jt){var Mi=L(this).constructor;Jt=Reflect.construct($i,arguments,Mi)}else Jt=$i.apply(this,arguments);return function(Pi,or){if(or&&(ri(or)==="object"||typeof or=="function"))return or;if(or!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Mr){if(Mr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Mr}(Pi)}(this,Jt)});function fi(){return function(Jt,$i){if(!(Jt instanceof $i))throw new TypeError("Cannot call a class as a function")}(this,fi),oi.apply(this,arguments)}return Ve=fi,(At=[{key:"pointerMoveTolerance",get:function(){return T.interactions.pointerMoveTolerance},set:function(Jt){T.interactions.pointerMoveTolerance=Jt}},{key:"_now",value:function(){return T.now()}}])&&function(Jt,$i){for(var Mi=0;Mi<$i.length;Mi++){var Pi=$i[Mi];Pi.enumerable=Pi.enumerable||!1,Pi.configurable=!0,"value"in Pi&&(Pi.writable=!0),Object.defineProperty(Jt,Pi.key,Pi)}}(Ve.prototype,At),Object.defineProperty(Ve,"prototype",{writable:!1}),fi}($n.default),T.interactions={list:[],new:function(Ee){Ee.scopeFire=function(At,_t){return T.fire(At,_t)};var Ve=new T.Interaction(Ee);return T.interactions.list.push(Ve),Ve},listeners:I,docEvents:X,pointerMoveTolerance:1},T.usePlugin(Dr.default)},listeners:{"scope:add-document":function(T){return ye(T,"add")},"scope:remove-document":function(T){return ye(T,"remove")},"interactable:unset":function(T,I){for(var z=T.interactable,U=I.interactions.list.length-1;U>=0;U--){var X=I.interactions.list[U];X.interactable===z&&(X.stop(),I.fire("interactions:destroy",{interaction:X}),X.destroy(),I.interactions.list.length>2&&I.interactions.list.splice(U,1))}}},onDocSignal:ye,doOnInteractions:ee,methodNames:F},bt=gt;po.default=bt;var Tt={};function Ut(T){return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Ut(T)}function Xt(){return Xt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(T,I,z){var U=function(fe,$e){for(;!Object.prototype.hasOwnProperty.call(fe,$e)&&(fe=ci(fe))!==null;);return fe}(T,I);if(U){var X=Object.getOwnPropertyDescriptor(U,I);return X.get?X.get.call(arguments.length<3?T:z):X.value}},Xt.apply(this,arguments)}function gi(T,I){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,U){return z.__proto__=U,z},gi(T,I)}function ci(T){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},ci(T)}function zi(T,I){if(!(T instanceof I))throw new TypeError("Cannot call a class as a function")}function Ui(T,I){for(var z=0;z<I.length;z++){var U=I[z];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}function Pr(T,I,z){return I&&Ui(T.prototype,I),z&&Ui(T,z),Object.defineProperty(T,"prototype",{writable:!1}),T}function tr(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.Scope=void 0,Tt.initScope=Nr;var Cr=function(){function T(){var I=this;zi(this,T),tr(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),tr(this,"isInitialized",!1),tr(this,"listenerMaps",[]),tr(this,"browser",_.default),tr(this,"defaults",(0,Ht.default)(Fn.defaults)),tr(this,"Eventable",Qe.Eventable),tr(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),tr(this,"interactStatic",(0,Ai.createInteractStatic)(this)),tr(this,"InteractEvent",Mn.InteractEvent),tr(this,"Interactable",void 0),tr(this,"interactables",new xr.InteractableSet(this)),tr(this,"_win",void 0),tr(this,"document",void 0),tr(this,"window",void 0),tr(this,"documents",[]),tr(this,"_plugins",{list:[],map:{}}),tr(this,"onWindowUnload",function(U){return I.removeDocument(U.target)});var z=this;this.Interactable=function(U){(function(Ve,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function");Ve.prototype=Object.create(At&&At.prototype,{constructor:{value:Ve,writable:!0,configurable:!0}}),Object.defineProperty(Ve,"prototype",{writable:!1}),At&&gi(Ve,At)})(Ee,U);var X,fe,$e=(X=Ee,fe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ve){return!1}}(),function(){var Ve,At=ci(X);if(fe){var _t=ci(this).constructor;Ve=Reflect.construct(At,arguments,_t)}else Ve=At.apply(this,arguments);return function(jt,oi){if(oi&&(Ut(oi)==="object"||typeof oi=="function"))return oi;if(oi!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(fi){if(fi===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fi}(jt)}(this,Ve)});function Ee(){return zi(this,Ee),$e.apply(this,arguments)}return Pr(Ee,[{key:"_defaults",get:function(){return z.defaults}},{key:"set",value:function(Ve){return Xt(ci(Ee.prototype),"set",this).call(this,Ve),z.fire("interactable:set",{options:Ve,interactable:this}),this}},{key:"unset",value:function(){Xt(ci(Ee.prototype),"unset",this).call(this);var Ve=z.interactables.list.indexOf(this);Ve<0||(Xt(ci(Ee.prototype),"unset",this).call(this),z.interactables.list.splice(Ve,1),z.fire("interactable:unset",{interactable:this}))}}]),Ee}(Qt.Interactable)}return Pr(T,[{key:"addListeners",value:function(I,z){this.listenerMaps.push({id:z,map:I})}},{key:"fire",value:function(I,z){for(var U=0;U<this.listenerMaps.length;U++){var X=this.listenerMaps[U].map[I];if(X&&X(z,this,I)===!1)return!1}}},{key:"init",value:function(I){return this.isInitialized?this:Nr(this,I)}},{key:"pluginIsInstalled",value:function(I){return this._plugins.map[I.id]||this._plugins.list.indexOf(I)!==-1}},{key:"usePlugin",value:function(I,z){if(!this.isInitialized)return this;if(this.pluginIsInstalled(I))return this;if(I.id&&(this._plugins.map[I.id]=I),this._plugins.list.push(I),I.install&&I.install(this,z),I.listeners&&I.before){for(var U=0,X=this.listenerMaps.length,fe=I.before.reduce(function(Ee,Ve){return Ee[Ve]=!0,Ee[zr(Ve)]=!0,Ee},{});U<X;U++){var $e=this.listenerMaps[U].id;if(fe[$e]||fe[zr($e)])break}this.listenerMaps.splice(U,0,{id:I.id,map:I.listeners})}else I.listeners&&this.listenerMaps.push({id:I.id,map:I.listeners});return this}},{key:"addDocument",value:function(I,z){if(this.getDocIndex(I)!==-1)return!1;var U=n.getWindow(I);z=z?(0,D.default)({},z):{},this.documents.push({doc:I,options:z}),this.events.documents.push(I),I!==this.document&&this.events.add(U,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:I,window:U,scope:this,options:z})}},{key:"removeDocument",value:function(I){var z=this.getDocIndex(I),U=n.getWindow(I),X=this.documents[z].options;this.events.remove(U,"unload",this.onWindowUnload),this.documents.splice(z,1),this.events.documents.splice(z,1),this.fire("scope:remove-document",{doc:I,window:U,scope:this,options:X})}},{key:"getDocIndex",value:function(I){for(var z=0;z<this.documents.length;z++)if(this.documents[z].doc===I)return z;return-1}},{key:"getDocOptions",value:function(I){var z=this.getDocIndex(I);return z===-1?null:this.documents[z].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),T}();function Nr(T,I){return T.isInitialized=!0,p.default.window(I)&&n.init(I),h.default.init(I),_.default.init(I),st.default.init(I),T.window=I,T.document=I.document,T.usePlugin(po.default),T.usePlugin(pn.default),T}function zr(T){return T&&T.replace(/\/.*$/,"")}Tt.Scope=Cr;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.default=void 0;var Hi=new Tt.Scope,li=Hi.interactStatic;Rr.default=li;var _i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;Hi.init(_i);var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0,lr.default=function(){};var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.default=void 0,Wr.default=function(){};var Qi={};function Bi(T,I){return function(z){if(Array.isArray(z))return z}(T)||function(z,U){var X=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(X!=null){var fe,$e,Ee=[],Ve=!0,At=!1;try{for(X=X.call(z);!(Ve=(fe=X.next()).done)&&(Ee.push(fe.value),!U||Ee.length!==U);Ve=!0);}catch(_t){At=!0,$e=_t}finally{try{Ve||X.return==null||X.return()}finally{if(At)throw $e}}return Ee}}(T,I)||function(z,U){if(z){if(typeof z=="string")return er(z,U);var X=Object.prototype.toString.call(z).slice(8,-1);return X==="Object"&&z.constructor&&(X=z.constructor.name),X==="Map"||X==="Set"?Array.from(z):X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X)?er(z,U):void 0}}(T,I)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function er(T,I){(I==null||I>T.length)&&(I=T.length);for(var z=0,U=Array(I);z<I;z++)U[z]=T[z];return U}Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.default=void 0,Qi.default=function(T){var I=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(U){var X=Bi(U,2),fe=X[0],$e=X[1];return fe in T||$e in T}),z=function(U,X){for(var fe=T.range,$e=T.limits,Ee=$e===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:$e,Ve=T.offset,At=Ve===void 0?{x:0,y:0}:Ve,_t={range:fe,grid:T,x:null,y:null},jt=0;jt<I.length;jt++){var oi=Bi(I[jt],2),fi=oi[0],Jt=oi[1],$i=Math.round((U-At.x)/T[fi]),Mi=Math.round((X-At.y)/T[Jt]);_t[fi]=Math.max(Ee.left,Math.min(Ee.right,$i*T[fi]+At.x)),_t[Jt]=Math.max(Ee.top,Math.min(Ee.bottom,Mi*T[Jt]+At.y))}return _t};return z.grid=T,z.coordFields=I,z};var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0}),Object.defineProperty(Ti,"edgeTarget",{enumerable:!0,get:function(){return lr.default}}),Object.defineProperty(Ti,"elements",{enumerable:!0,get:function(){return Wr.default}}),Object.defineProperty(Ti,"grid",{enumerable:!0,get:function(){return Qi.default}});var Si={};Object.defineProperty(Si,"__esModule",{value:!0}),Si.default=void 0;var Vi={id:"snappers",install:function(T){var I=T.interactStatic;I.snappers=(0,D.default)(I.snappers||{},Ti),I.createSnapGrid=I.snappers.grid}},Ei=Vi;Si.default=Ei;var jr={};function Fr(T,I){var z=Object.keys(T);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(T);I&&(U=U.filter(function(X){return Object.getOwnPropertyDescriptor(T,X).enumerable})),z.push.apply(z,U)}return z}function Jo(T){for(var I=1;I<arguments.length;I++){var z=arguments[I]!=null?arguments[I]:{};I%2?Fr(Object(z),!0).forEach(function(U){Do(T,U,z[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(z)):Fr(Object(z)).forEach(function(U){Object.defineProperty(T,U,Object.getOwnPropertyDescriptor(z,U))})}return T}function Do(T,I,z){return I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,T}Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=jr.aspectRatio=void 0;var fo={start:function(T){var I=T.state,z=T.rect,U=T.edges,X=T.pageCoords,fe=I.options,$e=fe.ratio,Ee=fe.enabled,Ve=I.options,At=Ve.equalDelta,_t=Ve.modifiers;$e==="preserve"&&($e=z.width/z.height),I.startCoords=(0,D.default)({},X),I.startRect=(0,D.default)({},z),I.ratio=$e,I.equalDelta=At;var jt=I.linkedEdges={top:U.top||U.left&&!U.bottom,left:U.left||U.top&&!U.right,bottom:U.bottom||U.right&&!U.top,right:U.right||U.bottom&&!U.left};if(I.xIsPrimaryAxis=!(!U.left&&!U.right),I.equalDelta){var oi=(jt.left?1:-1)*(jt.top?1:-1);I.edgeSign={x:oi,y:oi}}else I.edgeSign={x:jt.left?-1:1,y:jt.top?-1:1};if(Ee!==!1&&(0,D.default)(U,jt),_t!=null&&_t.length){var fi=new pi.default(T.interaction);fi.copyFrom(T.interaction.modification),fi.prepareStates(_t),I.subModification=fi,fi.startAll(Jo({},T))}},set:function(T){var I=T.state,z=T.rect,U=T.coords,X=I.linkedEdges,fe=(0,D.default)({},U),$e=I.equalDelta?Xo:Ro;if((0,D.default)(T.edges,X),$e(I,I.xIsPrimaryAxis,U,z),!I.subModification)return null;var Ee=(0,D.default)({},z);(0,J.addEdges)(X,Ee,{x:U.x-fe.x,y:U.y-fe.y});var Ve=I.subModification.setAll(Jo(Jo({},T),{},{rect:Ee,edges:X,pageCoords:U,prevCoords:U,prevRect:Ee})),At=Ve.delta;return Ve.changed&&($e(I,Math.abs(At.x)>Math.abs(At.y),Ve.coords,Ve.rect),(0,D.default)(U,Ve.coords)),Ve.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Xo(T,I,z){var U=T.startCoords,X=T.edgeSign;I?z.y=U.y+(z.x-U.x)*X.y:z.x=U.x+(z.y-U.y)*X.x}function Ro(T,I,z,U){var X=T.startRect,fe=T.startCoords,$e=T.ratio,Ee=T.edgeSign;if(I){var Ve=U.width/$e;z.y=fe.y+(Ve-X.height)*Ee.y}else{var At=U.height*$e;z.x=fe.x+(At-X.width)*Ee.x}}jr.aspectRatio=fo;var _n=(0,Kr.makeModifier)(fo,"aspectRatio");jr.default=_n;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.default=void 0;var Va=function(){};Va._defaults={};var fs=Va;Zr.default=fs;var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0}),Object.defineProperty(Qo,"default",{enumerable:!0,get:function(){return Zr.default}});var Rn={};function ka(T,I,z){return p.default.func(T)?J.resolveRectLike(T,I.interactable,I.element,[z.x,z.y,I]):J.resolveRectLike(T,I.interactable,I.element)}Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.default=void 0,Rn.getRestrictionRect=ka,Rn.restrict=void 0;var ho={start:function(T){var I=T.rect,z=T.startOffset,U=T.state,X=T.interaction,fe=T.pageCoords,$e=U.options,Ee=$e.elementRect,Ve=(0,D.default)({left:0,top:0,right:0,bottom:0},$e.offset||{});if(I&&Ee){var At=ka($e.restriction,X,fe);if(At){var _t=At.right-At.left-I.width,jt=At.bottom-At.top-I.height;_t<0&&(Ve.left+=_t,Ve.right+=_t),jt<0&&(Ve.top+=jt,Ve.bottom+=jt)}Ve.left+=z.left-I.width*Ee.left,Ve.top+=z.top-I.height*Ee.top,Ve.right+=z.right-I.width*(1-Ee.right),Ve.bottom+=z.bottom-I.height*(1-Ee.bottom)}U.offset=Ve},set:function(T){var I=T.coords,z=T.interaction,U=T.state,X=U.options,fe=U.offset,$e=ka(X.restriction,z,I);if($e){var Ee=J.xywhToTlbr($e);I.x=Math.max(Math.min(Ee.right-fe.right,I.x),Ee.left+fe.left),I.y=Math.max(Math.min(Ee.bottom-fe.bottom,I.y),Ee.top+fe.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Rn.restrict=ho;var ct=(0,Kr.makeModifier)(ho,"restrict");Rn.default=ct;var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.restrictEdges=$t.default=void 0;var zt={top:1/0,left:1/0,bottom:-1/0,right:-1/0},bi={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Gt(T,I){for(var z=["top","left","bottom","right"],U=0;U<z.length;U++){var X=z[U];X in T||(T[X]=I[X])}return T}var yi={noInner:zt,noOuter:bi,start:function(T){var I,z=T.interaction,U=T.startOffset,X=T.state,fe=X.options;if(fe){var $e=(0,Rn.getRestrictionRect)(fe.offset,z,z.coords.start.page);I=J.rectToXY($e)}I=I||{x:0,y:0},X.offset={top:I.y+U.top,left:I.x+U.left,bottom:I.y-U.bottom,right:I.x-U.right}},set:function(T){var I=T.coords,z=T.edges,U=T.interaction,X=T.state,fe=X.offset,$e=X.options;if(z){var Ee=(0,D.default)({},I),Ve=(0,Rn.getRestrictionRect)($e.inner,U,Ee)||{},At=(0,Rn.getRestrictionRect)($e.outer,U,Ee)||{};Gt(Ve,zt),Gt(At,bi),z.top?I.y=Math.min(Math.max(At.top+fe.top,Ee.y),Ve.top+fe.top):z.bottom&&(I.y=Math.max(Math.min(At.bottom+fe.bottom,Ee.y),Ve.bottom+fe.bottom)),z.left?I.x=Math.min(Math.max(At.left+fe.left,Ee.x),Ve.left+fe.left):z.right&&(I.x=Math.max(Math.min(At.right+fe.right,Ee.x),Ve.right+fe.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};$t.restrictEdges=yi;var Ci=(0,Kr.makeModifier)(yi,"restrictEdges");$t.default=Ci;var Di={};Object.defineProperty(Di,"__esModule",{value:!0}),Di.restrictRect=Di.default=void 0;var qi=(0,D.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(T){}},Rn.restrict.defaults),kr={start:Rn.restrict.start,set:Rn.restrict.set,defaults:qi};Di.restrictRect=kr;var vr=(0,Kr.makeModifier)(kr,"restrictRect");Di.default=vr;var yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.restrictSize=yr.default=void 0;var Vr={width:-1/0,height:-1/0},cn={width:1/0,height:1/0},Sr={start:function(T){return $t.restrictEdges.start(T)},set:function(T){var I=T.interaction,z=T.state,U=T.rect,X=T.edges,fe=z.options;if(X){var $e=J.tlbrToXywh((0,Rn.getRestrictionRect)(fe.min,I,T.coords))||Vr,Ee=J.tlbrToXywh((0,Rn.getRestrictionRect)(fe.max,I,T.coords))||cn;z.options={endOnly:fe.endOnly,inner:(0,D.default)({},$t.restrictEdges.noInner),outer:(0,D.default)({},$t.restrictEdges.noOuter)},X.top?(z.options.inner.top=U.bottom-$e.height,z.options.outer.top=U.bottom-Ee.height):X.bottom&&(z.options.inner.bottom=U.top+$e.height,z.options.outer.bottom=U.top+Ee.height),X.left?(z.options.inner.left=U.right-$e.width,z.options.outer.left=U.right-Ee.width):X.right&&(z.options.inner.right=U.left+$e.width,z.options.outer.right=U.left+Ee.width),$t.restrictEdges.set(T),z.options=fe}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};yr.restrictSize=Sr;var zn=(0,Kr.makeModifier)(Sr,"restrictSize");yr.default=zn;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Object.defineProperty(Vn,"default",{enumerable:!0,get:function(){return Zr.default}});var jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.snap=jn.default=void 0;var fn={start:function(T){var I,z=T.interaction,U=T.interactable,X=T.element,fe=T.rect,$e=T.state,Ee=T.startOffset,Ve=$e.options,At=Ve.offsetWithOrigin?function(oi){var fi=oi.interaction.element;return(0,J.rectToXY)((0,J.resolveRectLike)(oi.state.options.origin,null,null,[fi]))||(0,ie.default)(oi.interactable,fi,oi.interaction.prepared.name)}(T):{x:0,y:0};if(Ve.offset==="startCoords")I={x:z.coords.start.page.x,y:z.coords.start.page.y};else{var _t=(0,J.resolveRectLike)(Ve.offset,U,X,[z]);(I=(0,J.rectToXY)(_t)||{x:0,y:0}).x+=At.x,I.y+=At.y}var jt=Ve.relativePoints;$e.offsets=fe&&jt&&jt.length?jt.map(function(oi,fi){return{index:fi,relativePoint:oi,x:Ee.left-fe.width*oi.x+I.x,y:Ee.top-fe.height*oi.y+I.y}}):[{index:0,relativePoint:null,x:I.x,y:I.y}]},set:function(T){var I=T.interaction,z=T.coords,U=T.state,X=U.options,fe=U.offsets,$e=(0,ie.default)(I.interactable,I.element,I.prepared.name),Ee=(0,D.default)({},z),Ve=[];X.offsetWithOrigin||(Ee.x-=$e.x,Ee.y-=$e.y);for(var At=0;At<fe.length;At++)for(var _t=fe[At],jt=Ee.x-_t.x,oi=Ee.y-_t.y,fi=0,Jt=X.targets.length;fi<Jt;fi++){var $i,Mi=X.targets[fi];($i=p.default.func(Mi)?Mi(jt,oi,I._proxy,_t,fi):Mi)&&Ve.push({x:(p.default.number($i.x)?$i.x:jt)+_t.x,y:(p.default.number($i.y)?$i.y:oi)+_t.y,range:p.default.number($i.range)?$i.range:X.range,source:Mi,index:fi,offset:_t})}for(var Pi={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},or=0;or<Ve.length;or++){var Mr=Ve[or],Hr=Mr.range,nn=Mr.x-Ee.x,kn=Mr.y-Ee.y,Qr=(0,se.default)(nn,kn),Pn=Qr<=Hr;Hr===1/0&&Pi.inRange&&Pi.range!==1/0&&(Pn=!1),Pi.target&&!(Pn?Pi.inRange&&Hr!==1/0?Qr/Hr<Pi.distance/Pi.range:Hr===1/0&&Pi.range!==1/0||Qr<Pi.distance:!Pi.inRange&&Qr<Pi.distance)||(Pi.target=Mr,Pi.distance=Qr,Pi.range=Hr,Pi.inRange=Pn,Pi.delta.x=nn,Pi.delta.y=kn)}return Pi.inRange&&(z.x=Pi.target.x,z.y=Pi.target.y),U.closest=Pi,Pi},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};jn.snap=fn;var Bs=(0,Kr.makeModifier)(fn,"snap");jn.default=Bs;var bo={};function mo(T,I){(I==null||I>T.length)&&(I=T.length);for(var z=0,U=Array(I);z<I;z++)U[z]=T[z];return U}Object.defineProperty(bo,"__esModule",{value:!0}),bo.snapSize=bo.default=void 0;var xv={start:function(T){var I=T.state,z=T.edges,U=I.options;if(!z)return null;T.state={options:{targets:null,relativePoints:[{x:z.left?0:1,y:z.top?0:1}],offset:U.offset||"self",origin:{x:0,y:0},range:U.range}},I.targetFields=I.targetFields||[["width","height"],["x","y"]],jn.snap.start(T),I.offsets=T.state.offsets,T.state=I},set:function(T){var I,z=T.interaction,U=T.state,X=T.coords,fe=U.options,$e=U.offsets,Ee={x:X.x-$e[0].x,y:X.y-$e[0].y};U.options=(0,D.default)({},fe),U.options.targets=[];for(var Ve=0;Ve<(fe.targets||[]).length;Ve++){var At=(fe.targets||[])[Ve],_t=void 0;if(_t=p.default.func(At)?At(Ee.x,Ee.y,z):At){for(var jt=0;jt<U.targetFields.length;jt++){var oi=function(Mi){if(Array.isArray(Mi))return Mi}(I=U.targetFields[jt])||function(Mi){var Pi=Mi==null?null:typeof Symbol<"u"&&Mi[Symbol.iterator]||Mi["@@iterator"];if(Pi!=null){var or,Mr,Hr=[],nn=!0,kn=!1;try{for(Pi=Pi.call(Mi);!(nn=(or=Pi.next()).done)&&(Hr.push(or.value),Hr.length!==2);nn=!0);}catch(Qr){kn=!0,Mr=Qr}finally{try{nn||Pi.return==null||Pi.return()}finally{if(kn)throw Mr}}return Hr}}(I)||function(Mi){if(Mi){if(typeof Mi=="string")return mo(Mi,2);var Pi=Object.prototype.toString.call(Mi).slice(8,-1);return Pi==="Object"&&Mi.constructor&&(Pi=Mi.constructor.name),Pi==="Map"||Pi==="Set"?Array.from(Mi):Pi==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pi)?mo(Mi,2):void 0}}(I)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),fi=oi[0],Jt=oi[1];if(fi in _t||Jt in _t){_t.x=_t[fi],_t.y=_t[Jt];break}}U.options.targets.push(_t)}}var $i=jn.snap.set(T);return U.options=fe,$i},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};bo.snapSize=xv;var T5=(0,Kr.makeModifier)(xv,"snapSize");bo.default=T5;var Jl={};Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.snapEdges=Jl.default=void 0;var Sv={start:function(T){var I=T.edges;return I?(T.state.targetFields=T.state.targetFields||[[I.left?"left":"right",I.top?"top":"bottom"]],bo.snapSize.start(T)):null},set:bo.snapSize.set,defaults:(0,D.default)((0,Ht.default)(bo.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Jl.snapEdges=Sv;var $5=(0,Kr.makeModifier)(Sv,"snapEdges");Jl.default=$5;var Pp={};Object.defineProperty(Pp,"__esModule",{value:!0}),Object.defineProperty(Pp,"default",{enumerable:!0,get:function(){return Zr.default}});var Op={};Object.defineProperty(Op,"__esModule",{value:!0}),Object.defineProperty(Op,"default",{enumerable:!0,get:function(){return Zr.default}});var Xl={};Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.default=void 0;var P5={aspectRatio:jr.default,restrictEdges:$t.default,restrict:Rn.default,restrictRect:Di.default,restrictSize:yr.default,snapEdges:Jl.default,snap:jn.default,snapSize:bo.default,spring:Pp.default,avoid:Qo.default,transform:Op.default,rubberband:Vn.default};Xl.default=P5;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.default=void 0;var O5={id:"modifiers",install:function(T){var I=T.interactStatic;for(var z in T.usePlugin(Kr.default),T.usePlugin(Si.default),I.modifiers=Xl.default,Xl.default){var U=Xl.default[z],X=U._defaults,fe=U._methods;X._methods=fe,T.defaults.perAction[z]=X}}},M5=O5;Ju.default=M5;var Ns={};function Mp(T){return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Mp(T)}function Ip(T,I){return Ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,U){return z.__proto__=U,z},Ip(T,I)}function Lp(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function kd(T){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},kd(T)}Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.default=Ns.PointerEvent=void 0;var I5=function(T){(function(Ee,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),Ve&&Ip(Ee,Ve)})($e,T);var I,z,U,X,fe=(U=$e,X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}(),function(){var Ee,Ve=kd(U);if(X){var At=kd(this).constructor;Ee=Reflect.construct(Ve,arguments,At)}else Ee=Ve.apply(this,arguments);return function(_t,jt){if(jt&&(Mp(jt)==="object"||typeof jt=="function"))return jt;if(jt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lp(_t)}(this,Ee)});function $e(Ee,Ve,At,_t,jt,oi){var fi;if(function(Mi,Pi){if(!(Mi instanceof Pi))throw new TypeError("Cannot call a class as a function")}(this,$e),fi=fe.call(this,jt),Oe.pointerExtend(Lp(fi),At),At!==Ve&&Oe.pointerExtend(Lp(fi),Ve),fi.timeStamp=oi,fi.originalEvent=At,fi.type=Ee,fi.pointerId=Oe.getPointerId(Ve),fi.pointerType=Oe.getPointerType(Ve),fi.target=_t,fi.currentTarget=null,Ee==="tap"){var Jt=jt.getPointerIndex(Ve);fi.dt=fi.timeStamp-jt.pointers[Jt].downTime;var $i=fi.timeStamp-jt.tapTime;fi.double=!!jt.prevTap&&jt.prevTap.type!=="doubletap"&&jt.prevTap.target===fi.target&&$i<500}else Ee==="doubletap"&&(fi.dt=Ve.timeStamp-jt.tapTime,fi.double=!0);return fi}return I=$e,(z=[{key:"_subtractOrigin",value:function(Ee){var Ve=Ee.x,At=Ee.y;return this.pageX-=Ve,this.pageY-=At,this.clientX-=Ve,this.clientY-=At,this}},{key:"_addOrigin",value:function(Ee){var Ve=Ee.x,At=Ee.y;return this.pageX+=Ve,this.pageY+=At,this.clientX+=Ve,this.clientY+=At,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(Ee,Ve){for(var At=0;At<Ve.length;At++){var _t=Ve[At];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(Ee,_t.key,_t)}}(I.prototype,z),Object.defineProperty(I,"prototype",{writable:!1}),$e}(nt.BaseEvent);Ns.PointerEvent=Ns.default=I5;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.default=void 0;var xd={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(T){T.pointerEvents=xd,T.defaults.actions.pointerEvents=xd.defaults,(0,D.default)(T.actions.phaselessTypes,xd.types)},listeners:{"interactions:new":function(T){var I=T.interaction;I.prevTap=null,I.tapTime=0},"interactions:update-pointer":function(T){var I=T.down,z=T.pointerInfo;!I&&z.hold||(z.hold={duration:1/0,timeout:null})},"interactions:move":function(T,I){var z=T.interaction,U=T.pointer,X=T.event,fe=T.eventTarget;T.duplicate||z.pointerIsDown&&!z.pointerWasMoved||(z.pointerIsDown&&Dp(T),ms({interaction:z,pointer:U,event:X,eventTarget:fe,type:"move"},I))},"interactions:down":function(T,I){(function(z,U){for(var X=z.interaction,fe=z.pointer,$e=z.event,Ee=z.eventTarget,Ve=z.pointerIndex,At=X.pointers[Ve].hold,_t=j.getPath(Ee),jt={interaction:X,pointer:fe,event:$e,eventTarget:Ee,type:"hold",targets:[],path:_t,node:null},oi=0;oi<_t.length;oi++){var fi=_t[oi];jt.node=fi,U.fire("pointerEvents:collect-targets",jt)}if(jt.targets.length){for(var Jt=1/0,$i=0;$i<jt.targets.length;$i++){var Mi=jt.targets[$i].eventable.options.holdDuration;Mi<Jt&&(Jt=Mi)}At.duration=Jt,At.timeout=setTimeout(function(){ms({interaction:X,eventTarget:Ee,pointer:fe,event:$e,type:"hold"},U)},Jt)}})(T,I),ms(T,I)},"interactions:up":function(T,I){Dp(T),ms(T,I),function(z,U){var X=z.interaction,fe=z.pointer,$e=z.event,Ee=z.eventTarget;X.pointerWasMoved||ms({interaction:X,eventTarget:Ee,pointer:fe,event:$e,type:"tap"},U)}(T,I)},"interactions:cancel":function(T,I){Dp(T),ms(T,I)}},PointerEvent:Ns.PointerEvent,fire:ms,collectEventTargets:Av,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ms(T,I){var z=T.interaction,U=T.pointer,X=T.event,fe=T.eventTarget,$e=T.type,Ee=T.targets,Ve=Ee===void 0?Av(T,I):Ee,At=new Ns.PointerEvent($e,U,X,fe,z,I.now());I.fire("pointerEvents:new",{pointerEvent:At});for(var _t={interaction:z,pointer:U,event:X,eventTarget:fe,targets:Ve,type:$e,pointerEvent:At},jt=0;jt<Ve.length;jt++){var oi=Ve[jt];for(var fi in oi.props||{})At[fi]=oi.props[fi];var Jt=(0,ie.default)(oi.eventable,oi.node);if(At._subtractOrigin(Jt),At.eventable=oi.eventable,At.currentTarget=oi.node,oi.eventable.fire(At),At._addOrigin(Jt),At.immediatePropagationStopped||At.propagationStopped&&jt+1<Ve.length&&Ve[jt+1].node!==At.currentTarget)break}if(I.fire("pointerEvents:fired",_t),$e==="tap"){var $i=At.double?ms({interaction:z,pointer:U,event:X,eventTarget:fe,type:"doubletap"},I):At;z.prevTap=$i,z.tapTime=$i.timeStamp}return At}function Av(T,I){var z=T.interaction,U=T.pointer,X=T.event,fe=T.eventTarget,$e=T.type,Ee=z.getPointerIndex(U),Ve=z.pointers[Ee];if($e==="tap"&&(z.pointerWasMoved||!Ve||Ve.downTarget!==fe))return[];for(var At=j.getPath(fe),_t={interaction:z,pointer:U,event:X,eventTarget:fe,type:$e,path:At,targets:[],node:null},jt=0;jt<At.length;jt++){var oi=At[jt];_t.node=oi,I.fire("pointerEvents:collect-targets",_t)}return $e==="hold"&&(_t.targets=_t.targets.filter(function(fi){var Jt;return fi.eventable.options.holdDuration===((Jt=z.pointers[Ee])==null?void 0:Jt.hold.duration)})),_t.targets}function Dp(T){var I=T.interaction,z=T.pointerIndex,U=I.pointers[z].hold;U&&U.timeout&&(clearTimeout(U.timeout),U.timeout=null)}var L5=xd;Xu.default=L5;var Sd={};function D5(T){var I=T.interaction;I.holdIntervalHandle&&(clearInterval(I.holdIntervalHandle),I.holdIntervalHandle=null)}Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.default=void 0;var R5={id:"pointer-events/holdRepeat",install:function(T){T.usePlugin(Xu.default);var I=T.pointerEvents;I.defaults.holdRepeatInterval=0,I.types.holdrepeat=T.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(T,I){return T["pointerEvents:".concat(I)]=D5,T},{"pointerEvents:new":function(T){var I=T.pointerEvent;I.type==="hold"&&(I.count=(I.count||0)+1)},"pointerEvents:fired":function(T,I){var z=T.interaction,U=T.pointerEvent,X=T.eventTarget,fe=T.targets;if(U.type==="hold"&&fe.length){var $e=fe[0].eventable.options.holdRepeatInterval;$e<=0||(z.holdIntervalHandle=setTimeout(function(){I.pointerEvents.fire({interaction:z,eventTarget:X,type:"hold",pointer:U,event:U},I)},$e))}}})},j5=R5;Sd.default=j5;var Ad={};function B5(T){return(0,D.default)(this.events.options,T),this}Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.default=void 0;var N5={id:"pointer-events/interactableTargets",install:function(T){var I=T.Interactable;I.prototype.pointerEvents=B5;var z=I.prototype._backCompatOption;I.prototype._backCompatOption=function(U,X){var fe=z.call(this,U,X);return fe===this&&(this.events.options[U]=X),fe}},listeners:{"pointerEvents:collect-targets":function(T,I){var z=T.targets,U=T.node,X=T.type,fe=T.eventTarget;I.interactables.forEachMatch(U,function($e){var Ee=$e.events,Ve=Ee.options;Ee.types[X]&&Ee.types[X].length&&$e.testIgnoreAllow(Ve,U,fe)&&z.push({node:U,eventable:Ee,props:{interactable:$e}})})},"interactable:new":function(T){var I=T.interactable;I.events.getRect=function(z){return I.getRect(z)}},"interactable:set":function(T,I){var z=T.interactable,U=T.options;(0,D.default)(z.events.options,I.pointerEvents.defaults),(0,D.default)(z.events.options,U.pointerEvents||{})}}},F5=N5;Ad.default=F5;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.default=void 0;var z5={id:"pointer-events",install:function(T){T.usePlugin(Xu),T.usePlugin(Sd.default),T.usePlugin(Ad.default)}},H5=z5;Qu.default=H5;var Ql={};function Cv(T){var I=T.Interactable;T.actions.phases.reflow=!0,I.prototype.reflow=function(z){return function(U,X,fe){for(var $e=p.default.string(U.target)?ve.from(U._context.querySelectorAll(U.target)):[U.target],Ee=fe.window.Promise,Ve=Ee?[]:null,At=function(){var jt=$e[_t],oi=U.getRect(jt);if(!oi)return"break";var fi=ve.find(fe.interactions.list,function(or){return or.interacting()&&or.interactable===U&&or.element===jt&&or.prepared.name===X.name}),Jt=void 0;if(fi)fi.move(),Ve&&(Jt=fi._reflowPromise||new Ee(function(or){fi._reflowResolve=or}));else{var $i=(0,J.tlbrToXywh)(oi),Mi={page:{x:$i.x,y:$i.y},client:{x:$i.x,y:$i.y},timeStamp:fe.now()},Pi=Oe.coordsToEvent(Mi);Jt=function(or,Mr,Hr,nn,kn){var Qr=or.interactions.new({pointerType:"reflow"}),Pn={interaction:Qr,event:kn,pointer:kn,eventTarget:Hr,phase:"reflow"};Qr.interactable=Mr,Qr.element=Hr,Qr.prevEvent=kn,Qr.updatePointer(kn,kn,Hr,!0),Oe.setZeroCoords(Qr.coords.delta),(0,ft.copyAction)(Qr.prepared,nn),Qr._doPhase(Pn);var xa=or.window.Promise,qa=xa?new xa(function(jp){Qr._reflowResolve=jp}):void 0;return Qr._reflowPromise=qa,Qr.start(nn,Mr,Hr),Qr._interacting?(Qr.move(Pn),Qr.end(kn)):(Qr.stop(),Qr._reflowResolve()),Qr.removePointer(kn,kn),qa}(fe,U,jt,X,Pi)}Ve&&Ve.push(Jt)},_t=0;_t<$e.length&&At()!=="break";_t++);return Ve&&Ee.all(Ve).then(function(){return U})}(this,z,T)}}Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.default=void 0,Ql.install=Cv;var U5={id:"reflow",install:Cv,listeners:{"interactions:stop":function(T,I){var z=T.interaction;z.pointerType==="reflow"&&(z._reflowResolve&&z._reflowResolve(),ve.remove(I.interactions.list,z))}}},W5=U5;Ql.default=W5;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.default=void 0,Rr.default.use(Dr.default),Rr.default.use(Zn.default),Rr.default.use(Qu.default),Rr.default.use(Mo.default),Rr.default.use(Ju.default),Rr.default.use(pr.default),Rr.default.use(_e.default),Rr.default.use(qt.default),Rr.default.use(Ql.default);var V5=Rr.default;Fs.default=V5,Rr.default.default=Rr.default,_e.default,qt.default,pr.default,Dr.default,wt.default,Mo.default,Rr.default,Ju.default,Zn.default,Qu.default,Ql.default;var zs={exports:{}};function Rp(T){return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Rp(T)}Object.defineProperty(zs.exports,"__esModule",{value:!0}),zs.exports.default=void 0;var q5=Fs.default;if(zs.exports.default=q5,Rp(zs)==="object"&&zs)try{zs.exports=Fs.default}catch(T){}return Fs.default.default=Fs.default,zs.exports}()},2652:function(o,u,n){"use strict";var c=n(6080),d=n(9565),f=n(8551),p=n(6823),v=n(4209),y=n(6198),w=n(1625),k=n(81),A=n(851),C=n(9539),x=TypeError,S=function(h,g){this.stopped=h,this.result=g},s=S.prototype;o.exports=function(h,g,m){var b,_,E,R,j,H,G,q=m&&m.that,K=!(!m||!m.AS_ENTRIES),ue=!(!m||!m.IS_RECORD),te=!(!m||!m.IS_ITERATOR),D=!(!m||!m.INTERRUPTED),J=c(g,q),Q=function(ie){return b&&C(b,"normal"),new S(!0,ie)},ne=function(ie){return K?(f(ie),D?J(ie[0],ie[1],Q):J(ie[0],ie[1])):D?J(ie,Q):J(ie)};if(ue)b=h.iterator;else if(te)b=h;else{if(!(_=A(h)))throw new x(p(h)+" is not iterable");if(v(_)){for(E=0,R=y(h);R>E;E++)if((j=ne(h[E]))&&w(s,j))return j;return new S(!1)}b=k(h,_)}for(H=ue?h.next:b.next;!(G=d(H,b)).done;){try{j=ne(G.value)}catch(ie){C(b,"throw",ie)}if(typeof j=="object"&&j&&w(s,j))return j}return new S(!1)}},2675:function(o,u,n){"use strict";n(6761),n(1510),n(7812),n(3110),n(9773)},2703:function(o,u,n){"use strict";var c=n(4576),d=n(9039),f=n(9504),p=n(655),v=n(3802).trim,y=n(7452),w=c.parseInt,k=c.Symbol,A=k&&k.iterator,C=/^[+-]?0x/i,x=f(C.exec),S=w(y+"08")!==8||w(y+"0x16")!==22||A&&!d(function(){w(Object(A))});o.exports=S?function(s,h){var g=v(p(s));return w(g,h>>>0||(x(C,g)?16:10))}:w},2712:function(o,u,n){"use strict";var c=n(6518),d=n(926).left,f=n(4598),p=n(9519);c({target:"Array",proto:!0,forced:!n(6193)&&p>79&&p<83||!f("reduce")},{reduce:function(v){var y=arguments.length;return d(this,v,y,y>1?arguments[1]:void 0)}})},2744:function(o,u,n){"use strict";var c=n(9039);o.exports=!c(function(){return Object.isExtensible(Object.preventExtensions({}))})},2777:function(o,u,n){"use strict";var c=n(9565),d=n(34),f=n(757),p=n(5966),v=n(4270),y=n(8227),w=TypeError,k=y("toPrimitive");o.exports=function(A,C){if(!d(A)||f(A))return A;var x,S=p(A,k);if(S){if(C===void 0&&(C="default"),x=c(S,A,C),!d(x)||f(x))return x;throw new w("Can't convert object to primitive value")}return C===void 0&&(C="number"),v(A,C)}},2787:function(o,u,n){"use strict";var c=n(9297),d=n(4901),f=n(8981),p=n(6119),v=n(2211),y=p("IE_PROTO"),w=Object,k=w.prototype;o.exports=v?w.getPrototypeOf:function(A){var C=f(A);if(c(C,y))return C[y];var x=C.constructor;return d(x)&&C instanceof x?x.prototype:C instanceof w?k:null}},2796:function(o,u,n){"use strict";var c=n(9039),d=n(4901),f=/#|\.prototype\./,p=function(A,C){var x=y[v(A)];return x===k||x!==w&&(d(C)?c(C):!!C)},v=p.normalize=function(A){return String(A).replace(f,".").toLowerCase()},y=p.data={},w=p.NATIVE="N",k=p.POLYFILL="P";o.exports=p},2811:function(o,u,n){"use strict";var c=n(6518),d=n(2744),f=n(9039),p=n(34),v=n(3451).onFreeze,y=Object.freeze;c({target:"Object",stat:!0,forced:f(function(){y(1)}),sham:!d},{freeze:function(w){return y&&p(w)?y(v(w)):w}})},2812:function(o){"use strict";var u=TypeError;o.exports=function(n,c){if(n<c)throw new u("Not enough arguments");return n}},2839:function(o,u,n){"use strict";var c=n(4576).navigator,d=c&&c.userAgent;o.exports=d?String(d):""},2892:function(o,u,n){"use strict";var c=n(788),d=TypeError;o.exports=function(f){if(c(f))throw new d("The method doesn't accept regular expressions");return f}},2953:function(o,u,n){"use strict";var c=n(4576),d=n(7400),f=n(9296),p=n(3792),v=n(6699),y=n(687),w=n(8227)("iterator"),k=p.values,A=function(x,S){if(x){if(x[w]!==k)try{v(x,w,k)}catch(h){x[w]=k}if(y(x,S,!0),d[S]){for(var s in p)if(x[s]!==p[s])try{v(x,s,p[s])}catch(h){x[s]=p[s]}}}};for(var C in d)A(c[C]&&c[C].prototype,C);A(f,"DOMTokenList")},2967:function(o,u,n){"use strict";var c=n(6706),d=n(34),f=n(7750),p=n(3506);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,y=!1,w={};try{(v=c(Object.prototype,"__proto__","set"))(w,[]),y=w instanceof Array}catch(k){}return function(k,A){return f(k),p(A),d(k)&&(y?v(k,A):k.__proto__=A),k}}():void 0)},3110:function(o,u,n){"use strict";var c=n(6518),d=n(7751),f=n(8745),p=n(9565),v=n(9504),y=n(9039),w=n(4901),k=n(757),A=n(7680),C=n(6933),x=n(4495),S=String,s=d("JSON","stringify"),h=v(/./.exec),g=v("".charAt),m=v("".charCodeAt),b=v("".replace),_=v(1.1.toString),E=/[\uD800-\uDFFF]/g,R=/^[\uD800-\uDBFF]$/,j=/^[\uDC00-\uDFFF]$/,H=!x||y(function(){var ue=d("Symbol")("stringify detection");return s([ue])!=="[null]"||s({a:ue})!=="{}"||s(Object(ue))!=="{}"}),G=y(function(){return s("\uDF06\uD834")!=='"\\udf06\\ud834"'||s("\uDEAD")!=='"\\udead"'}),q=function(ue,te){var D=A(arguments),J=C(te);if(w(J)||ue!==void 0&&!k(ue))return D[1]=function(Q,ne){if(w(J)&&(ne=p(J,this,S(Q),ne)),!k(ne))return ne},f(s,null,D)},K=function(ue,te,D){var J=g(D,te-1),Q=g(D,te+1);return h(R,ue)&&!h(j,Q)||h(j,ue)&&!h(R,J)?"\\u"+_(m(ue,0),16):ue};s&&c({target:"JSON",stat:!0,arity:3,forced:H||G},{stringify:function(ue,te,D){var J=A(arguments),Q=f(H?q:s,null,J);return G&&typeof Q=="string"?b(Q,E,K):Q}})},3138:function(o){"use strict";o.exports=function(u,n){try{arguments.length===1?console.error(u):console.error(u,n)}catch(c){}}},3167:function(o,u,n){"use strict";var c=n(4901),d=n(34),f=n(2967);o.exports=function(p,v,y){var w,k;return f&&c(w=v.constructor)&&w!==y&&d(k=w.prototype)&&k!==y.prototype&&f(p,k),p}},3179:function(o,u,n){"use strict";var c=n(2140),d=n(6955);o.exports=c?{}.toString:function(){return"[object "+d(this)+"]"}},3362:function(o,u,n){"use strict";n(436),n(6499),n(2003),n(7743),n(1481),n(280)},3365:function(o,u,n){"use strict";var c,d=n(2744),f=n(4576),p=n(9504),v=n(6279),y=n(3451),w=n(6468),k=n(4006),A=n(34),C=n(1181).enforce,x=n(9039),S=n(8622),s=Object,h=Array.isArray,g=s.isExtensible,m=s.isFrozen,b=s.isSealed,_=s.freeze,E=s.seal,R=!f.ActiveXObject&&"ActiveXObject"in f,j=function(D){return function(){return D(this,arguments.length?arguments[0]:void 0)}},H=w("WeakMap",j,k),G=H.prototype,q=p(G.set);if(S)if(R){c=k.getConstructor(j,"WeakMap",!0),y.enable();var K=p(G.delete),ue=p(G.has),te=p(G.get);v(G,{delete:function(D){if(A(D)&&!g(D)){var J=C(this);return J.frozen||(J.frozen=new c),K(this,D)||J.frozen.delete(D)}return K(this,D)},has:function(D){if(A(D)&&!g(D)){var J=C(this);return J.frozen||(J.frozen=new c),ue(this,D)||J.frozen.has(D)}return ue(this,D)},get:function(D){if(A(D)&&!g(D)){var J=C(this);return J.frozen||(J.frozen=new c),ue(this,D)?te(this,D):J.frozen.get(D)}return te(this,D)},set:function(D,J){if(A(D)&&!g(D)){var Q=C(this);Q.frozen||(Q.frozen=new c),ue(this,D)?q(this,D,J):Q.frozen.set(D,J)}else q(this,D,J);return this}})}else d&&x(function(){var D=_([]);return q(new H,D,1),!m(D)})&&v(G,{set:function(D,J){var Q;return h(D)&&(m(D)?Q=_:b(D)&&(Q=E)),q(this,D,J),Q&&Q(D),this}})},3389:function(o,u,n){"use strict";var c=n(4576),d=n(3724),f=Object.getOwnPropertyDescriptor;o.exports=function(p){if(!d)return c[p];var v=f(c,p);return v&&v.value}},3392:function(o,u,n){"use strict";var c=n(9504),d=0,f=Math.random(),p=c(1.1.toString);o.exports=function(v){return"Symbol("+(v===void 0?"":v)+")_"+p(++d+f,36)}},3418:function(o,u,n){"use strict";var c=n(6518),d=n(7916);c({target:"Array",stat:!0,forced:!n(4428)(function(f){Array.from(f)})},{from:d})},3438:function(o,u,n){"use strict";var c=n(8551),d=n(34),f=n(6043);o.exports=function(p,v){if(c(p),d(v)&&v.constructor===p)return v;var y=f.f(p);return(0,y.resolve)(v),y.promise}},3451:function(o,u,n){"use strict";var c=n(6518),d=n(9504),f=n(421),p=n(34),v=n(9297),y=n(4913).f,w=n(8480),k=n(298),A=n(4124),C=n(3392),x=n(2744),S=!1,s=C("meta"),h=0,g=function(b){y(b,s,{value:{objectID:"O"+h++,weakData:{}}})},m=o.exports={enable:function(){m.enable=function(){},S=!0;var b=w.f,_=d([].splice),E={};E[s]=1,b(E).length&&(w.f=function(R){for(var j=b(R),H=0,G=j.length;H<G;H++)if(j[H]===s){_(j,H,1);break}return j},c({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(b,_){if(!p(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!v(b,s)){if(!A(b))return"F";if(!_)return"E";g(b)}return b[s].objectID},getWeakData:function(b,_){if(!v(b,s)){if(!A(b))return!0;if(!_)return!1;g(b)}return b[s].weakData},onFreeze:function(b){return x&&S&&A(b)&&!v(b,s)&&g(b),b}};f[s]=!0},3470:function(o){"use strict";o.exports=Object.is||function(u,n){return u===n?u!==0||1/u==1/n:u!=u&&n!=n}},3500:function(o,u,n){"use strict";var c=n(4576),d=n(7400),f=n(9296),p=n(235),v=n(6699),y=function(k){if(k&&k.forEach!==p)try{v(k,"forEach",p)}catch(A){k.forEach=p}};for(var w in d)d[w]&&y(c[w]&&c[w].prototype);y(f)},3506:function(o,u,n){"use strict";var c=n(3925),d=String,f=TypeError;o.exports=function(p){if(c(p))return p;throw new f("Can't set "+d(p)+" as a prototype")}},3514:function(o,u,n){"use strict";n(6469)("flat")},3517:function(o,u,n){"use strict";var c=n(9504),d=n(9039),f=n(4901),p=n(6955),v=n(7751),y=n(3706),w=function(){},k=v("Reflect","construct"),A=/^\s*(?:class|function)\b/,C=c(A.exec),x=!A.test(w),S=function(h){if(!f(h))return!1;try{return k(w,[],h),!0}catch(g){return!1}},s=function(h){if(!f(h))return!1;switch(p(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return x||!!C(A,y(h))}catch(g){return!0}};s.sham=!0,o.exports=!k||d(function(){var h;return S(S.call)||!S(Object)||!S(function(){h=!0})||h})?s:S},3607:function(o,u,n){"use strict";var c=n(2839).match(/AppleWebKit\/(\d+)\./);o.exports=!!c&&+c[1]},3635:function(o,u,n){"use strict";var c=n(9039),d=n(4576).RegExp;o.exports=c(function(){var f=d(".","s");return!(f.dotAll&&f.test(`
`)&&f.flags==="s")})},3640:function(o,u,n){"use strict";var c=n(8551),d=n(4270),f=TypeError;o.exports=function(p){if(c(this),p==="string"||p==="default")p="string";else if(p!=="number")throw new f("Incorrect hint");return d(this,p)}},3662:function(o,u,n){var c,d,f;d=[n(1669),n(8045),n(6883),n(9139)],(f=typeof(c=function(p){var v=!1;return p(document).on("mouseup",function(){v=!1}),p.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var y=this;this.element.on("mousedown."+this.widgetName,function(w){return y._mouseDown(w)}).on("click."+this.widgetName,function(w){if(p.data(w.target,y.widgetName+".preventClickEvent")===!0)return p.removeData(w.target,y.widgetName+".preventClickEvent"),w.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(y){if(!v){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(y),this._mouseDownEvent=y;var w=this,k=y.which===1,A=!(typeof this.options.cancel!="string"||!y.target.nodeName)&&p(y.target).closest(this.options.cancel).length;return!(k&&!A&&this._mouseCapture(y)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){w.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(y)&&this._mouseDelayMet(y)&&(this._mouseStarted=this._mouseStart(y)!==!1,!this._mouseStarted)?(y.preventDefault(),0):(p.data(y.target,this.widgetName+".preventClickEvent")===!0&&p.removeData(y.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(C){return w._mouseMove(C)},this._mouseUpDelegate=function(C){return w._mouseUp(C)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),y.preventDefault(),v=!0,0)))}},_mouseMove:function(y){if(this._mouseMoved){if(p.ui.ie&&(!document.documentMode||document.documentMode<9)&&!y.button)return this._mouseUp(y);if(!y.which){if(y.originalEvent.altKey||y.originalEvent.ctrlKey||y.originalEvent.metaKey||y.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(y)}}return(y.which||y.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(y),y.preventDefault()):(this._mouseDistanceMet(y)&&this._mouseDelayMet(y)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,y)!==!1,this._mouseStarted?this._mouseDrag(y):this._mouseUp(y)),!this._mouseStarted)},_mouseUp:function(y){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,y.target===this._mouseDownEvent.target&&p.data(y.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(y)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,v=!1,y.preventDefault()},_mouseDistanceMet:function(y){return Math.max(Math.abs(this._mouseDownEvent.pageX-y.pageX),Math.abs(this._mouseDownEvent.pageY-y.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})=="function"?c.apply(u,d):c)===void 0||(o.exports=f)},3706:function(o,u,n){"use strict";var c=n(9504),d=n(4901),f=n(7629),p=c(Function.toString);d(f.inspectSource)||(f.inspectSource=function(v){return p(v)}),o.exports=f.inspectSource},3709:function(o,u,n){"use strict";var c=n(2839).match(/firefox\/(\d+)/i);o.exports=!!c&&+c[1]},3717:function(o,u){"use strict";u.f=Object.getOwnPropertySymbols},3724:function(o,u,n){"use strict";var c=n(9039);o.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},3763:function(o,u,n){"use strict";var c=n(2839);o.exports=/MSIE|Trident/.test(c)},3771:function(o,u,n){"use strict";var c=n(6518),d=n(4373),f=n(6469);c({target:"Array",proto:!0},{fill:d}),f("fill")},3772:function(o,u,n){"use strict";n(3365)},3792:function(o,u,n){"use strict";var c=n(5397),d=n(6469),f=n(6269),p=n(1181),v=n(4913).f,y=n(1088),w=n(2529),k=n(6395),A=n(3724),C="Array Iterator",x=p.set,S=p.getterFor(C);o.exports=y(Array,"Array",function(h,g){x(this,{type:C,target:c(h),index:0,kind:g})},function(){var h=S(this),g=h.target,m=h.index++;if(!g||m>=g.length)return h.target=null,w(void 0,!0);switch(h.kind){case"keys":return w(m,!1);case"values":return w(g[m],!1)}return w([m,g[m]],!1)},"values");var s=f.Arguments=f.Array;if(d("keys"),d("values"),d("entries"),!k&&A&&s.name!=="values")try{v(s,"name",{value:"values"})}catch(h){}},3802:function(o,u,n){"use strict";var c=n(9504),d=n(7750),f=n(655),p=n(7452),v=c("".replace),y=RegExp("^["+p+"]+"),w=RegExp("(^|[^"+p+"])["+p+"]+$"),k=function(A){return function(C){var x=f(d(C));return 1&A&&(x=v(x,y,"")),2&A&&(x=v(x,w,"$1")),x}};o.exports={start:k(1),end:k(2),trim:k(3)}},3851:function(o,u,n){"use strict";var c=n(6518),d=n(9039),f=n(5397),p=n(7347).f,v=n(3724);c({target:"Object",stat:!0,forced:!v||d(function(){p(1)}),sham:!v},{getOwnPropertyDescriptor:function(y,w){return p(f(y),w)}})},3904:function(o,u,n){"use strict";var c=n(4576),d=n(9039),f=n(9504),p=n(655),v=n(3802).trim,y=n(7452),w=f("".charAt),k=c.parseFloat,A=c.Symbol,C=A&&A.iterator,x=1/k(y+"-0")!=-1/0||C&&!d(function(){k(Object(C))});o.exports=x?function(S){var s=v(p(S)),h=k(s);return h===0&&w(s,0)==="-"?-0:h}:k},3925:function(o,u,n){"use strict";var c=n(34);o.exports=function(d){return c(d)||d===null}},3994:function(o,u,n){"use strict";var c=n(7657).IteratorPrototype,d=n(2360),f=n(6980),p=n(687),v=n(6269),y=function(){return this};o.exports=function(w,k,A,C){var x=k+" Iterator";return w.prototype=d(c,{next:f(+!C,A)}),p(w,x,!1,!0),v[x]=y,w}},4006:function(o,u,n){"use strict";var c=n(9504),d=n(6279),f=n(3451).getWeakData,p=n(679),v=n(8551),y=n(4117),w=n(34),k=n(2652),A=n(9213),C=n(9297),x=n(1181),S=x.set,s=x.getterFor,h=A.find,g=A.findIndex,m=c([].splice),b=0,_=function(j){return j.frozen||(j.frozen=new E)},E=function(){this.entries=[]},R=function(j,H){return h(j.entries,function(G){return G[0]===H})};E.prototype={get:function(j){var H=R(this,j);if(H)return H[1]},has:function(j){return!!R(this,j)},set:function(j,H){var G=R(this,j);G?G[1]=H:this.entries.push([j,H])},delete:function(j){var H=g(this.entries,function(G){return G[0]===j});return~H&&m(this.entries,H,1),!!~H}},o.exports={getConstructor:function(j,H,G,q){var K=j(function(J,Q){p(J,ue),S(J,{type:H,id:b++,frozen:null}),y(Q)||k(Q,J[q],{that:J,AS_ENTRIES:G})}),ue=K.prototype,te=s(H),D=function(J,Q,ne){var ie=te(J),W=f(v(Q),!0);return W===!0?_(ie).set(Q,ne):W[ie.id]=ne,J};return d(ue,{delete:function(J){var Q=te(this);if(!w(J))return!1;var ne=f(J);return ne===!0?_(Q).delete(J):ne&&C(ne,Q.id)&&delete ne[Q.id]},has:function(J){var Q=te(this);if(!w(J))return!1;var ne=f(J);return ne===!0?_(Q).has(J):ne&&C(ne,Q.id)}}),d(ue,G?{get:function(J){var Q=te(this);if(w(J)){var ne=f(J);if(ne===!0)return _(Q).get(J);if(ne)return ne[Q.id]}},set:function(J,Q){return D(this,J,Q)}}:{add:function(J){return D(this,J,!0)}}),K}}},4055:function(o,u,n){"use strict";var c=n(4576),d=n(34),f=c.document,p=d(f)&&d(f.createElement);o.exports=function(v){return p?f.createElement(v):{}}},4117:function(o){"use strict";o.exports=function(u){return u==null}},4124:function(o,u,n){"use strict";var c=n(9039),d=n(34),f=n(2195),p=n(5652),v=Object.isExtensible,y=c(function(){v(1)});o.exports=y||p?function(w){return!!d(w)&&(!p||f(w)!=="ArrayBuffer")&&(!v||v(w))}:v},4209:function(o,u,n){"use strict";var c=n(8227),d=n(6269),f=c("iterator"),p=Array.prototype;o.exports=function(v){return v!==void 0&&(d.Array===v||p[f]===v)}},4213:function(o,u,n){"use strict";var c=n(3724),d=n(9504),f=n(9565),p=n(9039),v=n(1072),y=n(3717),w=n(8773),k=n(8981),A=n(7055),C=Object.assign,x=Object.defineProperty,S=d([].concat);o.exports=!C||p(function(){if(c&&C({b:1},C(x({},"a",{enumerable:!0,get:function(){x(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var s={},h={},g=Symbol("assign detection"),m="abcdefghijklmnopqrst";return s[g]=7,m.split("").forEach(function(b){h[b]=b}),C({},s)[g]!==7||v(C({},h)).join("")!==m})?function(s,h){for(var g=k(s),m=arguments.length,b=1,_=y.f,E=w.f;m>b;)for(var R,j=A(arguments[b++]),H=_?S(v(j),_(j)):v(j),G=H.length,q=0;G>q;)R=H[q++],c&&!f(E,j,R)||(g[R]=j[R]);return g}:C},4215:function(o,u,n){"use strict";var c=n(4576),d=n(2839),f=n(2195),p=function(v){return d.slice(0,v.length)===v};o.exports=p("Bun/")?"BUN":p("Cloudflare-Workers")?"CLOUDFLARE":p("Deno/")?"DENO":p("Node.js/")?"NODE":c.Bun&&typeof Bun.version=="string"?"BUN":c.Deno&&typeof Deno.version=="object"?"DENO":f(c.process)==="process"?"NODE":c.window&&c.document?"BROWSER":"REST"},4265:function(o,u,n){"use strict";var c=n(2839);o.exports=/ipad|iphone|ipod/i.test(c)&&typeof Pebble<"u"},4270:function(o,u,n){"use strict";var c=n(9565),d=n(4901),f=n(34),p=TypeError;o.exports=function(v,y){var w,k;if(y==="string"&&d(w=v.toString)&&!f(k=c(w,v))||d(w=v.valueOf)&&!f(k=c(w,v))||y!=="string"&&d(w=v.toString)&&!f(k=c(w,v)))return k;throw new p("Can't convert object to primitive value")}},4373:function(o,u,n){"use strict";var c=n(8981),d=n(5610),f=n(6198);o.exports=function(p){for(var v=c(this),y=f(v),w=arguments.length,k=d(w>1?arguments[1]:void 0,y),A=w>2?arguments[2]:void 0,C=A===void 0?y:d(A,y);C>k;)v[k++]=p;return v}},4376:function(o,u,n){"use strict";var c=n(2195);o.exports=Array.isArray||function(d){return c(d)==="Array"}},4423:function(o,u,n){"use strict";var c=n(6518),d=n(9617).includes,f=n(9039),p=n(6469);c({target:"Array",proto:!0,forced:f(function(){return!Array(1).includes()})},{includes:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}}),p("includes")},4428:function(o,u,n){"use strict";var c=n(8227)("iterator"),d=!1;try{var f=0,p={next:function(){return{done:!!f++}},return:function(){d=!0}};p[c]=function(){return this},Array.from(p,function(){throw 2})}catch(v){}o.exports=function(v,y){try{if(!y&&!d)return!1}catch(A){return!1}var w=!1;try{var k={};k[c]=function(){return{next:function(){return{done:w=!0}}}},v(k)}catch(A){}return w}},4488:function(o,u,n){"use strict";var c=n(7680),d=Math.floor,f=function(p,v){var y=p.length;if(y<8)for(var w,k,A=1;A<y;){for(k=A,w=p[A];k&&v(p[k-1],w)>0;)p[k]=p[--k];k!==A++&&(p[k]=w)}else for(var C=d(y/2),x=f(c(p,0,C),v),S=f(c(p,C),v),s=x.length,h=S.length,g=0,m=0;g<s||m<h;)p[g+m]=g<s&&m<h?v(x[g],S[m])<=0?x[g++]:S[m++]:g<s?x[g++]:S[m++];return p};o.exports=f},4490:function(o,u,n){"use strict";var c=n(6518),d=n(9504),f=n(4376),p=d([].reverse),v=[1,2];c({target:"Array",proto:!0,forced:String(v)===String(v.reverse())},{reverse:function(){return f(this)&&(this.length=this.length),p(this)}})},4495:function(o,u,n){"use strict";var c=n(9519),d=n(9039),f=n(4576).String;o.exports=!!Object.getOwnPropertySymbols&&!d(function(){var p=Symbol("symbol detection");return!f(p)||!(Object(p)instanceof Symbol)||!Symbol.sham&&c&&c<41})},4527:function(o,u,n){"use strict";var c=n(3724),d=n(4376),f=TypeError,p=Object.getOwnPropertyDescriptor,v=c&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(y){return y instanceof TypeError}}();o.exports=v?function(y,w){if(d(y)&&!p(y,"length").writable)throw new f("Cannot set read only .length");return y.length=w}:function(y,w){return y.length=w}},4554:function(o,u,n){"use strict";var c=n(6518),d=n(8981),f=n(5610),p=n(1291),v=n(6198),y=n(4527),w=n(6837),k=n(1469),A=n(4659),C=n(4606),x=n(597)("splice"),S=Math.max,s=Math.min;c({target:"Array",proto:!0,forced:!x},{splice:function(h,g){var m,b,_,E,R,j,H=d(this),G=v(H),q=f(h,G),K=arguments.length;for(K===0?m=b=0:K===1?(m=0,b=G-q):(m=K-2,b=s(S(p(g),0),G-q)),w(G+m-b),_=k(H,b),E=0;E<b;E++)(R=q+E)in H&&A(_,E,H[R]);if(_.length=b,m<b){for(E=q;E<G-b;E++)j=E+m,(R=E+b)in H?H[j]=H[R]:C(H,j);for(E=G;E>G-b+m;E--)C(H,E-1)}else if(m>b)for(E=G-b;E>q;E--)j=E+m-1,(R=E+b-1)in H?H[j]=H[R]:C(H,j);for(E=0;E<m;E++)H[E+q]=arguments[E+2];return y(H,G-b+m),_}})},4576:function(o,u,n){"use strict";var c=function(d){return d&&d.Math===Math&&d};o.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof n.g=="object"&&n.g)||c(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},4598:function(o,u,n){"use strict";var c=n(9039);o.exports=function(d,f){var p=[][d];return!!p&&c(function(){p.call(null,f||function(){return 1},1)})}},4606:function(o,u,n){"use strict";var c=n(6823),d=TypeError;o.exports=function(f,p){if(!delete f[p])throw new d("Cannot delete property "+c(p)+" of "+c(f))}},4638:function(o,u,n){(function(c,d,f){var p,v,y,w,k,A,C,x,S,s,h,g,m,b,_,E,R,j,H,G,q,K,ue,te,D,J,Q,ne,ie,W,V,se,Ae,Oe={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return c(this).attr("href")},title:function(){return this.title},createImg:function(){var Pe=new Image,Ze=c(this).data("cbox-img-attrs");return typeof Ze=="object"&&c.each(Ze,function(Je,qe){Pe[Je]=qe}),Pe},createIframe:function(){var Pe=d.createElement("iframe"),Ze=c(this).data("cbox-iframe-attrs");return typeof Ze=="object"&&c.each(Ze,function(Je,qe){Pe[Je]=qe}),"frameBorder"in Pe&&(Pe.frameBorder=0),"allowTransparency"in Pe&&(Pe.allowTransparency="true"),Pe.name=new Date().getTime(),Pe.allowFullscreen=!0,Pe}},je="colorbox",De="cbox",Se=De+"Element",de=De+"_open",Xe=De+"_load",ht=De+"_complete",nt=De+"_cleanup",lt=De+"_closed",ot=De+"_purge",ve=c("<a/>"),pe="div",tt=0,xe={};function Ce(Pe,Ze,Je){var qe=d.createElement(Pe);return Ze&&(qe.id=De+Ze),Je&&(qe.style.cssText=Je),c(qe)}function Ue(){return f.innerHeight?f.innerHeight:c(f).height()}function Te(Pe,Ze){Ze!==Object(Ze)&&(Ze={}),this.cache={},this.el=Pe,this.value=function(Je){var qe;return this.cache[Je]===void 0&&((qe=c(this.el).attr("data-cbox-"+Je))!==void 0?this.cache[Je]=qe:Ze[Je]!==void 0?this.cache[Je]=Ze[Je]:Oe[Je]!==void 0&&(this.cache[Je]=Oe[Je])),this.cache[Je]},this.get=function(Je){var qe=this.value(Je);return c.isFunction(qe)?qe.call(this.el,this):qe}}function it(Pe){var Ze=S.length,Je=(J+Pe)%Ze;return Je<0?Ze+Je:Je}function Me(Pe,Ze){return Math.round((/%/.test(Pe)?(Ze==="x"?s.width():Ue())/100:1)*parseInt(Pe,10))}function mt(Pe,Ze){return Pe.get("photo")||Pe.get("photoRegex").test(Ze)}function He(Pe,Ze){return Pe.get("retinaUrl")&&f.devicePixelRatio>1?Ze.replace(Pe.get("photoRegex"),Pe.get("retinaSuffix")):Ze}function We(Pe){"contains"in v[0]&&!v[0].contains(Pe.target)&&Pe.target!==p[0]&&(Pe.stopPropagation(),v.focus())}function yt(Pe){yt.str!==Pe&&(v.add(p).removeClass(yt.str).addClass(Pe),yt.str=Pe)}function Ot(Pe){c(d).trigger(Pe),ve.triggerHandler(Pe)}var Ft=function(){var Pe,Ze,Je=De+"Slideshow_",qe="click."+De;function M(){clearTimeout(Ze)}function be(){(q.get("loop")||S[J+1])&&(M(),Ze=setTimeout(se.next,q.get("slideshowSpeed")))}function he(){E.html(q.get("slideshowStop")).unbind(qe).one(qe,Ge),ve.bind(ht,be).bind(Xe,M),v.removeClass(Je+"off").addClass(Je+"on")}function Ge(){M(),ve.unbind(ht,be).unbind(Xe,M),E.html(q.get("slideshowStart")).unbind(qe).one(qe,function(){se.next(),he()}),v.removeClass(Je+"on").addClass(Je+"off")}function vt(){Pe=!1,E.hide(),M(),ve.unbind(ht,be).unbind(Xe,M),v.removeClass(Je+"off "+Je+"on")}return function(){Pe?q.get("slideshow")||(ve.unbind(nt,vt),vt()):q.get("slideshow")&&S[1]&&(Pe=!0,ve.one(nt,vt),q.get("slideshowAuto")?he():Ge(),E.show())}}();function rt(Pe){var Ze,Je;if(!W){if(Ze=c(Pe).data(je),q=new Te(Pe,Ze),Je=q.get("rel"),J=0,Je&&Je!==!1&&Je!=="nofollow"?(S=c("."+Se).filter(function(){return new Te(this,c.data(this,je)).get("rel")===Je}),(J=S.index(q.el))===-1&&(S=S.add(q.el),J=S.length-1)):S=c(q.el),!ne){ne=ie=!0,yt(q.get("className")),v.css({visibility:"hidden",display:"block",opacity:""}),h=Ce(pe,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),w.css({width:"",height:""}).append(h),K=k.height()+x.height()+w.outerHeight(!0)-w.height(),ue=A.width()+C.width()+w.outerWidth(!0)-w.width(),te=h.outerHeight(!0),D=h.outerWidth(!0);var qe=Me(q.get("initialWidth"),"x"),M=Me(q.get("initialHeight"),"y"),be=q.get("maxWidth"),he=q.get("maxHeight");q.w=Math.max((be!==!1?Math.min(qe,Me(be,"x")):qe)-D-ue,0),q.h=Math.max((he!==!1?Math.min(M,Me(he,"y")):M)-te-K,0),h.css({width:"",height:q.h}),se.position(),Ot(de),q.get("onOpen"),G.add(b).hide(),v.focus(),q.get("trapFocus")&&d.addEventListener&&(d.addEventListener("focus",We,!0),ve.one(lt,function(){d.removeEventListener("focus",We,!0)})),q.get("returnFocus")&&ve.one(lt,function(){c(q.el).focus()})}var Ge=parseFloat(q.get("opacity"));p.css({opacity:Ge==Ge?Ge:"",cursor:q.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),q.get("closeButton")?H.html(q.get("close")).appendTo(w):H.appendTo("<div/>"),function(){var vt,kt,ce,_e=se.prep,Re=++tt;if(ie=!0,Q=!1,Ot(ot),Ot(Xe),q.get("onLoad"),q.h=q.get("height")?Me(q.get("height"),"y")-te-K:q.get("innerHeight")&&Me(q.get("innerHeight"),"y"),q.w=q.get("width")?Me(q.get("width"),"x")-D-ue:q.get("innerWidth")&&Me(q.get("innerWidth"),"x"),q.mw=q.w,q.mh=q.h,q.get("maxWidth")&&(q.mw=Me(q.get("maxWidth"),"x")-D-ue,q.mw=q.w&&q.w<q.mw?q.w:q.mw),q.get("maxHeight")&&(q.mh=Me(q.get("maxHeight"),"y")-te-K,q.mh=q.h&&q.h<q.mh?q.h:q.mh),vt=q.get("href"),V=setTimeout(function(){m.show()},100),q.get("inline")){var st=c(vt).eq(0);ce=c("<div>").hide().insertBefore(st),ve.one(ot,function(){ce.replaceWith(st)}),_e(st)}else q.get("iframe")?_e(" "):q.get("html")?_e(q.get("html")):mt(q,vt)?(vt=He(q,vt),Q=q.get("createImg"),c(Q).addClass(De+"Photo").bind("error."+De,function(){_e(Ce(pe,"Error").html(q.get("imgError")))}).one("load",function(){Re===tt&&setTimeout(function(){var xt;q.get("retinaImage")&&f.devicePixelRatio>1&&(Q.height=Q.height/f.devicePixelRatio,Q.width=Q.width/f.devicePixelRatio),q.get("scalePhotos")&&(kt=function(){Q.height-=Q.height*xt,Q.width-=Q.width*xt},q.mw&&Q.width>q.mw&&(xt=(Q.width-q.mw)/Q.width,kt()),q.mh&&Q.height>q.mh&&(xt=(Q.height-q.mh)/Q.height,kt())),q.h&&(Q.style.marginTop=Math.max(q.mh-Q.height,0)/2+"px"),S[1]&&(q.get("loop")||S[J+1])&&(Q.style.cursor="pointer",c(Q).bind("click."+De,function(){se.next()})),Q.style.width=Q.width+"px",Q.style.height=Q.height+"px",_e(Q)},1)}),Q.src=vt):vt&&g.load(vt,q.get("data"),function(xt,Mt){Re===tt&&_e(Mt==="error"?Ce(pe,"Error").html(q.get("xhrError")):c(this).contents())})}()}}function oe(){v||(Ae=!1,s=c(f),v=Ce(pe).attr({id:je,class:c.support.opacity===!1?De+"IE":"",role:"dialog",tabindex:"-1"}).hide(),p=Ce(pe,"Overlay").hide(),m=c([Ce(pe,"LoadingOverlay")[0],Ce(pe,"LoadingGraphic")[0]]),y=Ce(pe,"Wrapper"),w=Ce(pe,"Content").append(b=Ce(pe,"Title"),_=Ce(pe,"Current"),j=c('<button type="button"/>').attr({id:De+"Previous"}),R=c('<button type="button"/>').attr({id:De+"Next"}),E=c('<button type="button"/>').attr({id:De+"Slideshow"}),m),H=c('<button type="button"/>').attr({id:De+"Close"}),y.append(Ce(pe).append(Ce(pe,"TopLeft"),k=Ce(pe,"TopCenter"),Ce(pe,"TopRight")),Ce(pe,!1,"clear:left").append(A=Ce(pe,"MiddleLeft"),w,C=Ce(pe,"MiddleRight")),Ce(pe,!1,"clear:left").append(Ce(pe,"BottomLeft"),x=Ce(pe,"BottomCenter"),Ce(pe,"BottomRight"))).find("div div").css({float:"left"}),g=Ce(pe,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),G=R.add(j).add(_).add(E)),d.body&&!v.parent().length&&c(d.body).append(p,v.append(y,g))}c[je]||(c(oe),(se=c.fn[je]=c[je]=function(Pe,Ze){var Je=this;return Pe=Pe||{},c.isFunction(Je)&&(Je=c("<a/>"),Pe.open=!0),Je[0]&&(oe(),function(){function qe(M){M.which>1||M.shiftKey||M.altKey||M.metaKey||M.ctrlKey||(M.preventDefault(),rt(this))}return!!v&&(Ae||(Ae=!0,R.click(function(){se.next()}),j.click(function(){se.prev()}),H.click(function(){se.close()}),p.click(function(){q.get("overlayClose")&&se.close()}),c(d).bind("keydown."+De,function(M){var be=M.keyCode;ne&&q.get("escKey")&&be===27&&(M.preventDefault(),se.close()),ne&&q.get("arrowKey")&&S[1]&&!M.altKey&&(be===37?(M.preventDefault(),j.click()):be===39&&(M.preventDefault(),R.click()))}),c.isFunction(c.fn.on)?c(d).on("click."+De,"."+Se,qe):c("."+Se).live("click."+De,qe)),!0)}()&&(Ze&&(Pe.onComplete=Ze),Je.each(function(){var qe=c.data(this,je)||{};c.data(this,je,c.extend(qe,Pe))}).addClass(Se),new Te(Je[0],Pe).get("open")&&rt(Je[0]))),Je}).position=function(Pe,Ze){var Je,qe,M,be=0,he=0,Ge=v.offset();function vt(){k[0].style.width=x[0].style.width=w[0].style.width=parseInt(v[0].style.width,10)-ue+"px",w[0].style.height=A[0].style.height=C[0].style.height=parseInt(v[0].style.height,10)-K+"px"}if(s.unbind("resize."+De),v.css({top:-9e4,left:-9e4}),qe=s.scrollTop(),M=s.scrollLeft(),q.get("fixed")?(Ge.top-=qe,Ge.left-=M,v.css({position:"fixed"})):(be=qe,he=M,v.css({position:"absolute"})),q.get("right")!==!1?he+=Math.max(s.width()-q.w-D-ue-Me(q.get("right"),"x"),0):q.get("left")!==!1?he+=Me(q.get("left"),"x"):he+=Math.round(Math.max(s.width()-q.w-D-ue,0)/2),q.get("bottom")!==!1?be+=Math.max(Ue()-q.h-te-K-Me(q.get("bottom"),"y"),0):q.get("top")!==!1?be+=Me(q.get("top"),"y"):be+=Math.round(Math.max(Ue()-q.h-te-K,0)/2),v.css({top:Ge.top,left:Ge.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",Je={width:q.w+D+ue,height:q.h+te+K,top:be,left:he},Pe){var kt=0;c.each(Je,function(ce){Je[ce]===xe[ce]||(kt=Pe)}),Pe=kt}xe=Je,Pe||v.css(Je),v.dequeue().animate(Je,{duration:Pe||0,complete:function(){vt(),ie=!1,y[0].style.width=q.w+D+ue+"px",y[0].style.height=q.h+te+K+"px",q.get("reposition")&&setTimeout(function(){s.bind("resize."+De,se.position)},1),c.isFunction(Ze)&&Ze()},step:vt})},se.resize=function(Pe){var Ze;ne&&((Pe=Pe||{}).width&&(q.w=Me(Pe.width,"x")-D-ue),Pe.innerWidth&&(q.w=Me(Pe.innerWidth,"x")),h.css({width:q.w}),Pe.height&&(q.h=Me(Pe.height,"y")-te-K),Pe.innerHeight&&(q.h=Me(Pe.innerHeight,"y")),Pe.innerHeight||Pe.height||(Ze=h.scrollTop(),h.css({height:"auto"}),q.h=h.height()),h.css({height:q.h}),Ze&&h.scrollTop(Ze),se.position(q.get("transition")==="none"?0:q.get("speed")))},se.prep=function(Pe){if(ne){var Ze,Je=q.get("transition")==="none"?0:q.get("speed");h.remove(),(h=Ce(pe,"LoadedContent").append(Pe)).hide().appendTo(g.show()).css({width:(q.w=q.w||h.width(),q.w=q.mw&&q.mw<q.w?q.mw:q.w,q.w),overflow:q.get("scrolling")?"auto":"hidden"}).css({height:(q.h=q.h||h.height(),q.h=q.mh&&q.mh<q.h?q.mh:q.h,q.h)}).prependTo(w),g.hide(),c(Q).css({float:"none"}),yt(q.get("className")),Ze=function(){var qe,M,be=S.length;function he(){c.support.opacity===!1&&v[0].style.removeAttribute("filter")}ne&&(M=function(){clearTimeout(V),m.hide(),Ot(ht),q.get("onComplete")},b.html(q.get("title")).show(),h.show(),be>1?(typeof q.get("current")=="string"&&_.html(q.get("current").replace("{current}",J+1).replace("{total}",be)).show(),R[q.get("loop")||J<be-1?"show":"hide"]().html(q.get("next")),j[q.get("loop")||J?"show":"hide"]().html(q.get("previous")),Ft(),q.get("preloading")&&c.each([it(-1),it(1)],function(){var Ge=S[this],vt=new Te(Ge,c.data(Ge,je)),kt=vt.get("href");kt&&mt(vt,kt)&&(kt=He(vt,kt),d.createElement("img").src=kt)})):G.hide(),q.get("iframe")?(qe=q.get("createIframe"),q.get("scrolling")||(qe.scrolling="no"),c(qe).attr({src:q.get("href"),class:De+"Iframe"}).one("load",M).appendTo(h),ve.one(ot,function(){qe.src="//about:blank"}),q.get("fastIframe")&&c(qe).trigger("load")):M(),q.get("transition")==="fade"?v.fadeTo(Je,1,he):he())},q.get("transition")==="fade"?v.fadeTo(Je,0,function(){se.position(0,Ze)}):se.position(Je,Ze)}},se.next=function(){!ie&&S[1]&&(q.get("loop")||S[J+1])&&(J=it(1),rt(S[J]))},se.prev=function(){!ie&&S[1]&&(q.get("loop")||J)&&(J=it(-1),rt(S[J]))},se.close=function(){ne&&!W&&(W=!0,ne=!1,Ot(nt),q.get("onCleanup"),s.unbind("."+De),p.fadeTo(q.get("fadeOut")||0,0),v.stop().fadeTo(q.get("fadeOut")||0,0,function(){v.hide(),p.hide(),Ot(ot),h.remove(),setTimeout(function(){W=!1,Ot(lt),q.get("onClosed")},1)}))},se.remove=function(){v&&(v.stop(),c[je].close(),v.stop(!1,!0).remove(),p.remove(),W=!1,v=null,c("."+Se).removeData(je).removeClass(Se),c(d).unbind("click."+De).unbind("keydown."+De))},se.element=function(){return c(q.el)},se.settings=Oe)})(n(1669),document,window)},4659:function(o,u,n){"use strict";var c=n(3724),d=n(4913),f=n(6980);o.exports=function(p,v,y){c?d.f(p,v,f(0,y)):p[v]=y}},4720:function(o,u,n){var c,d,f;d=[n(1669),n(3662),n(1897),n(6883),n(9139)],c=function(p){return p.widget("ui.slider",p.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var v,y,w=this.options,k=this.element.find(".ui-slider-handle"),A=[];for(y=w.values&&w.values.length||1,k.length>y&&(k.slice(y).remove(),k=k.slice(0,y)),v=k.length;v<y;v++)A.push("<span tabindex='0'></span>");this.handles=k.add(p(A.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(C){p(this).data("ui-slider-handle-index",C).attr("tabIndex",0)})},_createRange:function(){var v=this.options;v.range?(v.range===!0&&(v.values?v.values.length&&v.values.length!==2?v.values=[v.values[0],v.values[0]]:p.isArray(v.values)&&(v.values=v.values.slice(0)):v.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=p("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),v.range!=="min"&&v.range!=="max"||this._addClass(this.range,"ui-slider-range-"+v.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(v){var y,w,k,A,C,x,S,s=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),y={x:v.pageX,y:v.pageY},w=this._normValueFromMouse(y),k=this._valueMax()-this._valueMin()+1,this.handles.each(function(g){var m=Math.abs(w-s.values(g));(k>m||k===m&&(g===s._lastChangedValue||s.values(g)===h.min))&&(k=m,A=p(this),C=g)}),this._start(v,C)!==!1&&(this._mouseSliding=!0,this._handleIndex=C,this._addClass(A,null,"ui-state-active"),A.trigger("focus"),x=A.offset(),S=!p(v.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=S?{left:0,top:0}:{left:v.pageX-x.left-A.width()/2,top:v.pageY-x.top-A.height()/2-(parseInt(A.css("borderTopWidth"),10)||0)-(parseInt(A.css("borderBottomWidth"),10)||0)+(parseInt(A.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(v,C,w),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(v){var y={x:v.pageX,y:v.pageY},w=this._normValueFromMouse(y);return this._slide(v,this._handleIndex,w),!1},_mouseStop:function(v){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(v,this._handleIndex),this._change(v,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(v){var y,w,k,A,C;return this.orientation==="horizontal"?(y=this.elementSize.width,w=v.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(y=this.elementSize.height,w=v.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(k=w/y)>1&&(k=1),k<0&&(k=0),this.orientation==="vertical"&&(k=1-k),A=this._valueMax()-this._valueMin(),C=this._valueMin()+k*A,this._trimAlignValue(C)},_uiHash:function(v,y,w){var k={handle:this.handles[v],handleIndex:v,value:y!==void 0?y:this.value()};return this._hasMultipleValues()&&(k.value=y!==void 0?y:this.values(v),k.values=w||this.values()),k},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(v,y){return this._trigger("start",v,this._uiHash(y))},_slide:function(v,y,w){var k,A=this.value(),C=this.values();this._hasMultipleValues()&&(k=this.values(y?0:1),A=this.values(y),this.options.values.length===2&&this.options.range===!0&&(w=y===0?Math.min(k,w):Math.max(k,w)),C[y]=w),w!==A&&this._trigger("slide",v,this._uiHash(y,w,C))!==!1&&(this._hasMultipleValues()?this.values(y,w):this.value(w))},_stop:function(v,y){this._trigger("stop",v,this._uiHash(y))},_change:function(v,y){this._keySliding||this._mouseSliding||(this._lastChangedValue=y,this._trigger("change",v,this._uiHash(y)))},value:function(v){return arguments.length?(this.options.value=this._trimAlignValue(v),this._refreshValue(),void this._change(null,0)):this._value()},values:function(v,y){var w,k,A;if(arguments.length>1)return this.options.values[v]=this._trimAlignValue(y),this._refreshValue(),void this._change(null,v);if(!arguments.length)return this._values();if(!p.isArray(arguments[0]))return this._hasMultipleValues()?this._values(v):this.value();for(w=this.options.values,k=arguments[0],A=0;A<w.length;A+=1)w[A]=this._trimAlignValue(k[A]),this._change(null,A);this._refreshValue()},_setOption:function(v,y){var w,k=0;switch(v==="range"&&this.options.range===!0&&(y==="min"?(this.options.value=this._values(0),this.options.values=null):y==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),p.isArray(this.options.values)&&(k=this.options.values.length),this._super(v,y),v){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(y),this.handles.css(y==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),w=k-1;w>=0;w--)this._change(null,w);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(v){this._super(v),this._toggleClass(null,"ui-state-disabled",!!v)},_value:function(){var v=this.options.value;return this._trimAlignValue(v)},_values:function(v){var y,w,k;if(arguments.length)return y=this.options.values[v],this._trimAlignValue(y);if(this._hasMultipleValues()){for(w=this.options.values.slice(),k=0;k<w.length;k+=1)w[k]=this._trimAlignValue(w[k]);return w}return[]},_trimAlignValue:function(v){if(v<=this._valueMin())return this._valueMin();if(v>=this._valueMax())return this._valueMax();var y=this.options.step>0?this.options.step:1,w=(v-this._valueMin())%y,k=v-w;return 2*Math.abs(w)>=y&&(k+=w>0?y:-y),parseFloat(k.toFixed(5))},_calculateNewMax:function(){var v=this.options.max,y=this._valueMin(),w=this.options.step;(v=Math.round((v-y)/w)*w+y)>this.options.max&&(v-=w),this.max=parseFloat(v.toFixed(this._precision()))},_precision:function(){var v=this._precisionOf(this.options.step);return this.options.min!==null&&(v=Math.max(v,this._precisionOf(this.options.min))),v},_precisionOf:function(v){var y=v.toString(),w=y.indexOf(".");return w===-1?0:y.length-w-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(v){v==="vertical"&&this.range.css({width:"",left:""}),v==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var v,y,w,k,A,C=this.options.range,x=this.options,S=this,s=!this._animateOff&&x.animate,h={};this._hasMultipleValues()?this.handles.each(function(g){y=(S.values(g)-S._valueMin())/(S._valueMax()-S._valueMin())*100,h[S.orientation==="horizontal"?"left":"bottom"]=y+"%",p(this).stop(1,1)[s?"animate":"css"](h,x.animate),S.options.range===!0&&(S.orientation==="horizontal"?(g===0&&S.range.stop(1,1)[s?"animate":"css"]({left:y+"%"},x.animate),g===1&&S.range[s?"animate":"css"]({width:y-v+"%"},{queue:!1,duration:x.animate})):(g===0&&S.range.stop(1,1)[s?"animate":"css"]({bottom:y+"%"},x.animate),g===1&&S.range[s?"animate":"css"]({height:y-v+"%"},{queue:!1,duration:x.animate}))),v=y}):(w=this.value(),k=this._valueMin(),A=this._valueMax(),y=A!==k?(w-k)/(A-k)*100:0,h[this.orientation==="horizontal"?"left":"bottom"]=y+"%",this.handle.stop(1,1)[s?"animate":"css"](h,x.animate),C==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[s?"animate":"css"]({width:y+"%"},x.animate),C==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[s?"animate":"css"]({width:100-y+"%"},x.animate),C==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[s?"animate":"css"]({height:y+"%"},x.animate),C==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[s?"animate":"css"]({height:100-y+"%"},x.animate))},_handleEvents:{keydown:function(v){var y,w,k,A=p(v.target).data("ui-slider-handle-index");switch(v.keyCode){case p.ui.keyCode.HOME:case p.ui.keyCode.END:case p.ui.keyCode.PAGE_UP:case p.ui.keyCode.PAGE_DOWN:case p.ui.keyCode.UP:case p.ui.keyCode.RIGHT:case p.ui.keyCode.DOWN:case p.ui.keyCode.LEFT:if(v.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(p(v.target),null,"ui-state-active"),this._start(v,A)===!1))return}switch(k=this.options.step,y=w=this._hasMultipleValues()?this.values(A):this.value(),v.keyCode){case p.ui.keyCode.HOME:w=this._valueMin();break;case p.ui.keyCode.END:w=this._valueMax();break;case p.ui.keyCode.PAGE_UP:w=this._trimAlignValue(y+(this._valueMax()-this._valueMin())/this.numPages);break;case p.ui.keyCode.PAGE_DOWN:w=this._trimAlignValue(y-(this._valueMax()-this._valueMin())/this.numPages);break;case p.ui.keyCode.UP:case p.ui.keyCode.RIGHT:if(y===this._valueMax())return;w=this._trimAlignValue(y+k);break;case p.ui.keyCode.DOWN:case p.ui.keyCode.LEFT:if(y===this._valueMin())return;w=this._trimAlignValue(y-k)}this._slide(v,A,w)},keyup:function(v){var y=p(v.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(v,y),this._change(v,y),this._removeClass(p(v.target),null,"ui-state-active"))}}})},(f=c.apply(u,d))===void 0||(o.exports=f)},4731:function(o,u,n){"use strict";var c=n(4576);n(687)(c.JSON,"JSON",!0)},4782:function(o,u,n){"use strict";var c=n(6518),d=n(4376),f=n(3517),p=n(34),v=n(5610),y=n(6198),w=n(5397),k=n(4659),A=n(8227),C=n(597),x=n(7680),S=C("slice"),s=A("species"),h=Array,g=Math.max;c({target:"Array",proto:!0,forced:!S},{slice:function(m,b){var _,E,R,j=w(this),H=y(j),G=v(m,H),q=v(b===void 0?H:b,H);if(d(j)&&(_=j.constructor,(f(_)&&(_===h||d(_.prototype))||p(_)&&(_=_[s])===null)&&(_=void 0),_===h||_===void 0))return x(j,G,q);for(E=new(_===void 0?h:_)(g(q-G,0)),R=0;G<q;G++,R++)G in j&&k(E,R,j[G]);return E.length=R,E}})},4864:function(o,u,n){"use strict";var c=n(3724),d=n(4576),f=n(9504),p=n(2796),v=n(3167),y=n(6699),w=n(2360),k=n(8480).f,A=n(1625),C=n(788),x=n(655),S=n(1034),s=n(8429),h=n(1056),g=n(6840),m=n(9039),b=n(9297),_=n(1181).enforce,E=n(7633),R=n(8227),j=n(3635),H=n(8814),G=R("match"),q=d.RegExp,K=q.prototype,ue=d.SyntaxError,te=f(K.exec),D=f("".charAt),J=f("".replace),Q=f("".indexOf),ne=f("".slice),ie=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,W=/a/g,V=/a/g,se=new q(W)!==W,Ae=s.MISSED_STICKY,Oe=s.UNSUPPORTED_Y;if(p("RegExp",c&&(!se||Ae||j||H||m(function(){return V[G]=!1,q(W)!==W||q(V)===V||String(q(W,"i"))!=="/a/i"})))){for(var je=function(de,Xe){var ht,nt,lt,ot,ve,pe,tt=A(K,this),xe=C(de),Ce=Xe===void 0,Ue=[],Te=de;if(!tt&&xe&&Ce&&de.constructor===je)return de;if((xe||A(K,de))&&(de=de.source,Ce&&(Xe=S(Te))),de=de===void 0?"":x(de),Xe=Xe===void 0?"":x(Xe),Te=de,j&&"dotAll"in W&&(nt=!!Xe&&Q(Xe,"s")>-1)&&(Xe=J(Xe,/s/g,"")),ht=Xe,Ae&&"sticky"in W&&(lt=!!Xe&&Q(Xe,"y")>-1)&&Oe&&(Xe=J(Xe,/y/g,"")),H&&(ot=function(it){for(var Me,mt=it.length,He=0,We="",yt=[],Ot=w(null),Ft=!1,rt=!1,oe=0,Pe="";He<=mt;He++){if((Me=D(it,He))==="\\")Me+=D(it,++He);else if(Me==="]")Ft=!1;else if(!Ft)switch(!0){case Me==="[":Ft=!0;break;case Me==="(":if(We+=Me,ne(it,He+1,He+3)==="?:")continue;te(ie,ne(it,He+1))&&(He+=2,rt=!0),oe++;continue;case(Me===">"&&rt):if(Pe===""||b(Ot,Pe))throw new ue("Invalid capture group name");Ot[Pe]=!0,yt[yt.length]=[Pe,oe],rt=!1,Pe="";continue}rt?Pe+=Me:We+=Me}return[We,yt]}(de),de=ot[0],Ue=ot[1]),ve=v(q(de,Xe),tt?this:K,je),(nt||lt||Ue.length)&&(pe=_(ve),nt&&(pe.dotAll=!0,pe.raw=je(function(it){for(var Me,mt=it.length,He=0,We="",yt=!1;He<=mt;He++)(Me=D(it,He))!=="\\"?yt||Me!=="."?(Me==="["?yt=!0:Me==="]"&&(yt=!1),We+=Me):We+="[\\s\\S]":We+=Me+D(it,++He);return We}(de),ht)),lt&&(pe.sticky=!0),Ue.length&&(pe.groups=Ue)),de!==Te)try{y(ve,"source",Te===""?"(?:)":Te)}catch(it){}return ve},De=k(q),Se=0;De.length>Se;)h(je,q,De[Se++]);K.constructor=je,je.prototype=K,g(d,"RegExp",je,{constructor:!0})}E("RegExp")},4901:function(o){"use strict";var u=typeof document=="object"&&document.all;o.exports=u===void 0&&u!==void 0?function(n){return typeof n=="function"||n===u}:function(n){return typeof n=="function"}},4907:function(o,u,n){"use strict";n.d(u,{KL:function(){return g},LN:function(){return S},Ql:function(){return s}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3418),n(3792),n(2712),n(4782),n(9572),n(2010),n(8130),n(875),n(6099),n(3362),n(7495),n(8781),n(7764),n(2953);var c=n(8004),d=n(1669);function f(m){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(m)}function p(m,b){return function(_){if(Array.isArray(_))return _}(m)||function(_,E){var R=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(R!=null){var j,H,G,q,K=[],ue=!0,te=!1;try{if(G=(R=R.call(_)).next,E===0){if(Object(R)!==R)return;ue=!1}else for(;!(ue=(j=G.call(R)).done)&&(K.push(j.value),K.length!==E);ue=!0);}catch(D){te=!0,H=D}finally{try{if(!ue&&R.return!=null&&(q=R.return(),Object(q)!==q))return}finally{if(te)throw H}}return K}}(m,b)||v(m,b)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(m,b){if(m){if(typeof m=="string")return y(m,b);var _={}.toString.call(m).slice(8,-1);return _==="Object"&&m.constructor&&(_=m.constructor.name),_==="Map"||_==="Set"?Array.from(m):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?y(m,b):void 0}}function y(m,b){(b==null||b>m.length)&&(b=m.length);for(var _=0,E=Array(b);_<b;_++)E[_]=m[_];return E}function w(){var m,b,_=typeof Symbol=="function"?Symbol:{},E=_.iterator||"@@iterator",R=_.toStringTag||"@@toStringTag";function j(J,Q,ne,ie){var W=Q&&Q.prototype instanceof G?Q:G,V=Object.create(W.prototype);return k(V,"_invoke",function(se,Ae,Oe){var je,De,Se,de=0,Xe=Oe||[],ht=!1,nt={p:0,n:0,v:m,a:lt,f:lt.bind(m,4),d:function(ot,ve){return je=ot,De=0,Se=m,nt.n=ve,H}};function lt(ot,ve){for(De=ot,Se=ve,b=0;!ht&&de&&!pe&&b<Xe.length;b++){var pe,tt=Xe[b],xe=nt.p,Ce=tt[2];ot>3?(pe=Ce===ve)&&(Se=tt[(De=tt[4])?5:(De=3,3)],tt[4]=tt[5]=m):tt[0]<=xe&&((pe=ot<2&&xe<tt[1])?(De=0,nt.v=ve,nt.n=tt[1]):xe<Ce&&(pe=ot<3||tt[0]>ve||ve>Ce)&&(tt[4]=ot,tt[5]=ve,nt.n=Ce,De=0))}if(pe||ot>1)return H;throw ht=!0,ve}return function(ot,ve,pe){if(de>1)throw TypeError("Generator is already running");for(ht&&ve===1&&lt(ve,pe),De=ve,Se=pe;(b=De<2?m:Se)||!ht;){je||(De?De<3?(De>1&&(nt.n=-1),lt(De,Se)):nt.n=Se:nt.v=Se);try{if(de=2,je){if(De||(ot="next"),b=je[ot]){if(!(b=b.call(je,Se)))throw TypeError("iterator result is not an object");if(!b.done)return b;Se=b.value,De<2&&(De=0)}else De===1&&(b=je.return)&&b.call(je),De<2&&(Se=TypeError("The iterator does not provide a '"+ot+"' method"),De=1);je=m}else if((b=(ht=nt.n<0)?Se:se.call(Ae,nt))!==H)break}catch(tt){je=m,De=1,Se=tt}finally{de=1}}return{value:b,done:ht}}}(J,ne,ie),!0),V}var H={};function G(){}function q(){}function K(){}b=Object.getPrototypeOf;var ue=[][E]?b(b([][E]())):(k(b={},E,function(){return this}),b),te=K.prototype=G.prototype=Object.create(ue);function D(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,K):(J.__proto__=K,k(J,R,"GeneratorFunction")),J.prototype=Object.create(te),J}return q.prototype=K,k(te,"constructor",K),k(K,"constructor",q),q.displayName="GeneratorFunction",k(K,R,"GeneratorFunction"),k(te),k(te,R,"Generator"),k(te,E,function(){return this}),k(te,"toString",function(){return"[object Generator]"}),(w=function(){return{w:j,m:D}})()}function k(m,b,_,E){var R=Object.defineProperty;try{R({},"",{})}catch(j){R=0}k=function(j,H,G,q){function K(ue,te){k(j,ue,function(D){return this._invoke(ue,te,D)})}H?R?R(j,H,{value:G,enumerable:!q,configurable:!q,writable:!q}):j[H]=G:(K("next",0),K("throw",1),K("return",2))},k(m,b,_,E)}function A(m,b,_,E,R,j,H){try{var G=m[j](H),q=G.value}catch(K){return void _(K)}G.done?b(q):Promise.resolve(q).then(E,R)}function C(m,b){for(var _=0;_<b.length;_++){var E=b[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,x(E.key),E)}}function x(m){var b=function(_){if(f(_)!="object"||!_)return _;var E=_[Symbol.toPrimitive];if(E!==void 0){var R=E.call(_,"string");if(f(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(m);return f(b)=="symbol"?b:b+""}var S=function(){return m=function _(E,R){var j=R.isProtected,H=R.imageCache;(function(G,q){if(!(G instanceof q))throw new TypeError("Cannot call a class as a function")})(this,_),this.page=E,this.imageCache=H,this.$container=d("<div />",{class:"BRpagecontainer ".concat(E?"pagediv".concat(E.index):"BRemptypage"),css:{position:"absolute"}}).attr("data-side",E==null?void 0:E.pageSide).attr("data-index",E==null?void 0:E.index).attr("data-page-num",E==null?void 0:E.getPageNum()),j&&(this.$container.append(d('<div class="BRscreen" />')),this.$container.addClass("protected")),this.$img=null},b=[{key:"update",value:function(_){var E,R=this,j=_.dimensions,H=j===void 0?null:j,G=_.reduce,q=G===void 0?null:G;if(H&&this.$container.css(H),q!=null&&this.page){var K=this.imageCache.getFinalReduce(this.page.index,q),ue=this.page.getURI(K,0),te=this.imageCache.imageLoaded(this.page.index,K),D=this.imageCache.getBestLoadedReduce(this.page.index,q);if(((E=this.$img)===null||E===void 0?void 0:E.data("src"))==ue)return this;var J=this.$img;if(this.$img=this.imageCache.image(this.page.index,K),J?this.$img.insertAfter(J):this.$img.prependTo(this.$container),te||this.$container.addClass("BRpageloading"),!te&&D){var Q=this.page.getURI(D,0);J?J.data("src")==Q||this.imageCache.image(this.page.index,D,J[0]):(J=this.imageCache.image(this.page.index,D)).prependTo(this.$container)}return this.$img.one("load",function(){var ne,ie=(ne=w().m(function W(V){var se;return w().w(function(Ae){for(;;)switch(Ae.n){case 0:return R.$container.removeClass("BRpageloading"),Ae.n=1,(0,c.sleep)(100);case 1:(se=J)===null||se===void 0||se.remove();case 2:return Ae.a(2)}},W)}),function(){var W=this,V=arguments;return new Promise(function(se,Ae){var Oe=ne.apply(W,V);function je(Se){A(Oe,se,Ae,je,De,"next",Se)}function De(Se){A(Oe,se,Ae,je,De,"throw",Se)}je(void 0)})});return function(W){return ie.apply(this,arguments)}}()),this}}}],b&&C(m.prototype,b),Object.defineProperty(m,"prototype",{writable:!1}),m;var m,b}();function s(m,b){var _=document.createElement("div");return _.style.width="".concat(m.width,"px"),_.style.height="".concat(m.height,"px"),_.setAttribute("class","BRPageLayer ".concat(b)),_}function h(m){var b=m.l,_=m.r,E=m.b,R=m.t,j=document.createElementNS("http://www.w3.org/2000/svg","rect");return j.setAttribute("x",b.toString()),j.setAttribute("y",R.toString()),j.setAttribute("width",(_-b).toString()),j.setAttribute("height",(E-R).toString()),j.setAttribute("rx","4"),j.setAttribute("ry","4"),j}function g(m,b,_,E){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,j=E.querySelector(".".concat(m)),H=j||function(J,Q){var ne=document.createElementNS("http://www.w3.org/2000/svg","svg");return ne.setAttribute("xmlns","http://www.w3.org/2000/svg"),ne.setAttribute("viewBox","0 0 ".concat(J.width," ").concat(J.height)),ne.setAttribute("class","BRPageLayer ".concat(Q)),ne.setAttribute("preserveAspectRatio","none"),ne}(_,m);if(!j){var G=E.querySelector(".BRpageimage");G?d(H).insertAfter(G):d(H).prependTo(E)}var q,K=function(J){var Q=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(!Q){if(Array.isArray(J)||(Q=v(J))){Q&&(J=Q);var ne=0,ie=function(){};return{s:ie,n:function(){return ne>=J.length?{done:!0}:{done:!1,value:J[ne++]}},e:function(Ae){throw Ae},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W,V=!0,se=!1;return{s:function(){Q=Q.call(J)},n:function(){var Ae=Q.next();return V=Ae.done,Ae},e:function(Ae){se=!0,W=Ae},f:function(){try{V||Q.return==null||Q.return()}finally{if(se)throw W}}}}(b.entries());try{for(K.s();!(q=K.n()).done;){var ue=p(q.value,2),te=ue[0],D=h(ue[1]);R&&D.setAttribute("class",R[te]),H.appendChild(D)}}catch(J){K.e(J)}finally{K.f()}}},4913:function(o,u,n){"use strict";var c=n(3724),d=n(5917),f=n(8686),p=n(8551),v=n(6969),y=TypeError,w=Object.defineProperty,k=Object.getOwnPropertyDescriptor,A="enumerable",C="configurable",x="writable";u.f=c?f?function(S,s,h){if(p(S),s=v(s),p(h),typeof S=="function"&&s==="prototype"&&"value"in h&&x in h&&!h[x]){var g=k(S,s);g&&g[x]&&(S[s]=h.value,h={configurable:C in h?h[C]:g[C],enumerable:A in h?h[A]:g[A],writable:!1})}return w(S,s,h)}:w:function(S,s,h){if(p(S),s=v(s),p(h),d)try{return w(S,s,h)}catch(g){}if("get"in h||"set"in h)throw new y("Accessors not supported");return"value"in h&&(S[s]=h.value),S}},5031:function(o,u,n){"use strict";var c=n(7751),d=n(9504),f=n(8480),p=n(3717),v=n(8551),y=d([].concat);o.exports=c("Reflect","ownKeys")||function(w){var k=f.f(v(w)),A=p.f;return A?y(k,A(w)):k}},5081:function(o,u,n){"use strict";var c=n(6518),d=n(4576);c({global:!0,forced:d.globalThis!==d},{globalThis:d})},5213:function(o,u,n){"use strict";var c=n(4576),d=n(9039),f=c.RegExp,p=!d(function(){var v=!0;try{f(".","d")}catch(S){v=!1}var y={},w="",k=v?"dgimsy":"gimsy",A=function(S,s){Object.defineProperty(y,S,{get:function(){return w+=s,!0}})},C={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var x in v&&(C.hasIndices="d"),C)A(x,C[x]);return Object.getOwnPropertyDescriptor(f.prototype,"flags").get.call(y)!==k||w!==k});o.exports={correct:p}},5397:function(o,u,n){"use strict";var c=n(7055),d=n(7750);o.exports=function(f){return c(d(f))}},5440:function(o,u,n){"use strict";var c=n(8745),d=n(9565),f=n(9504),p=n(9228),v=n(9039),y=n(8551),w=n(4901),k=n(34),A=n(1291),C=n(8014),x=n(655),S=n(7750),s=n(7829),h=n(5966),g=n(2478),m=n(1034),b=n(6682),_=n(8227)("replace"),E=Math.max,R=Math.min,j=f([].concat),H=f([].push),G=f("".indexOf),q=f("".slice),K=function(D){return D===void 0?D:String(D)},ue="a".replace(/./,"$0")==="$0",te=!!/./[_]&&/./[_]("a","$0")==="";p("replace",function(D,J,Q){var ne=te?"$":"$0";return[function(ie,W){var V=S(this),se=k(ie)?h(ie,_):void 0;return se?d(se,ie,V,W):d(J,x(V),ie,W)},function(ie,W){var V=y(this),se=x(ie);if(typeof W=="string"&&G(W,ne)===-1&&G(W,"$<")===-1){var Ae=Q(J,V,se,W);if(Ae.done)return Ae.value}var Oe=w(W);Oe||(W=x(W));var je,De=x(m(V)),Se=G(De,"g")!==-1;Se&&(je=G(De,"u")!==-1,V.lastIndex=0);for(var de,Xe=[];(de=b(V,se))!==null&&(H(Xe,de),Se);)x(de[0])===""&&(V.lastIndex=s(se,C(V.lastIndex),je));for(var ht="",nt=0,lt=0;lt<Xe.length;lt++){for(var ot,ve=x((de=Xe[lt])[0]),pe=E(R(A(de.index),se.length),0),tt=[],xe=1;xe<de.length;xe++)H(tt,K(de[xe]));var Ce=de.groups;if(Oe){var Ue=j([ve],tt,pe,se);Ce!==void 0&&H(Ue,Ce),ot=x(c(W,void 0,Ue))}else ot=g(ve,se,pe,tt,Ce,W);pe>=nt&&(ht+=q(se,nt,pe)+ot,nt=pe+ve.length)}return ht+q(se,nt)}]},!!v(function(){var D=/./;return D.exec=function(){var J=[];return J.groups={a:"7"},J},"".replace(D,"$<a>")!=="7"})||!ue||te)},5506:function(o,u,n){"use strict";var c=n(6518),d=n(2357).entries;c({target:"Object",stat:!0},{entries:function(f){return d(f)}})},5548:function(o,u,n){"use strict";var c=n(3517),d=n(6823),f=TypeError;o.exports=function(p){if(c(p))return p;throw new f(d(p)+" is not a constructor")}},5610:function(o,u,n){"use strict";var c=n(1291),d=Math.max,f=Math.min;o.exports=function(p,v){var y=c(p);return y<0?d(y+v,0):f(y,v)}},5652:function(o,u,n){"use strict";var c=n(9039);o.exports=c(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},5700:function(o,u,n){"use strict";var c=n(511),d=n(8242);c("toPrimitive"),d()},5745:function(o,u,n){"use strict";var c=n(7629);o.exports=function(d,f){return c[d]||(c[d]=f||{})}},5746:function(o,u,n){"use strict";var c=n(9565),d=n(9228),f=n(8551),p=n(34),v=n(7750),y=n(3470),w=n(655),k=n(5966),A=n(6682);d("search",function(C,x,S){return[function(s){var h=v(this),g=p(s)?k(s,C):void 0;return g?c(g,s,h):new RegExp(s)[C](w(h))},function(s){var h=f(this),g=w(s),m=S(x,h,g);if(m.done)return m.value;var b=h.lastIndex;y(b,0)||(h.lastIndex=0);var _=A(h,g);return y(h.lastIndex,b)||(h.lastIndex=b),_===null?-1:_.index}]})},5914:function(o,u,n){"use strict";n(6518)({target:"Math",stat:!0},{sign:n(7782)})},5917:function(o,u,n){"use strict";var c=n(3724),d=n(9039),f=n(4055);o.exports=!c&&!d(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7})},5966:function(o,u,n){"use strict";var c=n(9306),d=n(4117);o.exports=function(f,p){var v=f[p];return d(v)?void 0:c(v)}},6033:function(o,u,n){"use strict";n(8523)},6034:function(o,u,n){"use strict";var c=n(6518),d=n(2357).values;c({target:"Object",stat:!0},{values:function(f){return d(f)}})},6043:function(o,u,n){"use strict";var c=n(9306),d=TypeError,f=function(p){var v,y;this.promise=new p(function(w,k){if(v!==void 0||y!==void 0)throw new d("Bad Promise constructor");v=w,y=k}),this.resolve=c(v),this.reject=c(y)};o.exports.f=function(p){return new f(p)}},6080:function(o,u,n){"use strict";var c=n(7476),d=n(9306),f=n(616),p=c(c.bind);o.exports=function(v,y){return d(v),y===void 0?v:f?p(v,y):function(){return v.apply(y,arguments)}}},6099:function(o,u,n){"use strict";var c=n(2140),d=n(6840),f=n(3179);c||d(Object.prototype,"toString",f,{unsafe:!0})},6119:function(o,u,n){"use strict";var c=n(5745),d=n(3392),f=c("keys");o.exports=function(p){return f[p]||(f[p]=d(p))}},6193:function(o,u,n){"use strict";var c=n(4215);o.exports=c==="NODE"},6198:function(o,u,n){"use strict";var c=n(8014);o.exports=function(d){return c(d.length)}},6269:function(o){"use strict";o.exports={}},6279:function(o,u,n){"use strict";var c=n(6840);o.exports=function(d,f,p){for(var v in f)c(d,v,f[v],p);return d}},6319:function(o,u,n){"use strict";var c=n(8551),d=n(9539);o.exports=function(f,p,v,y){try{return y?p(c(v)[0],v[1]):p(v)}catch(w){d(f,"throw",w)}}},6395:function(o){"use strict";o.exports=!1},6449:function(o,u,n){"use strict";var c=n(6518),d=n(259),f=n(8981),p=n(6198),v=n(1291),y=n(1469);c({target:"Array",proto:!0},{flat:function(){var w=arguments.length?arguments[0]:void 0,k=f(this),A=p(k),C=y(k,0);return C.length=d(C,k,k,A,0,w===void 0?1:v(w)),C}})},6468:function(o,u,n){"use strict";var c=n(6518),d=n(4576),f=n(9504),p=n(2796),v=n(6840),y=n(3451),w=n(2652),k=n(679),A=n(4901),C=n(4117),x=n(34),S=n(9039),s=n(4428),h=n(687),g=n(3167);o.exports=function(m,b,_){var E=m.indexOf("Map")!==-1,R=m.indexOf("Weak")!==-1,j=E?"set":"add",H=d[m],G=H&&H.prototype,q=H,K={},ue=function(ie){var W=f(G[ie]);v(G,ie,ie==="add"?function(V){return W(this,V===0?0:V),this}:ie==="delete"?function(V){return!(R&&!x(V))&&W(this,V===0?0:V)}:ie==="get"?function(V){return R&&!x(V)?void 0:W(this,V===0?0:V)}:ie==="has"?function(V){return!(R&&!x(V))&&W(this,V===0?0:V)}:function(V,se){return W(this,V===0?0:V,se),this})};if(p(m,!A(H)||!(R||G.forEach&&!S(function(){new H().entries().next()}))))q=_.getConstructor(b,m,E,j),y.enable();else if(p(m,!0)){var te=new q,D=te[j](R?{}:-0,1)!==te,J=S(function(){te.has(1)}),Q=s(function(ie){new H(ie)}),ne=!R&&S(function(){for(var ie=new H,W=5;W--;)ie[j](W,W);return!ie.has(-0)});Q||((q=b(function(ie,W){k(ie,G);var V=g(new H,ie,q);return C(W)||w(W,V[j],{that:V,AS_ENTRIES:E}),V})).prototype=G,G.constructor=q),(J||ne)&&(ue("delete"),ue("has"),E&&ue("get")),(ne||D)&&ue(j),R&&G.clear&&delete G.clear}return K[m]=q,c({global:!0,constructor:!0,forced:q!==H},K),h(q,m),R||_.setStrong(q,m,E),q}},6469:function(o,u,n){"use strict";var c=n(8227),d=n(2360),f=n(4913).f,p=c("unscopables"),v=Array.prototype;v[p]===void 0&&f(v,p,{configurable:!0,value:d(null)}),o.exports=function(y){v[p][y]=!0}},6499:function(o,u,n){"use strict";var c=n(6518),d=n(9565),f=n(9306),p=n(6043),v=n(1103),y=n(2652);c({target:"Promise",stat:!0,forced:n(537)},{all:function(w){var k=this,A=p.f(k),C=A.resolve,x=A.reject,S=v(function(){var s=f(k.resolve),h=[],g=0,m=1;y(w,function(b){var _=g++,E=!1;m++,d(s,k,b).then(function(R){E||(E=!0,h[_]=R,--m||C(h))},x)}),--m||C(h)});return S.error&&x(S.value),A.promise}})},6518:function(o,u,n){"use strict";var c=n(4576),d=n(7347).f,f=n(6699),p=n(6840),v=n(9433),y=n(7740),w=n(2796);o.exports=function(k,A){var C,x,S,s,h,g=k.target,m=k.global,b=k.stat;if(C=m?c:b?c[g]||v(g,{}):c[g]&&c[g].prototype)for(x in A){if(s=A[x],S=k.dontCallGetSet?(h=d(C,x))&&h.value:C[x],!w(m?x:g+(b?".":"#")+x,k.forced)&&S!==void 0){if(typeof s==typeof S)continue;y(s,S)}(k.sham||S&&S.sham)&&f(s,"sham",!0),p(C,x,s,k)}}},6575:function(o,u,n){"use strict";var c=n(9297);o.exports=function(d){return d!==void 0&&(c(d,"value")||c(d,"writable"))}},6681:function(o,u,n){"use strict";var c;function d(He,We,yt){return We=p(We),function(Ot,Ft){if(Ft&&(h(Ft)=="object"||typeof Ft=="function"))return Ft;if(Ft!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}(Ot)}(He,f()?Reflect.construct(We,yt||[],p(He).constructor):We.apply(He,yt))}function f(){try{var He=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(We){}return(f=function(){return!!He})()}function p(He){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)},p(He)}function v(He,We){if(typeof We!="function"&&We!==null)throw new TypeError("Super expression must either be null or a function");He.prototype=Object.create(We&&We.prototype,{constructor:{value:He,writable:!0,configurable:!0}}),Object.defineProperty(He,"prototype",{writable:!1}),We&&y(He,We)}function y(He,We){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(yt,Ot){return yt.__proto__=Ot,yt},y(He,We)}function w(He,We){var yt=typeof Symbol<"u"&&He[Symbol.iterator]||He["@@iterator"];if(!yt){if(Array.isArray(He)||(yt=k(He))||We&&He&&typeof He.length=="number"){yt&&(He=yt);var Ot=0,Ft=function(){};return{s:Ft,n:function(){return Ot>=He.length?{done:!0}:{done:!1,value:He[Ot++]}},e:function(Ze){throw Ze},f:Ft}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rt,oe=!0,Pe=!1;return{s:function(){yt=yt.call(He)},n:function(){var Ze=yt.next();return oe=Ze.done,Ze},e:function(Ze){Pe=!0,rt=Ze},f:function(){try{oe||yt.return==null||yt.return()}finally{if(Pe)throw rt}}}}function k(He,We){if(He){if(typeof He=="string")return A(He,We);var yt={}.toString.call(He).slice(8,-1);return yt==="Object"&&He.constructor&&(yt=He.constructor.name),yt==="Map"||yt==="Set"?Array.from(He):yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt)?A(He,We):void 0}}function A(He,We){(We==null||We>He.length)&&(We=He.length);for(var yt=0,Ot=Array(We);yt<We;yt++)Ot[yt]=He[yt];return Ot}function C(He,We){if(!(He instanceof We))throw new TypeError("Cannot call a class as a function")}function x(He,We){for(var yt=0;yt<We.length;yt++){var Ot=We[yt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(He,s(Ot.key),Ot)}}function S(He,We,yt){return We&&x(He.prototype,We),yt&&x(He,yt),Object.defineProperty(He,"prototype",{writable:!1}),He}function s(He){var We=function(yt){if(h(yt)!="object"||!yt)return yt;var Ot=yt[Symbol.toPrimitive];if(Ot!==void 0){var Ft=Ot.call(yt,"string");if(h(Ft)!="object")return Ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(yt)}(He);return h(We)=="symbol"?We:We+""}function h(He){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(We){return typeof We}:function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},h(He)}n.d(u,{JW:function(){return Oe},XX:function(){return mt},c0:function(){return je},ge:function(){return it},qy:function(){return Ae},s6:function(){return De}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3771),n(3418),n(3792),n(4782),n(9572),n(2010),n(8130),n(875),n(6099),n(825),n(4864),n(7495),n(8781),n(9449),n(7764),n(744),n(1392),n(3772),n(2953);var g=window,m=g.trustedTypes,b=m?m.createPolicy("lit-html",{createHTML:function(He){return He}}):void 0,_="$lit$",E="lit$".concat((Math.random()+"").slice(9),"$"),R="?"+E,j="<".concat(R,">"),H=document,G=function(){return H.createComment("")},q=function(He){return He===null||h(He)!="object"&&typeof He!="function"},K=Array.isArray,ue=function(He){return K(He)||typeof(He==null?void 0:He[Symbol.iterator])=="function"},te=`[ 	
\f\r]`,D=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,J=/-->/g,Q=/>/g,ne=RegExp(">|".concat(te,`(?:([^\\s"'>=/]+)(`).concat(te,"*=").concat(te,`*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`),"g"),ie=/'/g,W=/"/g,V=/^(?:script|style|textarea|title)$/i,se=function(He){return function(We){for(var yt=arguments.length,Ot=new Array(yt>1?yt-1:0),Ft=1;Ft<yt;Ft++)Ot[Ft-1]=arguments[Ft];return{_$litType$:He,strings:We,values:Ot}}},Ae=se(1),Oe=se(2),je=Symbol.for("lit-noChange"),De=Symbol.for("lit-nothing"),Se=new WeakMap,de=H.createTreeWalker(H,129,null,!1);function Xe(He,We){if(!Array.isArray(He)||!He.hasOwnProperty("raw"))throw Error("invalid template strings array");return b!==void 0?b.createHTML(We):We}var ht=function(He,We){for(var yt,Ot=He.length-1,Ft=[],rt=We===2?"<svg>":"",oe=D,Pe=0;Pe<Ot;Pe++){for(var Ze=He[Pe],Je=void 0,qe=void 0,M=-1,be=0;be<Ze.length&&(oe.lastIndex=be,(qe=oe.exec(Ze))!==null);)be=oe.lastIndex,oe===D?qe[1]==="!--"?oe=J:qe[1]!==void 0?oe=Q:qe[2]!==void 0?(V.test(qe[2])&&(yt=RegExp("</"+qe[2],"g")),oe=ne):qe[3]!==void 0&&(oe=ne):oe===ne?qe[0]===">"?(oe=yt!=null?yt:D,M=-1):qe[1]===void 0?M=-2:(M=oe.lastIndex-qe[2].length,Je=qe[1],oe=qe[3]===void 0?ne:qe[3]==='"'?W:ie):oe===W||oe===ie?oe=ne:oe===J||oe===Q?oe=D:(oe=ne,yt=void 0);var he=oe===ne&&He[Pe+1].startsWith("/>")?" ":"";rt+=oe===D?Ze+j:M>=0?(Ft.push(Je),Ze.slice(0,M)+_+Ze.slice(M)+E+he):Ze+E+(M===-2?(Ft.push(void 0),Pe):he)}return[Xe(He,rt+(He[Ot]||"<?>")+(We===2?"</svg>":"")),Ft]},nt=function(){return S(function He(We,yt){var Ot,Ft=We.strings,rt=We._$litType$;C(this,He),this.parts=[];var oe=0,Pe=0,Ze=Ft.length-1,Je=this.parts,qe=function(Ye,ut){return function(ft){if(Array.isArray(ft))return ft}(Ye)||function(ft,dt){var at=ft==null?null:typeof Symbol<"u"&&ft[Symbol.iterator]||ft["@@iterator"];if(at!=null){var Fe,pt,Ct,Nt,ke=[],It=!0,Dt=!1;try{if(Ct=(at=at.call(ft)).next,dt===0){if(Object(at)!==at)return;It=!1}else for(;!(It=(Fe=Ct.call(at)).done)&&(ke.push(Fe.value),ke.length!==dt);It=!0);}catch(Et){Dt=!0,pt=Et}finally{try{if(!It&&at.return!=null&&(Nt=at.return(),Object(Nt)!==Nt))return}finally{if(Dt)throw pt}}return ke}}(Ye,ut)||k(Ye,ut)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(ht(Ft,rt),2),M=qe[0],be=qe[1];if(this.el=He.createElement(M,yt),de.currentNode=this.el.content,rt===2){var he=this.el.content,Ge=he.firstChild;Ge.remove(),he.append.apply(he,function(Ye){return function(ut){if(Array.isArray(ut))return A(ut)}(Ye)||function(ut){if(typeof Symbol<"u"&&ut[Symbol.iterator]!=null||ut["@@iterator"]!=null)return Array.from(ut)}(Ye)||k(Ye)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(Ge.childNodes))}for(;(Ot=de.nextNode())!==null&&Je.length<Ze;){if(Ot.nodeType===1){if(Ot.hasAttributes()){var vt,kt=[],ce=w(Ot.getAttributeNames());try{for(ce.s();!(vt=ce.n()).done;){var _e=vt.value;if(_e.endsWith(_)||_e.startsWith(E)){var Re=be[Pe++];if(kt.push(_e),Re!==void 0){var st=Ot.getAttribute(Re.toLowerCase()+_).split(E),xt=/([.?@])?(.*)/.exec(Re);Je.push({type:1,index:oe,name:xt[2],strings:st,ctor:xt[1]==="."?tt:xt[1]==="?"?Ce:xt[1]==="@"?Ue:pe})}else Je.push({type:6,index:oe})}}}catch(Ye){ce.e(Ye)}finally{ce.f()}for(var Mt=0,Bt=kt;Mt<Bt.length;Mt++){var Rt=Bt[Mt];Ot.removeAttribute(Rt)}}if(V.test(Ot.tagName)){var qt=Ot.textContent.split(E),Be=qt.length-1;if(Be>0){Ot.textContent=m?m.emptyScript:"";for(var me=0;me<Be;me++)Ot.append(qt[me],G()),de.nextNode(),Je.push({type:2,index:++oe});Ot.append(qt[Be],G())}}}else if(Ot.nodeType===8)if(Ot.data===R)Je.push({type:2,index:oe});else for(var ze=-1;(ze=Ot.data.indexOf(E,ze+1))!==-1;)Je.push({type:7,index:oe}),ze+=E.length-1;oe++}},null,[{key:"createElement",value:function(He,We){var yt=H.createElement("template");return yt.innerHTML=He,yt}}])}();function lt(He,We){var yt,Ot,Ft,rt,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:He,Pe=arguments.length>3?arguments[3]:void 0;if(We===je)return We;var Ze=Pe!==void 0?(yt=oe._$Co)===null||yt===void 0?void 0:yt[Pe]:oe._$Cl,Je=q(We)?void 0:We._$litDirective$;return(Ze==null?void 0:Ze.constructor)!==Je&&((Ot=Ze==null?void 0:Ze._$AO)===null||Ot===void 0||Ot.call(Ze,!1),Je===void 0?Ze=void 0:(Ze=new Je(He))._$AT(He,oe,Pe),Pe!==void 0?((Ft=(rt=oe)._$Co)!==null&&Ft!==void 0?Ft:rt._$Co=[])[Pe]=Ze:oe._$Cl=Ze),Ze!==void 0&&(We=lt(He,Ze._$AS(He,We.values),Ze,Pe)),We}var ot=function(){return S(function He(We,yt){C(this,He),this._$AV=[],this._$AN=void 0,this._$AD=We,this._$AM=yt},[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(He){var We,yt=this._$AD,Ot=yt.el.content,Ft=yt.parts,rt=((We=He==null?void 0:He.creationScope)!==null&&We!==void 0?We:H).importNode(Ot,!0);de.currentNode=rt;for(var oe=de.nextNode(),Pe=0,Ze=0,Je=Ft[0];Je!==void 0;){if(Pe===Je.index){var qe=void 0;Je.type===2?qe=new ve(oe,oe.nextSibling,this,He):Je.type===1?qe=new Je.ctor(oe,Je.name,Je.strings,this,He):Je.type===6&&(qe=new Te(oe,this,He)),this._$AV.push(qe),Je=Ft[++Ze]}Pe!==(Je==null?void 0:Je.index)&&(oe=de.nextNode(),Pe++)}return de.currentNode=H,rt}},{key:"v",value:function(He){var We,yt=0,Ot=w(this._$AV);try{for(Ot.s();!(We=Ot.n()).done;){var Ft=We.value;Ft!==void 0&&(Ft.strings!==void 0?(Ft._$AI(He,Ft,yt),yt+=Ft.strings.length-2):Ft._$AI(He[yt])),yt++}}catch(rt){Ot.e(rt)}finally{Ot.f()}}}])}(),ve=function(){function He(We,yt,Ot,Ft){var rt;C(this,He),this.type=2,this._$AH=De,this._$AN=void 0,this._$AA=We,this._$AB=yt,this._$AM=Ot,this.options=Ft,this._$Cp=(rt=Ft==null?void 0:Ft.isConnected)===null||rt===void 0||rt}return S(He,[{key:"_$AU",get:function(){var We,yt;return(yt=(We=this._$AM)===null||We===void 0?void 0:We._$AU)!==null&&yt!==void 0?yt:this._$Cp}},{key:"parentNode",get:function(){var We=this._$AA.parentNode,yt=this._$AM;return yt!==void 0&&(We==null?void 0:We.nodeType)===11&&(We=yt.parentNode),We}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(We){We=lt(this,We,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),q(We)?We===De||We==null||We===""?(this._$AH!==De&&this._$AR(),this._$AH=De):We!==this._$AH&&We!==je&&this._(We):We._$litType$!==void 0?this.g(We):We.nodeType!==void 0?this.$(We):ue(We)?this.T(We):this._(We)}},{key:"k",value:function(We){return this._$AA.parentNode.insertBefore(We,this._$AB)}},{key:"$",value:function(We){this._$AH!==We&&(this._$AR(),this._$AH=this.k(We))}},{key:"_",value:function(We){this._$AH!==De&&q(this._$AH)?this._$AA.nextSibling.data=We:this.$(H.createTextNode(We)),this._$AH=We}},{key:"g",value:function(We){var yt,Ot=We.values,Ft=We._$litType$,rt=typeof Ft=="number"?this._$AC(We):(Ft.el===void 0&&(Ft.el=nt.createElement(Xe(Ft.h,Ft.h[0]),this.options)),Ft);if(((yt=this._$AH)===null||yt===void 0?void 0:yt._$AD)===rt)this._$AH.v(Ot);else{var oe=new ot(rt,this),Pe=oe.u(this.options);oe.v(Ot),this.$(Pe),this._$AH=oe}}},{key:"_$AC",value:function(We){var yt=Se.get(We.strings);return yt===void 0&&Se.set(We.strings,yt=new nt(We)),yt}},{key:"T",value:function(We){K(this._$AH)||(this._$AH=[],this._$AR());var yt,Ot,Ft=this._$AH,rt=0,oe=w(We);try{for(oe.s();!(Ot=oe.n()).done;){var Pe=Ot.value;rt===Ft.length?Ft.push(yt=new He(this.k(G()),this.k(G()),this,this.options)):yt=Ft[rt],yt._$AI(Pe),rt++}}catch(Ze){oe.e(Ze)}finally{oe.f()}rt<Ft.length&&(this._$AR(yt&&yt._$AB.nextSibling,rt),Ft.length=rt)}},{key:"_$AR",value:function(){var We,yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,Ot=arguments.length>1?arguments[1]:void 0;for((We=this._$AP)===null||We===void 0||We.call(this,!1,!0,Ot);yt&&yt!==this._$AB;){var Ft=yt.nextSibling;yt.remove(),yt=Ft}}},{key:"setConnected",value:function(We){var yt;this._$AM===void 0&&(this._$Cp=We,(yt=this._$AP)===null||yt===void 0||yt.call(this,We))}}])}(),pe=function(){return S(function He(We,yt,Ot,Ft,rt){C(this,He),this.type=1,this._$AH=De,this._$AN=void 0,this.element=We,this.name=yt,this._$AM=Ft,this.options=rt,Ot.length>2||Ot[0]!==""||Ot[1]!==""?(this._$AH=Array(Ot.length-1).fill(new String),this.strings=Ot):this._$AH=De},[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(He){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,yt=arguments.length>2?arguments[2]:void 0,Ot=arguments.length>3?arguments[3]:void 0,Ft=this.strings,rt=!1;if(Ft===void 0)He=lt(this,He,We,0),(rt=!q(He)||He!==this._$AH&&He!==je)&&(this._$AH=He);else{var oe,Pe,Ze=He;for(He=Ft[0],oe=0;oe<Ft.length-1;oe++)(Pe=lt(this,Ze[yt+oe],We,oe))===je&&(Pe=this._$AH[oe]),rt||(rt=!q(Pe)||Pe!==this._$AH[oe]),Pe===De?He=De:He!==De&&(He+=(Pe!=null?Pe:"")+Ft[oe+1]),this._$AH[oe]=Pe}rt&&!Ot&&this.j(He)}},{key:"j",value:function(He){He===De?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,He!=null?He:"")}}])}(),tt=function(He){function We(){var yt;return C(this,We),(yt=d(this,We,arguments)).type=3,yt}return v(We,He),S(We,[{key:"j",value:function(yt){this.element[this.name]=yt===De?void 0:yt}}])}(pe),xe=m?m.emptyScript:"",Ce=function(He){function We(){var yt;return C(this,We),(yt=d(this,We,arguments)).type=4,yt}return v(We,He),S(We,[{key:"j",value:function(yt){yt&&yt!==De?this.element.setAttribute(this.name,xe):this.element.removeAttribute(this.name)}}])}(pe),Ue=function(He){function We(yt,Ot,Ft,rt,oe){var Pe;return C(this,We),(Pe=d(this,We,[yt,Ot,Ft,rt,oe])).type=5,Pe}return v(We,He),S(We,[{key:"_$AI",value:function(yt){var Ot;if((yt=(Ot=lt(this,yt,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&Ot!==void 0?Ot:De)!==je){var Ft=this._$AH,rt=yt===De&&Ft!==De||yt.capture!==Ft.capture||yt.once!==Ft.once||yt.passive!==Ft.passive,oe=yt!==De&&(Ft===De||rt);rt&&this.element.removeEventListener(this.name,this,Ft),oe&&this.element.addEventListener(this.name,this,yt),this._$AH=yt}}},{key:"handleEvent",value:function(yt){var Ot,Ft;typeof this._$AH=="function"?this._$AH.call((Ft=(Ot=this.options)===null||Ot===void 0?void 0:Ot.host)!==null&&Ft!==void 0?Ft:this.element,yt):this._$AH.handleEvent(yt)}}])}(pe),Te=function(){return S(function He(We,yt,Ot){C(this,He),this.element=We,this.type=6,this._$AN=void 0,this._$AM=yt,this.options=Ot},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(He){lt(this,He)}}])}(),it={O:_,P:E,A:R,C:1,M:ht,L:ot,R:ue,D:lt,I:ve,V:pe,H:Ce,N:Ue,U:tt,F:Te},Me=g.litHtmlPolyfillSupport;Me==null||Me(nt,ve),((c=g.litHtmlVersions)!==null&&c!==void 0?c:g.litHtmlVersions=[]).push("2.8.0");var mt=function(He,We,yt){var Ot,Ft,rt=(Ot=yt==null?void 0:yt.renderBefore)!==null&&Ot!==void 0?Ot:We,oe=rt._$litPart$;if(oe===void 0){var Pe=(Ft=yt==null?void 0:yt.renderBefore)!==null&&Ft!==void 0?Ft:null;rt._$litPart$=oe=new ve(We.insertBefore(G(),Pe),Pe,void 0,yt!=null?yt:{})}return oe._$AI(He),oe}},6682:function(o,u,n){"use strict";var c=n(9565),d=n(8551),f=n(4901),p=n(2195),v=n(7323),y=TypeError;o.exports=function(w,k){var A=w.exec;if(f(A)){var C=c(A,w,k);return C!==null&&d(C),C}if(p(w)==="RegExp")return c(v,w,k);throw new y("RegExp#exec called on incompatible receiver")}},6699:function(o,u,n){"use strict";var c=n(3724),d=n(4913),f=n(6980);o.exports=c?function(p,v,y){return d.f(p,v,f(1,y))}:function(p,v,y){return p[v]=y,p}},6706:function(o,u,n){"use strict";var c=n(9504),d=n(9306);o.exports=function(f,p,v){try{return c(d(Object.getOwnPropertyDescriptor(f,p)[v]))}catch(y){}}},6761:function(o,u,n){"use strict";var c=n(6518),d=n(4576),f=n(9565),p=n(9504),v=n(6395),y=n(3724),w=n(4495),k=n(9039),A=n(9297),C=n(1625),x=n(8551),S=n(5397),s=n(6969),h=n(655),g=n(6980),m=n(2360),b=n(1072),_=n(8480),E=n(298),R=n(3717),j=n(7347),H=n(4913),G=n(6801),q=n(8773),K=n(6840),ue=n(2106),te=n(5745),D=n(6119),J=n(421),Q=n(3392),ne=n(8227),ie=n(1951),W=n(511),V=n(8242),se=n(687),Ae=n(1181),Oe=n(9213).forEach,je=D("hidden"),De="Symbol",Se="prototype",de=Ae.set,Xe=Ae.getterFor(De),ht=Object[Se],nt=d.Symbol,lt=nt&&nt[Se],ot=d.RangeError,ve=d.TypeError,pe=d.QObject,tt=j.f,xe=H.f,Ce=E.f,Ue=q.f,Te=p([].push),it=te("symbols"),Me=te("op-symbols"),mt=te("wks"),He=!pe||!pe[Se]||!pe[Se].findChild,We=function(qe,M,be){var he=tt(ht,M);he&&delete ht[M],xe(qe,M,be),he&&qe!==ht&&xe(ht,M,he)},yt=y&&k(function(){return m(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!==7})?We:xe,Ot=function(qe,M){var be=it[qe]=m(lt);return de(be,{type:De,tag:qe,description:M}),y||(be.description=M),be},Ft=function(qe,M,be){qe===ht&&Ft(Me,M,be),x(qe);var he=s(M);return x(be),A(it,he)?(be.enumerable?(A(qe,je)&&qe[je][he]&&(qe[je][he]=!1),be=m(be,{enumerable:g(0,!1)})):(A(qe,je)||xe(qe,je,g(1,m(null))),qe[je][he]=!0),yt(qe,he,be)):xe(qe,he,be)},rt=function(qe,M){x(qe);var be=S(M),he=b(be).concat(Je(be));return Oe(he,function(Ge){y&&!f(oe,be,Ge)||Ft(qe,Ge,be[Ge])}),qe},oe=function(qe){var M=s(qe),be=f(Ue,this,M);return!(this===ht&&A(it,M)&&!A(Me,M))&&(!(be||!A(this,M)||!A(it,M)||A(this,je)&&this[je][M])||be)},Pe=function(qe,M){var be=S(qe),he=s(M);if(be!==ht||!A(it,he)||A(Me,he)){var Ge=tt(be,he);return!Ge||!A(it,he)||A(be,je)&&be[je][he]||(Ge.enumerable=!0),Ge}},Ze=function(qe){var M=Ce(S(qe)),be=[];return Oe(M,function(he){A(it,he)||A(J,he)||Te(be,he)}),be},Je=function(qe){var M=qe===ht,be=Ce(M?Me:S(qe)),he=[];return Oe(be,function(Ge){!A(it,Ge)||M&&!A(ht,Ge)||Te(he,it[Ge])}),he};w||(nt=function(){if(C(lt,this))throw new ve("Symbol is not a constructor");var qe=arguments.length&&arguments[0]!==void 0?h(arguments[0]):void 0,M=Q(qe),be=function(he){var Ge=this===void 0?d:this;Ge===ht&&f(be,Me,he),A(Ge,je)&&A(Ge[je],M)&&(Ge[je][M]=!1);var vt=g(1,he);try{yt(Ge,M,vt)}catch(kt){if(!(kt instanceof ot))throw kt;We(Ge,M,vt)}};return y&&He&&yt(ht,M,{configurable:!0,set:be}),Ot(M,qe)},K(lt=nt[Se],"toString",function(){return Xe(this).tag}),K(nt,"withoutSetter",function(qe){return Ot(Q(qe),qe)}),q.f=oe,H.f=Ft,G.f=rt,j.f=Pe,_.f=E.f=Ze,R.f=Je,ie.f=function(qe){return Ot(ne(qe),qe)},y&&(ue(lt,"description",{configurable:!0,get:function(){return Xe(this).description}}),v||K(ht,"propertyIsEnumerable",oe,{unsafe:!0}))),c({global:!0,constructor:!0,wrap:!0,forced:!w,sham:!w},{Symbol:nt}),Oe(b(mt),function(qe){W(qe)}),c({target:De,stat:!0,forced:!w},{useSetter:function(){He=!0},useSimple:function(){He=!1}}),c({target:"Object",stat:!0,forced:!w,sham:!y},{create:function(qe,M){return M===void 0?m(qe):rt(m(qe),M)},defineProperty:Ft,defineProperties:rt,getOwnPropertyDescriptor:Pe}),c({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:Ze}),V(),se(nt,De),J[je]=!0},6801:function(o,u,n){"use strict";var c=n(3724),d=n(8686),f=n(4913),p=n(8551),v=n(5397),y=n(1072);u.f=c&&!d?Object.defineProperties:function(w,k){p(w);for(var A,C=v(k),x=y(k),S=x.length,s=0;S>s;)f.f(w,A=x[s++],C[A]);return w}},6823:function(o){"use strict";var u=String;o.exports=function(n){try{return u(n)}catch(c){return"Object"}}},6837:function(o){"use strict";var u=TypeError;o.exports=function(n){if(n>9007199254740991)throw u("Maximum allowed index exceeded");return n}},6840:function(o,u,n){"use strict";var c=n(4901),d=n(4913),f=n(283),p=n(9433);o.exports=function(v,y,w,k){k||(k={});var A=k.enumerable,C=k.name!==void 0?k.name:y;if(c(w)&&f(w,C,k),k.global)A?v[y]=w:p(y,w);else{try{k.unsafe?v[y]&&(A=!0):delete v[y]}catch(x){}A?v[y]=w:d.f(v,y,{value:w,enumerable:!1,configurable:!k.nonConfigurable,writable:!k.nonWritable})}return v}},6883:function(o,u,n){var c,d,f;d=[n(1669)],(f=typeof(c=function(p){return p.ui=p.ui||{},p.ui.version="1.12.1"})=="function"?c.apply(u,d):c)===void 0||(o.exports=f)},6910:function(o,u,n){"use strict";var c=n(6518),d=n(9504),f=n(9306),p=n(8981),v=n(6198),y=n(4606),w=n(655),k=n(9039),A=n(4488),C=n(4598),x=n(3709),S=n(3763),s=n(9519),h=n(3607),g=[],m=d(g.sort),b=d(g.push),_=k(function(){g.sort(void 0)}),E=k(function(){g.sort(null)}),R=C("sort"),j=!k(function(){if(s)return s<70;if(!(x&&x>3)){if(S)return!0;if(h)return h<603;var H,G,q,K,ue="";for(H=65;H<76;H++){switch(G=String.fromCharCode(H),H){case 66:case 69:case 70:case 72:q=3;break;case 68:case 71:q=4;break;default:q=2}for(K=0;K<47;K++)g.push({k:G+K,v:q})}for(g.sort(function(te,D){return D.v-te.v}),K=0;K<g.length;K++)G=g[K].k.charAt(0),ue.charAt(ue.length-1)!==G&&(ue+=G);return ue!=="DGBEFHACIJK"}});c({target:"Array",proto:!0,forced:_||!E||!R||!j},{sort:function(H){H!==void 0&&f(H);var G=p(this);if(j)return H===void 0?m(G):m(G,H);var q,K,ue=[],te=v(G);for(K=0;K<te;K++)K in G&&b(ue,G[K]);for(A(ue,function(D){return function(J,Q){return Q===void 0?-1:J===void 0?1:D!==void 0?+D(J,Q)||0:w(J)>w(Q)?1:-1}}(H)),q=v(ue),K=0;K<q;)G[K]=ue[K++];for(;K<te;)y(G,K++);return G}})},6933:function(o,u,n){"use strict";var c=n(9504),d=n(4376),f=n(4901),p=n(2195),v=n(655),y=c([].push);o.exports=function(w){if(f(w))return w;if(d(w)){for(var k=w.length,A=[],C=0;C<k;C++){var x=w[C];typeof x=="string"?y(A,x):typeof x!="number"&&p(x)!=="Number"&&p(x)!=="String"||y(A,v(x))}var S=A.length,s=!0;return function(h,g){if(s)return s=!1,g;if(d(this))return g;for(var m=0;m<S;m++)if(A[m]===h)return g}}}},6938:function(o,u,n){"use strict";var c=n(2360),d=n(2106),f=n(6279),p=n(6080),v=n(679),y=n(4117),w=n(2652),k=n(1088),A=n(2529),C=n(7633),x=n(3724),S=n(3451).fastKey,s=n(1181),h=s.set,g=s.getterFor;o.exports={getConstructor:function(m,b,_,E){var R=m(function(K,ue){v(K,j),h(K,{type:b,index:c(null),first:null,last:null,size:0}),x||(K.size=0),y(ue)||w(ue,K[E],{that:K,AS_ENTRIES:_})}),j=R.prototype,H=g(b),G=function(K,ue,te){var D,J,Q=H(K),ne=q(K,ue);return ne?ne.value=te:(Q.last=ne={index:J=S(ue,!0),key:ue,value:te,previous:D=Q.last,next:null,removed:!1},Q.first||(Q.first=ne),D&&(D.next=ne),x?Q.size++:K.size++,J!=="F"&&(Q.index[J]=ne)),K},q=function(K,ue){var te,D=H(K),J=S(ue);if(J!=="F")return D.index[J];for(te=D.first;te;te=te.next)if(te.key===ue)return te};return f(j,{clear:function(){for(var K=H(this),ue=K.first;ue;)ue.removed=!0,ue.previous&&(ue.previous=ue.previous.next=null),ue=ue.next;K.first=K.last=null,K.index=c(null),x?K.size=0:this.size=0},delete:function(K){var ue=this,te=H(ue),D=q(ue,K);if(D){var J=D.next,Q=D.previous;delete te.index[D.index],D.removed=!0,Q&&(Q.next=J),J&&(J.previous=Q),te.first===D&&(te.first=J),te.last===D&&(te.last=Q),x?te.size--:ue.size--}return!!D},forEach:function(K){for(var ue,te=H(this),D=p(K,arguments.length>1?arguments[1]:void 0);ue=ue?ue.next:te.first;)for(D(ue.value,ue.key,this);ue&&ue.removed;)ue=ue.previous},has:function(K){return!!q(this,K)}}),f(j,_?{get:function(K){var ue=q(this,K);return ue&&ue.value},set:function(K,ue){return G(this,K===0?0:K,ue)}}:{add:function(K){return G(this,K=K===0?0:K,K)}}),x&&d(j,"size",{configurable:!0,get:function(){return H(this).size}}),R},setStrong:function(m,b,_){var E=b+" Iterator",R=g(b),j=g(E);k(m,b,function(H,G){h(this,{type:E,target:H,state:R(H),kind:G,last:null})},function(){for(var H=j(this),G=H.kind,q=H.last;q&&q.removed;)q=q.previous;return H.target&&(H.last=q=q?q.next:H.state.first)?A(G==="keys"?q.key:G==="values"?q.value:[q.key,q.value],!1):(H.target=null,A(void 0,!0))},_?"entries":"values",!_,!0),C(b)}}},6955:function(o,u,n){"use strict";var c=n(2140),d=n(4901),f=n(2195),p=n(8227)("toStringTag"),v=Object,y=f(function(){return arguments}())==="Arguments";o.exports=c?f:function(w){var k,A,C;return w===void 0?"Undefined":w===null?"Null":typeof(A=function(x,S){try{return x[S]}catch(s){}}(k=v(w),p))=="string"?A:y?f(k):(C=f(k))==="Object"&&d(k.callee)?"Arguments":C}},6969:function(o,u,n){"use strict";var c=n(2777),d=n(757);o.exports=function(f){var p=c(f,"string");return d(p)?p:p+""}},6980:function(o){"use strict";o.exports=function(u,n){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:n}}},7040:function(o,u,n){"use strict";var c=n(4495);o.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},7055:function(o,u,n){"use strict";var c=n(9504),d=n(9039),f=n(2195),p=Object,v=c("".split);o.exports=d(function(){return!p("z").propertyIsEnumerable(0)})?function(y){return f(y)==="String"?v(y,""):p(y)}:p},7323:function(o,u,n){"use strict";var c,d,f=n(9565),p=n(9504),v=n(655),y=n(7979),w=n(8429),k=n(5745),A=n(2360),C=n(1181).get,x=n(3635),S=n(8814),s=k("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,g=h,m=p("".charAt),b=p("".indexOf),_=p("".replace),E=p("".slice),R=(d=/b*/g,f(h,c=/a/,"a"),f(h,d,"a"),c.lastIndex!==0||d.lastIndex!==0),j=w.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(R||H||j||x||S)&&(g=function(G){var q,K,ue,te,D,J,Q,ne=this,ie=C(ne),W=v(G),V=ie.raw;if(V)return V.lastIndex=ne.lastIndex,q=f(g,V,W),ne.lastIndex=V.lastIndex,q;var se=ie.groups,Ae=j&&ne.sticky,Oe=f(y,ne),je=ne.source,De=0,Se=W;if(Ae&&(Oe=_(Oe,"y",""),b(Oe,"g")===-1&&(Oe+="g"),Se=E(W,ne.lastIndex),ne.lastIndex>0&&(!ne.multiline||ne.multiline&&m(W,ne.lastIndex-1)!==`
`)&&(je="(?: "+je+")",Se=" "+Se,De++),K=new RegExp("^(?:"+je+")",Oe)),H&&(K=new RegExp("^"+je+"$(?!\\s)",Oe)),R&&(ue=ne.lastIndex),te=f(h,Ae?K:ne,Se),Ae?te?(te.input=E(te.input,De),te[0]=E(te[0],De),te.index=ne.lastIndex,ne.lastIndex+=te[0].length):ne.lastIndex=0:R&&te&&(ne.lastIndex=ne.global?te.index+te[0].length:ue),H&&te&&te.length>1&&f(s,te[0],K,function(){for(D=1;D<arguments.length-2;D++)arguments[D]===void 0&&(te[D]=void 0)}),te&&se)for(te.groups=J=A(null),D=0;D<se.length;D++)J[(Q=se[D])[0]]=te[Q[1]];return te}),o.exports=g},7337:function(o,u,n){"use strict";var c=n(6518),d=n(9504),f=n(5610),p=RangeError,v=String.fromCharCode,y=String.fromCodePoint,w=d([].join);c({target:"String",stat:!0,arity:1,forced:!!y&&y.length!==1},{fromCodePoint:function(k){for(var A,C=[],x=arguments.length,S=0;x>S;){if(A=+arguments[S++],f(A,1114111)!==A)throw new p(A+" is not a valid code point");C[S]=A<65536?v(A):v(55296+((A-=65536)>>10),A%1024+56320)}return w(C,"")}})},7347:function(o,u,n){"use strict";var c=n(3724),d=n(9565),f=n(8773),p=n(6980),v=n(5397),y=n(6969),w=n(9297),k=n(5917),A=Object.getOwnPropertyDescriptor;u.f=c?A:function(C,x){if(C=v(C),x=y(x),k)try{return A(C,x)}catch(S){}if(w(C,x))return p(!d(f.f,C,x),C[x])}},7400:function(o){"use strict";o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7416:function(o,u,n){"use strict";var c=n(9039),d=n(8227),f=n(3724),p=n(6395),v=d("iterator");o.exports=!c(function(){var y=new URL("b?a=1&b=2&c=3","https://a"),w=y.searchParams,k=new URLSearchParams("a=1&a=2&b=3"),A="";return y.pathname="c%20d",w.forEach(function(C,x){w.delete("b"),A+=x+C}),k.delete("a",2),k.delete("b",void 0),p&&(!y.toJSON||!k.has("a",1)||k.has("a",2)||!k.has("a",void 0)||k.has("b"))||!w.size&&(p||!f)||!w.sort||y.href!=="https://a/c%20d?a=1&c=3"||w.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!w[v]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||A!=="a1c3"||new URL("https://x",void 0).host!=="x"})},7433:function(o,u,n){"use strict";var c=n(4376),d=n(3517),f=n(34),p=n(8227)("species"),v=Array;o.exports=function(y){var w;return c(y)&&(w=y.constructor,(d(w)&&(w===v||c(w.prototype))||f(w)&&(w=w[p])===null)&&(w=void 0)),w===void 0?v:w}},7452:function(o){"use strict";o.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},7476:function(o,u,n){"use strict";var c=n(2195),d=n(9504);o.exports=function(f){if(c(f)==="Function")return d(f)}},7495:function(o,u,n){"use strict";var c=n(6518),d=n(7323);c({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},7583:function(o,u,n){"use strict";function c(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:navigator.vendor;return/chrome/i.test(v)&&/google inc/i.test(y)&&!function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/chrome/i.test(w)&&/\bEdg(e|A|iOS)?\b/i.test(w)}(v)}function d(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/firefox/i.test(v)}function f(){return"ongesturestart"in window&&navigator.maxTouchPoints>0}function p(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/SamsungBrowser/i.test(v)}n.d(u,{H8:function(){return c},gm:function(){return d},ij:function(){return p},un:function(){return f}}),n(7495)},7629:function(o,u,n){"use strict";var c=n(6395),d=n(4576),f=n(9433),p="__core-js_shared__",v=o.exports=d[p]||f(p,{});(v.versions||(v.versions=[])).push({version:"3.46.0",mode:c?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7633:function(o,u,n){"use strict";var c=n(7751),d=n(2106),f=n(8227),p=n(3724),v=f("species");o.exports=function(y){var w=c(y);p&&w&&!w[v]&&d(w,v,{configurable:!0,get:function(){return this}})}},7657:function(o,u,n){"use strict";var c,d,f,p=n(9039),v=n(4901),y=n(34),w=n(2360),k=n(2787),A=n(6840),C=n(8227),x=n(6395),S=C("iterator"),s=!1;[].keys&&("next"in(f=[].keys())?(d=k(k(f)))!==Object.prototype&&(c=d):s=!0),!y(c)||p(function(){var h={};return c[S].call(h)!==h})?c={}:x&&(c=w(c)),v(c[S])||A(c,S,function(){return this}),o.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:s}},7680:function(o,u,n){"use strict";var c=n(9504);o.exports=c([].slice)},7740:function(o,u,n){"use strict";var c=n(9297),d=n(5031),f=n(7347),p=n(4913);o.exports=function(v,y,w){for(var k=d(y),A=p.f,C=f.f,x=0;x<k.length;x++){var S=k[x];c(v,S)||w&&c(w,S)||A(v,S,C(y,S))}}},7743:function(o,u,n){"use strict";var c=n(6518),d=n(9565),f=n(9306),p=n(6043),v=n(1103),y=n(2652);c({target:"Promise",stat:!0,forced:n(537)},{race:function(w){var k=this,A=p.f(k),C=A.reject,x=v(function(){var S=f(k.resolve);y(w,function(s){d(S,k,s).then(A.resolve,C)})});return x.error&&C(x.value),A.promise}})},7750:function(o,u,n){"use strict";var c=n(4117),d=TypeError;o.exports=function(f){if(c(f))throw new d("Can't call method on "+f);return f}},7751:function(o,u,n){"use strict";var c=n(4576),d=n(4901);o.exports=function(f,p){return arguments.length<2?(v=c[f],d(v)?v:void 0):c[f]&&c[f][p];var v}},7764:function(o,u,n){"use strict";var c=n(8183).charAt,d=n(655),f=n(1181),p=n(1088),v=n(2529),y="String Iterator",w=f.set,k=f.getterFor(y);p(String,"String",function(A){w(this,{type:y,string:d(A),index:0})},function(){var A,C=k(this),x=C.string,S=C.index;return S>=x.length?v(void 0,!0):(A=c(x,S),C.index+=A.length,v(A,!1))})},7782:function(o){"use strict";o.exports=Math.sign||function(u){var n=+u;return n===0||n!=n?n:n<0?-1:1}},7787:function(o){"use strict";var u=Math.log,n=Math.LN2;o.exports=Math.log2||function(c){return u(c)/n}},7812:function(o,u,n){"use strict";var c=n(6518),d=n(9297),f=n(757),p=n(6823),v=n(5745),y=n(1296),w=v("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!y},{keyFor:function(k){if(!f(k))throw new TypeError(p(k)+" is not a symbol");if(d(w,k))return w[k]}})},7829:function(o,u,n){"use strict";var c=n(8183).charAt;o.exports=function(d,f,p){return f+(p?c(d,f).length:1)}},7860:function(o,u,n){"use strict";var c=n(2839);o.exports=/web0s(?!.*chrome)/i.test(c)},7916:function(o,u,n){"use strict";var c=n(6080),d=n(9565),f=n(8981),p=n(6319),v=n(4209),y=n(3517),w=n(6198),k=n(4659),A=n(81),C=n(851),x=Array;o.exports=function(S){var s=f(S),h=y(this),g=arguments.length,m=g>1?arguments[1]:void 0,b=m!==void 0;b&&(m=c(m,g>2?arguments[2]:void 0));var _,E,R,j,H,G,q=C(s),K=0;if(!q||this===x&&v(q))for(_=w(s),E=h?new this(_):x(_);_>K;K++)G=b?m(s[K],K):s[K],k(E,K,G);else for(E=h?new this:[],H=(j=A(s,q)).next;!(R=d(H,j)).done;K++)G=b?p(j,m,[R.value,K],!0):R.value,k(E,K,G);return E.length=K,E}},7979:function(o,u,n){"use strict";var c=n(8551);o.exports=function(){var d=c(this),f="";return d.hasIndices&&(f+="d"),d.global&&(f+="g"),d.ignoreCase&&(f+="i"),d.multiline&&(f+="m"),d.dotAll&&(f+="s"),d.unicode&&(f+="u"),d.unicodeSets&&(f+="v"),d.sticky&&(f+="y"),f}},8004:function(o,u,n){"use strict";function c(){var W,V,se=typeof Symbol=="function"?Symbol:{},Ae=se.iterator||"@@iterator",Oe=se.toStringTag||"@@toStringTag";function je(ot,ve,pe,tt){var xe=ve&&ve.prototype instanceof Se?ve:Se,Ce=Object.create(xe.prototype);return d(Ce,"_invoke",function(Ue,Te,it){var Me,mt,He,We=0,yt=it||[],Ot=!1,Ft={p:0,n:0,v:W,a:rt,f:rt.bind(W,4),d:function(oe,Pe){return Me=oe,mt=0,He=W,Ft.n=Pe,De}};function rt(oe,Pe){for(mt=oe,He=Pe,V=0;!Ot&&We&&!Ze&&V<yt.length;V++){var Ze,Je=yt[V],qe=Ft.p,M=Je[2];oe>3?(Ze=M===Pe)&&(He=Je[(mt=Je[4])?5:(mt=3,3)],Je[4]=Je[5]=W):Je[0]<=qe&&((Ze=oe<2&&qe<Je[1])?(mt=0,Ft.v=Pe,Ft.n=Je[1]):qe<M&&(Ze=oe<3||Je[0]>Pe||Pe>M)&&(Je[4]=oe,Je[5]=Pe,Ft.n=M,mt=0))}if(Ze||oe>1)return De;throw Ot=!0,Pe}return function(oe,Pe,Ze){if(We>1)throw TypeError("Generator is already running");for(Ot&&Pe===1&&rt(Pe,Ze),mt=Pe,He=Ze;(V=mt<2?W:He)||!Ot;){Me||(mt?mt<3?(mt>1&&(Ft.n=-1),rt(mt,He)):Ft.n=He:Ft.v=He);try{if(We=2,Me){if(mt||(oe="next"),V=Me[oe]){if(!(V=V.call(Me,He)))throw TypeError("iterator result is not an object");if(!V.done)return V;He=V.value,mt<2&&(mt=0)}else mt===1&&(V=Me.return)&&V.call(Me),mt<2&&(He=TypeError("The iterator does not provide a '"+oe+"' method"),mt=1);Me=W}else if((V=(Ot=Ft.n<0)?He:Ue.call(Te,Ft))!==De)break}catch(Je){Me=W,mt=1,He=Je}finally{We=1}}return{value:V,done:Ot}}}(ot,pe,tt),!0),Ce}var De={};function Se(){}function de(){}function Xe(){}V=Object.getPrototypeOf;var ht=[][Ae]?V(V([][Ae]())):(d(V={},Ae,function(){return this}),V),nt=Xe.prototype=Se.prototype=Object.create(ht);function lt(ot){return Object.setPrototypeOf?Object.setPrototypeOf(ot,Xe):(ot.__proto__=Xe,d(ot,Oe,"GeneratorFunction")),ot.prototype=Object.create(nt),ot}return de.prototype=Xe,d(nt,"constructor",Xe),d(Xe,"constructor",de),de.displayName="GeneratorFunction",d(Xe,Oe,"GeneratorFunction"),d(nt),d(nt,Oe,"Generator"),d(nt,Ae,function(){return this}),d(nt,"toString",function(){return"[object Generator]"}),(c=function(){return{w:je,m:lt}})()}function d(W,V,se,Ae){var Oe=Object.defineProperty;try{Oe({},"",{})}catch(je){Oe=0}d=function(je,De,Se,de){function Xe(ht,nt){d(je,ht,function(lt){return this._invoke(ht,nt,lt)})}De?Oe?Oe(je,De,{value:Se,enumerable:!de,configurable:!de,writable:!de}):je[De]=Se:(Xe("next",0),Xe("throw",1),Xe("return",2))},d(W,V,se,Ae)}function f(W,V,se,Ae,Oe,je,De){try{var Se=W[je](De),de=Se.value}catch(Xe){return void se(Xe)}Se.done?V(de):Promise.resolve(de).then(Ae,Oe)}function p(W){return function(){var V=this,se=arguments;return new Promise(function(Ae,Oe){var je=W.apply(V,se);function De(de){f(je,Ae,Oe,De,Se,"next",de)}function Se(de){f(je,Ae,Oe,De,Se,"throw",de)}De(void 0)})}}function v(W,V){(V==null||V>W.length)&&(V=W.length);for(var se=0,Ae=Array(V);se<V;se++)Ae[se]=W[se];return Ae}function y(W){W.bind("mousedown",function(){return!1}),W[0].onselectstart=function(){return!1}}function w(W,V,se){return Math.min(Math.max(W,V),se)}function k(W,V){return W/V*100+"%"}function A(W,V){return!V.includes(W)}function C(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,V=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],se=W.activeElement;return V&&se!=null&&se.shadowRoot?C(se.shadowRoot,!0):se}function x(){var W=C(arguments.length>0&&arguments[0]!==void 0?arguments[0]:document);return(W==null?void 0:W.tagName)=="INPUT"||(W==null?void 0:W.tagName)=="TEXTAREA"}function S(W){var V=W.contentWindow||W.contentDocument;return V.document||V}function s(W){return W.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function h(W){return decodeURIComponent(W).replace(/\+/g," ")}function g(W){return encodeURIComponent(W).replace(/%20/g,"+")}function m(W,V,se){var Ae;return function(){var Oe=this,je=arguments,De=se&&!Ae;clearTimeout(Ae),Ae=setTimeout(function(){Ae=null,se||W.apply(Oe,je)},V),De&&W.apply(Oe,je)}}function b(W,V,se){var Ae,Oe;return V||(V=250),se&&(Ae=+new Date),function(){var je=this,De=+new Date,Se=arguments;Ae&&De<Ae+V?(clearTimeout(Oe),Oe=setTimeout(function(){Ae=De,W.apply(je,Se)},V)):(Ae=De,W.apply(je,Se))}}function _(W){if(typeof W.CustomEvent=="function")return!1;W.CustomEvent=E}function E(W){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=V.bubbles,Ae=se!==void 0&&se,Oe=V.cancelable,je=Oe!==void 0&&Oe,De=V.detail,Se=De===void 0?null:De,de=document.createEvent("CustomEvent");return de.initCustomEvent(W,Ae,je,Se),de}function R(){var W=document.createElement("div");W.style.width="1in",document.body.appendChild(W);var V=W.offsetWidth;document.body.removeChild(W);var se=1.25*V;return se==0?100:se}function j(W){return W.reduce(function(V,se){return V+se},0)}function H(W){var V,se=[],Ae=function(je,De){var Se=typeof Symbol<"u"&&je[Symbol.iterator]||je["@@iterator"];if(!Se){if(Array.isArray(je)||(Se=function(ot,ve){if(ot){if(typeof ot=="string")return v(ot,ve);var pe={}.toString.call(ot).slice(8,-1);return pe==="Object"&&ot.constructor&&(pe=ot.constructor.name),pe==="Map"||pe==="Set"?Array.from(ot):pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe)?v(ot,ve):void 0}}(je))||De&&je&&typeof je.length=="number"){Se&&(je=Se);var de=0,Xe=function(){};return{s:Xe,n:function(){return de>=je.length?{done:!0}:{done:!1,value:je[de++]}},e:function(ot){throw ot},f:Xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ht,nt=!0,lt=!1;return{s:function(){Se=Se.call(je)},n:function(){var ot=Se.next();return nt=ot.done,ot},e:function(ot){lt=!0,ht=ot},f:function(){try{nt||Se.return==null||Se.return()}finally{if(lt)throw ht}}}}(W);try{for(Ae.s();!(V=Ae.n()).done;){var Oe=V.value;se.push(Oe)}}catch(je){Ae.e(je)}finally{Ae.f()}return se}function G(W,V){return W.length==V.length&&W.every(function(se,Ae){return se==V[Ae]})}function q(W,V){return W&&V&&!G(W,V)}function K(W){return ue.apply(this,arguments)}function ue(){return(ue=p(c().m(function W(V){return c().w(function(se){for(;;)if(se.n===0)return se.a(2,new Promise(function(Ae){return setTimeout(Ae,V)}))},W)}))).apply(this,arguments)}function te(W){return D.apply(this,arguments)}function D(){return D=p(c().m(function W(V){var se,Ae,Oe,je,De,Se,de,Xe,ht,nt,lt,ot=arguments;return c().w(function(ve){for(;;)switch(ve.n){case 0:Ae=(se=ot.length>1&&ot[1]!==void 0?ot[1]:{}).step,Oe=Ae===void 0?50:Ae,je=se.timeout,De=je===void 0?500:je,Se=se.until,de=Se===void 0?function(pe){return!!pe}:Se,Xe=se._sleep,ht=Xe===void 0?K:Xe,nt=Date.now();case 1:if(!(Date.now()-nt<De)){ve.n=4;break}if(lt=V(),!de(lt)){ve.n=2;break}return ve.a(2,lt);case 2:return ve.n=3,ht(Oe);case 3:ve.n=1;break;case 4:return ve.a(2)}},W)})),D.apply(this,arguments)}function J(W,V){return new Promise(function(se){var Ae=function(Oe){W.removeEventListener(V,Ae),se(Oe)};W.addEventListener(V,Ae)})}function Q(W){return W.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ne(W){return W==="slow"?600:W==="fast"?200:parseInt(W,10)}function ie(W,V){return W.sort(function(se,Ae){var Oe=V?V(se):se,je=V?V(Ae):Ae;return Oe<je?-1:Oe>je?1:0})}n.r(u),n.d(u,{PolyfilledCustomEvent:function(){return E},arrChanged:function(){return q},arrEquals:function(){return G},calcScreenDPI:function(){return R},clamp:function(){return w},cssPercentage:function(){return k},debounce:function(){return m},decodeURIComponentPlus:function(){return h},disableSelect:function(){return y},encodeURIComponentPlus:function(){return g},escapeHTML:function(){return s},escapeRegExp:function(){return Q},genToArray:function(){return H},getActiveElement:function(){return C},getIFrameDocument:function(){return S},isInputActive:function(){return x},notInArray:function(){return A},parseAnimationSpeed:function(){return ne},poll:function(){return te},polyfillCustomEvent:function(){return _},promisifyEvent:function(){return J},sleep:function(){return K},sortBy:function(){return ie},sum:function(){return j},throttle:function(){return b}}),n(2675),n(9463),n(2259),n(3418),n(4423),n(3792),n(2712),n(4782),n(6910),n(2010),n(875),n(6099),n(8940),n(3362),n(7495),n(8781),n(1699),n(7764),n(5440),n(2953)},8014:function(o,u,n){"use strict";var c=n(1291),d=Math.min;o.exports=function(f){var p=c(f);return p>0?d(p,9007199254740991):0}},8045:function(o,u,n){var c,d,f;d=[n(1669),n(6883)],(f=typeof(c=function(p){return p.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})=="function"?c.apply(u,d):c)===void 0||(o.exports=f)},8125:function(o,u,n){"use strict";var c=n(7751),d=n(511),f=n(687);d("toStringTag"),f(c("Symbol"),"Symbol")},8130:function(o,u,n){"use strict";var c=n(6518),d=n(6395),f=n(3724),p=n(4576),v=n(9167),y=n(9504),w=n(2796),k=n(9297),A=n(3167),C=n(1625),x=n(757),S=n(2777),s=n(9039),h=n(8480).f,g=n(7347).f,m=n(4913).f,b=n(1240),_=n(3802).trim,E="Number",R=p[E],j=v[E],H=R.prototype,G=p.TypeError,q=y("".slice),K=y("".charCodeAt),ue=w(E,!R(" 0o1")||!R("0b1")||R("+0x1")),te=function(J){var Q,ne=arguments.length<1?0:R(function(ie){var W=S(ie,"number");return typeof W=="bigint"?W:function(V){var se,Ae,Oe,je,De,Se,de,Xe,ht=S(V,"number");if(x(ht))throw new G("Cannot convert a Symbol value to a number");if(typeof ht=="string"&&ht.length>2){if(ht=_(ht),(se=K(ht,0))===43||se===45){if((Ae=K(ht,2))===88||Ae===120)return NaN}else if(se===48){switch(K(ht,1)){case 66:case 98:Oe=2,je=49;break;case 79:case 111:Oe=8,je=55;break;default:return+ht}for(Se=(De=q(ht,2)).length,de=0;de<Se;de++)if((Xe=K(De,de))<48||Xe>je)return NaN;return parseInt(De,Oe)}}return+ht}(W)}(J));return C(H,Q=this)&&s(function(){b(Q)})?A(Object(ne),this,te):ne};te.prototype=H,ue&&!d&&(H.constructor=te),c({global:!0,constructor:!0,wrap:!0,forced:ue},{Number:te});var D=function(J,Q){for(var ne,ie=f?h(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),W=0;ie.length>W;W++)k(Q,ne=ie[W])&&!k(J,ne)&&m(J,ne,g(Q,ne))};d&&j&&D(v[E],j),(ue||d)&&D(v[E],R)},8183:function(o,u,n){"use strict";var c=n(9504),d=n(1291),f=n(655),p=n(7750),v=c("".charAt),y=c("".charCodeAt),w=c("".slice),k=function(A){return function(C,x){var S,s,h=f(p(C)),g=d(x),m=h.length;return g<0||g>=m?A?"":void 0:(S=y(h,g))<55296||S>56319||g+1===m||(s=y(h,g+1))<56320||s>57343?A?v(h,g):S:A?w(h,g,g+2):s-56320+(S-55296<<10)+65536}};o.exports={codeAt:k(!1),charAt:k(!0)}},8227:function(o,u,n){"use strict";var c=n(4576),d=n(5745),f=n(9297),p=n(3392),v=n(4495),y=n(7040),w=c.Symbol,k=d("wks"),A=y?w.for||w:w&&w.withoutSetter||p;o.exports=function(C){return f(k,C)||(k[C]=v&&f(w,C)?w[C]:A("Symbol."+C)),k[C]}},8242:function(o,u,n){"use strict";var c=n(9565),d=n(7751),f=n(8227),p=n(6840);o.exports=function(){var v=d("Symbol"),y=v&&v.prototype,w=y&&y.valueOf,k=f("toPrimitive");y&&!y[k]&&p(y,k,function(A){return c(w,this)},{arity:1})}},8265:function(o){"use strict";var u=function(){this.head=null,this.tail=null};u.prototype={add:function(n){var c={item:n,next:null},d=this.tail;d?d.next=c:this.head=c,this.tail=c},get:function(){var n=this.head;if(n)return(this.head=n.next)===null&&(this.tail=null),n.item}},o.exports=u},8340:function(o,u,n){"use strict";n.d(u,{q:function(){return c}});var c={fragmentChange:"fragmentChange",pageChanged:"pageChanged",beforePageChanged:"beforePageChanged",PostInit:"PostInit",stop:"stop",resize:"resize",userAction:"userAction",fullscreenToggled:"fullscreenToggled",zoomOut:"zoomOut",zoomIn:"zoomIn","1PageViewSelected":"1PageViewSelected","2PageViewSelected":"2PageViewSelected","3PageViewSelected":"3PageViewSelected"}},8350:function(o,u,n){"use strict";var c=n(6518),d=n(259),f=n(9306),p=n(8981),v=n(6198),y=n(1469);c({target:"Array",proto:!0},{flatMap:function(w){var k,A=p(this),C=v(A);return f(w),(k=y(A,0)).length=d(k,A,A,C,0,1,w,arguments.length>1?arguments[1]:void 0),k}})},8406:function(o,u,n){"use strict";n(3792),n(7337);var c=n(6518),d=n(4576),f=n(3389),p=n(7751),v=n(9565),y=n(9504),w=n(3724),k=n(7416),A=n(6840),C=n(2106),x=n(6279),S=n(687),s=n(3994),h=n(1181),g=n(679),m=n(4901),b=n(9297),_=n(6080),E=n(6955),R=n(8551),j=n(34),H=n(655),G=n(2360),q=n(6980),K=n(81),ue=n(851),te=n(2529),D=n(2812),J=n(8227),Q=n(4488),ne=J("iterator"),ie="URLSearchParams",W=ie+"Iterator",V=h.set,se=h.getterFor(ie),Ae=h.getterFor(W),Oe=f("fetch"),je=f("Request"),De=f("Headers"),Se=je&&je.prototype,de=De&&De.prototype,Xe=d.TypeError,ht=d.encodeURIComponent,nt=String.fromCharCode,lt=p("String","fromCodePoint"),ot=parseInt,ve=y("".charAt),pe=y([].join),tt=y([].push),xe=y("".replace),Ce=y([].shift),Ue=y([].splice),Te=y("".split),it=y("".slice),Me=y(/./.exec),mt=/\+/g,He=/^[0-9a-f]+$/i,We=function(ce,_e){var Re=it(ce,_e,_e+2);return Me(He,Re)?ot(Re,16):NaN},yt=function(ce){for(var _e=0,Re=128;Re>0&&ce&Re;Re>>=1)_e++;return _e},Ot=function(ce){var _e=null;switch(ce.length){case 1:_e=ce[0];break;case 2:_e=(31&ce[0])<<6|63&ce[1];break;case 3:_e=(15&ce[0])<<12|(63&ce[1])<<6|63&ce[2];break;case 4:_e=(7&ce[0])<<18|(63&ce[1])<<12|(63&ce[2])<<6|63&ce[3]}return _e>1114111?null:_e},Ft=function(ce){for(var _e=(ce=xe(ce,mt," ")).length,Re="",st=0;st<_e;){var xt=ve(ce,st);if(xt==="%"){if(ve(ce,st+1)==="%"||st+3>_e){Re+="%",st++;continue}var Mt=We(ce,st+1);if(Mt!=Mt){Re+=xt,st++;continue}st+=2;var Bt=yt(Mt);if(Bt===0)xt=nt(Mt);else{if(Bt===1||Bt>4){Re+="\uFFFD",st++;continue}for(var Rt=[Mt],qt=1;qt<Bt&&!(3+ ++st>_e||ve(ce,st)!=="%");){var Be=We(ce,st+1);if(Be!=Be){st+=3;break}if(Be>191||Be<128)break;tt(Rt,Be),st+=2,qt++}if(Rt.length!==Bt){Re+="\uFFFD";continue}var me=Ot(Rt);me===null?Re+="\uFFFD":xt=lt(me)}}Re+=xt,st++}return Re},rt=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Pe=function(ce){return oe[ce]},Ze=function(ce){return xe(ht(ce),rt,Pe)},Je=s(function(ce,_e){V(this,{type:W,target:se(ce).entries,index:0,kind:_e})},ie,function(){var ce=Ae(this),_e=ce.target,Re=ce.index++;if(!_e||Re>=_e.length)return ce.target=null,te(void 0,!0);var st=_e[Re];switch(ce.kind){case"keys":return te(st.key,!1);case"values":return te(st.value,!1)}return te([st.key,st.value],!1)},!0),qe=function(ce){this.entries=[],this.url=null,ce!==void 0&&(j(ce)?this.parseObject(ce):this.parseQuery(typeof ce=="string"?ve(ce,0)==="?"?it(ce,1):ce:H(ce)))};qe.prototype={type:ie,bindURL:function(ce){this.url=ce,this.update()},parseObject:function(ce){var _e,Re,st,xt,Mt,Bt,Rt,qt=this.entries,Be=ue(ce);if(Be)for(Re=(_e=K(ce,Be)).next;!(st=v(Re,_e)).done;){if(Mt=(xt=K(R(st.value))).next,(Bt=v(Mt,xt)).done||(Rt=v(Mt,xt)).done||!v(Mt,xt).done)throw new Xe("Expected sequence with length 2");tt(qt,{key:H(Bt.value),value:H(Rt.value)})}else for(var me in ce)b(ce,me)&&tt(qt,{key:me,value:H(ce[me])})},parseQuery:function(ce){if(ce)for(var _e,Re,st=this.entries,xt=Te(ce,"&"),Mt=0;Mt<xt.length;)(_e=xt[Mt++]).length&&(Re=Te(_e,"="),tt(st,{key:Ft(Ce(Re)),value:Ft(pe(Re,"="))}))},serialize:function(){for(var ce,_e=this.entries,Re=[],st=0;st<_e.length;)ce=_e[st++],tt(Re,Ze(ce.key)+"="+Ze(ce.value));return pe(Re,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var M=function(){g(this,be);var ce=V(this,new qe(arguments.length>0?arguments[0]:void 0));w||(this.size=ce.entries.length)},be=M.prototype;if(x(be,{append:function(ce,_e){var Re=se(this);D(arguments.length,2),tt(Re.entries,{key:H(ce),value:H(_e)}),w||this.length++,Re.updateURL()},delete:function(ce){for(var _e=se(this),Re=D(arguments.length,1),st=_e.entries,xt=H(ce),Mt=Re<2?void 0:arguments[1],Bt=Mt===void 0?Mt:H(Mt),Rt=0;Rt<st.length;){var qt=st[Rt];if(qt.key!==xt||Bt!==void 0&&qt.value!==Bt)Rt++;else if(Ue(st,Rt,1),Bt!==void 0)break}w||(this.size=st.length),_e.updateURL()},get:function(ce){var _e=se(this).entries;D(arguments.length,1);for(var Re=H(ce),st=0;st<_e.length;st++)if(_e[st].key===Re)return _e[st].value;return null},getAll:function(ce){var _e=se(this).entries;D(arguments.length,1);for(var Re=H(ce),st=[],xt=0;xt<_e.length;xt++)_e[xt].key===Re&&tt(st,_e[xt].value);return st},has:function(ce){for(var _e=se(this).entries,Re=D(arguments.length,1),st=H(ce),xt=Re<2?void 0:arguments[1],Mt=xt===void 0?xt:H(xt),Bt=0;Bt<_e.length;){var Rt=_e[Bt++];if(Rt.key===st&&(Mt===void 0||Rt.value===Mt))return!0}return!1},set:function(ce,_e){var Re=se(this);D(arguments.length,1);for(var st,xt=Re.entries,Mt=!1,Bt=H(ce),Rt=H(_e),qt=0;qt<xt.length;qt++)(st=xt[qt]).key===Bt&&(Mt?Ue(xt,qt--,1):(Mt=!0,st.value=Rt));Mt||tt(xt,{key:Bt,value:Rt}),w||(this.size=xt.length),Re.updateURL()},sort:function(){var ce=se(this);Q(ce.entries,function(_e,Re){return _e.key>Re.key?1:-1}),ce.updateURL()},forEach:function(ce){for(var _e,Re=se(this).entries,st=_(ce,arguments.length>1?arguments[1]:void 0),xt=0;xt<Re.length;)st((_e=Re[xt++]).value,_e.key,this)},keys:function(){return new Je(this,"keys")},values:function(){return new Je(this,"values")},entries:function(){return new Je(this,"entries")}},{enumerable:!0}),A(be,ne,be.entries,{name:"entries"}),A(be,"toString",function(){return se(this).serialize()},{enumerable:!0}),w&&C(be,"size",{get:function(){return se(this).entries.length},configurable:!0,enumerable:!0}),S(M,ie),c({global:!0,constructor:!0,forced:!k},{URLSearchParams:M}),!k&&m(De)){var he=y(de.has),Ge=y(de.set),vt=function(ce){if(j(ce)){var _e,Re=ce.body;if(E(Re)===ie)return _e=ce.headers?new De(ce.headers):new De,he(_e,"content-type")||Ge(_e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),G(ce,{body:q(0,H(Re)),headers:q(0,_e)})}return ce};if(m(Oe)&&c({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(ce){return Oe(ce,arguments.length>1?vt(arguments[1]):{})}}),m(je)){var kt=function(ce){return g(this,Se),new je(ce,arguments.length>1?vt(arguments[1]):{})};Se.constructor=kt,kt.prototype=Se,c({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:kt})}}o.exports={URLSearchParams:M,getState:se}},8408:function(o,u,n){"use strict";n(8406)},8429:function(o,u,n){"use strict";var c=n(9039),d=n(4576).RegExp,f=c(function(){var y=d("a","y");return y.lastIndex=2,y.exec("abcd")!==null}),p=f||c(function(){return!d("a","y").sticky}),v=f||c(function(){var y=d("^r","gy");return y.lastIndex=2,y.exec("str")!==null});o.exports={BROKEN_CARET:v,MISSED_STICKY:p,UNSUPPORTED_Y:f}},8459:function(o,u,n){"use strict";var c=n(6518),d=n(3904);c({global:!0,forced:parseFloat!==d},{parseFloat:d})},8480:function(o,u,n){"use strict";var c=n(1828),d=n(8727).concat("length","prototype");u.f=Object.getOwnPropertyNames||function(f){return c(f,d)}},8497:function(o,u,n){(function(c){if(c.support.touch="ontouchend"in document,c.support.touch){var d,f=c.ui.mouse.prototype,p=f._mouseInit,v=f._mouseDestroy;f._touchStart=function(w){!d&&this._mouseCapture(w.originalEvent.changedTouches[0])&&(d=!0,this._touchMoved=!1,y(w,"mouseover"),y(w,"mousemove"),y(w,"mousedown"))},f._touchMove=function(w){d&&(this._touchMoved=!0,y(w,"mousemove"))},f._touchEnd=function(w){d&&(y(w,"mouseup"),y(w,"mouseout"),this._touchMoved||y(w,"click"),d=!1)},f._mouseInit=function(){var w=this;w.element.bind({touchstart:c.proxy(w,"_touchStart"),touchmove:c.proxy(w,"_touchMove"),touchend:c.proxy(w,"_touchEnd")}),p.call(w)},f._mouseDestroy=function(){var w=this;w.element.unbind({touchstart:c.proxy(w,"_touchStart"),touchmove:c.proxy(w,"_touchMove"),touchend:c.proxy(w,"_touchEnd")}),v.call(w)}}function y(w,k){if(!(w.originalEvent.touches.length>1)){w.preventDefault();var A=w.originalEvent.changedTouches[0],C=document.createEvent("MouseEvents");C.initMouseEvent(k,!0,!0,window,1,A.screenX,A.screenY,A.clientX,A.clientY,!1,!1,!1,!1,0,null),w.target.dispatchEvent(C)}}})(n(1669))},8523:function(o,u,n){"use strict";n(6468)("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},n(6938))},8551:function(o,u,n){"use strict";var c=n(34),d=String,f=TypeError;o.exports=function(p){if(c(p))return p;throw new f(d(p)+" is not an object")}},8598:function(o,u,n){"use strict";var c=n(6518),d=n(9504),f=n(7055),p=n(5397),v=n(4598),y=d([].join);c({target:"Array",proto:!0,forced:f!==Object||!v("join",",")},{join:function(w){return y(p(this),w===void 0?",":w)}})},8622:function(o,u,n){"use strict";var c=n(4576),d=n(4901),f=c.WeakMap;o.exports=d(f)&&/native code/.test(String(f))},8686:function(o,u,n){"use strict";var c=n(3724),d=n(9039);o.exports=c&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},8706:function(o,u,n){"use strict";var c=n(6518),d=n(9039),f=n(4376),p=n(34),v=n(8981),y=n(6198),w=n(6837),k=n(4659),A=n(1469),C=n(597),x=n(8227),S=n(9519),s=x("isConcatSpreadable"),h=S>=51||!d(function(){var m=[];return m[s]=!1,m.concat()[0]!==m}),g=function(m){if(!p(m))return!1;var b=m[s];return b!==void 0?!!b:f(m)};c({target:"Array",proto:!0,arity:1,forced:!h||!C("concat")},{concat:function(m){var b,_,E,R,j,H=v(this),G=A(H,0),q=0;for(b=-1,E=arguments.length;b<E;b++)if(g(j=b===-1?H:arguments[b]))for(R=y(j),w(q+R),_=0;_<R;_++,q++)_ in j&&k(G,q,j[_]);else w(q+1),k(G,q++,j);return G.length=q,G}})},8727:function(o){"use strict";o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:function(o,u,n){"use strict";var c=n(616),d=Function.prototype,f=d.apply,p=d.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(c?p.bind(f):function(){return p.apply(f,arguments)})},8773:function(o,u){"use strict";var n={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,d=c&&!n.call({1:2},1);u.f=d?function(f){var p=c(this,f);return!!p&&p.enumerable}:n},8781:function(o,u,n){"use strict";var c=n(350).PROPER,d=n(6840),f=n(8551),p=n(655),v=n(9039),y=n(1034),w="toString",k=RegExp.prototype,A=k[w],C=v(function(){return A.call({source:"a",flags:"b"})!=="/a/b"}),x=c&&A.name!==w;(C||x)&&d(k,w,function(){var S=f(this);return"/"+p(S.source)+"/"+p(y(S))},{unsafe:!0})},8814:function(o,u,n){"use strict";var c=n(9039),d=n(4576).RegExp;o.exports=c(function(){var f=d("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"})},8900:function(o,u,n){"use strict";n.d(u,{W:function(){return S}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3418),n(4423),n(3792),n(2712),n(4782),n(9572),n(2010),n(8130),n(875),n(9432),n(6099),n(825),n(7495),n(8781),n(1415),n(9449),n(1699),n(7764),n(5440),n(3500),n(2953);var c=n(6681),d=n(1091);function f(s){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},f(s)}function p(s,h){(h==null||h>s.length)&&(h=s.length);for(var g=0,m=Array(h);g<h;g++)m[g]=s[g];return m}function v(s,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,y(m.key),m)}}function y(s){var h=function(g){if(f(g)!="object"||!g)return g;var m=g[Symbol.toPrimitive];if(m!==void 0){var b=m.call(g,"string");if(f(b)!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(s);return f(h)=="symbol"?h:h+""}function w(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(h){}return(w=function(){return!!s})()}function k(s){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},k(s)}function A(s,h){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,m){return g.__proto__=m,g},A(s,h)}var C="important",x=" !"+C,S=(0,d.u$)(function(s){function h(b){var _,E;if(function(R,j){if(!(R instanceof j))throw new TypeError("Cannot call a class as a function")}(this,h),_=function(R,j,H){return j=k(j),function(G,q){if(q&&(f(q)=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}(G)}(R,w()?Reflect.construct(j,H||[],k(R).constructor):j.apply(R,H))}(this,h,[b]),b.type!==d.OA.ATTRIBUTE||b.name!=="style"||((E=b.strings)===null||E===void 0?void 0:E.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return _}return function(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),_&&A(b,_)}(h,s),g=h,m=[{key:"render",value:function(b){return Object.keys(b).reduce(function(_,E){var R=b[E];return R==null?_:_+"".concat(E=E.includes("-")?E:E.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(R,";")},"")}},{key:"update",value:function(b,_){var E=this,R=function(ue,te){return function(D){if(Array.isArray(D))return D}(ue)||function(D,J){var Q=D==null?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(Q!=null){var ne,ie,W,V,se=[],Ae=!0,Oe=!1;try{if(W=(Q=Q.call(D)).next,J===0){if(Object(Q)!==Q)return;Ae=!1}else for(;!(Ae=(ne=W.call(Q)).done)&&(se.push(ne.value),se.length!==J);Ae=!0);}catch(je){Oe=!0,ie=je}finally{try{if(!Ae&&Q.return!=null&&(V=Q.return(),Object(V)!==V))return}finally{if(Oe)throw ie}}return se}}(ue,te)||function(D,J){if(D){if(typeof D=="string")return p(D,J);var Q={}.toString.call(D).slice(8,-1);return Q==="Object"&&D.constructor&&(Q=D.constructor.name),Q==="Map"||Q==="Set"?Array.from(D):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?p(D,J):void 0}}(ue,te)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(_,1)[0],j=b.element.style;if(this.ht===void 0){for(var H in this.ht=new Set,R)this.ht.add(H);return this.render(R)}for(var G in this.ht.forEach(function(ue){R[ue]==null&&(E.ht.delete(ue),ue.includes("-")?j.removeProperty(ue):j[ue]="")}),R){var q=R[G];if(q!=null){this.ht.add(G);var K=typeof q=="string"&&q.endsWith(x);G.includes("-")||K?j.setProperty(G,K?q.slice(0,-11):q,K?C:""):j[G]=q}}return c.c0}}],m&&v(g.prototype,m),Object.defineProperty(g,"prototype",{writable:!1}),g;var g,m}(d.WL))},8940:function(o,u,n){"use strict";var c=n(6518),d=n(2703);c({global:!0,forced:parseInt!==d},{parseInt:d})},8980:function(o,u,n){"use strict";var c=n(6518),d=n(9213).findIndex,f=n(6469),p="findIndex",v=!0;p in[]&&Array(1)[p](function(){v=!1}),c({target:"Array",proto:!0,forced:v},{findIndex:function(y){return d(this,y,arguments.length>1?arguments[1]:void 0)}}),f(p)},8981:function(o,u,n){"use strict";var c=n(7750),d=Object;o.exports=function(f){return d(c(f))}},9039:function(o){"use strict";o.exports=function(u){try{return!!u()}catch(n){return!0}}},9085:function(o,u,n){"use strict";var c=n(6518),d=n(4213);c({target:"Object",stat:!0,arity:2,forced:Object.assign!==d},{assign:d})},9139:function(o,u,n){var c,d,f;d=[n(1669),n(6883)],c=function(p){var v,y=0,w=Array.prototype.slice;return p.cleanData=(v=p.cleanData,function(k){var A,C,x;for(x=0;(C=k[x])!=null;x++)try{(A=p._data(C,"events"))&&A.remove&&p(C).triggerHandler("remove")}catch(S){}v(k)}),p.widget=function(k,A,C){var x,S,s,h={},g=k.split(".")[0],m=g+"-"+(k=k.split(".")[1]);return C||(C=A,A=p.Widget),p.isArray(C)&&(C=p.extend.apply(null,[{}].concat(C))),p.expr[":"][m.toLowerCase()]=function(b){return!!p.data(b,m)},p[g]=p[g]||{},x=p[g][k],S=p[g][k]=function(b,_){if(!this._createWidget)return new S(b,_);arguments.length&&this._createWidget(b,_)},p.extend(S,x,{version:C.version,_proto:p.extend({},C),_childConstructors:[]}),(s=new A).options=p.widget.extend({},s.options),p.each(C,function(b,_){p.isFunction(_)?h[b]=function(){function E(){return A.prototype[b].apply(this,arguments)}function R(j){return A.prototype[b].apply(this,j)}return function(){var j,H=this._super,G=this._superApply;return this._super=E,this._superApply=R,j=_.apply(this,arguments),this._super=H,this._superApply=G,j}}():h[b]=_}),S.prototype=p.widget.extend(s,{widgetEventPrefix:x&&s.widgetEventPrefix||k},h,{constructor:S,namespace:g,widgetName:k,widgetFullName:m}),x?(p.each(x._childConstructors,function(b,_){var E=_.prototype;p.widget(E.namespace+"."+E.widgetName,S,_._proto)}),delete x._childConstructors):A._childConstructors.push(S),p.widget.bridge(k,S),S},p.widget.extend=function(k){for(var A,C,x=w.call(arguments,1),S=0,s=x.length;S<s;S++)for(A in x[S])C=x[S][A],x[S].hasOwnProperty(A)&&C!==void 0&&(p.isPlainObject(C)?k[A]=p.isPlainObject(k[A])?p.widget.extend({},k[A],C):p.widget.extend({},C):k[A]=C);return k},p.widget.bridge=function(k,A){var C=A.prototype.widgetFullName||k;p.fn[k]=function(x){var S=typeof x=="string",s=w.call(arguments,1),h=this;return S?this.length||x!=="instance"?this.each(function(){var g,m=p.data(this,C);return x==="instance"?(h=m,!1):m?p.isFunction(m[x])&&x.charAt(0)!=="_"?(g=m[x].apply(m,s))!==m&&g!==void 0?(h=g&&g.jquery?h.pushStack(g.get()):g,!1):void 0:p.error("no such method '"+x+"' for "+k+" widget instance"):p.error("cannot call methods on "+k+" prior to initialization; attempted to call method '"+x+"'")}):h=void 0:(s.length&&(x=p.widget.extend.apply(null,[x].concat(s))),this.each(function(){var g=p.data(this,C);g?(g.option(x||{}),g._init&&g._init()):p.data(this,C,new A(x,this))})),h}},p.Widget=function(){},p.Widget._childConstructors=[],p.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(k,A){A=p(A||this.defaultElement||this)[0],this.element=p(A),this.uuid=y++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=p(),this.hoverable=p(),this.focusable=p(),this.classesElementLookup={},A!==this&&(p.data(A,this.widgetFullName,this),this._on(!0,this.element,{remove:function(C){C.target===A&&this.destroy()}}),this.document=p(A.style?A.ownerDocument:A.document||A),this.window=p(this.document[0].defaultView||this.document[0].parentWindow)),this.options=p.widget.extend({},this.options,this._getCreateOptions(),k),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:p.noop,_create:p.noop,_init:p.noop,destroy:function(){var k=this;this._destroy(),p.each(this.classesElementLookup,function(A,C){k._removeClass(C,A)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:p.noop,widget:function(){return this.element},option:function(k,A){var C,x,S,s=k;if(arguments.length===0)return p.widget.extend({},this.options);if(typeof k=="string")if(s={},C=k.split("."),k=C.shift(),C.length){for(x=s[k]=p.widget.extend({},this.options[k]),S=0;S<C.length-1;S++)x[C[S]]=x[C[S]]||{},x=x[C[S]];if(k=C.pop(),arguments.length===1)return x[k]===void 0?null:x[k];x[k]=A}else{if(arguments.length===1)return this.options[k]===void 0?null:this.options[k];s[k]=A}return this._setOptions(s),this},_setOptions:function(k){var A;for(A in k)this._setOption(A,k[A]);return this},_setOption:function(k,A){return k==="classes"&&this._setOptionClasses(A),this.options[k]=A,k==="disabled"&&this._setOptionDisabled(A),this},_setOptionClasses:function(k){var A,C,x;for(A in k)x=this.classesElementLookup[A],k[A]!==this.options.classes[A]&&x&&x.length&&(C=p(x.get()),this._removeClass(x,A),C.addClass(this._classes({element:C,keys:A,classes:k,add:!0})))},_setOptionDisabled:function(k){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!k),k&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(k){var A=[],C=this;function x(S,s){var h,g;for(g=0;g<S.length;g++)h=C.classesElementLookup[S[g]]||p(),h=k.add?p(p.unique(h.get().concat(k.element.get()))):p(h.not(k.element).get()),C.classesElementLookup[S[g]]=h,A.push(S[g]),s&&k.classes[S[g]]&&A.push(k.classes[S[g]])}return k=p.extend({element:this.element,classes:this.options.classes||{}},k),this._on(k.element,{remove:"_untrackClassesElement"}),k.keys&&x(k.keys.match(/\S+/g)||[],!0),k.extra&&x(k.extra.match(/\S+/g)||[]),A.join(" ")},_untrackClassesElement:function(k){var A=this;p.each(A.classesElementLookup,function(C,x){p.inArray(k.target,x)!==-1&&(A.classesElementLookup[C]=p(x.not(k.target).get()))})},_removeClass:function(k,A,C){return this._toggleClass(k,A,C,!1)},_addClass:function(k,A,C){return this._toggleClass(k,A,C,!0)},_toggleClass:function(k,A,C,x){x=typeof x=="boolean"?x:C;var S=typeof k=="string"||k===null,s={extra:S?A:C,keys:S?k:A,element:S?this.element:k,add:x};return s.element.toggleClass(this._classes(s),x),this},_on:function(k,A,C){var x,S=this;typeof k!="boolean"&&(C=A,A=k,k=!1),C?(A=x=p(A),this.bindings=this.bindings.add(A)):(C=A,A=this.element,x=this.widget()),p.each(C,function(s,h){function g(){if(k||S.options.disabled!==!0&&!p(this).hasClass("ui-state-disabled"))return(typeof h=="string"?S[h]:h).apply(S,arguments)}typeof h!="string"&&(g.guid=h.guid=h.guid||g.guid||p.guid++);var m=s.match(/^([\w:-]*)\s*(.*)$/),b=m[1]+S.eventNamespace,_=m[2];_?x.on(b,_,g):A.on(b,g)})},_off:function(k,A){A=(A||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,k.off(A).off(A),this.bindings=p(this.bindings.not(k).get()),this.focusable=p(this.focusable.not(k).get()),this.hoverable=p(this.hoverable.not(k).get())},_delay:function(k,A){var C=this;return setTimeout(function(){return(typeof k=="string"?C[k]:k).apply(C,arguments)},A||0)},_hoverable:function(k){this.hoverable=this.hoverable.add(k),this._on(k,{mouseenter:function(A){this._addClass(p(A.currentTarget),null,"ui-state-hover")},mouseleave:function(A){this._removeClass(p(A.currentTarget),null,"ui-state-hover")}})},_focusable:function(k){this.focusable=this.focusable.add(k),this._on(k,{focusin:function(A){this._addClass(p(A.currentTarget),null,"ui-state-focus")},focusout:function(A){this._removeClass(p(A.currentTarget),null,"ui-state-focus")}})},_trigger:function(k,A,C){var x,S,s=this.options[k];if(C=C||{},(A=p.Event(A)).type=(k===this.widgetEventPrefix?k:this.widgetEventPrefix+k).toLowerCase(),A.target=this.element[0],S=A.originalEvent)for(x in S)x in A||(A[x]=S[x]);return this.element.trigger(A,C),!(p.isFunction(s)&&s.apply(this.element[0],[A].concat(C))===!1||A.isDefaultPrevented())}},p.each({show:"fadeIn",hide:"fadeOut"},function(k,A){p.Widget.prototype["_"+k]=function(C,x,S){var s;typeof x=="string"&&(x={effect:x});var h=x?x===!0||typeof x=="number"?A:x.effect||A:k;typeof(x=x||{})=="number"&&(x={duration:x}),s=!p.isEmptyObject(x),x.complete=S,x.delay&&C.delay(x.delay),s&&p.effects&&p.effects.effect[h]?C[k](x):h!==k&&C[h]?C[h](x.duration,x.easing,S):C.queue(function(g){p(this)[k](),S&&S.call(C[0]),g()})}}),p.widget},(f=c.apply(u,d))===void 0||(o.exports=f)},9167:function(o,u,n){"use strict";var c=n(4576);o.exports=c},9213:function(o,u,n){"use strict";var c=n(6080),d=n(9504),f=n(7055),p=n(8981),v=n(6198),y=n(1469),w=d([].push),k=function(A){var C=A===1,x=A===2,S=A===3,s=A===4,h=A===6,g=A===7,m=A===5||h;return function(b,_,E,R){for(var j,H,G=p(b),q=f(G),K=v(q),ue=c(_,E),te=0,D=R||y,J=C?D(b,K):x||g?D(b,0):void 0;K>te;te++)if((m||te in q)&&(H=ue(j=q[te],te,G),A))if(C)J[te]=H;else if(H)switch(A){case 3:return!0;case 5:return j;case 6:return te;case 2:w(J,j)}else switch(A){case 4:return!1;case 7:w(J,j)}return h?-1:S||s?s:J}};o.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},9225:function(o,u,n){"use strict";var c,d,f,p,v=n(4576),y=n(8745),w=n(6080),k=n(4901),A=n(9297),C=n(9039),x=n(397),S=n(7680),s=n(4055),h=n(2812),g=n(9544),m=n(6193),b=v.setImmediate,_=v.clearImmediate,E=v.process,R=v.Dispatch,j=v.Function,H=v.MessageChannel,G=v.String,q=0,K={},ue="onreadystatechange";C(function(){c=v.location});var te=function(ne){if(A(K,ne)){var ie=K[ne];delete K[ne],ie()}},D=function(ne){return function(){te(ne)}},J=function(ne){te(ne.data)},Q=function(ne){v.postMessage(G(ne),c.protocol+"//"+c.host)};b&&_||(b=function(ne){h(arguments.length,1);var ie=k(ne)?ne:j(ne),W=S(arguments,1);return K[++q]=function(){y(ie,void 0,W)},d(q),q},_=function(ne){delete K[ne]},m?d=function(ne){E.nextTick(D(ne))}:R&&R.now?d=function(ne){R.now(D(ne))}:H&&!g?(p=(f=new H).port2,f.port1.onmessage=J,d=w(p.postMessage,p)):v.addEventListener&&k(v.postMessage)&&!v.importScripts&&c&&c.protocol!=="file:"&&!C(Q)?(d=Q,v.addEventListener("message",J,!1)):d=ue in s("script")?function(ne){x.appendChild(s("script"))[ue]=function(){x.removeChild(this),te(ne)}}:function(ne){setTimeout(D(ne),0)}),o.exports={set:b,clear:_}},9228:function(o,u,n){"use strict";n(7495);var c=n(9565),d=n(6840),f=n(7323),p=n(9039),v=n(8227),y=n(6699),w=v("species"),k=RegExp.prototype;o.exports=function(A,C,x,S){var s=v(A),h=!p(function(){var _={};return _[s]=function(){return 7},""[A](_)!==7}),g=h&&!p(function(){var _=!1,E=/a/;return A==="split"&&((E={}).constructor={},E.constructor[w]=function(){return E},E.flags="",E[s]=/./[s]),E.exec=function(){return _=!0,null},E[s](""),!_});if(!h||!g||x){var m=/./[s],b=C(s,""[A],function(_,E,R,j,H){var G=E.exec;return G===f||G===k.exec?h&&!H?{done:!0,value:c(m,E,R,j)}:{done:!0,value:c(_,R,E,j)}:{done:!1}});d(String.prototype,A,b[0]),d(k,s,b[1])}S&&y(k[s],"sham",!0)}},9296:function(o,u,n){"use strict";var c=n(4055)("span").classList,d=c&&c.constructor&&c.constructor.prototype;o.exports=d===Object.prototype?void 0:d},9297:function(o,u,n){"use strict";var c=n(9504),d=n(8981),f=c({}.hasOwnProperty);o.exports=Object.hasOwn||function(p,v){return f(d(p),v)}},9306:function(o,u,n){"use strict";var c=n(4901),d=n(6823),f=TypeError;o.exports=function(p){if(c(p))return p;throw new f(d(p)+" is not a function")}},9432:function(o,u,n){"use strict";var c=n(6518),d=n(8981),f=n(1072);c({target:"Object",stat:!0,forced:n(9039)(function(){f(1)})},{keys:function(p){return f(d(p))}})},9433:function(o,u,n){"use strict";var c=n(4576),d=Object.defineProperty;o.exports=function(f,p){try{d(c,f,{value:p,configurable:!0,writable:!0})}catch(v){c[f]=p}return p}},9449:function(o,u,n){"use strict";var c,d=n(6518),f=n(7476),p=n(7347).f,v=n(8014),y=n(655),w=n(2892),k=n(7750),A=n(1436),C=n(6395),x=f("".slice),S=Math.min,s=A("endsWith");d({target:"String",proto:!0,forced:!(!C&&!s&&(c=p(String.prototype,"endsWith"),c&&!c.writable)||s)},{endsWith:function(h){var g=y(k(this));w(h);var m=arguments.length>1?arguments[1]:void 0,b=g.length,_=m===void 0?b:S(v(m),b),E=y(h);return x(g,_-E.length,_)===E}})},9463:function(o,u,n){"use strict";var c=n(6518),d=n(3724),f=n(4576),p=n(9504),v=n(9297),y=n(4901),w=n(1625),k=n(655),A=n(2106),C=n(7740),x=f.Symbol,S=x&&x.prototype;if(d&&y(x)&&(!("description"in S)||x().description!==void 0)){var s={},h=function(){var j=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),H=w(S,this)?new x(j):j===void 0?x():x(j);return j===""&&(s[H]=!0),H};C(h,x),h.prototype=S,S.constructor=h;var g=String(x("description detection"))==="Symbol(description detection)",m=p(S.valueOf),b=p(S.toString),_=/^Symbol\((.*)\)[^)]+$/,E=p("".replace),R=p("".slice);A(S,"description",{configurable:!0,get:function(){var j=m(this);if(v(s,j))return"";var H=b(j),G=g?R(H,7,-1):E(H,_,"$1");return G===""?void 0:G}}),c({global:!0,constructor:!0,forced:!0},{Symbol:h})}},9504:function(o,u,n){"use strict";var c=n(616),d=Function.prototype,f=d.call,p=c&&d.bind.bind(f,f);o.exports=c?p:function(v){return function(){return f.apply(v,arguments)}}},9519:function(o,u,n){"use strict";var c,d,f=n(4576),p=n(2839),v=f.process,y=f.Deno,w=v&&v.versions||y&&y.version,k=w&&w.v8;k&&(d=(c=k.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!d&&p&&(!(c=p.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=p.match(/Chrome\/(\d+)/))&&(d=+c[1]),o.exports=d},9539:function(o,u,n){"use strict";var c=n(9565),d=n(8551),f=n(5966);o.exports=function(p,v,y){var w,k;d(p);try{if(!(w=f(p,"return"))){if(v==="throw")throw y;return y}w=c(w,p)}catch(A){k=!0,w=A}if(v==="throw")throw y;if(k)throw w;return d(w),y}},9544:function(o,u,n){"use strict";var c=n(2839);o.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(c)},9565:function(o,u,n){"use strict";var c=n(616),d=Function.prototype.call;o.exports=c?d.bind(d):function(){return d.apply(d,arguments)}},9572:function(o,u,n){"use strict";var c=n(9297),d=n(6840),f=n(3640),p=n(8227)("toPrimitive"),v=Date.prototype;c(v,p)||d(v,p,f)},9617:function(o,u,n){"use strict";var c=n(5397),d=n(5610),f=n(6198),p=function(v){return function(y,w,k){var A=c(y),C=f(A);if(C===0)return!v&&-1;var x,S=d(k,C);if(v&&w!=w){for(;C>S;)if((x=A[S++])!=x)return!0}else for(;C>S;S++)if((v||S in A)&&A[S]===w)return v||S||0;return!v&&-1}};o.exports={includes:p(!0),indexOf:p(!1)}},9696:function(o,u,n){"use strict";n.d(u,{EM:function(){return c},MZ:function(){return k},P:function(){return j},wk:function(){return s}});var c=function(H){return function(G){return typeof G=="function"?function(q,K){return customElements.define(q,K),K}(H,G):function(q,K){return{kind:K.kind,elements:K.elements,finisher:function(ue){customElements.define(q,ue)}}}(H,G)}};function d(H){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},d(H)}function f(H,G){var q=Object.keys(H);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(H);G&&(K=K.filter(function(ue){return Object.getOwnPropertyDescriptor(H,ue).enumerable})),q.push.apply(q,K)}return q}function p(H){for(var G=1;G<arguments.length;G++){var q=arguments[G]!=null?arguments[G]:{};G%2?f(Object(q),!0).forEach(function(K){v(H,K,q[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(q)):f(Object(q)).forEach(function(K){Object.defineProperty(H,K,Object.getOwnPropertyDescriptor(q,K))})}return H}function v(H,G,q){return(G=function(K){var ue=function(te){if(d(te)!="object"||!te)return te;var D=te[Symbol.toPrimitive];if(D!==void 0){var J=D.call(te,"string");if(d(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(K);return d(ue)=="symbol"?ue:ue+""}(G))in H?Object.defineProperty(H,G,{value:q,enumerable:!0,configurable:!0,writable:!0}):H[G]=q,H}n(2675),n(9463),n(2259),n(5700),n(2008),n(3792),n(9572),n(8130),n(3851),n(1278),n(9432),n(6099),n(7764),n(3500),n(2953);var y=function(H,G){return G.kind==="method"&&G.descriptor&&!("value"in G.descriptor)?p(p({},G),{},{finisher:function(q){q.createProperty(G.key,H)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:G.key,initializer:function(){typeof G.initializer=="function"&&(this[G.key]=G.initializer.call(this))},finisher:function(q){q.createProperty(G.key,H)}}},w=function(H,G,q){G.constructor.createProperty(q,H)};function k(H){return function(G,q){return q!==void 0?w(H,G,q):y(H,G)}}function A(H){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},A(H)}function C(H,G){var q=Object.keys(H);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(H);G&&(K=K.filter(function(ue){return Object.getOwnPropertyDescriptor(H,ue).enumerable})),q.push.apply(q,K)}return q}function x(H){for(var G=1;G<arguments.length;G++){var q=arguments[G]!=null?arguments[G]:{};G%2?C(Object(q),!0).forEach(function(K){S(H,K,q[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(q)):C(Object(q)).forEach(function(K){Object.defineProperty(H,K,Object.getOwnPropertyDescriptor(q,K))})}return H}function S(H,G,q){return(G=function(K){var ue=function(te){if(A(te)!="object"||!te)return te;var D=te[Symbol.toPrimitive];if(D!==void 0){var J=D.call(te,"string");if(A(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(K);return A(ue)=="symbol"?ue:ue+""}(G))in H?Object.defineProperty(H,G,{value:q,enumerable:!0,configurable:!0,writable:!0}):H[G]=q,H}function s(H){return k(x(x({},H),{},{state:!0}))}function h(H){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},h(H)}function g(H,G){var q=Object.keys(H);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(H);G&&(K=K.filter(function(ue){return Object.getOwnPropertyDescriptor(H,ue).enumerable})),q.push.apply(q,K)}return q}function m(H){for(var G=1;G<arguments.length;G++){var q=arguments[G]!=null?arguments[G]:{};G%2?g(Object(q),!0).forEach(function(K){b(H,K,q[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(q)):g(Object(q)).forEach(function(K){Object.defineProperty(H,K,Object.getOwnPropertyDescriptor(q,K))})}return H}function b(H,G,q){return(G=function(K){var ue=function(te){if(h(te)!="object"||!te)return te;var D=te[Symbol.toPrimitive];if(D!==void 0){var J=D.call(te,"string");if(h(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(K);return h(ue)=="symbol"?ue:ue+""}(G))in H?Object.defineProperty(H,G,{value:q,enumerable:!0,configurable:!0,writable:!0}):H[G]=q,H}n(9085);var _,E=function(H){var G=H.finisher,q=H.descriptor;return function(K,ue){var te;if(ue===void 0){var D=(te=K.originalKey)!==null&&te!==void 0?te:K.key,J=q!=null?{kind:"method",placement:"prototype",key:D,descriptor:q(K.key)}:m(m({},K),{},{key:D});return G!=null&&(J.finisher=function(ne){G(ne,D)}),J}var Q=K.constructor;q!==void 0&&Object.defineProperty(K,ue,q(ue)),G==null||G(Q,ue)}};function R(H){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},R(H)}function j(H,G){return E({descriptor:function(q){var K={get:function(){var te,D;return(D=(te=this.renderRoot)===null||te===void 0?void 0:te.querySelector(H))!==null&&D!==void 0?D:null},enumerable:!0,configurable:!0};if(G){var ue=R(q)=="symbol"?Symbol():"__"+q;K.get=function(){var te,D;return this[ue]===void 0&&(this[ue]=(D=(te=this.renderRoot)===null||te===void 0?void 0:te.querySelector(H))!==null&&D!==void 0?D:null),this[ue]}}return K}})}n(875),n(3362),(_=window.HTMLSlotElement)===null||_===void 0||_.prototype.assignedElements},9773:function(o,u,n){"use strict";var c=n(6518),d=n(4495),f=n(9039),p=n(3717),v=n(8981);c({target:"Object",stat:!0,forced:!d||f(function(){p.f(1)})},{getOwnPropertySymbols:function(y){var w=p.f;return w?w(v(y)):[]}})}},r={};function a(o){var u=r[o];if(u!==void 0)return u.exports;var n=r[o]={id:o,loaded:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=t,e=[],a.O=function(o,u,n,c){if(!u){var d=1/0;for(y=0;y<e.length;y++){u=e[y][0],n=e[y][1],c=e[y][2];for(var f=!0,p=0;p<u.length;p++)(!1&c||d>=c)&&Object.keys(a.O).every(function(w){return a.O[w](u[p])})?u.splice(p--,1):(f=!1,c<d&&(d=c));if(f){e.splice(y--,1);var v=n();v!==void 0&&(o=v)}}return o}c=c||0;for(var y=e.length;y>0&&e[y-1][2]>c;y--)e[y]=e[y-1];e[y]=[u,n,c]},a.d=function(o,u){for(var n in u)a.o(u,n)&&!a.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:u[n]})},a.u=function(o){return o+".js"},a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(o){if(typeof window=="object")return window}}(),a.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.nmd=function(o){return o.paths=[],o.children||(o.children=[]),o},function(){var o;a.g.importScripts&&(o=a.g.location+"");var u=a.g.document;if(!o&&u&&(u.currentScript&&u.currentScript.tagName.toUpperCase()==="SCRIPT"&&(o=u.currentScript.src),!o)){var n=u.getElementsByTagName("script");if(n.length)for(var c=n.length-1;c>-1&&(!o||!/^http(s?):/.test(o));)o=n[c--].src}if(!o)throw new Error("Automatic publicPath is not supported in this browser");o=o.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=o}(),function(){a.b=typeof document<"u"&&document.baseURI||self.location.href;var o={340:0};a.O.j=function(c){return o[c]===0};var u=function(c,d){var f,p,v=d[0],y=d[1],w=d[2],k=0;if(v.some(function(C){return o[C]!==0})){for(f in y)a.o(y,f)&&(a.m[f]=y[f]);if(w)var A=w(a)}for(c&&c(d);k<v.length;k++)p=v[k],a.o(o,p)&&o[p]&&o[p][0](),o[p]=0;return a.O(A)},n=self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[];n.forEach(u.bind(null,0)),n.push=u.bind(null,n.push.bind(n))}();var l={};(function(){"use strict";a(2675),a(9463),a(2259),a(8706),a(2008),a(113),a(3418),a(4423),a(3792),a(8598),a(2062),a(2712),a(4782),a(2010),a(9085),a(5506),a(875),a(9432),a(6099),a(6034),a(8940),a(3362),a(7495),a(8781),a(1699),a(7764),a(5746),a(3500),a(2953),a(8408),a(9139),a(3662),a(8497);var o=a(8004);a(5700),a(9572),a(8130),a(8459),a(4720);var u=a(8340),n=a(1669);function c(B){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},c(B)}function d(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,f(F.key),F)}}function f(B){var O=function(L){if(c(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(c(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return c(O)=="symbol"?O:O+""}var p=function(){return B=function L(F){(function(ee,le){if(!(ee instanceof le))throw new TypeError("Cannot call a class as a function")})(this,L),this.br=F,this.$root=null,this.$nav=null,this.maxPageNum=null,this.minimumControls=["toggle_slider","viewmode"],this.maximumControls=["BRnavpos","book_left","book_right","zoom_in","zoom_out","onepg","twopg","thumb"],this.updateNavIndexThrottled=(0,o.throttle)(this.updateNavIndex.bind(this),250,!1)},O=[{key:"controlFor",value:function(L){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ee=this.br.options.controls[L],le=Object.assign({},ee,F);return le.visible?le.template?"<li>".concat(le.template(this.br),"</li>"):`<li>
      <button class="BRicon `.concat(le.className,'" title="').concat(le.label,`">
        <div class="icon icon-`).concat(le.iconClassName,`"></div>
        <span class="BRtooltip">`).concat(le.label,`</span>
      </button>
    </li>`):""}},{key:"_renderControls",value:function(){var L=this;return["toggleSlider","bookLeft","bookRight","onePage","twoPage","thumbnail","viewmode","zoomOut","zoomIn","fullScreen"].map(function(F){return L.controlFor(F)}).join("")}},{key:"_bindViewModeButton",value:function(){var L=this,F=this.br,ee=F.options.controls.viewmode,le=[{mode:F.constMode1up,className:"onepg",title:"One-page view"},{mode:F.constMode2up,className:"twopg",title:"Two-page view"},{mode:F.constModeThumb,className:"thumb",title:"Thumbnail view"}].filter(function(Tt){return!ee.excludedModes.includes(Tt.mode)}),ye=le.map(function(Tt){return Tt.mode});ee.excludedModes.includes(F.mode)&&F.switchMode(ye[0]);for(var gt=ye.indexOf(F.mode),bt=0;bt<=gt;bt++)ye.push(ye.shift());le.length<2&&this.$nav.find(".".concat(ee.className)).remove(),this.br.bind(u.q.PostInit,function(){var Tt=L.$nav.find(".".concat(ee.className)).off(".bindNavigationHandlers").on("click",function(Xt){var gi=ye.shift(),ci=le.find(function(Ui){return Ui.mode===gi}),zi=le.find(function(Ui){return Ui.mode===ye[0]});ye.push(gi),F.viewModeOrder=ye,L.updateViewModeButton(n(Xt.currentTarget),zi.className,zi.title),F.switchMode(ci.mode)}),Ut=le.find(function(Xt){return Xt.mode===ye[0]});L.updateViewModeButton(Tt,Ut.className,Ut.title)})}},{key:"bindControlClickHandlers",value:function(){var L=this,F=this.$nav.find(".BRicon"),ee={toggle_slider:function(){L.br.toggleSlider()},book_left:this.br.left.bind(this.br),book_right:this.br.right.bind(this.br),book_top:this.br.first.bind(this.br),book_bottom:this.br.last.bind(this.br),book_leftmost:this.br.leftmost.bind(this.br),book_rightmost:this.br.rightmost.bind(this.br),onepg:function(){L.br.switchMode("1up")},thumb:function(){L.br.switchMode("thumb")},twopg:function(){L.br.switchMode("2up")},zoom_in:function(){L.br.trigger(u.q.stop),L.br.zoom(1),L.br.trigger(u.q.zoomIn)},zoom_out:function(){L.br.trigger(u.q.stop),L.br.zoom(-1),L.br.trigger(u.q.zoomOut)},full:function(){if(L.br.ui=="embed"){var gt=L.br.$(".BRembedreturn a").attr("href");window.open(gt)}else L.br.toggleFullscreen()}};this.$nav.find("nav.BRcontrols li button").on("click",function(){L.br.trigger(u.q.userAction)});var le=function(gt){F.filter(".".concat(gt)).on("click.bindNavigationHandlers",function(){return ee[gt](),!1})};for(var ye in ee)le(ye)}},{key:"updateViewModeButton",value:function(L,F,ee){L.attr("title",ee).find(".icon").removeClass().addClass("icon icon-".concat(F)).end().find(".BRtooltip").text(ee)}},{key:"switchNavbarControls",value:function(){this.br.options.bookType!=="linerNotes"&&(this.br.refs.$brContainer.prop("clientWidth")<640?this.showMobileControls():this.showDesktopControls())}},{key:"showMobileControls",value:function(){this.minimumControls.forEach(function(F){var ee=document.querySelector(".BRnavMain .controls .".concat(F));ee&&ee.classList.remove("hide")}),this.maximumControls.forEach(function(F){var ee=document.querySelector(".BRnavMain .controls .".concat(F));ee&&ee.classList.add("hide")});var L=document.querySelector(".BRnavMobile");L&&L.classList.remove("hide")}},{key:"showDesktopControls",value:function(){this.maximumControls.forEach(function(F){var ee=document.querySelector(".BRnavMain .controls .".concat(F));ee&&ee.classList.remove("hide")}),this.minimumControls.forEach(function(F){var ee=document.querySelector(".BRnavMain .controls .".concat(F));ee&&ee.classList.add("hide")});var L=document.querySelector(".BRnavMobile");L&&L.classList.add("hide")}},{key:"init",value:function(){var L=this,F=this.br,ee=F.options.navbarTitle,le=F.pageProgression==="rl",ye=le?"book_flip_next":"book_flip_prev",gt=le?"book_flip_prev":"book_flip_next";this.br.options.controls.bookLeft.className="book_left ".concat(ye),this.br.options.controls.bookRight.className="book_right ".concat(gt),F.refs.$BRfooter=this.$root=n('<div class="BRfooter"></div>'),F.refs.$BRnav=this.$nav=n(`<div class="BRnav BRnavMobile docked">
          `.concat(ee?'<div class="BRnavTitle">'.concat(ee,"</div>"):"",`
          <nav class="BRcontrols">
            <ul class="controls">
              <li class="scrubber">
                <div class="BRnavpos">
                  <div class="BRpager"></div>
                  <div class="BRnavline"></div>
                </div>
              </li>
              `).concat(this.controlFor("bookLeft",{visible:!0}),`
              `).concat(this.controlFor("bookRight",{visible:!0}),`
            </ul>
          </nav>
        </div>
        <div class="BRnav BRnavMain">
          `).concat(ee?'<div class="BRnavTitle">'.concat(ee,"</div>"):"",`
          <nav class="BRcontrols">
            <ul class="controls">
              <li class="scrubber">
                <p>
                  <span class="BRcurrentpage"></span>
                </p>
                <div class="BRnavpos hide">
                  <div class="BRpager"></div>
                  <div class="BRnavline"></div>
                </div>
              </li>
              `).concat(this._renderControls(),`
            </ul>
          </nav>
        </div>`)),this.$root.append(this.$nav),F.refs.$br.append(this.$root),this.br.on(u.q.beforePageChanged,function(Tt,Ut){Ut.ariaLive?L.$root.find(".BRcurrentpage").attr("role","status"):L.$root.find(".BRcurrentpage").removeAttr("role")}),this.br.on(u.q.pageChanged,function(Tt,Ut){var Xt=Ut.index;return L.updateNavIndexThrottled(Xt)}),F.options.controls.viewmode.visible&&this._bindViewModeButton(),this.updateNavPageNum(F.currentIndex());var bt=this.$root.find(".BRpager").slider({animate:!0,min:0,max:F.book.getNumLeafs()-1,value:F.currentIndex(),range:"min"});return bt.find(".ui-slider-handle").attr({role:"slider","aria-label":"Page navigation slider","aria-valuemin":1,"aria-valuemax":F.book.getNumLeafs()}),bt.find(".ui-slider-handle").off("keydown").on("keydown",function(Tt){switch(Tt.keyCode||Tt.which){case n.ui.keyCode.LEFT:case n.ui.keyCode.RIGHT:le&&(Tt.keyCode===n.ui.keyCode.LEFT?Tt.keyCode=n.ui.keyCode.RIGHT:Tt.keyCode=n.ui.keyCode.LEFT),n.ui.slider.prototype._handleEvents.keydown.call(n(Tt.target).parent().data("ui-slider"),Tt),Tt.stopPropagation();break;default:return}}),bt.on("slide",function(Tt,Ut){if(L.br.mode===L.br.constMode2up){var Xt=Ut.value>F.currentIndex(),gi=L.br.book.getPage(Ut.value);(le?gi.pageSide==="L":gi.pageSide==="R")&&(Ut.value+=Xt?1:-1,Ut.value=Math.max(0,Math.min(Ut.value,F.book.getNumLeafs()-1)))}L.updateNavPageNum(Ut.value)}),bt.on("slidechange",function(Tt,Ut){if(n(Tt.target).data("swallowchange"))n(Tt.target).data("swallowchange",!1);else{if(L.br.mode===L.br.constMode2up){var Xt=Ut.value>F.currentIndex(),gi=L.br.book.getPage(Ut.value);(le?gi.pageSide==="L":gi.pageSide==="R")&&(Ut.value+=Xt?1:-1,Ut.value=Math.max(0,Math.min(Ut.value,F.book.getNumLeafs()-1)))}L.br.jumpToIndex(Ut.value,{ariaLive:!1})}}),this.$nav}},{key:"getNavPageNumString",value:function(L){var F=this.br,ee=F.book.getPageNum(L),le=(F.book.getPageProp(L,"pageType"),F.book.getNumLeafs());if(!this.maxPageNum){for(var ye,gt=0,bt=0;bt<le;bt++)ye=parseFloat(F.book.getPageNum(bt)),!isNaN(ye)&&ye>gt&&(gt=ye);this.maxPageNum=gt}return function(Tt,Ut,Xt){var gi=Tt+1;return Xt[0]!="n"||(Xt="\u2014"),"Page ".concat(Xt," (").concat(gi,"/").concat(Ut,")")}(L,le,ee,this.maxPageNum)}},{key:"updateNavPageNum",value:function(L){this.$root.find(".BRcurrentpage").html(this.getNavPageNumString(L)),this.$root.find(".ui-slider-handle").attr({"aria-valuenow":L+1,"aria-valuetext":this.getNavPageNumString(L)})}},{key:"updateNavIndex",value:function(L){L=L!==void 0?L:this.br.currentIndex(),this.$root.find(".BRpager").data("swallowchange",!0),this.$root.find(".BRpager").slider("value",L),this.updateNavPageNum(L)}}],O&&d(B.prototype,O),Object.defineProperty(B,"prototype",{writable:!1}),B;var B,O}();function v(B){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},v(B)}function y(B){var O=typeof Map=="function"?new Map:void 0;return y=function(L){if(L===null||!function(ee){try{return Function.toString.call(ee).indexOf("[native code]")!==-1}catch(le){return typeof ee=="function"}}(L))return L;if(typeof L!="function")throw new TypeError("Super expression must either be null or a function");if(O!==void 0){if(O.has(L))return O.get(L);O.set(L,F)}function F(){return function(ee,le,ye){if(w())return Reflect.construct.apply(null,arguments);var gt=[null];gt.push.apply(gt,le);var bt=new(ee.bind.apply(ee,gt));return ye&&k(bt,ye.prototype),bt}(L,arguments,A(this).constructor)}return F.prototype=Object.create(L.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),k(F,L)},y(B)}function w(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(w=function(){return!!B})()}function k(B,O){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,F){return L.__proto__=F,L},k(B,O)}function A(B){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},A(B)}a(6033),a(825);var C={defaults:null,padding:10,ui:"full",uiAutoHide:!1,thumbRowBuffer:1,thumbColumns:6,thumbMaxLoading:4,thumbPadding:10,thumbMinZoomColumns:2,thumbMaxZoomColumns:8,flipSpeed:400,showToolbar:!0,showNavbar:!0,navBarTitle:"",showLogo:!0,logoURL:"https://archive.org",imagesBaseURL:"/BookReader/images/",reduceSet:"pow2",reductionFactors:[{reduce:.25,autofit:null},{reduce:.5,autofit:null},{reduce:1,autofit:null},{reduce:2,autofit:null},{reduce:3,autofit:null},{reduce:4,autofit:null},{reduce:6,autofit:null}],onePage:{autofit:"auto"},twoPage:{coverInternalPadding:0,coverExternalPadding:0,bookSpineDivWidth:64,autofit:"auto"},onePageMinBreakpoint:800,bookTitle:"",bookUrl:null,bookUrlText:null,bookUrlTitle:null,enableBookTitleLink:!0,bookUri:null,bookLanguage:null,metadata:[],thumbnail:null,bookUrlMoreInfo:null,enableExperimentalControls:!1,el:"#BookReader",pageProgression:"lr",ppi:500,protected:!1,plugins:{archiveAnalytics:{},autoplay:{},chapters:{},experiments:{},iiif:{},resume:{},search:{},textSelection:{},translate:{},tts:{}},vars:{},data:[],table_of_contents:null,getNumLeafs:null,getPageWidth:null,getPageHeight:null,getPageURI:null,renderPageURI:function(B,O){B.src=O},getPageSide:null,getSpreadIndices:null,getPageNum:null,getPageProp:null,leafNumToIndex:null,getEmbedCode:null,controls:{toggleSlider:{visible:!0,label:"Toggle page controls",className:"toggle_slider",iconClassName:"toggle-slider"},bookLeft:{visible:!0,label:"Flip left",className:"book_left",iconClassName:"left-arrow"},bookRight:{visible:!0,label:"Flip right",className:"book_right",iconClassName:"left-arrow hflip"},onePage:{visible:!0,label:"One-page view",className:"onepg",iconClassName:"onepg"},twoPage:{visible:!0,label:"Two-page view",className:"twopg",iconClassName:"twopg"},thumbnail:{visible:!0,label:"Thumbnail view",className:"thumb",iconClassName:"thumb"},viewmode:{visible:!0,className:"viewmode",excludedModes:[]},zoomOut:{visible:!0,label:"Zoom out",className:"zoom_out",iconClassName:"magnify"},zoomIn:{visible:!0,label:"Zoom in",className:"zoom_in",iconClassName:"magnify plus"},fullScreen:{visible:!0,label:"Go fullscreen",className:"full",iconClassName:"fullscreen"}},startFullscreen:!1,enableFSLogoShortcut:!1,autoResize:!0,useSrcSet:!1,unviewablePageURI:"./unviewable_page.png"},x=function(B){function O(){return function(ye,gt){if(!(ye instanceof gt))throw new TypeError("Cannot call a class as a function")}(this,O),F=this,le=arguments,ee=A(ee=O),function(ye,gt){if(gt&&(v(gt)=="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}(ye)}(F,w()?Reflect.construct(ee,le||[],A(F).constructor):ee.apply(F,le));var F,ee,le}return function(F,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(ee&&ee.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),ee&&k(F,ee)}(O,B),L=O,Object.defineProperty(L,"prototype",{writable:!1}),L;var L}(y(Error)),S=(a(5440),a(4638),a(1669));function s(B){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},s(B)}function h(B,O){(O==null||O>B.length)&&(O=B.length);for(var L=0,F=Array(O);L<O;L++)F[L]=B[L];return F}function g(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,m(F.key),F)}}function m(B){var O=function(L){if(s(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(s(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return s(O)=="symbol"?O:O+""}var b=function(){return B=function L(F){(function(ee,le){if(!(ee instanceof le))throw new TypeError("Cannot call a class as a function")})(this,L),this.br=F},O=[{key:"buildToolbarElement",value:function(){var L=this.br,F=L.showLogo?`
      <span class="BRtoolbarSection BRtoolbarSectionLogo">
        <a class="logo" href="`.concat(L.logoURL,`"></a>
      </span>`):"";L.refs.$BRtoolbar=S(`
      <div class="BRtoolbar header">
        <div class="BRtoolbarbuttons">
          <div class="BRtoolbarLeft">
            `.concat(F,`
            <span class="BRtoolbarSection BRtoolbarSectionTitle"></span>
          </div>
          <div class="BRtoolbarRight">
            <span class="BRtoolbarSection BRtoolbarSectionInfo">
              <button class="BRpill info js-tooltip">Info</button>
              <button class="BRpill share js-tooltip">Share</button>
            </span>
          </div>
        </div>
      </div>`));var ee=L.refs.$BRtoolbar.find(".BRtoolbarSectionTitle");L.bookUrl&&L.options.enableBookTitleLink?ee.append(S("<a>").attr({href:L.bookUrl,title:L.bookUrlTitle}).addClass("BRreturn").html(L.bookUrlText||L.bookTitle)):L.bookTitle&&ee.append(L.bookUrlText||L.bookTitle);for(var le=0,ye=Object.values(L.plugins);le<ye.length;le++)ye[le]._configureToolbar(L.refs.$BRtoolbar);return L.refs.$BRtoolbar}},{key:"initToolbar",value:function(L,F){var ee=this.br;ee.refs.$br.append(this.buildToolbarElement()),ee.$(".BRnavCntl").addClass("BRup"),ee.$(".pause").hide(),ee.refs.$BRtoolbar.append(),ee.canSwitchToMode(ee.constMode2up)||ee.$(".two_page_mode, .play, .pause").hide(),ee.canSwitchToMode(ee.constModeThumb)||ee.$(".thumbnail_mode").hide(),ee.canSwitchToMode(ee.constMode2up)||ee.canSwitchToMode(ee.constModeThumb)||ee.$(".one_page_mode").hide(),S('<div style="display: none;"></div>').append(S(`
    <div class="BRfloat BRshare">
      <div class="BRfloatHead">
        Share
        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>
      </div>
    </div>`)).append(S(`
    <div class="BRfloat BRinfo">
      <div class="BRfloatHead">About this book
        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>
      </div>
      <div class="BRfloatBody">
        <div class="BRfloatCover"></div>
        <div class="BRfloatMeta">
          <div class="BRfloatTitle">
            <h2><a /></h2>
          </div>
        </div>
      </div>
      <div class="BRfloatFoot">
        <a href="https://openlibrary.org/dev/docs/bookreader">About the BookReader</a>
      </div>
    </div>`)).appendTo(ee.refs.$br),ee.$(".BRinfo .BRfloatTitle a").attr({href:ee.bookUrl}).text(ee.bookTitle).addClass("title"),this.buildInfoDiv(ee.$(".BRinfo")),this.buildShareDiv(ee.$(".BRshare")),ee.$(".share").colorbox({inline:!0,opacity:"0.5",href:ee.$(".BRshare"),onLoad:function(){ee.trigger(u.q.stop),ee.$(".BRpageviewValue").val(window.location.href)}}),ee.$(".info").colorbox({inline:!0,opacity:"0.5",href:ee.$(".BRinfo"),onLoad:function(){ee.trigger(u.q.stop)}})}},{key:"buildShareDiv",value:function(L){var F=this,ee=this.br,le=document.location+"",ye=(le+"").replace(/#.*/,""),gt=ee.getEmbedCode?`
      <div class="share-embed">
        <p class="share-embed-prompt">Copy and paste one of these options to share this book elsewhere.</p>
        <form method="post" action="">
          <fieldset class="fieldset-share-pageview">
            <label for="pageview">Link to this page view</label>
            <input type="text" name="pageview" class="BRpageviewValue" value="`.concat(le,`"/>
          </fieldset>
          <fieldset class="fieldset-share-book-link">
            <label for="booklink">Link to the book</label>
            <input type="text" name="booklink" class="booklink" value="`).concat(ye,`"/>
          </fieldset>
          <fieldset class="fieldset-embed">
            <label for="iframe">Embed a mini Book Reader</label>
            <fieldset class="sub">
              <label class="sub">
                <input type="radio" name="pages" value="`).concat(ee.constMode1up,`" checked="checked"/>
                1 page
              </label>
              <label class="sub">
                <input type="radio" name="pages" value="`).concat(ee.constMode2up,`"/>
                2 pages
              </label>
              <label class="sub">
                <input type="checkbox" name="thispage" value="thispage"/>
                Open to this page?
              </label>
            </fieldset>
            <textarea cols="30" rows="4" name="iframe" class="BRframeEmbed"></textarea>
          </fieldset>
        </form>
      </div>`):"",bt=S(`
      <div class="share-title">Share this book</div>
      <div class="share-social">
        <label class="sub open-to-this-page">
          <input class="thispage-social" type="checkbox" />
          Open to this page?
        </label>
        <div><button class="BRaction share facebook-share-button"><i class="BRicon fb" /> Facebook</button></div>
        <div><button class="BRaction share twitter-share-button"><i class="BRicon twitter" /> Twitter</button></div>
        <div><button class="BRaction share email-share-button"><i class="BRicon email" /> Email</button></div>
      </div>
      `.concat(gt,`
      <div class="BRfloatFoot">
        <button class="share-finished" type="button" onclick="$.fn.colorbox.close();">Finished</button>
      </div>`));bt.appendTo(L),bt.find(".fieldset-embed input").on("change",function(Tt){var Ut=S(Tt.target).parents("form").first(),Xt={};Xt.mode=S(Ut.find(".fieldset-embed input[name=pages]:checked")).val(),Ut.find(".fieldset-embed input[name=thispage]").prop("checked")&&(Xt.page=ee.book.getPageNum(ee.currentIndex())),ee.getEmbedCode&&Ut.find(".BRframeEmbed").val(ee.getEmbedCode("480px","430px",Xt))}),bt.find("input, textarea").on("focus",function(Tt){return Tt.target.select()}),bt.find(".facebook-share-button").on("click",function(){_("https://www.facebook.com/sharer.php?"+S.param({u:F._getSocialShareUrl()}),600,400,"Share")}),bt.find(".twitter-share-button").on("click",function(){_("https://twitter.com/intent/tweet?"+S.param({url:F._getSocialShareUrl(),text:ee.bookTitle}),600,400,"Share")}),bt.find(".email-share-button").on("click",function(){var Tt="".concat(ee.bookTitle,`

`).concat(F._getSocialShareUrl());window.location.href="mailto:?subject=".concat(encodeURI(ee.bookTitle),"&body=").concat(encodeURI(Tt))}),bt.find("input[name=thispage]").trigger("change"),bt.appendTo(L)}},{key:"_getSocialShareUrl",value:function(){return this.br.$(".thispage-social").prop("checked")?window.location.href:"".concat(document.location.protocol,"//").concat(window.location.hostname).concat(window.location.pathname)}},{key:"buildInfoDiv",value:function(L){var F=this.br;L.find(".BRfloatBody, .BRfloatCover, .BRfloatFoot").remove();var ee=S('<div class="BRinfoLeftCol"></div>');F.thumbnail&&ee.append(S(`
        <div class="BRimageW">
          <img src="`.concat(F.thumbnail,'" alt="').concat((0,o.escapeHTML)(F.bookTitle),`" />
        </div>`)));var le,ye=S('<div class="BRinfoRightCol">'),gt=function(tr,Cr){var Nr=typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(!Nr){if(Array.isArray(tr)||(Nr=function(lr,Wr){if(lr){if(typeof lr=="string")return h(lr,Wr);var Qi={}.toString.call(lr).slice(8,-1);return Qi==="Object"&&lr.constructor&&(Qi=lr.constructor.name),Qi==="Map"||Qi==="Set"?Array.from(lr):Qi==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qi)?h(lr,Wr):void 0}}(tr))||Cr&&tr&&typeof tr.length=="number"){Nr&&(tr=Nr);var zr=0,Rr=function(){};return{s:Rr,n:function(){return zr>=tr.length?{done:!0}:{done:!1,value:tr[zr++]}},e:function(lr){throw lr},f:Rr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Hi,li=!0,_i=!1;return{s:function(){Nr=Nr.call(tr)},n:function(){var lr=Nr.next();return li=lr.done,lr},e:function(lr){_i=!0,Hi=lr},f:function(){try{li||Nr.return==null||Nr.return()}finally{if(_i)throw Hi}}}}(F.metadata);try{for(gt.s();!(le=gt.n()).done;){var bt=le.value,Tt=bt.extraValueClass,Ut=Tt===void 0?"":Tt,Xt=bt.label,gi=bt.value,ci=Xt==="Title"?(0,o.escapeHTML)(gi):gi;ye.append(S(`
        <div class="BRinfoValueWrapper">
          <div class="BRinfoLabel">`.concat(Xt,`</div>
          <div class="BRinfoValue `).concat(Ut,'">').concat(ci,`</div>
        </div>`)))}}catch(tr){gt.e(tr)}finally{gt.f()}var zi=F.bookUrlMoreInfo?F.bookUrlMoreInfo:F.bookTitle;zi&&F.bookUrl&&ye.append(S(`
        <div class="BRinfoValueWrapper">
          <div class="BRinfoMoreInfoWrapper">
            <a class="BRinfoMoreInfo" href="`.concat(F.bookUrl,`">
              `).concat((0,o.escapeHTML)(zi),`
            </a>
          </div>
        </div>`)));var Ui=S('<div class="BRfloatFoot BRinfoFooter"></div>'),Pr=S('<div class="BRinfoW mv20-lg">').append([ee,ye,S('<br style="clear:both"/>')]);L.append(Pr,Ui).addClass("wide")}},{key:"getToolBarHeight",value:function(){var L=this.br.refs.$BRtoolbar;return L&&L.css("display")==="block"?L.outerHeight()+parseInt(L.css("top")):0}}],O&&g(B.prototype,O),Object.defineProperty(B,"prototype",{writable:!1}),B;var B,O}();function _(B,O,L,F){var ee=window.screenLeft!=null?window.screenLeft:screen.left,le=window.screenTop!=null?window.screenTop:screen.top,ye=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-O/2+ee,gt=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-L/2+le,bt="status=1,width=".concat(O,",height=").concat(L,",top=").concat(gt,",left=").concat(ye);window.open(B,F,bt)}function E(B){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},E(B)}function R(){var B,O,L=typeof Symbol=="function"?Symbol:{},F=L.iterator||"@@iterator",ee=L.toStringTag||"@@toStringTag";function le(ci,zi,Ui,Pr){var tr=zi&&zi.prototype instanceof gt?zi:gt,Cr=Object.create(tr.prototype);return j(Cr,"_invoke",function(Nr,zr,Rr){var Hi,li,_i,lr=0,Wr=Rr||[],Qi=!1,Bi={p:0,n:0,v:B,a:er,f:er.bind(B,4),d:function(Ti,Si){return Hi=Ti,li=0,_i=B,Bi.n=Si,ye}};function er(Ti,Si){for(li=Ti,_i=Si,O=0;!Qi&&lr&&!Vi&&O<Wr.length;O++){var Vi,Ei=Wr[O],jr=Bi.p,Fr=Ei[2];Ti>3?(Vi=Fr===Si)&&(_i=Ei[(li=Ei[4])?5:(li=3,3)],Ei[4]=Ei[5]=B):Ei[0]<=jr&&((Vi=Ti<2&&jr<Ei[1])?(li=0,Bi.v=Si,Bi.n=Ei[1]):jr<Fr&&(Vi=Ti<3||Ei[0]>Si||Si>Fr)&&(Ei[4]=Ti,Ei[5]=Si,Bi.n=Fr,li=0))}if(Vi||Ti>1)return ye;throw Qi=!0,Si}return function(Ti,Si,Vi){if(lr>1)throw TypeError("Generator is already running");for(Qi&&Si===1&&er(Si,Vi),li=Si,_i=Vi;(O=li<2?B:_i)||!Qi;){Hi||(li?li<3?(li>1&&(Bi.n=-1),er(li,_i)):Bi.n=_i:Bi.v=_i);try{if(lr=2,Hi){if(li||(Ti="next"),O=Hi[Ti]){if(!(O=O.call(Hi,_i)))throw TypeError("iterator result is not an object");if(!O.done)return O;_i=O.value,li<2&&(li=0)}else li===1&&(O=Hi.return)&&O.call(Hi),li<2&&(_i=TypeError("The iterator does not provide a '"+Ti+"' method"),li=1);Hi=B}else if((O=(Qi=Bi.n<0)?_i:Nr.call(zr,Bi))!==ye)break}catch(Ei){Hi=B,li=1,_i=Ei}finally{lr=1}}return{value:O,done:Qi}}}(ci,Ui,Pr),!0),Cr}var ye={};function gt(){}function bt(){}function Tt(){}O=Object.getPrototypeOf;var Ut=[][F]?O(O([][F]())):(j(O={},F,function(){return this}),O),Xt=Tt.prototype=gt.prototype=Object.create(Ut);function gi(ci){return Object.setPrototypeOf?Object.setPrototypeOf(ci,Tt):(ci.__proto__=Tt,j(ci,ee,"GeneratorFunction")),ci.prototype=Object.create(Xt),ci}return bt.prototype=Tt,j(Xt,"constructor",Tt),j(Tt,"constructor",bt),bt.displayName="GeneratorFunction",j(Tt,ee,"GeneratorFunction"),j(Xt),j(Xt,ee,"Generator"),j(Xt,F,function(){return this}),j(Xt,"toString",function(){return"[object Generator]"}),(R=function(){return{w:le,m:gi}})()}function j(B,O,L,F){var ee=Object.defineProperty;try{ee({},"",{})}catch(le){ee=0}j=function(le,ye,gt,bt){function Tt(Ut,Xt){j(le,Ut,function(gi){return this._invoke(Ut,Xt,gi)})}ye?ee?ee(le,ye,{value:gt,enumerable:!bt,configurable:!bt,writable:!bt}):le[ye]=gt:(Tt("next",0),Tt("throw",1),Tt("return",2))},j(B,O,L,F)}function H(B,O){var L=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!L){if(Array.isArray(B)||(L=function(bt,Tt){if(bt){if(typeof bt=="string")return G(bt,Tt);var Ut={}.toString.call(bt).slice(8,-1);return Ut==="Object"&&bt.constructor&&(Ut=bt.constructor.name),Ut==="Map"||Ut==="Set"?Array.from(bt):Ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ut)?G(bt,Tt):void 0}}(B))||O&&B&&typeof B.length=="number"){L&&(B=L);var F=0,ee=function(){};return{s:ee,n:function(){return F>=B.length?{done:!0}:{done:!1,value:B[F++]}},e:function(bt){throw bt},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,ye=!0,gt=!1;return{s:function(){L=L.call(B)},n:function(){var bt=L.next();return ye=bt.done,bt},e:function(bt){gt=!0,le=bt},f:function(){try{ye||L.return==null||L.return()}finally{if(gt)throw le}}}}function G(B,O){(O==null||O>B.length)&&(O=B.length);for(var L=0,F=Array(O);L<O;L++)F[L]=B[L];return F}function q(B,O){if(!(B instanceof O))throw new TypeError("Cannot call a class as a function")}function K(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,te(F.key),F)}}function ue(B,O,L){return O&&K(B.prototype,O),L&&K(B,L),Object.defineProperty(B,"prototype",{writable:!1}),B}function te(B){var O=function(L){if(E(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(E(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return E(O)=="symbol"?O:O+""}a(8980),a(8350),a(6910),a(237),a(1392);var D=function(){return ue(function B(O){var L,F,ee,le;q(this,B),this.br=O,this.reduceSet=O.reduceSet,this.ppi=(L=(F=O.options)===null||F===void 0?void 0:F.ppi)!==null&&L!==void 0?L:C.ppi,this.pageProgression=(ee=(le=O.options)===null||le===void 0?void 0:le.pageProgression)!==null&&ee!==void 0?ee:C.pageProgression,this._medianPageSize=null,this._getDataFlattenedCached=null},[{key:"getMedianPageSizeInches",value:function(){if(this._medianPageSize)return this._medianPageSize;var B,O=[],L=[],F=H(this.pagesIterator());try{for(F.s();!(B=F.n()).done;){var ee=B.value;O.push(ee.widthInches),L.push(ee.heightInches)}}catch(le){F.e(le)}finally{F.f()}return O.sort(function(le,ye){return le-ye}),L.sort(function(le,ye){return le-ye}),this._medianPageSize={width:O[Math.floor(O.length/2)],height:L[Math.floor(L.length/2)]},this._medianPageSize}},{key:"_getPageWidth",value:function(B){return B=(0,o.clamp)(B,0,this.getNumLeafs()-1),this.getPageWidth(B)}},{key:"_getPageHeight",value:function(B){var O=(0,o.clamp)(B,0,this.getNumLeafs()-1);return this.getPageHeight(O)}},{key:"getPageIndex",value:function(B){var O=this.getPageIndices(B);return O.length?O[O.length-1]:void 0}},{key:"getPageIndices",value:function(B){var O=[];if(B.slice(0,1)=="n")try{var L=B.slice(1,B.length),F=parseInt(L);return O.push(F),O}catch(le){}for(var ee=0;ee<this.getNumLeafs();ee++)this.getPageNum(ee)==B&&O.push(ee);return O}},{key:"getPageName",value:function(B){return"Page "+this.getPageNum(B)}},{key:"getNumLeafs",value:function(){return this.br.numLeafs!==void 0?this.br.numLeafs:this._getDataFlattened().length}},{key:"getPageWidth",value:function(B){return this.getPageProp(B,"width")}},{key:"getPageHeight",value:function(B){return this.getPageProp(B,"height")}},{key:"getPageURI",value:function(B,O,L){if(this.getPageProp(B,"viewable",!0))return this.getPageProp(B,"uri");var F=this.br.options.unviewablePageURI;return F.startsWith(".")?this.br.options.imagesBaseURL+F:F}},{key:"getPageSide",value:function(B){return this.getPageProp(B,"pageSide")||(B%2==0?"R":"L")}},{key:"getPageNum",value:function(B){var O=this.getPageProp(B,"pageNum");return O===void 0?"n".concat(B):O}},{key:"getPageProp",value:function(B,O){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this._getDataProp(B,O,L)}},{key:"getSpreadIndices",value:function(B){return this.pageProgression=="rl"?this.getPageSide(B)=="R"?[B+1,B]:[B,B-1]:this.getPageSide(B)=="L"?[B,B+1]:[B-1,B]}},{key:"leafNumToIndex",value:function(B){var O=this._getDataFlattened().findIndex(function(L){return L.leafNum==B});return O>-1?O:B}},{key:"parsePageString",value:function(B){var O,L=/^leaf(\d+)/.exec(B);return L?(O=this.leafNumToIndex(parseInt(L[1],10)))===null&&(O=void 0):O=this.getPageIndex(B),O}},{key:"getPage",value:function(B){var O=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],L=this.getNumLeafs();if(O||!(B<0||B>=L))return B<0&&B>=-L&&(B+=L),new J(this,B%=L)}},{key:"pagesIterator",value:function(){var B=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=O.start,F=L===void 0?0:L,ee=O.end,le=ee===void 0?1/0:ee,ye=O.combineConsecutiveUnviewables,gt=ye!==void 0&&ye;return R().m(function bt(){var Tt,Ut;return R().w(function(Xt){for(;;)switch(Xt.n){case 0:F=Math.max(0,F),le=Math.min(le,B.getNumLeafs()),Tt=F;case 1:if(!(Tt<le)){Xt.n=4;break}if(Ut=B.getPage(Tt),!gt||!Ut.isConsecutiveUnviewable){Xt.n=2;break}return Xt.a(3,3);case 2:return Xt.n=3,Ut;case 3:Tt++,Xt.n=1;break;case 4:return Xt.a(2)}},bt)})()}},{key:"_getDataFlattened",value:function(){if(this._getDataFlattenedCached&&this._getDataFlattenedCached[1]===this.br.data.length)return this._getDataFlattenedCached[0];var B=null,O=null,L=0,F=this.br.data.flatMap(function(ee){return ee.map(function(le){return le.pageSide||(le.pageSide=B===null?ee.length===2?"L":"R":B==="L"?"R":"L"),B=le.pageSide,le.viewable===!1?le.unviewablesStart=O===null?O=L:O:O=null,L++,le})});return this._getDataFlattenedCached=[F,this.br.data.length],F}},{key:"_getDataProp",value:function(B,O){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,F=this._getDataFlattened();return isNaN(B)||B<0||B>=F.length||F[B][O]===void 0?L:F[B][O]}}])}(),J=function(){function B(O,L){q(this,B);var F=O._getDataProp(L,"ppi",O.ppi);this.ppi=Math.max(F<10?O.ppi:F,10),this.book=O,this.index=L,this.width=O.getPageWidth(L),this.widthInches=this.width/this.ppi,this.height=O.getPageHeight(L),this.heightInches=this.height/this.ppi,this.pageSide=O.getPageSide(L),this.leafNum=O._getDataProp(L,"leafNum",this.index),this.isViewable=O._getDataProp(L,"viewable",!0),this.unviewablesStart=O._getDataProp(L,"unviewablesStart")||null,this.isConsecutiveUnviewable=!this.isViewable&&this.unviewablesStart!=this.index,this._rawData=this.book._getDataFlattened()[this.index]}return ue(B,[{key:"makeViewable",value:function(){var O=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.isViewable!=O)if(O){this._rawData.viewable=!0,delete this._rawData.unviewablesStart;var L,F=H(this.book.pagesIterator({start:this.index+1}));try{for(F.s();!(L=F.n()).done;){var ee=L.value;if(ee.isViewable)break;ee._rawData.unviewablesStart=this.index+1}}catch(bt){F.e(bt)}finally{F.f()}}else{this._rawData.viewable=!1,this._rawData.unviewablesStart=this.prev&&!this.prev.isViewable?this.prev.unviewablesStart:this.index;var le,ye=H(this.book.pagesIterator({start:this.index+1}));try{for(ye.s();!(le=ye.n()).done;){var gt=le.value;if(!gt.isViewable)break;gt._rawData.unviewablesStart=this._rawData.unviewablesStart}}catch(bt){ye.e(bt)}finally{ye.f()}}}},{key:"prev",get:function(){return this.findPrev()}},{key:"next",get:function(){return this.findNext()}},{key:"left",get:function(){return this.book.pageProgression==="lr"?this.prev:this.next}},{key:"right",get:function(){return this.book.pageProgression==="lr"?this.next:this.prev}},{key:"spread",get:function(){return{left:this.pageSide==="L"?this:this.left,right:this.pageSide==="R"?this:this.right}}},{key:"goLeft",value:function(O){var L=this.book.pageProgression==="lr"?this.index-O:this.index+O;return this.book.getPage(L)}},{key:"goRight",value:function(O){var L=this.book.pageProgression==="lr"?this.index+O:this.index-O;return this.book.getPage(L)}},{key:"getURI",value:function(O,L){return this.book.getPageURI(this.index,O,L)}},{key:"getPageNum",value:function(){return this.book.getPageNum(this.index)}},{key:"getURISrcSet",value:function(O){for(var L=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ee=this.book.reduceSet,le=ee.floor(O),ye=[],gt=ee.decr(le);gt>=1;gt=ee.decr(gt))ye.push(gt);return ye.map(function(bt){return"".concat(L.getURI(bt,F)," ").concat(le/bt,"x")}).join(", ")}},{key:"findNext",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,L=O!==void 0&&O;return this.book.pagesIterator({start:this.index+1,combineConsecutiveUnviewables:L}).next().value}},{key:"findPrev",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,L=O!==void 0&&O;if(this.index!=0){if(L){if(this.isConsecutiveUnviewable)return this.book.getPage(this.unviewablesStart);var F=new B(this.book,this.index-1);return F.isViewable?F:F.findPrev({combineConsecutiveUnviewables:L})}return new B(this.book,this.index-1)}}},{key:"findLeft",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,L=O!==void 0&&O;return this.book.pageProgression==="lr"?this.findPrev({combineConsecutiveUnviewables:L}):this.findNext({combineConsecutiveUnviewables:L})}},{key:"findRight",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,L=O!==void 0&&O;return this.book.pageProgression==="lr"?this.findNext({combineConsecutiveUnviewables:L}):this.findPrev({combineConsecutiveUnviewables:L})}}])}(),Q=(a(8125),a(4554),a(4731),a(479),a(2811),a(3851),a(888),a(9696)),ne=a(420),ie=a(8900),W=(a(5914),a(2617)),V=a(7583);function se(B){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},se(B)}function Ae(){var B,O,L=typeof Symbol=="function"?Symbol:{},F=L.iterator||"@@iterator",ee=L.toStringTag||"@@toStringTag";function le(ci,zi,Ui,Pr){var tr=zi&&zi.prototype instanceof gt?zi:gt,Cr=Object.create(tr.prototype);return Oe(Cr,"_invoke",function(Nr,zr,Rr){var Hi,li,_i,lr=0,Wr=Rr||[],Qi=!1,Bi={p:0,n:0,v:B,a:er,f:er.bind(B,4),d:function(Ti,Si){return Hi=Ti,li=0,_i=B,Bi.n=Si,ye}};function er(Ti,Si){for(li=Ti,_i=Si,O=0;!Qi&&lr&&!Vi&&O<Wr.length;O++){var Vi,Ei=Wr[O],jr=Bi.p,Fr=Ei[2];Ti>3?(Vi=Fr===Si)&&(_i=Ei[(li=Ei[4])?5:(li=3,3)],Ei[4]=Ei[5]=B):Ei[0]<=jr&&((Vi=Ti<2&&jr<Ei[1])?(li=0,Bi.v=Si,Bi.n=Ei[1]):jr<Fr&&(Vi=Ti<3||Ei[0]>Si||Si>Fr)&&(Ei[4]=Ti,Ei[5]=Si,Bi.n=Fr,li=0))}if(Vi||Ti>1)return ye;throw Qi=!0,Si}return function(Ti,Si,Vi){if(lr>1)throw TypeError("Generator is already running");for(Qi&&Si===1&&er(Si,Vi),li=Si,_i=Vi;(O=li<2?B:_i)||!Qi;){Hi||(li?li<3?(li>1&&(Bi.n=-1),er(li,_i)):Bi.n=_i:Bi.v=_i);try{if(lr=2,Hi){if(li||(Ti="next"),O=Hi[Ti]){if(!(O=O.call(Hi,_i)))throw TypeError("iterator result is not an object");if(!O.done)return O;_i=O.value,li<2&&(li=0)}else li===1&&(O=Hi.return)&&O.call(Hi),li<2&&(_i=TypeError("The iterator does not provide a '"+Ti+"' method"),li=1);Hi=B}else if((O=(Qi=Bi.n<0)?_i:Nr.call(zr,Bi))!==ye)break}catch(Ei){Hi=B,li=1,_i=Ei}finally{lr=1}}return{value:O,done:Qi}}}(ci,Ui,Pr),!0),Cr}var ye={};function gt(){}function bt(){}function Tt(){}O=Object.getPrototypeOf;var Ut=[][F]?O(O([][F]())):(Oe(O={},F,function(){return this}),O),Xt=Tt.prototype=gt.prototype=Object.create(Ut);function gi(ci){return Object.setPrototypeOf?Object.setPrototypeOf(ci,Tt):(ci.__proto__=Tt,Oe(ci,ee,"GeneratorFunction")),ci.prototype=Object.create(Xt),ci}return bt.prototype=Tt,Oe(Xt,"constructor",Tt),Oe(Tt,"constructor",bt),bt.displayName="GeneratorFunction",Oe(Tt,ee,"GeneratorFunction"),Oe(Xt),Oe(Xt,ee,"Generator"),Oe(Xt,F,function(){return this}),Oe(Xt,"toString",function(){return"[object Generator]"}),(Ae=function(){return{w:le,m:gi}})()}function Oe(B,O,L,F){var ee=Object.defineProperty;try{ee({},"",{})}catch(le){ee=0}Oe=function(le,ye,gt,bt){function Tt(Ut,Xt){Oe(le,Ut,function(gi){return this._invoke(Ut,Xt,gi)})}ye?ee?ee(le,ye,{value:gt,enumerable:!bt,configurable:!bt,writable:!bt}):le[ye]=gt:(Tt("next",0),Tt("throw",1),Tt("return",2))},Oe(B,O,L,F)}function je(B,O,L,F,ee,le,ye){try{var gt=B[le](ye),bt=gt.value}catch(Tt){return void L(Tt)}gt.done?O(bt):Promise.resolve(bt).then(F,ee)}function De(B){return function(){var O=this,L=arguments;return new Promise(function(F,ee){var le=B.apply(O,L);function ye(bt){je(le,F,ee,ye,gt,"next",bt)}function gt(bt){je(le,F,ee,ye,gt,"throw",bt)}ye(void 0)})}}function Se(B,O){if(!(B instanceof O))throw new TypeError("Cannot call a class as a function")}function de(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,nt(F.key),F)}}function Xe(B,O,L){return O&&de(B.prototype,O),L&&de(B,L),Object.defineProperty(B,"prototype",{writable:!1}),B}function ht(B,O,L){return(O=nt(O))in B?Object.defineProperty(B,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):B[O]=L,B}function nt(B){var O=function(L){if(se(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(se(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return se(O)=="symbol"?O:O+""}var lt=function(){return Xe(function B(O){var L=this;Se(this,B),ht(this,"scaleCenter",{x:.5,y:.5}),ht(this,"_preventEvent",function(F){return F.preventDefault(),!1}),ht(this,"_pinchStart",De(Ae().m(function F(){var ee,le;return Ae().w(function(ye){for(;;)switch(ye.n){case 0:if(!L.pinching){ye.n=1;break}return ye.a(2);case 1:if(!(0,V.un)()){ye.n=3;break}return ye.n=2,(0,o.sleep)(0);case 2:if(!(L.touchesMonitor.touches<2)){ye.n=3;break}return ye.a(2);case 3:L.pinching=!0,L.oldScale=1,L.mode.$visibleWorld.classList.add("BRsmooth-zooming"),L.mode.$visibleWorld.style.willChange="transform",L.mode.autoFit="none",L.detachCtrlZoom(),(ee=(le=L.mode).detachScrollListeners)===null||ee===void 0||ee.call(le),L.interact.gesturable({listeners:{start:L._pinchStart,move:L._pinchMove,end:L._pinchEnd}});case 4:return ye.a(2)}},F)}))),ht(this,"_pinchMove",function(){var F=De(Ae().m(function ee(le){return Ae().w(function(ye){for(;;)switch(ye.n){case 0:if(L.pinching){ye.n=1;break}return ye.a(2);case 1:L.lastEvent={scale:le.scale,clientX:le.clientX,clientY:le.clientY},L.pinchMoveFrame||(L.pinchMoveFrame=L.bufferFn(L._drawPinchZoomFrame));case 2:return ye.a(2)}},ee)}));return function(ee){return F.apply(this,arguments)}}()),ht(this,"_pinchEnd",De(Ae().m(function F(){var ee,le;return Ae().w(function(ye){for(;;)switch(ye.n){case 0:if(L.pinching){ye.n=1;break}return ye.a(2);case 1:return L.pinching=!1,L.interact.gesturable({listeners:{start:L._pinchStart,end:L._pinchEnd}}),ye.n=2,L.pinchMoveFramePromise;case 2:L.scaleCenter={x:.5,y:.5},L.oldScale=1,L.mode.$visibleWorld.classList.remove("BRsmooth-zooming"),L.mode.$visibleWorld.style.willChange="auto",L.attachCtrlZoom(),(ee=(le=L.mode).attachScrollListeners)===null||ee===void 0||ee.call(le);case 3:return ye.a(2)}},F)}))),ht(this,"_drawPinchZoomFrame",De(Ae().m(function F(){var ee,le;return Ae().w(function(ye){for(;;)switch(ye.n){case 0:if(L.pinching){ye.n=1;break}return L.pinchMoveFrame=null,ye.a(2);case 1:if(L.mode.$container.style.overflow="hidden",L.pinchMoveFramePromiseRes=null,L.pinchMoveFramePromise=new Promise(function(gt){return L.pinchMoveFramePromiseRes=gt}),L.updateScaleCenter({clientX:L.lastEvent.clientX,clientY:L.lastEvent.clientY}),ee=L.mode.scale,le=ee*L.lastEvent.scale/L.oldScale,ee==le){ye.n=2;break}return L.mode.scale=le,ye.n=2,L.pinchMoveFramePromise;case 2:L.mode.$container.style.overflow="auto",L.oldScale=L.lastEvent.scale,L.pinchMoveFrame=null;case 3:return ye.a(2)}},F)}))),ht(this,"_dragMove",function(){var F=De(Ae().m(function ee(le){return Ae().w(function(ye){for(;;)switch(ye.n){case 0:if(!L.pinching){ye.n=1;break}return ye.n=1,L._pinchEnd();case 1:L.mode.$container.scrollTop-=le.dy,L.mode.$container.scrollLeft-=le.dx;case 2:return ye.a(2)}},ee)}));return function(ee){return F.apply(this,arguments)}}()),ht(this,"_handleCtrlWheel",function(F){if(F.ctrlKey){F.preventDefault();var ee=/Mac/i.test(navigator.platform)?.045:.03;L.updateScaleCenter(F),L.mode.autoFit="none",L.mode.scale*=1-Math.sign(F.deltaY)*ee}}),this.mode=O,this.pinching=!1,this.pinchMoveFrame=null,this.pinchMoveFramePromise=Promise.resolve(),this.oldScale=1,this.lastEvent=null,this.attached=!1,this.bufferFn=window.requestAnimationFrame.bind(window)},[{key:"attach",value:function(){this.attached||(this.attachCtrlZoom(),this.mode.$container.addEventListener("gesturestart",this._pinchStart),this.mode.$container.addEventListener("gesturechange",this._preventEvent),this.mode.$container.addEventListener("gestureend",this._pinchEnd),(0,V.un)()&&(this.touchesMonitor=new ot(this.mode.$container),this.touchesMonitor.attach()),this.mode.$container.style.touchAction="pan-x pan-y",this.interact=W(this.mode.$container),this.interact.gesturable({listeners:{start:this._pinchStart,end:this._pinchEnd}}),(0,V.ij)()&&(this.mode.$container.style.touchAction="none",this.interact.draggable({inertia:{resistance:2,minSpeed:100,allowResume:!0},listeners:{move:this._dragMove}})),this.attached=!0)}},{key:"detach",value:function(){var B,O;this.detachCtrlZoom(),this.mode.$container.removeEventListener("gesturestart",this._pinchStart),this.mode.$container.removeEventListener("gesturechange",this._preventEvent),this.mode.$container.removeEventListener("gestureend",this._pinchEnd),(B=this.touchesMonitor)===null||B===void 0||(O=B.detach)===null||O===void 0||O.call(B),this.interact.unset(),W.removeDocument(document),this.attached=!1}},{key:"attachCtrlZoom",value:function(){window.addEventListener("wheel",this._handleCtrlWheel,{passive:!1})}},{key:"detachCtrlZoom",value:function(){window.removeEventListener("wheel",this._handleCtrlWheel)}},{key:"updateScaleCenter",value:function(B){var O=B.clientX,L=B.clientY,F=this.mode.htmlDimensionsCacher.boundingClientRect;this.scaleCenter={x:(O-F.left)/this.mode.htmlDimensionsCacher.clientWidth,y:(L-F.top)/this.mode.htmlDimensionsCacher.clientHeight}}},{key:"updateViewportOnZoom",value:function(B,O){var L,F=this.mode.$container,ee=F.scrollTop,le=F.scrollLeft,ye=this.mode.htmlDimensionsCacher.clientWidth,gt=this.mode.htmlDimensionsCacher.clientHeight,bt=B/O,Tt=this.scaleCenter.x,Ut=this.scaleCenter.y,Xt=bt*(le+Tt*ye),gi=bt*(ee+Ut*gt);F.scrollTop=gi-Ut*gt,F.scrollLeft=Xt-Tt*ye,(L=this.pinchMoveFramePromiseRes)===null||L===void 0||L.call(this)}}])}(),ot=function(){return Xe(function B(O){var L=this;Se(this,B),ht(this,"_updateTouchCount",function(F){L.touches=F.touches.length}),this.container=O,this.touches=0},[{key:"attach",value:function(){this.container.addEventListener("touchstart",this._updateTouchCount),this.container.addEventListener("touchend",this._updateTouchCount)}},{key:"detach",value:function(){this.container.removeEventListener("touchstart",this._updateTouchCount),this.container.removeEventListener("touchend",this._updateTouchCount)}}])}();function ve(B){return ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},ve(B)}function pe(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,xe(F.key),F)}}function tt(B,O,L){return(O=xe(O))in B?Object.defineProperty(B,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):B[O]=L,B}function xe(B){var O=function(L){if(ve(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(ve(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return ve(O)=="symbol"?O:O+""}var Ce=function(){return B=function L(F){var ee=this;(function(le,ye){if(!(le instanceof ye))throw new TypeError("Cannot call a class as a function")})(this,L),tt(this,"clientWidth",100),tt(this,"clientHeight",100),tt(this,"boundingClientRect",{top:0,left:0}),tt(this,"updateClientSizes",function(){var le=ee.element.getBoundingClientRect();ee.clientWidth=ee.element.clientWidth,ee.clientHeight=ee.element.clientHeight,ee.boundingClientRect.top=le.top,ee.boundingClientRect.left=le.left}),tt(this,"debouncedUpdateClientSizes",(0,o.debounce)(this.updateClientSizes,150,!1)),this.element=F},O=[{key:"attachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).addEventListener("resize",this.debouncedUpdateClientSizes)}},{key:"detachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).removeEventListener("resize",this.debouncedUpdateClientSizes)}}],O&&pe(B.prototype,O),Object.defineProperty(B,"prototype",{writable:!1}),B;var B,O}();function Ue(B){return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Ue(B)}function Te(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,it(F.key),F)}}function it(B){var O=function(L){if(Ue(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(Ue(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return Ue(O)=="symbol"?O:O+""}var Me=function(){return B=function L(F,ee){var le,ye,gt,bt=this;(function(Tt,Ut){if(!(Tt instanceof Ut))throw new TypeError("Cannot call a class as a function")})(this,L),le=this,gt=function(){bt.element.classList.add(bt.className),clearTimeout(bt.timeout),bt.timeout=setTimeout(function(){bt.element.classList.remove(bt.className)},600)},(ye=it(ye="onScroll"))in le?Object.defineProperty(le,ye,{value:gt,enumerable:!0,configurable:!0,writable:!0}):le[ye]=gt,this.element=F,this.className=ee,this.timeout=null},(O=[{key:"attach",value:function(){this.element.addEventListener("scroll",this.onScroll)}},{key:"detach",value:function(){this.element.removeEventListener("scroll",this.onScroll)}}])&&Te(B.prototype,O),Object.defineProperty(B,"prototype",{writable:!1}),B;var B,O}();function mt(B){return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},mt(B)}function He(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,Ot(F.key),F)}}function We(B,O,L){return O&&He(B.prototype,O),L&&He(B,L),Object.defineProperty(B,"prototype",{writable:!1}),B}function yt(B,O,L){return(O=Ot(O))in B?Object.defineProperty(B,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):B[O]=L,B}function Ot(B){var O=function(L){if(mt(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(mt(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return mt(O)=="symbol"?O:O+""}var Ft,rt=We(function B(O){var L=this;(function(F,ee){if(!(F instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,B),yt(this,"screenDPI",(0,o.calcScreenDPI)()),yt(this,"worldUnitsToRenderedPixels",function(F){return F*L.screenDPI}),yt(this,"renderedPixelsToWorldUnits",function(F){return F/L.screenDPI}),yt(this,"renderedPixelsToVisiblePixels",function(F){return F*L.mode.scale}),yt(this,"visiblePixelsToRenderedPixels",function(F){return F/L.mode.scale}),yt(this,"worldUnitsToVisiblePixels",function(F){return L.renderedPixelsToVisiblePixels(L.worldUnitsToRenderedPixels(F))}),yt(this,"visiblePixelsToWorldUnits",function(F){return L.renderedPixelsToWorldUnits(L.visiblePixelsToRenderedPixels(F))}),this.mode=O});function oe(B){return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},oe(B)}function Pe(B){return function(O){if(Array.isArray(O))return Re(O)}(B)||st(B)||_e(B)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ze(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,ce(F.key),F)}}function Je(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(Je=function(){return!!B})()}function qe(B,O){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,F){return L.__proto__=F,L},qe(B,O)}function M(){M=function(){return B};var B={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(O,L){["method","field"].forEach(function(F){L.forEach(function(ee){ee.kind===F&&ee.placement==="own"&&this.defineClassElement(O,ee)},this)},this)},initializeClassElements:function(O,L){var F=O.prototype;["method","field"].forEach(function(ee){L.forEach(function(le){var ye=le.placement;if(le.kind===ee&&(ye==="static"||ye==="prototype")){var gt=ye==="static"?O:F;this.defineClassElement(gt,le)}},this)},this)},defineClassElement:function(O,L){var F=L.descriptor;if(L.kind==="field"){var ee=L.initializer;F={enumerable:F.enumerable,writable:F.writable,configurable:F.configurable,value:ee===void 0?void 0:ee.call(O)}}Object.defineProperty(O,L.key,F)},decorateClass:function(O,L){var F=[],ee=[],le={static:[],prototype:[],own:[]};if(O.forEach(function(gt){this.addElementPlacement(gt,le)},this),O.forEach(function(gt){if(!Ge(gt))return F.push(gt);var bt=this.decorateElement(gt,le);F.push(bt.element),F.push.apply(F,bt.extras),ee.push.apply(ee,bt.finishers)},this),!L)return{elements:F,finishers:ee};var ye=this.decorateConstructor(F,L);return ee.push.apply(ee,ye.finishers),ye.finishers=ee,ye},addElementPlacement:function(O,L,F){var ee=L[O.placement];if(!F&&ee.indexOf(O.key)!==-1)throw new TypeError("Duplicated element ("+O.key+")");ee.push(O.key)},decorateElement:function(O,L){for(var F=[],ee=[],le=O.decorators,ye=le.length-1;ye>=0;ye--){var gt=L[O.placement];gt.splice(gt.indexOf(O.key),1);var bt=this.fromElementDescriptor(O),Tt=this.toElementFinisherExtras((0,le[ye])(bt)||bt);O=Tt.element,this.addElementPlacement(O,L),Tt.finisher&&ee.push(Tt.finisher);var Ut=Tt.extras;if(Ut){for(var Xt=0;Xt<Ut.length;Xt++)this.addElementPlacement(Ut[Xt],L);F.push.apply(F,Ut)}}return{element:O,finishers:ee,extras:F}},decorateConstructor:function(O,L){for(var F=[],ee=L.length-1;ee>=0;ee--){var le=this.fromClassDescriptor(O),ye=this.toClassDescriptor((0,L[ee])(le)||le);if(ye.finisher!==void 0&&F.push(ye.finisher),ye.elements!==void 0){O=ye.elements;for(var gt=0;gt<O.length-1;gt++)for(var bt=gt+1;bt<O.length;bt++)if(O[gt].key===O[bt].key&&O[gt].placement===O[bt].placement)throw new TypeError("Duplicated element ("+O[gt].key+")")}}return{elements:O,finishers:F}},fromElementDescriptor:function(O){var L={kind:O.kind,key:O.key,placement:O.placement,descriptor:O.descriptor};return Object.defineProperty(L,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),O.kind==="field"&&(L.initializer=O.initializer),L},toElementDescriptors:function(O){if(O!==void 0)return(L=O,function(F){if(Array.isArray(F))return F}(L)||st(L)||_e(L)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(F){var ee=this.toElementDescriptor(F);return this.disallowProperty(F,"finisher","An element descriptor"),this.disallowProperty(F,"extras","An element descriptor"),ee},this);var L},toElementDescriptor:function(O){var L=O.kind+"";if(L!=="method"&&L!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+L+'"');var F=ce(O.key),ee=O.placement+"";if(ee!=="static"&&ee!=="prototype"&&ee!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+ee+'"');var le=O.descriptor;this.disallowProperty(O,"elements","An element descriptor");var ye={kind:L,key:F,placement:ee,descriptor:Object.assign({},le)};return L!=="field"?this.disallowProperty(O,"initializer","A method descriptor"):(this.disallowProperty(le,"get","The property descriptor of a field descriptor"),this.disallowProperty(le,"set","The property descriptor of a field descriptor"),this.disallowProperty(le,"value","The property descriptor of a field descriptor"),ye.initializer=O.initializer),ye},toElementFinisherExtras:function(O){return{element:this.toElementDescriptor(O),finisher:kt(O,"finisher"),extras:this.toElementDescriptors(O.extras)}},fromClassDescriptor:function(O){var L={kind:"class",elements:O.map(this.fromElementDescriptor,this)};return Object.defineProperty(L,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),L},toClassDescriptor:function(O){var L=O.kind+"";if(L!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+L+'"');this.disallowProperty(O,"key","A class descriptor"),this.disallowProperty(O,"placement","A class descriptor"),this.disallowProperty(O,"descriptor","A class descriptor"),this.disallowProperty(O,"initializer","A class descriptor"),this.disallowProperty(O,"extras","A class descriptor");var F=kt(O,"finisher");return{elements:this.toElementDescriptors(O.elements),finisher:F}},runClassFinishers:function(O,L){for(var F=0;F<L.length;F++){var ee=(0,L[F])(O);if(ee!==void 0){if(typeof ee!="function")throw new TypeError("Finishers must return a constructor.");O=ee}}return O},disallowProperty:function(O,L,F){if(O[L]!==void 0)throw new TypeError(F+" can't have a ."+L+" property.")}};return B}function be(B){var O,L=ce(B.key);B.kind==="method"?O={value:B.value,writable:!0,configurable:!0,enumerable:!1}:B.kind==="get"?O={get:B.value,configurable:!0,enumerable:!1}:B.kind==="set"?O={set:B.value,configurable:!0,enumerable:!1}:B.kind==="field"&&(O={configurable:!0,writable:!0,enumerable:!0});var F={kind:B.kind==="field"?"field":"method",key:L,placement:B.static?"static":B.kind==="field"?"own":"prototype",descriptor:O};return B.decorators&&(F.decorators=B.decorators),B.kind==="field"&&(F.initializer=B.value),F}function he(B,O){B.descriptor.get!==void 0?O.descriptor.get=B.descriptor.get:O.descriptor.set=B.descriptor.set}function Ge(B){return B.decorators&&B.decorators.length}function vt(B){return B!==void 0&&!(B.value===void 0&&B.writable===void 0)}function kt(B,O){var L=B[O];if(L!==void 0&&typeof L!="function")throw new TypeError("Expected '"+O+"' to be a function");return L}function ce(B){var O=function(L){if(oe(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(oe(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return oe(O)=="symbol"?O:O+""}function _e(B,O){if(B){if(typeof B=="string")return Re(B,O);var L={}.toString.call(B).slice(8,-1);return L==="Object"&&B.constructor&&(L=B.constructor.name),L==="Map"||L==="Set"?Array.from(B):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?Re(B,O):void 0}}function Re(B,O){(O==null||O>B.length)&&(O=B.length);for(var L=0,F=Array(O);L<O;L++)F[L]=B[L];return F}function st(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}function xt(B,O,L,F){var ee=Mt(Bt(1&F?B.prototype:B),O,L);return 2&F&&typeof ee=="function"?function(le){return ee.apply(L,le)}:ee}function Mt(){return Mt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(B,O,L){var F=function(le,ye){for(;!{}.hasOwnProperty.call(le,ye)&&(le=Bt(le))!==null;);return le}(B,O);if(F){var ee=Object.getOwnPropertyDescriptor(F,O);return ee.get?ee.get.call(arguments.length<3?B:L):ee.value}},Mt.apply(null,arguments)}function Bt(B){return Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},Bt(B)}var Rt,qt,Be,me,ze,Ye=(Rt=[(0,Q.EM)("br-mode-1up")],qt=ne.WF,Be=M(),me=function(B,O){var L=function(F){function ee(le,ye){var gt;return function(bt,Tt){if(!(bt instanceof Tt))throw new TypeError("Cannot call a class as a function")}(this,ee),gt=function(bt,Tt,Ut){return Tt=Bt(Tt),function(Xt,gi){if(gi&&(oe(gi)=="object"||typeof gi=="function"))return gi;if(gi!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ci){if(ci===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ci}(Xt)}(bt,Je()?Reflect.construct(Tt,Ut||[],Bt(bt).constructor):Tt.apply(bt,Ut))}(this,ee),B(gt),gt.book=le,gt.br=ye,gt}return function(le,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(ye&&ye.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Object.defineProperty(le,"prototype",{writable:!1}),ye&&qe(le,ye)}(ee,F),function(le,ye,gt){return ye&&Ze(le.prototype,ye),gt&&Ze(le,gt),Object.defineProperty(le,"prototype",{writable:!1}),le}(ee)}(O);return{F:L,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,Q.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",decorators:[(0,Q.MZ)({type:Array})],key:"pages",value:function(){return[]}},{kind:"field",decorators:[(0,Q.MZ)({type:Object})],key:"pageTops",value:function(){return{}}},{kind:"field",key:"coordSpace",value:function(){return new rt(this)}},{kind:"field",decorators:[(0,Q.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",decorators:[(0,Q.MZ)({type:Object})],key:"visibleRegion",value:function(){return{top:0,left:0,width:100,height:100}}},{kind:"field",decorators:[(0,Q.MZ)({type:Array,hasChanged:o.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"field",decorators:[(0,Q.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",decorators:[(0,Q.P)(".br-mode-1up__world")],key:"$world",value:void 0},{kind:"field",key:"worldDimensions",value:function(){return{width:100,height:100}}},{kind:"get",key:"worldStyle",value:function(){var F=this.coordSpace.worldUnitsToRenderedPixels;return{width:F(this.worldDimensions.width)+"px",height:F(this.worldDimensions.height)+"px"}}},{kind:"get",key:"$container",value:function(){return this}},{kind:"field",decorators:[(0,Q.P)(".br-mode-1up__visible-world")],key:"$visibleWorld",value:void 0},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new Ce(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new lt(this)}},{kind:"field",key:"scrollClassAdder",value:function(){return new Me(this,"BRscrolling-active")}},{kind:"field",key:"SPACING_IN",value:function(){return .2}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"method",key:"jumpToIndex",value:function(F){var ee=this,le=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).smooth,ye=le!==void 0&&le;ye&&(this.style.scrollBehavior="smooth"),this.scrollTop=this.coordSpace.worldUnitsToVisiblePixels(this.pageTops[F]-this.SPACING_IN/2),ye&&setTimeout(function(){return ee.style.scrollBehavior=""},100)}},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(F){xt(L,"firstUpdated",this,3)([F]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"initFirstRender",value:function(F){var ee=this.book.getPage(F);this.scale=this.computeDefaultScale(ee)}},{kind:"method",key:"updated",value:function(F){if(F.has("book")&&this.updatePages(),F.has("pages")&&(this.worldDimensions=this.computeWorldDimensions(),this.pageTops=this.computePageTops(this.pages,this.SPACING_IN)),F.has("visibleRegion")&&(this.visiblePages=this.computeVisiblePages()),F.has("visiblePages")&&(this.throttledUpdateRenderedPages(),this.visiblePages.length&&(this.br.displayedIndices=this.visiblePages.map(function(le){return le.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]))),F.has("scale")){var ee=F.get("scale");this.$visibleWorld.style.transform="scale(".concat(this.scale,")"),this.smoothZoomer.updateViewportOnZoom(this.scale,ee),this.updateVisibleRegion(),this.$world.style.transform="scale(".concat(this.scale,")")}}},{kind:"method",key:"updatePages",value:function(){this.pages=(0,o.genToArray)(this.book.pagesIterator({combineConsecutiveUnviewables:!0}))}},{kind:"method",key:"connectedCallback",value:function(){xt(L,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.attachScrollListeners(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.detachScrollListeners(),this.smoothZoomer.detach(),xt(L,"disconnectedCallback",this,3)([])}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var F=this;return(0,ne.qy)(Ft||(Ft=function(ee,le){return le||(le=ee.slice(0)),Object.freeze(Object.defineProperties(ee,{raw:{value:Object.freeze(le)}}))}([`
      <div class="br-mode-1up__world" style=`,`></div>
      <div class="br-mode-1up__visible-world">
        `,`
      </div>`])),(0,ie.W)(this.worldStyle),this.renderedPages.map(function(ee){return F.renderPage(ee)}))}},{kind:"field",key:"createPageContainer",value:function(){var F=this;return function(ee){return F.pageContainerCache[ee.index]||(F.pageContainerCache[ee.index]=F.br._createPageContainer(ee.index))}}},{kind:"field",key:"renderPage",value:function(){var F=this;return function(ee){var le=F.coordSpace.worldUnitsToRenderedPixels,ye=F.coordSpace.worldUnitsToVisiblePixels,gt=F.coordSpace.visiblePixelsToWorldUnits(F.htmlDimensionsCacher.clientWidth),bt=le(ee.widthInches),Tt=le(ee.heightInches),Ut=Math.max(F.SPACING_IN,(gt-ee.widthInches)/2),Xt=F.pageTops[ee.index],gi="translate(".concat(le(Ut),"px, ").concat(le(Xt),"px)"),ci=F.createPageContainer(ee).update({dimensions:{width:bt,height:Tt,top:0,left:0},reduce:ee.width/ye(ee.widthInches)}).$container[0];ci.style.transform=gi;var zi=ci.classList.contains("BRpage-visible");return ci.classList.toggle("BRpage-visible",F.visiblePages.includes(ee))&&!zi&&F.br.trigger("pageVisible",{pageContainerEl:ci}),ci}}},{kind:"field",key:"updateVisibleRegion",value:function(){var F=this;return function(){var ee=F.scrollTop,le=F.scrollLeft,ye=F.htmlDimensionsCacher.clientWidth,gt=F.htmlDimensionsCacher.clientHeight,bt=F.coordSpace.visiblePixelsToWorldUnits;F.visibleRegion={top:bt(ee),height:bt(gt),left:bt(le),width:bt(ye)}}}},{kind:"method",key:"computeRenderedPages",value:function(){var F,ee;return[(F=this.visiblePages[0])===null||F===void 0?void 0:F.prev].concat(Pe(this.visiblePages),[(ee=this.visiblePages[this.visiblePages.length-1])===null||ee===void 0?void 0:ee.next]).filter(function(le){return le}).slice(0,10)}},{kind:"field",key:"throttledUpdateRenderedPages",value:function(){var F=this;return(0,o.throttle)(function(){F.renderedPages=F.computeRenderedPages(),F.requestUpdate()},100,null)}},{kind:"method",key:"computePageTops",value:function(F,ee){var le,ye={},gt=ee,bt=function(Ut,Xt){var gi=typeof Symbol<"u"&&Ut[Symbol.iterator]||Ut["@@iterator"];if(!gi){if(Array.isArray(Ut)||(gi=_e(Ut))||Xt&&Ut&&typeof Ut.length=="number"){gi&&(Ut=gi);var ci=0,zi=function(){};return{s:zi,n:function(){return ci>=Ut.length?{done:!0}:{done:!1,value:Ut[ci++]}},e:function(Cr){throw Cr},f:zi}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ui,Pr=!0,tr=!1;return{s:function(){gi=gi.call(Ut)},n:function(){var Cr=gi.next();return Pr=Cr.done,Cr},e:function(Cr){tr=!0,Ui=Cr},f:function(){try{Pr||gi.return==null||gi.return()}finally{if(tr)throw Ui}}}}(F);try{for(bt.s();!(le=bt.n()).done;){var Tt=le.value;ye[Tt.index]=gt,gt+=Tt.heightInches+ee}}catch(Ut){bt.e(Ut)}finally{bt.f()}return ye}},{kind:"method",key:"computeDefaultScale",value:function(F){var ee=this.coordSpace.renderedPixelsToWorldUnits(this.clientWidth);return Math.min(1,ee/(F.widthInches+2*this.SPACING_IN))||1}},{kind:"method",key:"computeWorldDimensions",value:function(){return{width:Math.max.apply(Math,Pe(this.pages.map(function(F){return F.widthInches})))+2*this.SPACING_IN,height:(0,o.sum)(this.pages.map(function(F){return F.heightInches}))+(this.pages.length+1)*this.SPACING_IN}}},{kind:"method",key:"computeVisiblePages",value:function(){var F=this;return this.pages.filter(function(ee){var le=F.pageTops[ee.index],ye=le+ee.heightInches,gt=F.visibleRegion.top;return le<=gt+F.visibleRegion.height&&ye>=gt})}},{kind:"field",key:"attachScrollListeners",value:function(){var F=this;return function(){F.addEventListener("scroll",F.updateVisibleRegion),F.scrollClassAdder.attach()}}},{kind:"field",key:"detachScrollListeners",value:function(){var F=this;return function(){F.removeEventListener("scroll",F.updateVisibleRegion),F.scrollClassAdder.detach()}}}]}}(function(B){Be.initializeInstanceElements(B,ze.elements)},qt),ze=Be.decorateClass(function(B){for(var O=[],L=function(ye){return ye.kind==="method"&&ye.key===le.key&&ye.placement===le.placement},F=0;F<B.length;F++){var ee,le=B[F];if(le.kind==="method"&&(ee=O.find(L)))if(vt(le.descriptor)||vt(ee.descriptor)){if(Ge(le)||Ge(ee))throw new ReferenceError("Duplicated methods ("+le.key+") can't be decorated.");ee.descriptor=le.descriptor}else{if(Ge(le)){if(Ge(ee))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+le.key+").");ee.decorators=le.decorators}he(le,ee)}else O.push(le)}return O}(me.d.map(be)),Rt),Be.initializeClassElements(me.F,ze.elements),Be.runClassFinishers(me.F,ze.finishers)),ut=a(1669);function ft(B){return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},ft(B)}function dt(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,Fe(F.key),F)}}function at(B,O,L){return(O=Fe(O))in B?Object.defineProperty(B,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):B[O]=L,B}function Fe(B){var O=function(L){if(ft(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(ft(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return ft(O)=="symbol"?O:O+""}function pt(B,O){return B.split(" ").map(function(L){return L+O}).join(" ")}function Ct(B){var O,L;return B.clientX!==void 0?(O=B.clientX,L=B.clientY):B.screenX!==void 0?(O=B.screenX,L=B.screenY):B.targetTouches!==void 0?(O=B.targetTouches[0].pageX,L=B.targetTouches[0].pageY):B.originalEvent===void 0?console.error("don't understand x and y for "+B.type,B):B.originalEvent.clientX!==void 0?(O=B.originalEvent.clientX,L=B.originalEvent.clientY):B.originalEvent.screenX!==void 0?(O=B.originalEvent.screenX,L=B.originalEvent.screenY):B.originalEvent.targetTouches!==void 0&&(O=B.originalEvent.targetTouches[0].pageX,L=B.originalEvent.targetTouches[0].pageY),{left:O,top:L}}var Nt={dragSelector:">:first",acceptPropagatedEvent:!0,preventDefault:!0,dragstart:"mousedown touchstart",dragcontinue:"mousemove touchmove",dragend:"mouseup touchend",dragMinDistance:5,namespace:".ds",scrollWindow:!1},ke=function(){return function(B,O){return O&&dt(B.prototype,O),Object.defineProperty(B,"prototype",{writable:!1}),B}(function B(O){var L=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(ee,le){if(!(ee instanceof le))throw new TypeError("Cannot call a class as a function")})(this,B),at(this,"_dragStartHandler",function(ee){return!!L._shouldAbort()||!(ee.which>1||!L.settings.acceptPropagatedEvent&&ee.target!=L.handling_element[0])&&(L.lastCoord=L.firstCoord=Ct(ee),L.handling_element.on(L.settings.dragcontinue,L._dragContinueHandler),L.settings.dragend.split(" ").forEach(function(le){L.handling_element[0].addEventListener(le,L._dragEndHandler,!0)}),L.settings.preventDefault?(ee.preventDefault(),!1):void 0)}),at(this,"_dragContinueHandler",function(ee){if(L._shouldAbort())return!0;var le=Ct(ee),ye=le.left-L.lastCoord.left,gt=le.top-L.lastCoord.top,bt=L.settings.scrollWindow?ut(window):L.handling_element;return bt.scrollLeft(bt.scrollLeft()-ye),bt.scrollTop(bt.scrollTop()-gt),L.lastCoord=le,L.settings.preventDefault?(ee.preventDefault(),!1):void 0}),at(this,"_dragEndHandler",function(ee){if(L._shouldAbort())return!0;L.handling_element.off(L.settings.dragcontinue).off(L.settings.dragend),L.settings.dragend.split(" ").forEach(function(gt){L.handling_element[0].removeEventListener(gt,L._dragEndHandler,!0)});var le={left:Math.abs(L.lastCoord.left-L.firstCoord.left),top:Math.abs(L.lastCoord.top-L.firstCoord.top)},ye=Math.max(le.left,le.top);return L.settings.preventDefault&&ye>L.settings.dragMinDistance?(ee.preventDefault(),ee.stopImmediatePropagation(),ee.stopPropagation(),!1):void 0}),this.handling_element=ut(O),this.settings=ut.extend({},Nt,F||{}),this.firstCoord={left:0,top:0},this.lastCoord={left:0,top:0},this.settings.dragstart=pt(this.settings.dragstart,this.settings.namespace),this.settings.dragcontinue=pt(this.settings.dragcontinue,this.settings.namespace),this.handling_element.find(this.settings.dragSelector).on(this.settings.dragstart,this._dragStartHandler)},[{key:"_shouldAbort",value:function(){return"ontouchstart"in window||"msmaxtouchpoints"in window.navigator}}])}();function It(B){return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},It(B)}function Dt(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,ui(F.key),F)}}function Et(B,O,L){return(O=ui(O))in B?Object.defineProperty(B,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):B[O]=L,B}function ui(B){var O=function(L){if(It(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(It(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return It(O)=="symbol"?O:O+""}var ki=function(){return function(B,O){return O&&Dt(B.prototype,O),Object.defineProperty(B,"prototype",{writable:!1}),B}(function B(){(function(O,L){if(!(O instanceof L))throw new TypeError("Cannot call a class as a function")})(this,B),Et(this,"br",void 0),Et(this,"book",void 0)},[{key:"parsePageSpecifier",value:function(B){var O=this.book.pageProgression=="rl";switch(B){case"left":return O?this.parsePageSpecifier("next"):this.parsePageSpecifier("prev");case"right":return O?this.parsePageSpecifier("prev"):this.parsePageSpecifier("next");case"next":return this.br.firstIndex<this.book.getNumLeafs()-1?this.book.getPage(this.br.firstIndex+1):void 0;case"prev":return this.br.firstIndex>=1?this.book.getPage(this.br.firstIndex-1):void 0;default:return this.book.getPage(B)}}}])}(),vi=a(1669);function nr(B){return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},nr(B)}function Li(){var B,O,L=typeof Symbol=="function"?Symbol:{},F=L.iterator||"@@iterator",ee=L.toStringTag||"@@toStringTag";function le(ci,zi,Ui,Pr){var tr=zi&&zi.prototype instanceof gt?zi:gt,Cr=Object.create(tr.prototype);return Ri(Cr,"_invoke",function(Nr,zr,Rr){var Hi,li,_i,lr=0,Wr=Rr||[],Qi=!1,Bi={p:0,n:0,v:B,a:er,f:er.bind(B,4),d:function(Ti,Si){return Hi=Ti,li=0,_i=B,Bi.n=Si,ye}};function er(Ti,Si){for(li=Ti,_i=Si,O=0;!Qi&&lr&&!Vi&&O<Wr.length;O++){var Vi,Ei=Wr[O],jr=Bi.p,Fr=Ei[2];Ti>3?(Vi=Fr===Si)&&(_i=Ei[(li=Ei[4])?5:(li=3,3)],Ei[4]=Ei[5]=B):Ei[0]<=jr&&((Vi=Ti<2&&jr<Ei[1])?(li=0,Bi.v=Si,Bi.n=Ei[1]):jr<Fr&&(Vi=Ti<3||Ei[0]>Si||Si>Fr)&&(Ei[4]=Ti,Ei[5]=Si,Bi.n=Fr,li=0))}if(Vi||Ti>1)return ye;throw Qi=!0,Si}return function(Ti,Si,Vi){if(lr>1)throw TypeError("Generator is already running");for(Qi&&Si===1&&er(Si,Vi),li=Si,_i=Vi;(O=li<2?B:_i)||!Qi;){Hi||(li?li<3?(li>1&&(Bi.n=-1),er(li,_i)):Bi.n=_i:Bi.v=_i);try{if(lr=2,Hi){if(li||(Ti="next"),O=Hi[Ti]){if(!(O=O.call(Hi,_i)))throw TypeError("iterator result is not an object");if(!O.done)return O;_i=O.value,li<2&&(li=0)}else li===1&&(O=Hi.return)&&O.call(Hi),li<2&&(_i=TypeError("The iterator does not provide a '"+Ti+"' method"),li=1);Hi=B}else if((O=(Qi=Bi.n<0)?_i:Nr.call(zr,Bi))!==ye)break}catch(Ei){Hi=B,li=1,_i=Ei}finally{lr=1}}return{value:O,done:Qi}}}(ci,Ui,Pr),!0),Cr}var ye={};function gt(){}function bt(){}function Tt(){}O=Object.getPrototypeOf;var Ut=[][F]?O(O([][F]())):(Ri(O={},F,function(){return this}),O),Xt=Tt.prototype=gt.prototype=Object.create(Ut);function gi(ci){return Object.setPrototypeOf?Object.setPrototypeOf(ci,Tt):(ci.__proto__=Tt,Ri(ci,ee,"GeneratorFunction")),ci.prototype=Object.create(Xt),ci}return bt.prototype=Tt,Ri(Xt,"constructor",Tt),Ri(Tt,"constructor",bt),bt.displayName="GeneratorFunction",Ri(Tt,ee,"GeneratorFunction"),Ri(Xt),Ri(Xt,ee,"Generator"),Ri(Xt,F,function(){return this}),Ri(Xt,"toString",function(){return"[object Generator]"}),(Li=function(){return{w:le,m:gi}})()}function Ri(B,O,L,F){var ee=Object.defineProperty;try{ee({},"",{})}catch(le){ee=0}Ri=function(le,ye,gt,bt){function Tt(Ut,Xt){Ri(le,Ut,function(gi){return this._invoke(Ut,Xt,gi)})}ye?ee?ee(le,ye,{value:gt,enumerable:!bt,configurable:!bt,writable:!bt}):le[ye]=gt:(Tt("next",0),Tt("throw",1),Tt("return",2))},Ri(B,O,L,F)}function xi(B,O,L,F,ee,le,ye){try{var gt=B[le](ye),bt=gt.value}catch(Tt){return void L(Tt)}gt.done?O(bt):Promise.resolve(bt).then(F,ee)}function ai(B){return function(){var O=this,L=arguments;return new Promise(function(F,ee){var le=B.apply(O,L);function ye(bt){xi(le,F,ee,ye,gt,"next",bt)}function gt(bt){xi(le,F,ee,ye,gt,"throw",bt)}ye(void 0)})}}function wi(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,Gi(F.key),F)}}function _r(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(_r=function(){return!!B})()}function Jr(B){return Jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},Jr(B)}function pr(B,O){return pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,F){return L.__proto__=F,L},pr(B,O)}function Gi(B){var O=function(L){if(nr(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(nr(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return nr(O)=="symbol"?O:O+""}var Dr,ji,Ii,ar,Oi,Tr,ge,wt,Ht=function(B){function O(L,F){var ee;return function(le,ye){if(!(le instanceof ye))throw new TypeError("Cannot call a class as a function")}(this,O),function(le,ye){(ye=Gi(ye))in le?Object.defineProperty(le,ye,{value:"1up",enumerable:!0,configurable:!0,writable:!0}):le[ye]="1up"}(ee=function(le,ye,gt){return ye=Jr(ye),function(bt,Tt){if(Tt&&(nr(Tt)=="object"||typeof Tt=="function"))return Tt;if(Tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ut){if(Ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ut}(bt)}(le,_r()?Reflect.construct(ye,gt||[],Jr(le).constructor):ye.apply(le,gt))}(this,O),"name"),ee.br=L,ee.book=F,ee.mode1UpLit=new Ye(F,L),ee.$el=vi(ee.mode1UpLit).addClass("br-mode-1up__root BRmode1up"),ee.everShown=!1,ee}return function(L,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(F&&F.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),F&&pr(L,F)}(O,B),function(L,F){return F&&wi(L.prototype,F),Object.defineProperty(L,"prototype",{writable:!1}),L}(O,[{key:"$brContainer",get:function(){return this.br.refs.$brContainer}},{key:"prepare",value:function(){var L=this,F=this.br.currentIndex();this.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),setTimeout(ai(Li().m(function ee(){return Li().w(function(le){for(;;)switch(le.n){case 0:if(L.everShown){le.n=2;break}return L.mode1UpLit.initFirstRender(F),L.everShown=!0,L.mode1UpLit.requestUpdate(),le.n=1,L.mode1UpLit.updateComplete;case 1:new ke(L.mode1UpLit,{preventDefault:!0,dragSelector:".br-mode-1up__visible-world",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"});case 2:L.mode1UpLit.jumpToIndex(F),setTimeout(function(){L.mode1UpLit.updateVisibleRegion()});case 3:return le.a(2)}},ee)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(L){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=(F.pageX,F.pageY,F.noAnimate),le=ee!==void 0&&ee,ye=Math.abs(this.br.currentIndex()-L),gt=!le&&ye>0&&ye<=4;this.mode1UpLit.jumpToIndex(L,{smooth:gt})}},{key:"zoom",value:function(L){switch(L){case"in":this.mode1UpLit.zoomIn();break;case"out":this.mode1UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(L))}}},{key:"resizePageView",value:function(){this.mode1UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode1UpLit.requestUpdate()}}])}(ki),pi=(a(1761),a(1669));function ii(B){return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},ii(B)}function Yi(B,O){return O||(O=B.slice(0)),Object.freeze(Object.defineProperties(B,{raw:{value:Object.freeze(O)}}))}function Ji(){var B,O,L=typeof Symbol=="function"?Symbol:{},F=L.iterator||"@@iterator",ee=L.toStringTag||"@@toStringTag";function le(ci,zi,Ui,Pr){var tr=zi&&zi.prototype instanceof gt?zi:gt,Cr=Object.create(tr.prototype);return cr(Cr,"_invoke",function(Nr,zr,Rr){var Hi,li,_i,lr=0,Wr=Rr||[],Qi=!1,Bi={p:0,n:0,v:B,a:er,f:er.bind(B,4),d:function(Ti,Si){return Hi=Ti,li=0,_i=B,Bi.n=Si,ye}};function er(Ti,Si){for(li=Ti,_i=Si,O=0;!Qi&&lr&&!Vi&&O<Wr.length;O++){var Vi,Ei=Wr[O],jr=Bi.p,Fr=Ei[2];Ti>3?(Vi=Fr===Si)&&(_i=Ei[(li=Ei[4])?5:(li=3,3)],Ei[4]=Ei[5]=B):Ei[0]<=jr&&((Vi=Ti<2&&jr<Ei[1])?(li=0,Bi.v=Si,Bi.n=Ei[1]):jr<Fr&&(Vi=Ti<3||Ei[0]>Si||Si>Fr)&&(Ei[4]=Ti,Ei[5]=Si,Bi.n=Fr,li=0))}if(Vi||Ti>1)return ye;throw Qi=!0,Si}return function(Ti,Si,Vi){if(lr>1)throw TypeError("Generator is already running");for(Qi&&Si===1&&er(Si,Vi),li=Si,_i=Vi;(O=li<2?B:_i)||!Qi;){Hi||(li?li<3?(li>1&&(Bi.n=-1),er(li,_i)):Bi.n=_i:Bi.v=_i);try{if(lr=2,Hi){if(li||(Ti="next"),O=Hi[Ti]){if(!(O=O.call(Hi,_i)))throw TypeError("iterator result is not an object");if(!O.done)return O;_i=O.value,li<2&&(li=0)}else li===1&&(O=Hi.return)&&O.call(Hi),li<2&&(_i=TypeError("The iterator does not provide a '"+Ti+"' method"),li=1);Hi=B}else if((O=(Qi=Bi.n<0)?_i:Nr.call(zr,Bi))!==ye)break}catch(Ei){Hi=B,li=1,_i=Ei}finally{lr=1}}return{value:O,done:Qi}}}(ci,Ui,Pr),!0),Cr}var ye={};function gt(){}function bt(){}function Tt(){}O=Object.getPrototypeOf;var Ut=[][F]?O(O([][F]())):(cr(O={},F,function(){return this}),O),Xt=Tt.prototype=gt.prototype=Object.create(Ut);function gi(ci){return Object.setPrototypeOf?Object.setPrototypeOf(ci,Tt):(ci.__proto__=Tt,cr(ci,ee,"GeneratorFunction")),ci.prototype=Object.create(Xt),ci}return bt.prototype=Tt,cr(Xt,"constructor",Tt),cr(Tt,"constructor",bt),bt.displayName="GeneratorFunction",cr(Tt,ee,"GeneratorFunction"),cr(Xt),cr(Xt,ee,"Generator"),cr(Xt,F,function(){return this}),cr(Xt,"toString",function(){return"[object Generator]"}),(Ji=function(){return{w:le,m:gi}})()}function cr(B,O,L,F){var ee=Object.defineProperty;try{ee({},"",{})}catch(le){ee=0}cr=function(le,ye,gt,bt){function Tt(Ut,Xt){cr(le,Ut,function(gi){return this._invoke(Ut,Xt,gi)})}ye?ee?ee(le,ye,{value:gt,enumerable:!bt,configurable:!bt,writable:!bt}):le[ye]=gt:(Tt("next",0),Tt("throw",1),Tt("return",2))},cr(B,O,L,F)}function on(B,O,L,F,ee,le,ye){try{var gt=B[le](ye),bt=gt.value}catch(Tt){return void L(Tt)}gt.done?O(bt):Promise.resolve(bt).then(F,ee)}function un(B){return function(){var O=this,L=arguments;return new Promise(function(F,ee){var le=B.apply(O,L);function ye(bt){on(le,F,ee,ye,gt,"next",bt)}function gt(bt){on(le,F,ee,ye,gt,"throw",bt)}ye(void 0)})}}function Kr(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,To(F.key),F)}}function ae(B,O,L){return O&&Kr(B.prototype,O),L&&Kr(B,L),Object.defineProperty(B,"prototype",{writable:!1}),B}function ro(B,O){if(!(B instanceof O))throw new TypeError("Cannot call a class as a function")}function Dn(B,O,L){return O=Ko(O),function(F,ee){if(ee&&(ii(ee)=="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}(F)}(B,Fn()?Reflect.construct(O,L||[],Ko(B).constructor):O.apply(B,L))}function Fn(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(Fn=function(){return!!B})()}function Mn(B,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(O&&O.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),O&&Zt(B,O)}function Zt(B,O){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,F){return L.__proto__=F,L},Zt(B,O)}function di(B,O,L,F){var ee=ni();if(F)for(var le=0;le<F.length;le++)ee=F[le](ee);var ye=O(function(bt){ee.initializeInstanceElements(bt,gt.elements)},L),gt=ee.decorateClass(function(bt){for(var Tt=[],Ut=function(zi){return zi.kind==="method"&&zi.key===ci.key&&zi.placement===ci.placement},Xt=0;Xt<bt.length;Xt++){var gi,ci=bt[Xt];if(ci.kind==="method"&&(gi=Tt.find(Ut)))if(Wn(ci.descriptor)||Wn(gi.descriptor)){if(hn(ci)||hn(gi))throw new ReferenceError("Duplicated methods ("+ci.key+") can't be decorated.");gi.descriptor=ci.descriptor}else{if(hn(ci)){if(hn(gi))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+ci.key+").");gi.decorators=ci.decorators}Wi(ci,gi)}else Tt.push(ci)}return Tt}(ye.d.map(Xi)),B);return ee.initializeClassElements(ye.F,gt.elements),ee.runClassFinishers(ye.F,gt.finishers)}function ni(){ni=function(){return B};var B={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(O,L){["method","field"].forEach(function(F){L.forEach(function(ee){ee.kind===F&&ee.placement==="own"&&this.defineClassElement(O,ee)},this)},this)},initializeClassElements:function(O,L){var F=O.prototype;["method","field"].forEach(function(ee){L.forEach(function(le){var ye=le.placement;if(le.kind===ee&&(ye==="static"||ye==="prototype")){var gt=ye==="static"?O:F;this.defineClassElement(gt,le)}},this)},this)},defineClassElement:function(O,L){var F=L.descriptor;if(L.kind==="field"){var ee=L.initializer;F={enumerable:F.enumerable,writable:F.writable,configurable:F.configurable,value:ee===void 0?void 0:ee.call(O)}}Object.defineProperty(O,L.key,F)},decorateClass:function(O,L){var F=[],ee=[],le={static:[],prototype:[],own:[]};if(O.forEach(function(gt){this.addElementPlacement(gt,le)},this),O.forEach(function(gt){if(!hn(gt))return F.push(gt);var bt=this.decorateElement(gt,le);F.push(bt.element),F.push.apply(F,bt.extras),ee.push.apply(ee,bt.finishers)},this),!L)return{elements:F,finishers:ee};var ye=this.decorateConstructor(F,L);return ee.push.apply(ee,ye.finishers),ye.finishers=ee,ye},addElementPlacement:function(O,L,F){var ee=L[O.placement];if(!F&&ee.indexOf(O.key)!==-1)throw new TypeError("Duplicated element ("+O.key+")");ee.push(O.key)},decorateElement:function(O,L){for(var F=[],ee=[],le=O.decorators,ye=le.length-1;ye>=0;ye--){var gt=L[O.placement];gt.splice(gt.indexOf(O.key),1);var bt=this.fromElementDescriptor(O),Tt=this.toElementFinisherExtras((0,le[ye])(bt)||bt);O=Tt.element,this.addElementPlacement(O,L),Tt.finisher&&ee.push(Tt.finisher);var Ut=Tt.extras;if(Ut){for(var Xt=0;Xt<Ut.length;Xt++)this.addElementPlacement(Ut[Xt],L);F.push.apply(F,Ut)}}return{element:O,finishers:ee,extras:F}},decorateConstructor:function(O,L){for(var F=[],ee=L.length-1;ee>=0;ee--){var le=this.fromClassDescriptor(O),ye=this.toClassDescriptor((0,L[ee])(le)||le);if(ye.finisher!==void 0&&F.push(ye.finisher),ye.elements!==void 0){O=ye.elements;for(var gt=0;gt<O.length-1;gt++)for(var bt=gt+1;bt<O.length;bt++)if(O[gt].key===O[bt].key&&O[gt].placement===O[bt].placement)throw new TypeError("Duplicated element ("+O[gt].key+")")}}return{elements:O,finishers:F}},fromElementDescriptor:function(O){var L={kind:O.kind,key:O.key,placement:O.placement,descriptor:O.descriptor};return Object.defineProperty(L,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),O.kind==="field"&&(L.initializer=O.initializer),L},toElementDescriptors:function(O){if(O!==void 0)return(L=O,function(F){if(Array.isArray(F))return F}(L)||_a(L)||Rs(L)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(F){var ee=this.toElementDescriptor(F);return this.disallowProperty(F,"finisher","An element descriptor"),this.disallowProperty(F,"extras","An element descriptor"),ee},this);var L},toElementDescriptor:function(O){var L=O.kind+"";if(L!=="method"&&L!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+L+'"');var F=To(O.key),ee=O.placement+"";if(ee!=="static"&&ee!=="prototype"&&ee!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+ee+'"');var le=O.descriptor;this.disallowProperty(O,"elements","An element descriptor");var ye={kind:L,key:F,placement:ee,descriptor:Object.assign({},le)};return L!=="field"?this.disallowProperty(O,"initializer","A method descriptor"):(this.disallowProperty(le,"get","The property descriptor of a field descriptor"),this.disallowProperty(le,"set","The property descriptor of a field descriptor"),this.disallowProperty(le,"value","The property descriptor of a field descriptor"),ye.initializer=O.initializer),ye},toElementFinisherExtras:function(O){return{element:this.toElementDescriptor(O),finisher:sa(O,"finisher"),extras:this.toElementDescriptors(O.extras)}},fromClassDescriptor:function(O){var L={kind:"class",elements:O.map(this.fromElementDescriptor,this)};return Object.defineProperty(L,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),L},toClassDescriptor:function(O){var L=O.kind+"";if(L!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+L+'"');this.disallowProperty(O,"key","A class descriptor"),this.disallowProperty(O,"placement","A class descriptor"),this.disallowProperty(O,"descriptor","A class descriptor"),this.disallowProperty(O,"initializer","A class descriptor"),this.disallowProperty(O,"extras","A class descriptor");var F=sa(O,"finisher");return{elements:this.toElementDescriptors(O.elements),finisher:F}},runClassFinishers:function(O,L){for(var F=0;F<L.length;F++){var ee=(0,L[F])(O);if(ee!==void 0){if(typeof ee!="function")throw new TypeError("Finishers must return a constructor.");O=ee}}return O},disallowProperty:function(O,L,F){if(O[L]!==void 0)throw new TypeError(F+" can't have a ."+L+" property.")}};return B}function Xi(B){var O,L=To(B.key);B.kind==="method"?O={value:B.value,writable:!0,configurable:!0,enumerable:!1}:B.kind==="get"?O={get:B.value,configurable:!0,enumerable:!1}:B.kind==="set"?O={set:B.value,configurable:!0,enumerable:!1}:B.kind==="field"&&(O={configurable:!0,writable:!0,enumerable:!0});var F={kind:B.kind==="field"?"field":"method",key:L,placement:B.static?"static":B.kind==="field"?"own":"prototype",descriptor:O};return B.decorators&&(F.decorators=B.decorators),B.kind==="field"&&(F.initializer=B.value),F}function Wi(B,O){B.descriptor.get!==void 0?O.descriptor.get=B.descriptor.get:O.descriptor.set=B.descriptor.set}function hn(B){return B.decorators&&B.decorators.length}function Wn(B){return B!==void 0&&!(B.value===void 0&&B.writable===void 0)}function sa(B,O){var L=B[O];if(L!==void 0&&typeof L!="function")throw new TypeError("Expected '"+O+"' to be a function");return L}function To(B){var O=function(L){if(ii(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(ii(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return ii(O)=="symbol"?O:O+""}function Rs(B,O){if(B){if(typeof B=="string")return wa(B,O);var L={}.toString.call(B).slice(8,-1);return L==="Object"&&B.constructor&&(L=B.constructor.name),L==="Map"||L==="Set"?Array.from(B):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?wa(B,O):void 0}}function wa(B,O){(O==null||O>B.length)&&(O=B.length);for(var L=0,F=Array(O);L<O;L++)F[L]=B[L];return F}function _a(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}function $n(B,O,L,F){var ee=sn(Ko(1&F?B.prototype:B),O,L);return 2&F&&typeof ee=="function"?function(le){return ee.apply(L,le)}:ee}function sn(){return sn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(B,O,L){var F=function(le,ye){for(;!{}.hasOwnProperty.call(le,ye)&&(le=Ko(le))!==null;);return le}(B,O);if(F){var ee=Object.getOwnPropertyDescriptor(F,O);return ee.get?ee.get.call(arguments.length<3?B:L):ee.value}},sn.apply(null,arguments)}function Ko(B){return Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},Ko(B)}var js=di([(0,Q.EM)("br-mode-2up")],function(B,O){var L,F,ee=function(le){function ye(gt,bt){var Tt;return ro(this,ye),Tt=Dn(this,ye),B(Tt),Tt.book=gt,Tt.br=bt,Tt}return Mn(ye,le),ae(ye)}(O);return{F:ee,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,Q.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",key:"coordSpace",value:function(){return new rt(this)}},{kind:"field",decorators:[(0,Q.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",key:"initialScale",value:function(){return 1}},{kind:"field",decorators:[(0,Q.MZ)({type:String})],key:"autoFit",value:function(){return"auto"}},{kind:"field",key:"flipSpeed",value:function(){return 400}},{kind:"field",decorators:[(0,Q.P)(".br-mode-2up__leafs--flipping")],key:"$flippingEdges",value:void 0},{kind:"field",decorators:[(0,Q.MZ)({type:Array,hasChanged:o.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"get",key:"pageLeft",value:function(){return this.visiblePages.find(function(le){return le.pageSide=="L"})}},{kind:"get",key:"pageRight",value:function(){return this.visiblePages.find(function(le){return le.pageSide=="R"})}},{kind:"field",decorators:[(0,Q.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",key:"activeFlip",value:function(){return null}},{kind:"field",key:"_leftCoverWidth",value:function(){return 0}},{kind:"get",key:"$container",value:function(){return this}},{kind:"get",key:"$visibleWorld",value:function(){return this.$book}},{kind:"field",decorators:[(0,Q.P)(".br-mode-2up__book")],key:"$book",value:void 0},{kind:"get",key:"positions",value:function(){return this.computePositions(this.pageLeft,this.pageRight)}},{kind:"method",key:"computePageHeight",value:function(le){return this.book.getMedianPageSizeInches().height}},{kind:"method",key:"computePageWidth",value:function(le){return le.widthInches*this.computePageHeight(le)/le.heightInches}},{kind:"method",key:"computePositions",value:function(le,ye){var gt,bt,Tt,Ut,Xt=this.computePageWidth.bind(this),gi=this.book.getNumLeafs(),ci=this.activeFlip?Math.ceil(this.activeFlip.pagesFlippingCount/2)*this.PAGE_THICKNESS_IN:0,zi=this.book.pageProgression=="lr"?(gt=le==null?void 0:le.index)!==null&&gt!==void 0?gt:0:le?gi-le.index:0,Ui=this._leftCoverWidth+zi*this.PAGE_THICKNESS_IN,Pr=Ui,tr=Xt(le||ye.right),Cr=Ui-tr,Nr=Cr,zr=((bt=this.activeFlip)===null||bt===void 0?void 0:bt.direction)!="left"?0:ci,Rr=Math.ceil(zi/2)*this.PAGE_THICKNESS_IN-zr,Hi=zr+Rr,li=Nr-zr,_i=li-Rr,lr=Ui,Wr=ye?Xt(ye):0,Qi=lr+Wr,Bi=this.book.pageProgression=="lr"?ye?gi-ye.index:0:(Tt=ye==null?void 0:ye.index)!==null&&Tt!==void 0?Tt:0,er=Qi,Ti=((Ut=this.activeFlip)===null||Ut===void 0?void 0:Ut.direction)!="right"?0:ci,Si=er+Ti,Vi=Math.ceil(Bi/2)*this.PAGE_THICKNESS_IN-Ti,Ei=er+Vi+Ti;return{leafEdgesLeftStart:_i,leafEdgesLeftMainWidth:Rr,leafEdgesLeftMovingStart:li,leafEdgesLeftMovingWidth:zr,leafEdgesLeftEnd:Nr,leafEdgesLeftFullWidth:Hi,pageLeftStart:Cr,pageLeftWidth:tr,pageLeftEnd:Pr,gutter:Ui,pageRightStart:lr,pageRightWidth:Wr,pageRightEnd:Qi,leafEdgesRightStart:er,leafEdgesRightMovingWidth:Ti,leafEdgesRightMainStart:Si,leafEdgesRightMainWidth:Vi,leafEdgesRightEnd:Ei,leafEdgesRightFullWidth:Ti+Vi,spreadWidth:Qi-Cr,bookWidth:Ei-_i}}},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new Ce(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new lt(this)}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"field",key:"PAGE_THICKNESS_IN",value:function(){return .002}},{kind:"method",key:"jumpToIndex",value:(F=un(Ji().m(function le(ye){var gt,bt,Tt=arguments;return Ji().w(function(Ut){for(;;)switch(Ut.n){case 0:return gt=(Tt.length>1&&Tt[1]!==void 0?Tt[1]:{}).smooth,bt=gt===void 0||gt,Ut.n=1,this._flipAnimation(ye,{animate:bt});case 1:return Ut.a(2)}},le,this)})),function(le){return F.apply(this,arguments)})},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(le){$n(ee,"firstUpdated",this,3)([le]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"connectedCallback",value:function(){$n(ee,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.smoothZoomer.detach(),$n(ee,"disconnectedCallback",this,3)([])}},{kind:"method",key:"updated",value:function(le){if(le.has("book")&&(this._leftCoverWidth=this.computePageWidth(this.book.getPage(this.book.pageProgression=="lr"?0:-1))),le.has("visiblePages")&&(this.renderedPages=this.computeRenderedPages(),this.br.displayedIndices=this.visiblePages.map(function(gt){return gt.index}),this.br.updateFirstIndex(this.br.displayedIndices[0])),le.has("autoFit")&&this.autoFit!="none"&&this.resizeViaAutofit(),le.has("scale")){var ye=le.get("scale");this.recenter(),this.smoothZoomer.updateViewportOnZoom(this.scale,ye)}}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var le=this;return(0,ne.qy)(Dr||(Dr=Yi([`
      <div class="br-mode-2up__book" @mouseup=`,`>
        `,`
        `,`
        `,`
      </div>`])),this.handlePageClick,this.renderLeafEdges("left"),this.renderedPages.map(function(ye){return le.renderPage(ye)}),this.renderLeafEdges("right"))}},{kind:"field",key:"createPageContainer",value:function(){var le=this;return function(ye){return le.pageContainerCache[ye.index]||(le.pageContainerCache[ye.index]=le.br._createPageContainer(ye.index))}}},{kind:"method",key:"initFirstRender",value:function(le){var ye=this.book.getPage(le),gt=ye.spread;this.visiblePages=(this.book.pageProgression=="lr"?[gt.left,gt.right]:[gt.right,gt.left]).filter(function(bt){return bt}),this.htmlDimensionsCacher.updateClientSizes(),this.resizeViaAutofit(ye),this.initialScale=this.scale}},{kind:"field",key:"renderPage",value:function(){var le=this;return function(ye){var gt=le.coordSpace.worldUnitsToRenderedPixels,bt=le.coordSpace.worldUnitsToVisiblePixels,Tt=gt(le.computePageWidth(ye)),Ut=gt(le.computePageHeight(ye)),Xt=le.visiblePages.map(function(Ui){return Ui.index}).includes(ye.index),gi=le.computePositions(ye.spread.left,ye.spread.right),ci=le.createPageContainer(ye).update({dimensions:{width:Tt,height:Ut,top:0,left:gt(ye.pageSide=="L"?gi.pageLeftStart:gi.pageLeftEnd)},reduce:ye.width/bt(le.computePageWidth(ye))}).$container[0],zi=ci.classList.contains("BRpage-visible");return ci.classList.toggle("BRpage-visible",Xt)&&!zi&&le.br.trigger("pageVisible",{pageContainerEl:ci}),ci}}},{kind:"field",key:"renderLeafEdges",value:function(){var le=this;return function(ye){var gt;if(!le.visiblePages.length)return(0,ne.qy)(ji||(ji=Yi([""])));if(!(ye=="left"?le.positions.leafEdgesLeftFullWidth:le.positions.leafEdgesRightFullWidth))return(0,ne.qy)(Ii||(Ii=Yi([""])));var bt=le.coordSpace.worldUnitsToRenderedPixels,Tt=bt(le.computePageHeight(le.visiblePages[0])),Ut=((gt=le.activeFlip)===null||gt===void 0?void 0:gt.direction)==ye,Xt=le.book.getPage(le.book.pageProgression=="lr"?0:le.book.getNumLeafs()-1),gi=le.book.getPage(le.book.pageProgression=="lr"?le.book.getNumLeafs()-1:0),ci=Ut?le.activeFlip.pagesFlippingCount:0,zi=ye=="left"?[Xt.index,le.pageLeft.goLeft(ci).index]:[le.pageRight.goRight(ci).index,gi.index],Ui={width:"".concat(bt(ye=="left"?le.positions.leafEdgesLeftMainWidth:le.positions.leafEdgesRightMainWidth),"px"),height:"".concat(Tt,"px"),left:"".concat(bt(ye=="left"?le.positions.leafEdgesLeftStart:le.positions.leafEdgesRightMainStart),"px")},Pr=(0,ne.qy)(ar||(ar=Yi([`
      <br-leaf-edges
        leftIndex=`,`
        rightIndex=`,`
        .book=`,`
        .pageClickHandler=`,`
        side=`,`
        class="br-mode-2up__leafs br-mode-2up__leafs--`,`"
        style=`,`
      ></br-leaf-edges>
    `])),zi[0],zi[1],le.book,function(zr){return le.br.jumpToIndex(zr,{ariaLive:!0})},ye,ye,(0,ie.W)(Ui));if(Ut){var tr=bt(ye=="left"?le.positions.leafEdgesLeftMovingWidth:le.positions.leafEdgesRightMovingWidth),Cr={width:"".concat(tr,"px"),height:"".concat(Tt,"px"),left:"".concat(bt(ye=="left"?le.positions.leafEdgesLeftMovingStart:le.positions.leafEdgesRightStart),"px"),pointerEvents:"none",transformOrigin:"".concat(bt(ye=="left"?le.positions.pageLeftWidth:-le.positions.pageRightWidth)+tr/2,"px 0")},Nr=(0,ne.qy)(Oi||(Oi=Yi([`
        <br-leaf-edges
          leftIndex=`,`
          rightIndex=`,`
          .book=`,`
          side=`,`
          class="br-mode-2up__leafs br-mode-2up__leafs--`,` br-mode-2up__leafs--flipping"
          style=`,`
        ></br-leaf-edges>
      `])),le.activeFlip.pagesFlipping[0],le.activeFlip.pagesFlipping[1],le.book,ye,ye,(0,ie.W)(Cr));return ye=="left"?(0,ne.qy)(Tr||(Tr=Yi(["","",""])),Pr,Nr):(0,ne.qy)(ge||(ge=Yi(["","",""])),Nr,Pr)}return Pr}}},{kind:"method",key:"resizeViaAutofit",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0];this.scale=this.computeScale(le,this.autoFit)}},{kind:"method",key:"recenter",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0],ye=this.computeTranslate(le,this.scale);this.$book.style.transform="translateX(".concat(ye.x,"px) translateY(").concat(ye.y,"px) scale(").concat(this.scale,")")}},{kind:"method",key:"computeRenderedPages",value:function(){var le,ye,gt,bt,Tt;return[(le=this.visiblePages[0])===null||le===void 0||(le=le.prev)===null||le===void 0?void 0:le.prev,(ye=this.visiblePages[0])===null||ye===void 0?void 0:ye.prev].concat((Tt=this.visiblePages,function(Ut){if(Array.isArray(Ut))return wa(Ut)}(Tt)||_a(Tt)||Rs(Tt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),[(gt=this.visiblePages[this.visiblePages.length-1])===null||gt===void 0?void 0:gt.next,(bt=this.visiblePages[this.visiblePages.length-1])===null||bt===void 0||(bt=bt.next)===null||bt===void 0?void 0:bt.next]).filter(function(Ut){return Ut}).slice(0,10)}},{kind:"method",key:"computeScale",value:function(le,ye){if(!le)return 1;var gt=le.spread,bt=this.computePositions(gt.left,gt.right).bookWidth,Tt=this.computePageHeight(gt.left||gt.right),Ut=this.scale;this.scale=1;var Xt=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientWidth-20)/bt,gi=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientHeight-20)/Tt;this.scale=Ut;var ci=1;if(ye=="width")ci=Xt;else if(ye=="height")ci=gi;else if(ye=="auto")ci=Math.min(Xt,gi);else{if(ye!="none")throw new Error("Invalid autoFit value: ".concat(ye));ci=this.scale}return ci}},{kind:"method",key:"computeTranslate",value:function(le){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;if(!le)return{x:0,y:0};var gt=le.spread,bt=this.computePositions(gt.left,gt.right),Tt=bt.bookWidth,Ut=this.computePageHeight(gt.left||gt.right),Xt=this.coordSpace.worldUnitsToRenderedPixels(Tt)*ye,gi=this.coordSpace.worldUnitsToRenderedPixels(Ut)*ye,ci=this.coordSpace.worldUnitsToRenderedPixels(-bt.leafEdgesLeftStart)*ye,zi=(this.htmlDimensionsCacher.clientWidth-Xt)/2+ci,Ui=(this.htmlDimensionsCacher.clientHeight-gi)/2;return{x:Math.max(ci,zi),y:Math.max(0,Ui)}}},{kind:"method",key:"_flipAnimation",value:(L=un(Ji().m(function le(ye){var gt,bt,Tt,Ut,Xt,gi,ci,zi,Ui,Pr,tr,Cr,Nr,zr,Rr,Hi,li,_i,lr,Wr,Qi,Bi,er,Ti,Si,Vi,Ei,jr,Fr,Jo,Do,fo,Xo=this,Ro=arguments;return Ji().w(function(_n){for(;;)switch(_n.n){case 0:if(ci=(gi=Ro.length>1&&Ro[1]!==void 0?Ro[1]:{}).animate,zi=ci===void 0||ci,Ui=gi.flipSpeed,Pr=Ui===void 0?this.flipSpeed:Ui,tr=(gt=this.pageLeft||this.pageRight)===null||gt===void 0?void 0:gt.spread){_n.n=1;break}return _n.a(2);case 1:if(Pr=Pr||this.flipSpeed,ye=this.parseNextSpread(ye),!this.activeFlip&&ye){_n.n=2;break}return _n.a(2);case 2:if(Cr=this.book.pageProgression,Nr=(bt=(Tt=tr.left)===null||Tt===void 0?void 0:Tt.index)!==null&&bt!==void 0?bt:Cr=="lr"?-1:this.book.getNumLeafs(),zr=(Ut=(Xt=ye.left)===null||Xt===void 0?void 0:Xt.index)!==null&&Ut!==void 0?Ut:Cr=="lr"?-1:this.book.getNumLeafs(),Nr!=zr){_n.n=3;break}return _n.a(2);case 3:Rr=this.renderedPages.map(function(Zr){return Zr.index}),Hi=[],li=0,_i=[ye.left,ye.right];case 4:if(!(li<_i.length)){_n.n=7;break}if(lr=_i[li]){_n.n=5;break}return _n.a(3,6);case 5:Hi.push(this.createPageContainer(lr)),Rr.includes(lr.index)||this.renderedPages.push(lr);case 6:li++,_n.n=4;break;case 7:if(Wr=this.computeTranslate(tr.left||tr.right,this.scale),Qi=this.computeTranslate(ye.left||ye.right,this.scale),Bi=Math.sqrt(Math.pow(Qi.x-Wr.x,2)+Math.pow(Qi.y-Wr.y,2)),er="translate(".concat(Qi.x,"px, ").concat(Qi.y,"px)"),Bi<50&&(Si=(Ti=this.$book.style.transform.match(/translate\([^)]+\)/))===null||Ti===void 0?void 0:Ti[0])&&(er=Si),Vi="".concat(er," scale(").concat(this.scale,")"),!zi||!("animate"in Element.prototype)){_n.n=10;break}return Ei=Cr=="lr"?zr>Nr?"right":"left":zr>Nr?"left":"right",this.activeFlip={direction:Ei,pagesFlipping:[Nr,zr],pagesFlippingCount:Math.abs(zr-Nr)},this.classList.add("br-mode-2up--flipping-".concat(Ei)),this.classList.add("BRpageFlipping"),this.requestUpdate(),_n.n=8,this.updateComplete;case 8:return this.visiblePages.map(function(Zr){return Xo.pageContainerCache[Zr.index].$container}).forEach(function(Zr){return Zr.addClass("BRpage-exiting")}),Hi.forEach(function(Zr){return Zr.$container.addClass("BRpage-entering")}),jr={duration:Pr+this.activeFlip.pagesFlippingCount,easing:"ease-in",fill:"none"},Fr=this.$book.animate([{transform:Vi}],jr),Jo=this.$flippingEdges.animate([{transform:"rotateY(0deg)"},{transform:Ei=="left"?"rotateY(-180deg)":"rotateY(180deg)"}],jr),Do=Ei=="left"?this.querySelector(".BRpage-exiting[data-side=L]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(180deg)"}],jr):this.querySelector(".BRpage-exiting[data-side=R]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(-180deg)"}],jr),fo=Ei=="left"?this.querySelector(".BRpage-entering[data-side=R]").animate([{transform:"rotateY(-180deg)"},{transform:"rotateY(0deg)"}],jr):this.querySelector(".BRpage-entering[data-side=L]").animate([{transform:"rotateY(180deg)"},{transform:"rotateY(0deg)"}],jr),Fr.play(),Jo.play(),Do.play(),fo.play(),Hi.forEach(function(Zr){return Zr.$container.addClass("BRpage-visible")}),_n.n=9,Promise.race([(0,o.promisifyEvent)(Fr,"finish"),(0,o.promisifyEvent)(Jo,"finish"),(0,o.promisifyEvent)(Do,"finish"),(0,o.promisifyEvent)(fo,"finish")]);case 9:this.classList.remove("br-mode-2up--flipping-".concat(Ei)),this.classList.remove("BRpageFlipping"),this.visiblePages.map(function(Zr){return Xo.pageContainerCache[Zr.index].$container}).forEach(function(Zr){return Zr.removeClass("BRpage-exiting BRpage-visible")}),Hi.forEach(function(Zr){return Zr.$container.removeClass("BRpage-entering")}),this.activeFlip=null;case 10:this.$book.style.transform=Vi,this.visiblePages=(Cr=="lr"?[ye.left,ye.right]:[ye.right,ye.left]).filter(function(Zr){return Zr}),Hi.forEach(function(Zr){Xo.br.trigger("pageVisible",{pageContainerEl:Zr.$container[0]})});case 11:return _n.a(2)}},le,this)})),function(le){return L.apply(this,arguments)})},{kind:"method",key:"parseNextSpread",value:function(le){le=="next"?le=this.book.pageProgression=="lr"?"right":"left":le=="prev"&&(le=this.book.pageProgression=="lr"?"left":"right");var ye,gt=this.book.getPage(this.br.currentIndex()).spread;if(le=="left")le=(ye=gt.left)===null||ye===void 0||(ye=ye.findLeft({combineConsecutiveUnviewables:!0}))===null||ye===void 0?void 0:ye.spread;else if(le=="right"){var bt;le=(bt=gt.right)===null||bt===void 0||(bt=bt.findRight({combineConsecutiveUnviewables:!0}))===null||bt===void 0?void 0:bt.spread}return typeof le=="number"&&(le=this.book.getPage(le).spread),le instanceof J&&(le=le.spread),le}},{kind:"field",key:"handlePageClick",value:function(){var le=this;return function(ye){if(ye.which==3&&le.br.protected)return!1;if(ye.which==1){var gt=pi(ye.target).closest(".BRpagecontainer");gt.length&&(gt.data("side")=="L"?le.br.left():gt.data("side")=="R"&&le.br.right())}}}}]}},ne.WF),Zl=(di([(0,Q.EM)("br-leaf-edges")],function(B,O){var L=function(F){function ee(){var le;ro(this,ee);for(var ye=arguments.length,gt=new Array(ye),bt=0;bt<ye;bt++)gt[bt]=arguments[bt];return le=Dn(this,ee,[].concat(gt)),B(le),le}return Mn(ee,F),ae(ee)}(O);return{F:L,d:[{kind:"field",decorators:[(0,Q.MZ)({type:Number})],key:"leftIndex",value:function(){return 0}},{kind:"field",decorators:[(0,Q.MZ)({type:Number})],key:"rightIndex",value:function(){return 0}},{kind:"field",decorators:[(0,Q.MZ)({type:String})],key:"side",value:function(){return"left"}},{kind:"field",decorators:[(0,Q.MZ)({attribute:!1})],key:"book",value:function(){return null}},{kind:"field",decorators:[(0,Q.MZ)({attribute:!1,type:Function})],key:"pageClickHandler",value:function(){return null}},{kind:"field",decorators:[(0,Q.P)(".br-leaf-edges__bar")],key:"$hoverBar",value:void 0},{kind:"field",decorators:[(0,Q.P)(".br-leaf-edges__label")],key:"$hoverLabel",value:void 0},{kind:"get",key:"pageWidthPercent",value:function(){return 100/(this.rightIndex-this.leftIndex+1)}},{kind:"method",key:"render",value:function(){return(0,ne.qy)(wt||(wt=Yi([`
      <div
        class="br-leaf-edges__bar"
        style="`,`"
      ></div>
      <div class="br-leaf-edges__label">Page</div>`])),(0,ie.W)({width:"".concat(this.pageWidthPercent,"%")}))}},{kind:"method",key:"connectedCallback",value:function(){$n(L,"connectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.addEventListener("click",this.onClick)}},{kind:"method",key:"disconnectedCallback",value:function(){$n(L,"disconnectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.removeEventListener("mousemove",this.onMouseMove),this.removeEventListener("mouseleave",this.onMouseLeave)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"field",key:"onMouseEnter",value:function(){var F=this;return function(ee){F.addEventListener("mousemove",F.onMouseMove),F.$hoverBar.style.display="block",F.$hoverLabel.style.display="block"}}},{kind:"field",key:"onMouseMove",value:function(){var F=this;return function(ee){F.$hoverBar.style.left="".concat(ee.offsetX,"px"),F.side=="right"?F.$hoverLabel.style.left="".concat(ee.offsetX,"px"):F.$hoverLabel.style.right="".concat(F.offsetWidth-ee.offsetX,"px"),F.$hoverLabel.style.top="".concat(ee.offsetY,"px");var le=F.mouseEventToPageIndex(ee);F.$hoverLabel.textContent=F.book.getPageName(le)}}},{kind:"field",key:"onMouseLeave",value:function(){var F=this;return function(ee){F.removeEventListener("mousemove",F.onMouseMove),F.$hoverBar.style.display="none",F.$hoverLabel.style.display="none"}}},{kind:"field",key:"onClick",value:function(){var F=this;return function(ee){F.pageClickHandler(F.mouseEventToPageIndex(ee))}}},{kind:"method",key:"mouseEventToPageIndex",value:function(F){return Math.floor(this.leftIndex+F.offsetX/this.offsetWidth*(this.rightIndex-this.leftIndex+1))}}]}},ne.WF),a(1669));function Zn(B){return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Zn(B)}function us(){var B,O,L=typeof Symbol=="function"?Symbol:{},F=L.iterator||"@@iterator",ee=L.toStringTag||"@@toStringTag";function le(ci,zi,Ui,Pr){var tr=zi&&zi.prototype instanceof gt?zi:gt,Cr=Object.create(tr.prototype);return no(Cr,"_invoke",function(Nr,zr,Rr){var Hi,li,_i,lr=0,Wr=Rr||[],Qi=!1,Bi={p:0,n:0,v:B,a:er,f:er.bind(B,4),d:function(Ti,Si){return Hi=Ti,li=0,_i=B,Bi.n=Si,ye}};function er(Ti,Si){for(li=Ti,_i=Si,O=0;!Qi&&lr&&!Vi&&O<Wr.length;O++){var Vi,Ei=Wr[O],jr=Bi.p,Fr=Ei[2];Ti>3?(Vi=Fr===Si)&&(_i=Ei[(li=Ei[4])?5:(li=3,3)],Ei[4]=Ei[5]=B):Ei[0]<=jr&&((Vi=Ti<2&&jr<Ei[1])?(li=0,Bi.v=Si,Bi.n=Ei[1]):jr<Fr&&(Vi=Ti<3||Ei[0]>Si||Si>Fr)&&(Ei[4]=Ti,Ei[5]=Si,Bi.n=Fr,li=0))}if(Vi||Ti>1)return ye;throw Qi=!0,Si}return function(Ti,Si,Vi){if(lr>1)throw TypeError("Generator is already running");for(Qi&&Si===1&&er(Si,Vi),li=Si,_i=Vi;(O=li<2?B:_i)||!Qi;){Hi||(li?li<3?(li>1&&(Bi.n=-1),er(li,_i)):Bi.n=_i:Bi.v=_i);try{if(lr=2,Hi){if(li||(Ti="next"),O=Hi[Ti]){if(!(O=O.call(Hi,_i)))throw TypeError("iterator result is not an object");if(!O.done)return O;_i=O.value,li<2&&(li=0)}else li===1&&(O=Hi.return)&&O.call(Hi),li<2&&(_i=TypeError("The iterator does not provide a '"+Ti+"' method"),li=1);Hi=B}else if((O=(Qi=Bi.n<0)?_i:Nr.call(zr,Bi))!==ye)break}catch(Ei){Hi=B,li=1,_i=Ei}finally{lr=1}}return{value:O,done:Qi}}}(ci,Ui,Pr),!0),Cr}var ye={};function gt(){}function bt(){}function Tt(){}O=Object.getPrototypeOf;var Ut=[][F]?O(O([][F]())):(no(O={},F,function(){return this}),O),Xt=Tt.prototype=gt.prototype=Object.create(Ut);function gi(ci){return Object.setPrototypeOf?Object.setPrototypeOf(ci,Tt):(ci.__proto__=Tt,no(ci,ee,"GeneratorFunction")),ci.prototype=Object.create(Xt),ci}return bt.prototype=Tt,no(Xt,"constructor",Tt),no(Tt,"constructor",bt),bt.displayName="GeneratorFunction",no(Tt,ee,"GeneratorFunction"),no(Xt),no(Xt,ee,"Generator"),no(Xt,F,function(){return this}),no(Xt,"toString",function(){return"[object Generator]"}),(us=function(){return{w:le,m:gi}})()}function no(B,O,L,F){var ee=Object.defineProperty;try{ee({},"",{})}catch(le){ee=0}no=function(le,ye,gt,bt){function Tt(Ut,Xt){no(le,Ut,function(gi){return this._invoke(Ut,Xt,gi)})}ye?ee?ee(le,ye,{value:gt,enumerable:!bt,configurable:!bt,writable:!bt}):le[ye]=gt:(Tt("next",0),Tt("throw",1),Tt("return",2))},no(B,O,L,F)}function cs(B,O,L,F,ee,le,ye){try{var gt=B[le](ye),bt=gt.value}catch(Tt){return void L(Tt)}gt.done?O(bt):Promise.resolve(bt).then(F,ee)}function Wa(B){return function(){var O=this,L=arguments;return new Promise(function(F,ee){var le=B.apply(O,L);function ye(bt){cs(le,F,ee,ye,gt,"next",bt)}function gt(bt){cs(le,F,ee,ye,gt,"throw",bt)}ye(void 0)})}}function ds(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,In(F.key),F)}}function hs(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(hs=function(){return!!B})()}function ps(B){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},ps(B)}function Mo(B,O){return Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,F){return L.__proto__=F,L},Mo(B,O)}function In(B){var O=function(L){if(Zn(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(Zn(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return Zn(O)=="symbol"?O:O+""}var P=function(B){function O(L,F){var ee;return function(le,ye){if(!(le instanceof ye))throw new TypeError("Cannot call a class as a function")}(this,O),function(le,ye){(ye=In(ye))in le?Object.defineProperty(le,ye,{value:"2up",enumerable:!0,configurable:!0,writable:!0}):le[ye]="2up"}(ee=function(le,ye,gt){return ye=ps(ye),function(bt,Tt){if(Tt&&(Zn(Tt)=="object"||typeof Tt=="function"))return Tt;if(Tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ut){if(Ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ut}(bt)}(le,hs()?Reflect.construct(ye,gt||[],ps(le).constructor):ye.apply(le,gt))}(this,O),"name"),ee.br=L,ee.book=F,ee.mode2UpLit=new js(F,L),ee.mode2UpLit.flipSpeed=L.flipSpeed,ee.$el=Zl(ee.mode2UpLit).attr("autoFit",ee.br.options.twoPage.autofit).addClass("br-mode-2up__root BRmode2up"),ee.everShown=!1,ee}return function(L,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(F&&F.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),F&&Mo(L,F)}(O,B),function(L,F){return F&&ds(L.prototype,F),Object.defineProperty(L,"prototype",{writable:!1}),L}(O,[{key:"prepare",value:function(){var L=this,F=this.br.currentIndex();this.br.refs.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),this.mode2UpLit.style.opacity="0",setTimeout(Wa(us().m(function ee(){return us().w(function(le){for(;;)switch(le.n){case 0:if(L.everShown){le.n=2;break}return L.mode2UpLit.initFirstRender(F),L.everShown=!0,L.mode2UpLit.requestUpdate(),le.n=1,L.mode2UpLit.updateComplete;case 1:new ke(L.mode2UpLit,{preventDefault:!0,dragSelector:".br-mode-2up__book",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"}),le.n=4;break;case 2:return le.n=3,L.mode2UpLit.jumpToIndex(F,{smooth:!1});case 3:L.resizePageView();case 4:L.mode2UpLit.style.opacity="1";case 5:return le.a(2)}},ee)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(L){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.pageX,F.pageY,F.noAnimate,this.mode2UpLit.jumpToIndex(L)}},{key:"parsePageSpecifier",value:function(L){var F,ee,le=this.book.pageProgression=="rl",ye=this.mode2UpLit.parseNextSpread(L),gt=(F=ye==null||(ee=ye.left)===null||ee===void 0?void 0:ee.index)!==null&&F!==void 0?F:le?-1:this.book.getNumLeafs();return this.book.getPage(gt)}},{key:"zoom",value:function(L){switch(L){case"in":this.mode2UpLit.zoomIn();break;case"out":this.mode2UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(L))}}},{key:"resizePageView",value:function(){this.mode2UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode2UpLit.scale<this.mode2UpLit.initialScale&&this.mode2UpLit.autoFit=="none"&&(this.mode2UpLit.autoFit="auto"),this.mode2UpLit.autoFit!="none"&&this.mode2UpLit.resizeViaAutofit(),this.mode2UpLit.recenter()}}])}(ki),N=a(1669);function Z(B){return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Z(B)}function re(B,O){var L=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!L){if(Array.isArray(B)||(L=function(bt,Tt){if(bt){if(typeof bt=="string")return Ie(bt,Tt);var Ut={}.toString.call(bt).slice(8,-1);return Ut==="Object"&&bt.constructor&&(Ut=bt.constructor.name),Ut==="Map"||Ut==="Set"?Array.from(bt):Ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ut)?Ie(bt,Tt):void 0}}(B))||O&&B&&typeof B.length=="number"){L&&(B=L);var F=0,ee=function(){};return{s:ee,n:function(){return F>=B.length?{done:!0}:{done:!1,value:B[F++]}},e:function(bt){throw bt},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,ye=!0,gt=!1;return{s:function(){L=L.call(B)},n:function(){var bt=L.next();return ye=bt.done,bt},e:function(bt){gt=!0,le=bt},f:function(){try{ye||L.return==null||L.return()}finally{if(gt)throw le}}}}function Ie(B,O){(O==null||O>B.length)&&(O=B.length);for(var L=0,F=Array(O);L<O;L++)F[L]=B[L];return F}function Ne(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,Kt(F.key),F)}}function Qe(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(Qe=function(){return!!B})()}function Lt(B){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},Lt(B)}function Pt(B,O){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,F){return L.__proto__=F,L},Pt(B,O)}function Kt(B){var O=function(L){if(Z(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(Z(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return Z(O)=="symbol"?O:O+""}var si=function(B){function O(L,F){var ee;return function(le,ye){if(!(le instanceof ye))throw new TypeError("Cannot call a class as a function")}(this,O),function(le,ye,gt){(ye=Kt(ye))in le?Object.defineProperty(le,ye,{value:gt,enumerable:!0,configurable:!0,writable:!0}):le[ye]=gt}(ee=function(le,ye,gt){return ye=Lt(ye),function(bt,Tt){if(Tt&&(Z(Tt)=="object"||typeof Tt=="function"))return Tt;if(Tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ut){if(Ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ut}(bt)}(le,Qe()?Reflect.construct(ye,gt||[],Lt(le).constructor):ye.apply(le,gt))}(this,O),"name","thumb"),ee.br=L,ee.book=F,ee}return function(L,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(F&&F.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),F&&Pt(L,F)}(O,B),function(L,F){return F&&Ne(L.prototype,F),Object.defineProperty(L,"prototype",{writable:!1}),L}(O,[{key:"drawLeafs",value:function(L){var F,ee,le,ye=this,gt=Math.floor,bt=this.book,Tt=this.br.refs.$brContainer.prop("scrollWidth")-20,Ut=0,Xt=0,gi=0,ci=0,zi=0,Ui=[],Pr=re(bt.pagesIterator({combineConsecutiveUnviewables:!0}));try{for(Pr.s();!(le=Pr.n()).done;){var tr=le.value,Cr=this.br.thumbWidth;Ut+(Cr+this.br.thumbPadding)>Tt&&(ci++,Ut=0,zi=0),Ui[ci]||(Ui[ci]={}),Ui[ci].leafs||(Ui[ci].leafs=[],Ui[ci].height=0,Ui[ci].top=0),Ui[ci].leafs[zi]={num:tr.index,left:Ut},(F=gt(tr.height*this.br.thumbWidth/tr.width))>Ui[ci].height&&(Ui[ci].height=F),zi===0&&(Xt+=this.br.thumbPadding+Ui[ci].height),(Ut+=Cr+this.br.thumbPadding)>gi&&(gi=Ut),zi++,tr.index==L&&(ee=Xt-this.br.thumbPadding-Ui[ci].height)}}catch(ho){Pr.e(ho)}finally{Pr.f()}this.br.refs.$brPageViewEl.height(Xt);var Nr=gt((this.br.refs.$brContainer.prop("scrollWidth")-gi)/2)-14;ee!==void 0&&this.br.refs.$brContainer.scrollTop(ee);for(var zr=this.br.refs.$brContainer.prop("scrollTop"),Rr=zr+this.br.refs.$brContainer.height(),Hi=0,li=0,_i=[],lr=[],Wr=bt.getNumLeafs()-1,Qi=0,Bi=0;Bi<Ui.length;Bi++)Ui[Bi]&&(li+=this.br.thumbPadding+Ui[Bi].height,(Hi>=zr&&Hi<=Rr||li>=zr&&li<=Rr||Hi<=zr&&li>=Rr)&&(_i.push(Bi),Ui[Bi].leafs[0].num<Wr&&(Wr=Ui[Bi].leafs[0].num),Ui[Bi].leafs[Ui[Bi].leafs.length-1].num>Qi&&(Qi=Ui[Bi].leafs[Ui[Bi].leafs.length-1].num)),Hi>Ui[Bi].top&&(Ui[Bi].top=Hi),Hi=li);for(var er=_i[0],Ti=_i[_i.length-1],Si=1;Si<this.br.thumbRowBuffer+1;Si++)Ti+Si<Ui.length&&_i.push(Ti+Si);for(var Vi=1;Vi<this.br.thumbRowBuffer;Vi++)er-Vi>=0&&_i.push(er-Vi);_i.sort(function(ho,ct){return ho-ct});for(var Ei=0,jr=_i;Ei<jr.length;Ei++){var Fr=jr[Ei];if((0,o.notInArray)(Fr,this.br.displayedRows)){if(!Ui[Fr])continue;var Jo,Do=re(Ui[Fr].leafs);try{var fo=function(){var ho=Jo.value,ct=ho.num,$t=ho.left,zt=ye.br.thumbWidth,bi=gt(bt.getPageHeight(ct)*ye.br.thumbWidth/bt.getPageWidth(ct)),Gt=Ui[Fr].top,yi=$t+Nr;ye.br.pageProgression=="rl"&&(yi=Tt-zt-yi),yi+=ye.br.thumbPadding,lr.push(ct);var Ci=gt(bt.getPageWidth(ct)/ye.br.thumbWidth),Di=2*Math.round(Ci/2),qi=ye.br._createPageContainer(ct).update({dimensions:{width:zt,height:bi,top:Gt,left:yi},reduce:Di});qi.$container.data("leaf",ct).on("mouseup",function(kr){ye.br.updateFirstIndex(ct,{suppressFragmentChange:!0}),ye.br.switchMode(ye.br.constMode1up,{suppressFragmentChange:!0});var vr=ye.br.viewModeOrder.shift();ye.br.viewModeOrder.push(vr),ye.br._components.navbar.updateViewModeButton(N(".viewmode"),"twopg","Two-page view"),ye.br.trigger(u.q.fragmentChange),kr.stopPropagation()}),ye.br.refs.$brPageViewEl.append(qi.$container)};for(Do.s();!(Jo=Do.n()).done;)fo()}catch(ho){Do.e(ho)}finally{Do.f()}}}var Xo,Ro=re(this.br.displayedRows);try{for(Ro.s();!(Xo=Ro.n()).done;){var _n=Xo.value;if((0,o.notInArray)(_n,_i)){var Zr,Va,fs=re((Zr=Ui[_n])===null||Zr===void 0?void 0:Zr.leafs);try{for(fs.s();!(Va=fs.n()).done;){var Qo,Rn=Va.value.num;lr!=null&&lr.includes(Rn)||(Qo=this.br.$(".pagediv".concat(Rn)))===null||Qo===void 0||Qo.remove()}}catch(ho){fs.e(ho)}finally{fs.f()}}}}catch(ho){Ro.e(ho)}finally{Ro.f()}var ka=this.br.currentIndex();ka<Wr?this.br.updateFirstIndex(Wr):ka>Qi&&this.br.updateFirstIndex(Qi),this.br.displayedRows=_i.slice(),this.br.$(".BRpagedivthumb_highlight").removeClass("BRpagedivthumb_highlight"),this.br.$(".pagediv"+this.br.currentIndex()).addClass("BRpagedivthumb_highlight")}},{key:"lazyLoadImage",value:function(L){var F=N(L).data("leaf"),ee=N(L).data("reduce"),le=this.br.imageCache.image(F,ee),ye=N(L).parent();N(ye).append(le),N(L).remove()}},{key:"zoom",value:function(L){var F=this.br.thumbColumns;switch(L){case"in":this.br.thumbColumns-=1;break;case"out":this.br.thumbColumns+=1;break;default:console.error("Unsupported direction: ".concat(L))}this.br.thumbColumns=(0,o.clamp)(this.br.thumbColumns,this.br.options.thumbMinZoomColumns,this.br.options.thumbMaxZoomColumns),this.br.thumbColumns!=F&&(this.br.displayedRows=[],this.prepare())}},{key:"getThumbnailWidth",value:function(L){var F=(L+1)*this.br.thumbPadding,ee=(this.br.refs.$brPageViewEl.width()-F)/(L+.5),le=Math.floor(ee);return le>0?le:100}},{key:"prepare",value:function(){this.br.refs.$brContainer.empty(),this.br.refs.$brContainer.css({overflowY:"scroll",overflowX:"auto"}),this.br.refs.$brPageViewEl=N("<div class='BRpageview'></div>"),this.br.refs.$brContainer.append(this.br.refs.$brPageViewEl),this.dragScrollable=this.dragScrollable||new ke(this.br.refs.$brContainer[0],{preventDefault:!0}),this.br.bindGestures(this.br.refs.$brContainer),this.br.thumbWidth=this.getThumbnailWidth(this.br.thumbColumns),this.br.reduce=this.book.getPageWidth(0)/this.br.thumbWidth,this.br.displayedRows=[],this.drawLeafs(this.br.currentIndex()),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(L){for(var F=this,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=(ee.pageX,ee.pageY,ee.noAnimate,Math.floor),ye=this.book,gt=this.br.refs.$brContainer.prop("scrollWidth")-20,bt=this.br.thumbWidth,Tt=0,Ut=0,Xt=0,gi=0,ci=0,zi=0;zi<=L;zi++){Ut+(bt+this.br.thumbPadding)>gt&&(Ut=0,gi=0,ci=0);var Ui=le(ye.getPageHeight(ci)*this.br.thumbWidth/ye.getPageWidth(ci));Ui>gi&&(gi=Ui),ci==0&&(Tt=Xt,Xt+=this.br.thumbPadding+gi),Ut+=bt+this.br.thumbPadding,ci++}this.br.updateFirstIndex(L),this.br.refs.$brContainer.prop("scrollTop")==Tt?this.br.drawLeafs():(this.br.animating=!0,this.br.refs.$brContainer.stop(!0).animate({scrollTop:Tt},"fast",function(){F.br.animating=!1}))}}])}(ki),Ai=(a(1367),{floor:Math.floor,decr:function(B){return B-1}}),Qt={floor:function(B){return Math.pow(2,Math.floor(Math.log2(Math.max(1,B))))},decr:function(B){return Math.pow(2,Math.log2(B)-1)}},hi={pow2:Qt,integer:Ai},dr=a(1669);function xr(B){return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},xr(B)}function sr(B){return function(O){if(Array.isArray(O))return wn(O)}(B)||function(O){if(typeof Symbol<"u"&&O[Symbol.iterator]!=null||O["@@iterator"]!=null)return Array.from(O)}(B)||function(O,L){if(O){if(typeof O=="string")return wn(O,L);var F={}.toString.call(O).slice(8,-1);return F==="Object"&&O.constructor&&(F=O.constructor.name),F==="Map"||F==="Set"?Array.from(O):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?wn(O,L):void 0}}(B)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wn(B,O){(O==null||O>B.length)&&(O=B.length);for(var L=0,F=Array(O);L<O;L++)F[L]=B[L];return F}function pn(B,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,Jn(F.key),F)}}function Jn(B){var O=function(L){if(xr(L)!="object"||!L)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var ee=F.call(L,"string");if(xr(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(B);return xr(O)=="symbol"?O:O+""}var Xr=function(){return function(B,O){return O&&pn(B.prototype,O),Object.defineProperty(B,"prototype",{writable:!1}),B}(function B(O){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=L.useSrcSet,ee=F!==void 0&&F,le=L.reduceSet,ye=le===void 0?Qt:le,gt=L.renderPageURI,bt=gt===void 0?C.renderPageURI:gt;(function(Tt,Ut){if(!(Tt instanceof Ut))throw new TypeError("Cannot call a class as a function")})(this,B),this.book=O,this.useSrcSet=ee,this.reduceSet=ye,this.renderPageURI=bt,this.cache={},this.defaultScale=8},[{key:"image",value:function(B,O){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,F=this.getFinalReduce(B,O);return this._serveImageElement(B,F,L)}},{key:"getFinalReduce",value:function(B,O){var L=(this.cache[B]||[]).filter(function(F){return F.loaded&&F.reduce<=O});return L.length?Math.max.apply(Math,sr(L.map(function(F){return F.reduce}))):this.reduceSet.floor(O)}},{key:"imageLoaded",value:function(B,O){var L,F,ee=(L=this.cache[B])===null||L===void 0?void 0:L.find(function(le){return le.reduce<=O});return(F=ee==null?void 0:ee.loaded)!==null&&F!==void 0&&F}},{key:"getBestLoadedReduce",value:function(B){var O,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,F=((O=this.cache[B])===null||O===void 0?void 0:O.filter(function(ye){return ye.loaded}))||[];if(!F.length)return null;var ee=F.filter(function(ye){return ye.reduce>=L});if(ee.length)return Math.min.apply(Math,sr(ee.map(function(ye){return ye.reduce})));var le=F.filter(function(ye){return ye.reduce<L});return Math.max.apply(Math,sr(le.map(function(ye){return ye.reduce})))}},{key:"_serveImageElement",value:function(B,O){var L,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ee=(L=this.cache[B])===null||L===void 0?void 0:L.find(function(bt){return bt.reduce==O});ee||(ee={reduce:O,loaded:!1},(this.cache[B]||(this.cache[B]=[])).push(ee));var le=this.book.getPage(B),ye=le.getURI(O,0),gt=dr(F||document.createElement("img")).addClass("BRpageimage").attr("alt","Book page image").data("reduce",O).data("src",ye);return this.renderPageURI(gt[0],ye),this.useSrcSet&&gt.attr("srcset",le.getURISrcSet(O)),ee.loaded||gt.one("load",function(){return ee.loaded=!0}),gt}}])}(),$r=a(4907),Ur=a(1669);function Or(){var B,O,L=typeof Symbol=="function"?Symbol:{},F=L.iterator||"@@iterator",ee=L.toStringTag||"@@toStringTag";function le(ci,zi,Ui,Pr){var tr=zi&&zi.prototype instanceof gt?zi:gt,Cr=Object.create(tr.prototype);return qr(Cr,"_invoke",function(Nr,zr,Rr){var Hi,li,_i,lr=0,Wr=Rr||[],Qi=!1,Bi={p:0,n:0,v:B,a:er,f:er.bind(B,4),d:function(Ti,Si){return Hi=Ti,li=0,_i=B,Bi.n=Si,ye}};function er(Ti,Si){for(li=Ti,_i=Si,O=0;!Qi&&lr&&!Vi&&O<Wr.length;O++){var Vi,Ei=Wr[O],jr=Bi.p,Fr=Ei[2];Ti>3?(Vi=Fr===Si)&&(_i=Ei[(li=Ei[4])?5:(li=3,3)],Ei[4]=Ei[5]=B):Ei[0]<=jr&&((Vi=Ti<2&&jr<Ei[1])?(li=0,Bi.v=Si,Bi.n=Ei[1]):jr<Fr&&(Vi=Ti<3||Ei[0]>Si||Si>Fr)&&(Ei[4]=Ti,Ei[5]=Si,Bi.n=Fr,li=0))}if(Vi||Ti>1)return ye;throw Qi=!0,Si}return function(Ti,Si,Vi){if(lr>1)throw TypeError("Generator is already running");for(Qi&&Si===1&&er(Si,Vi),li=Si,_i=Vi;(O=li<2?B:_i)||!Qi;){Hi||(li?li<3?(li>1&&(Bi.n=-1),er(li,_i)):Bi.n=_i:Bi.v=_i);try{if(lr=2,Hi){if(li||(Ti="next"),O=Hi[Ti]){if(!(O=O.call(Hi,_i)))throw TypeError("iterator result is not an object");if(!O.done)return O;_i=O.value,li<2&&(li=0)}else li===1&&(O=Hi.return)&&O.call(Hi),li<2&&(_i=TypeError("The iterator does not provide a '"+Ti+"' method"),li=1);Hi=B}else if((O=(Qi=Bi.n<0)?_i:Nr.call(zr,Bi))!==ye)break}catch(Ei){Hi=B,li=1,_i=Ei}finally{lr=1}}return{value:O,done:Qi}}}(ci,Ui,Pr),!0),Cr}var ye={};function gt(){}function bt(){}function Tt(){}O=Object.getPrototypeOf;var Ut=[][F]?O(O([][F]())):(qr(O={},F,function(){return this}),O),Xt=Tt.prototype=gt.prototype=Object.create(Ut);function gi(ci){return Object.setPrototypeOf?Object.setPrototypeOf(ci,Tt):(ci.__proto__=Tt,qr(ci,ee,"GeneratorFunction")),ci.prototype=Object.create(Xt),ci}return bt.prototype=Tt,qr(Xt,"constructor",Tt),qr(Tt,"constructor",bt),bt.displayName="GeneratorFunction",qr(Tt,ee,"GeneratorFunction"),qr(Xt),qr(Xt,ee,"Generator"),qr(Xt,F,function(){return this}),qr(Xt,"toString",function(){return"[object Generator]"}),(Or=function(){return{w:le,m:gi}})()}function qr(B,O,L,F){var ee=Object.defineProperty;try{ee({},"",{})}catch(le){ee=0}qr=function(le,ye,gt,bt){function Tt(Ut,Xt){qr(le,Ut,function(gi){return this._invoke(Ut,Xt,gi)})}ye?ee?ee(le,ye,{value:gt,enumerable:!bt,configurable:!bt,writable:!bt}):le[ye]=gt:(Tt("next",0),Tt("throw",1),Tt("return",2))},qr(B,O,L,F)}function Io(B,O,L,F,ee,le,ye){try{var gt=B[le](ye),bt=gt.value}catch(Tt){return void L(Tt)}gt.done?O(bt):Promise.resolve(bt).then(F,ee)}function Lo(B){return function(){var O=this,L=arguments;return new Promise(function(F,ee){var le=B.apply(O,L);function ye(bt){Io(le,F,ee,ye,gt,"next",bt)}function gt(bt){Io(le,F,ee,ye,gt,"throw",bt)}ye(void 0)})}}function Ln(B,O){return function(L){if(Array.isArray(L))return L}(B)||function(L,F){var ee=L==null?null:typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(ee!=null){var le,ye,gt,bt,Tt=[],Ut=!0,Xt=!1;try{if(gt=(ee=ee.call(L)).next,F===0){if(Object(ee)!==ee)return;Ut=!1}else for(;!(Ut=(le=gt.call(ee)).done)&&(Tt.push(le.value),Tt.length!==F);Ut=!0);}catch(gi){Xt=!0,ye=gi}finally{try{if(!Ut&&ee.return!=null&&(bt=ee.return(),Object(bt)!==bt))return}finally{if(Xt)throw ye}}return Tt}}(B,O)||Zo(B,O)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zo(B,O){if(B){if(typeof B=="string")return po(B,O);var L={}.toString.call(B).slice(8,-1);return L==="Object"&&B.constructor&&(L=B.constructor.name),L==="Map"||L==="Set"?Array.from(B):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?po(B,O):void 0}}function po(B,O){(O==null||O>B.length)&&(O=B.length);for(var L=0,F=Array(O);L<O;L++)F[L]=B[L];return F}function ri(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=ri.extendOptions({},ri.defaultOptions,B,ri.optionOverrides);this.setup(O)}function Xn(B,O,L){var F,ee,le,ye,gt,bt,Tt,Ut;ee=L,le=function(Xt){return Xt.br},ye=ri,gt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:L,bt=function(Xt){return Xt._overrideable[O]},Tt=(F=B).prototype[ee],Ut=function(){return Tt.apply(bt(this),arguments)},Object.defineProperty(ye.prototype,gt,{get:function(){return Ut},set:function(Xt){F.prototype[ee]=function(){var gi=this instanceof F?le(this):this;return Xt.apply(gi,arguments)},Ut=Xt}})}ri.extendOptions=function(){for(var B=arguments.length,O=new Array(B),L=0;L<B;L++)O[L]=arguments[L];if(O.length<=1)return O[0];for(var F=["onePage","twoPage","vars"],ee=["plugins","controls"],le=O.shift(),ye=0,gt=O;ye<gt.length;ye++)for(var bt=gt[ye],Tt=0,Ut=Object.entries(bt);Tt<Ut.length;Tt++){var Xt=Ln(Ut[Tt],2),gi=Xt[0],ci=Xt[1];if(F.includes(gi))le[gi]||(le[gi]={}),le[gi]=Object.assign(le[gi],ci);else if(ee.includes(gi)){le[gi]||(le[gi]={});for(var zi=0,Ui=Object.entries(ci);zi<Ui.length;zi++){var Pr,tr=Ln(Ui[zi],2),Cr=tr[0],Nr=tr[1];(Pr=le[gi])[Cr]||(Pr[Cr]={}),Object.assign(le[gi][Cr],Nr)}}else le[gi]=ci}return le},ri.version="5.0.0-106",ri.constMode1up=1,ri.constMode2up=2,ri.constModeThumb=3,ri.PLUGINS={archiveAnalytics:null,autoplay:null,chapters:null,experiments:null,resume:null,search:null,textSelection:null,translate:null,tts:null},ri.registerPlugin=function(B,O){ri.PLUGINS[B]&&console.warn("Plugin ".concat(B," already registered. Overwriting.")),ri.PLUGINS[B]=O},ri.imageCache=null,ri.constNavAnimationDuration=300,ri.constResizeAnimationDuration=100,ri.eventNames=u.q,ri.defaultOptions=C,ri.optionOverrides={},ri.prototype.setup=function(B){var O;this.options=B,this.shell,this.bookId=B.bookId,this.server=B.server,this.subPrefix=B.subPrefix,this.bookPath=B.bookPath,this.plugins={archiveAnalytics:ri.PLUGINS.archiveAnalytics?new ri.PLUGINS.archiveAnalytics(this):null,autoplay:ri.PLUGINS.autoplay?new ri.PLUGINS.autoplay(this):null,chapters:ri.PLUGINS.chapters?new ri.PLUGINS.chapters(this):null,experiments:ri.PLUGINS.experiments?new ri.PLUGINS.experiments(this):null,search:ri.PLUGINS.search?new ri.PLUGINS.search(this):null,resume:ri.PLUGINS.resume?new ri.PLUGINS.resume(this):null,textSelection:ri.PLUGINS.textSelection?new ri.PLUGINS.textSelection(this):null,translate:ri.PLUGINS.translate?new ri.PLUGINS.translate(this):null,tts:ri.PLUGINS.tts?new ri.PLUGINS.tts(this):null};for(var L=0,F=Object.entries(this.plugins);L<F.length;L++){var ee=Ln(F[L],2),le=ee[0];ee[1]||delete this.plugins[le]}for(var ye=0,gt=Object.entries(ri.PLUGINS);ye<gt.length;ye++){var bt=Ln(gt[ye],2),Tt=bt[0],Ut=bt[1];!this.plugins[Tt]&&Ut&&(this.plugins[Tt]=new Ut(this))}for(var Xt=0,gi=Object.entries(this.plugins);Xt<gi.length;Xt++){var ci=Ln(gi[Xt],2),zi=ci[0],Ui=ci[1];try{var Pr,tr;Ui.setup((Pr=(tr=this.options.plugins)===null||tr===void 0?void 0:tr[zi])!==null&&Pr!==void 0?Pr:{}),this.options.plugins[zi]=Ui.options}catch(Cr){console.error("Error setting up plugin ".concat(zi),Cr)}}(O=this.plugins.search)!==null&&O!==void 0&&O.options.enabled&&(this.search=this.plugins.search.search.bind(this.plugins.search)),this.numLeafs=void 0,this.viewModeOrder=[],this.suppressFragmentChange=!1,this.animationFinishedCallback=null,this.constMode1up=ri.constMode1up,this.constMode2up=ri.constMode2up,this.constModeThumb=ri.constModeThumb,this.reduce=8,this.defaults=B.defaults,this.padding=B.padding,this.reduceSet=hi[B.reduceSet],this.reduceSet||(console.warn("Invalid reduceSet ".concat(B.reduceSet,". Ignoring.")),this.reduceSet=hi[C.reduceSet]),this.mode=null,this.prevReadMode=null,this.ui=B.ui,this.uiAutoHide=B.uiAutoHide,this.thumbWidth=100,this.thumbRowBuffer=B.thumbRowBuffer,this.thumbColumns=B.thumbColumns,this.thumbMaxLoading=B.thumbMaxLoading,this.thumbPadding=B.thumbPadding,this.displayedRows=[],this.displayedIndices=[],this.animating=!1,this.flipSpeed=o.parseAnimationSpeed(B.flipSpeed)||400,this.firstIndex=null,this.isFullscreenActive=B.startFullscreen||!1,this.lastScroll=null,this.showLogo=B.showLogo,this.logoURL=B.logoURL,this.imagesBaseURL=B.imagesBaseURL,this.reductionFactors=B.reductionFactors,this.onePage=B.onePage,this.twoPage=B.twoPage,this.onePageMinBreakpoint=B.onePageMinBreakpoint,this.bookTitle=B.bookTitle,this.bookUrl=B.bookUrl,this.bookUrlText=B.bookUrlText,this.bookUrlTitle=B.bookUrlTitle,this.titleLeaf=B.titleLeaf,this.metadata=B.metadata,this.thumbnail=B.thumbnail,this.bookUrlMoreInfo=B.bookUrlMoreInfo,this.enableExperimentalControls=B.enableExperimentalControls,this.el=B.el,this.pageProgression=B.pageProgression,this.protected=B.protected,this.getEmbedCode=B.getEmbedCode,this.popup=null,this.data=B.data,this.refs={},this.book=new D(this),B.getNumLeafs&&(this.book.getNumLeafs=B.getNumLeafs.bind(this)),B.getPageWidth&&(this.book.getPageWidth=B.getPageWidth.bind(this)),B.getPageHeight&&(this.book.getPageHeight=B.getPageHeight.bind(this)),B.getPageURI&&(this.book.getPageURI=B.getPageURI.bind(this)),B.getPageSide&&(this.book.getPageSide=B.getPageSide.bind(this)),B.getPageNum&&(this.book.getPageNum=B.getPageNum.bind(this)),B.getPageProp&&(this.book.getPageProp=B.getPageProp.bind(this)),B.getSpreadIndices&&(this.book.getSpreadIndices=B.getSpreadIndices.bind(this)),B.leafNumToIndex&&(this.book.leafNumToIndex=B.leafNumToIndex.bind(this)),this._components={navbar:new p(this),toolbar:new b(this)},this._modes={mode1Up:new Ht(this,this.book),mode2Up:new P(this,this.book),modeThumb:new si(this,this.book)},this._overrideable={book:this.book,"_components.navbar":this._components.navbar,"_components.toolbar":this._components.toolbar,"_modes.mode1Up":this._modes.mode1Up,"_modes.mode2Up":this._modes.mode2Up,"_modes.modeThumb":this._modes.modeThumb},this.imageCache=new Xr(this.book,{useSrcSet:this.options.useSrcSet,reduceSet:this.reduceSet,renderPageURI:B.renderPageURI.bind(this)}),this.hasKeyFocus=!0},ri.prototype.initializePlugin=function(B){var O=new ri.PLUGINS[B](this);this.plugins[B]=O;try{var L,F;O.setup((L=(F=this.options.plugins)===null||F===void 0?void 0:F[B])!==null&&L!==void 0?L:{}),this.options.plugins[B]=O.options}catch(ee){throw console.error("Error setting up plugin ".concat(B," outside of regular cycle"),ee),ee}try{O.init()}catch(ee){throw console.error("Error initializing plugin ".concat(B," outside of regular cycle"),ee),ee}},ri.prototype.getActivePageContainerElements=function(){var B=Object.values(this._modes.mode2Up.mode2UpLit.pageContainerCache).map(function(O){return O.$container[0]}).concat(Object.values(this._modes.mode1Up.mode1UpLit.pageContainerCache).map(function(O){return O.$container[0]}));return this.mode==this.constModeThumb&&(B=B.concat(this.$(".BRpagecontainer").toArray())),B},ri.prototype.getActivePageContainerElementsForIndex=function(B){var O,L,F;return[(O=this._modes.mode2Up.mode2UpLit.pageContainerCache[B])===null||O===void 0||(O=O.$container)===null||O===void 0?void 0:O[0],(L=this._modes.mode1Up.mode1UpLit.pageContainerCache[B])===null||L===void 0||(L=L.$container)===null||L===void 0?void 0:L[0]].concat((F=this.mode==this.constModeThumb?this.$(".pagediv".concat(B)).toArray():[],function(ee){if(Array.isArray(ee))return po(ee)}(F)||function(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}(F)||Zo(F)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())).filter(function(ee){return ee})},Object.defineProperty(ri.prototype,"activeMode",{get:function(){return{1:this._modes.mode1Up,2:this._modes.mode2Up,3:this._modes.modeThumb}[this.mode]}}),ri.util=o,ri.prototype.extendParams=function(B,O){var L=Ur.extend({},O);if(L.page!==void 0){var F=this.book.parsePageString(L.page);isNaN(F)||(L.index=F),delete L.page}Ur.extend(B,L)},ri.prototype.initParams=function(){var B,O,L={init:!0,pageFound:!1,fragmentChange:!1};if(this.titleLeaf!==void 0&&this.book.getNumLeafs()>2?L.index=this.book.leafNumToIndex(this.titleLeaf):L.index=0,this.defaults){var F=this.paramsFromFragment(this.defaults);F.page!==void 0&&(L.pageFound=!0),this.extendParams(L,F)}if((B=this.plugins.resume)!==null&&B!==void 0&&B.options.enabled){var ee=this.plugins.resume.getResumeValue();ee!==null&&(L.index!==ee&&(L.fragmentChange=!0),L.index=ee)}if(this.options.enableUrlPlugin){var le=this.paramsFromFragment(this.urlReadFragment());!Object.keys(le).length&&this.urlReadHashFragment()&&this.options.urlMode==="history"&&(le=this.paramsFromFragment(this.urlReadHashFragment())),Object.keys(le).length&&(le.page!==void 0&&(L.pageFound=!0),this.extendParams(L,le),L.fragmentChange=!0)}if((O=this.plugins.search)!==null&&O!==void 0&&O.options.enabled){var ye=this.plugins.search;if(ye.options.goToFirstResult=!L.pageFound,!ye.initialSearchTerm)if(L.search)ye.options.initialSearchTerm=L.search,ye.searchTerm=L.search;else{var gt=new URLSearchParams(this.readQueryString()).get("q");gt&&(ye.options.initialSearchTerm=o.decodeURIComponentPlus(gt))}}return this.suppressFragmentChange=!L.fragmentChange,L},ri.prototype.getLocationSearch=function(){return window.location.search},ri.prototype.getLocationHash=function(){return window.location.hash},ri.prototype.readQueryString=function(){var B=this.getLocationSearch();if(B)return B;var O=this.getLocationHash(),L=O.search(/\?\w+=/);return L>-1?O.slice(L):""},ri.prototype.getInitialMode=function(B){var O,L=Ur(window).width(),F=L&&L<=this.onePageMinBreakpoint;if(O=B.mode?B.mode:F?this.constMode1up:this.constMode2up,this.canSwitchToMode(O)||(O=this.constMode1up),this.options.defaults)try{O=function(ee){var le={"mode/1up":1,"mode/2up":2,"mode/thumb":3};if(!(ee in le))throw new x("Invalid mode string: ".concat(ee));return le[ee]}(this.options.defaults)}catch(ee){}return O},ri.prototype.init=function(){var B;this.init.initComplete=!1,this.pageScale=this.reduce;var O=this.initParams();if(this.firstIndex=O.index?O.index:0,this.isTouchDevice="ontouchstart"in window||"msmaxtouchpoints"in window.navigator,this.refs.$br=Ur(this.el).empty().removeClass().addClass("ui-"+this.ui).addClass("br-ui-"+this.ui).addClass("BookReader"),this.isTouchDevice?this.refs.$br.addClass("touch"):this.refs.$br.addClass("no-touch"),this.refs.$brContainer=Ur("<div class='BRcontainer' dir='ltr'></div>"),this.refs.$br.append(this.refs.$brContainer),O.mode=this.getInitialMode(O),this.mode=O.mode,this.options.showToolbar&&this.initToolbar(this.mode,this.ui),this.options.showNavbar)for(var L=this.initNavbar(),F=0,ee=Object.values(this.plugins);F<ee.length;F++)ee[F].extendNavBar(L);this._components.navbar.switchNavbarControls(),this.resizeBRcontainer(),this.updateFromParams(O),this.initUIStrings(),this._components.navbar.bindControlClickHandlers();for(var le=0,ye=Object.values(this.plugins);le<ye.length;le++)ye[le]._bindNavigationHandlers();this.setupKeyListeners(),this.lastScroll=new Date().getTime(),this.refs.$brContainer.on("scroll",this,function(gi){gi.data.lastScroll=new Date().getTime(),gi.data.constModeThumb==gi.data.mode&&gi.data.drawLeafsThrottled()}),this.options.autoResize&&(Ur(window).on("resize",this,function(gi){gi.data.resize()}),Ur(window).on("orientationchange",this,function(gi){gi.data.resize()}.bind(this))),this.protected&&this.$(".BRicon.share").hide(),(B=this.plugins.search)!==null&&B!==void 0&&B.options.initialSearchTerm||(this.suppressFragmentChange=!1),this.options.startFullscreen&&this.enterFullscreen(!0);for(var gt=0,bt=Object.entries(this.plugins);gt<bt.length;gt++){var Tt=Ln(bt[gt],2),Ut=Tt[0],Xt=Tt[1];try{Xt.init()}catch(gi){console.error("Error initializing plugin ".concat(Ut),gi)}}this.init.initComplete=!0,this.trigger(ri.eventNames.PostInit)},ri.prototype.trigger=function(B){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,L="BookReader:"+B;o.polyfillCustomEvent(window),window.dispatchEvent(new CustomEvent(L,{bubbles:!0,composed:!0,detail:{props:O}})),Ur(document).trigger(L,O)},ri.prototype.on=function(B,O){Ur(document).on("BookReader:"+B,O)},ri.prototype.off=function(B,O){Ur(document).off("BookReader:"+B,O)},ri.prototype.bind=function(B,O){return this.on(B,O)},ri.prototype.unbind=function(B,O){return this.off(B,O)},ri.prototype.resize=function(){this.init.initComplete&&(this.resizeBRcontainer(),this._components.navbar.switchNavbarControls(),this.constMode1up==this.mode?this.onePage.autofit!="none"?(this._modes.mode1Up.resizePageView(),this.centerPageView()):(this.centerPageView(),this.displayedIndices=[],this.drawLeafsThrottled()):this.constModeThumb==this.mode?this._modes.modeThumb.prepare():this._modes.mode2Up.resizePageView(),this.trigger(ri.eventNames.resize))},ri.prototype.setupKeyListeners=function(){var B=this;window.IntersectionObserver&&new IntersectionObserver(function(O){O.forEach(function(L){L.intersectionRatio===0?B.hasKeyFocus=!1:B.hasKeyFocus=!0})},{root:null,rootMargin:"0px",threshold:[0,.05,1]}).observe(this.refs.$br[0]),document.addEventListener("keydown",function(O){if(B.hasKeyFocus&&!(O.getModifierState("Control")||O.getModifierState("Alt")||O.getModifierState("Meta")||O.getModifierState("Win")||o.isInputActive()))switch(O.key){case"Home":O.preventDefault(),B.first();break;case"End":O.preventDefault(),B.last();break;case"PageDown":B.constMode2up===B.mode&&(O.preventDefault(),B.next());break;case"PageUp":B.constMode2up===B.mode&&(O.preventDefault(),B.prev());break;case"ArrowLeft":case"Left":B.constModeThumb!=B.mode&&(O.preventDefault(),B.left());break;case"ArrowRight":case"Right":B.constModeThumb!=B.mode&&(O.preventDefault(),B.right());break;case"-":case"Subtract":O.preventDefault(),B.zoom(-1);break;case"+":case"=":case"Add":O.preventDefault(),B.zoom(1);break;case"F":case"f":O.preventDefault(),B.toggleFullscreen()}})},ri.prototype.drawLeafs=function(){this.constMode1up!=this.mode&&this.activeMode.drawLeafs()},ri.prototype._createPageContainer=function(B){for(var O=new $r.LN(this.book.getPage(B,!1),{isProtected:this.protected,imageCache:this.imageCache}),L=0,F=Object.values(this.plugins);L<F.length;L++)F[L]._configurePageContainer(O);return O},ri.prototype.bindGestures=function(B){var O=this,L=1;B.unbind("touchmove").bind("touchmove",function(F){F.originalEvent.cancelable&&(L=F.originalEvent.touches.length),F.stopPropagation()}),B.unbind("gesturechange").bind("gesturechange",function(F){F.preventDefault(),L!==2||new Date().getTime()-O.lastScroll<500||(F.originalEvent.scale>1.5?O.zoom(1):F.originalEvent.scale<.6&&O.zoom(-1))})},ri.prototype.drawLeafsThrottled=o.throttle(ri.prototype.drawLeafs,250),ri.prototype.zoom=function(B){var O,L;B==1?this.activeMode.zoom("in"):this.activeMode.zoom("out"),(O=this.plugins.textSelection)===null||O===void 0||O.textSelectionManager.stopPageFlip(this.refs.$brContainer),(L=this.plugins.translate)===null||L===void 0||L.textSelectionManager.stopPageFlip(this.refs.$brContainer)},ri.prototype.resizeBRcontainer=function(B){B?this.refs.$brContainer.animate({top:this.getToolBarHeight(),bottom:this.getFooterHeight()},this.constResizeAnimationDuration,"linear"):this.refs.$brContainer.css({top:this.getToolBarHeight(),bottom:this.getFooterHeight()})},ri.prototype.centerPageView=function(){var B=this.refs.$brContainer.prop("scrollWidth"),O=this.refs.$brContainer.prop("clientWidth");B>O&&this.refs.$brContainer.prop("scrollLeft",(B-O)/2)},ri.prototype.quantizeReduce=function(B,O){for(var L=O[0].reduce,F=Math.abs(B-L),ee=1;ee<O.length;ee++){var le=Math.abs(B-O[ee].reduce);le<F&&(F=le,L=O[ee].reduce)}return L},ri.prototype.nextReduce=function(B,O,L){if(O==="in"){for(var F=0,ee=1;ee<L.length;ee++)L[ee].reduce<B&&(F=ee);return L[F]}if(O==="out"){for(var le=L.length-1,ye=le,gt=le;gt>=0;gt--)L[gt].reduce>B&&(ye=gt);return L[ye]}if(O==="auto"){var bt=L.find(function(ci){return ci.autofit=="auto"});if(bt)return bt;for(var Tt=L.filter(function(ci){var zi=ci.autofit;return zi=="height"||zi=="width"}),Ut=null,Xt=0;Xt<Tt.length;Xt++)(Ut===null||Ut.reduce<Tt[Xt].reduce)&&(Ut=Tt[Xt]);if(Ut)return Ut}else if(O==="height"||O==="width"){var gi=L.find(function(ci){return ci.autofit==O});if(gi)return gi}return L[0]},ri.prototype._reduceSort=function(B,O){return B.reduce-O.reduce},ri.prototype.jumpToPage=function(B){var O=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).ariaLive,L=O!==void 0&&O,F=this.book.parsePageString(B);return F!==void 0&&(this.jumpToIndex(F,{ariaLive:L}),!0)},ri.prototype._isIndexDisplayed=function(B){return this.displayedIndices?this.displayedIndices.includes(B):this.currentIndex()==B},ri.prototype.jumpToIndex=function(B){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=O.pageX,F=L===void 0?0:L,ee=O.pageY,le=ee===void 0?0:ee,ye=O.noAnimate,gt=ye!==void 0&&ye,bt=O.flipSpeed,Tt=bt===void 0?null:bt,Ut=O.ariaLive,Xt=Ut!==void 0&&Ut,gi=O.triggerStop,ci=gi===void 0||gi,zi=this.activeMode.parsePageSpecifier(B);if(Tt=o.parseAnimationSpeed(Tt)||this.flipSpeed,zi&&zi.index!=this.currentIndex())if(zi.isViewable||zi.unviewablesStart==zi.index)ci&&this.trigger(ri.eventNames.stop),this.trigger(ri.eventNames.beforePageChanged,{index:zi.index,ariaLive:Xt}),this.activeMode.jumpToIndex(zi.index,{pageX:F,pageY:le,noAnimate:gt,flipSpeed:Tt,ariaLive:Xt});else{var Ui,Pr=this._isIndexDisplayed(zi.unviewablesStart)?(Ui=zi.findNext({combineConsecutiveUnviewables:!0}))===null||Ui===void 0?void 0:Ui.index:zi.unviewablesStart;Pr!==void 0&&this.jumpToIndex(Pr,{pageX:F,pageY:le,noAnimate:gt,flipSpeed:Tt,ariaLive:Xt})}},ri.prototype.getPrevReadMode=function(B){return B===ri.constMode1up||B===ri.constMode2up?B:this.prevReadMode===null?ri.constMode1up:void 0},ri.prototype.switchMode=function(B){var O,L,F,ee,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=le.suppressFragmentChange,gt=ye!==void 0&&ye;if(le.init,le.pageFound,typeof B=="string"&&(B={"1up":this.constMode1up,"2up":this.constMode2up,thumb:this.constModeThumb}[B]),!B)throw new Error("Invalid mode: ".concat(B));if(!(this.init.initComplete&&(B===this.mode||!this.canSwitchToMode(B)))){this.trigger(ri.eventNames.stop),this.prevReadMode=this.getPrevReadMode(this.mode),this.mode!=B&&((F=(ee=this.activeMode).unprepare)===null||F===void 0||F.call(ee)),this.mode=B,this.pageScale!==this.reduce&&(this.reduce=this.pageScale),this.constMode1up==B?this._modes.mode1Up.prepare():this.constModeThumb==B?(this.reduce=this.quantizeReduce(this.reduce,this.reductionFactors),this._modes.modeThumb.prepare()):this._modes.mode2Up.prepare(),this.suppressFragmentChange||gt||this.trigger(ri.eventNames.fragmentChange);var bt=B+"PageViewSelected";this.trigger(ri.eventNames[bt]),(O=this.plugins.textSelection)===null||O===void 0||O.textSelectionManager.stopPageFlip(this.refs.$brContainer),(L=this.plugins.translate)===null||L===void 0||L.textSelectionManager.stopPageFlip(this.refs.$brContainer)}},ri.prototype.updateBrClasses=function(){var B={};B[this.constMode1up]="BRmode1up",B[this.constMode2up]="BRmode2up",B[this.constModeThumb]="BRmodeThumb",this.refs.$br.removeClass("BRmode1up BRmode2up BRmodeThumb").addClass(B[this.mode]),this.isFullscreen()?(this.refs.$br.addClass("fullscreenActive"),Ur(document.body).addClass("BRfullscreenActive")):(this.refs.$br.removeClass("fullscreenActive"),Ur(document.body).removeClass("BRfullscreenActive"))},ri.prototype.isFullscreen=function(){return this.isFullscreenActive},ri.prototype.toggleFullscreen=Lo(Or().m(function B(){var O,L=arguments;return Or().w(function(F){for(;;)switch(F.n){case 0:if(O=!(L.length>0&&L[0]!==void 0)||L[0],!this.isFullscreen()){F.n=2;break}return F.n=1,this.exitFullScreen();case 1:F.n=3;break;case 2:return F.n=3,this.enterFullscreen(O);case 3:return F.a(2)}},B,this)})),ri.prototype.enterFullscreen=Lo(Or().m(function B(){var O,L,F,ee,le=this,ye=arguments;return Or().w(function(gt){for(;;)switch(gt.n){case 0:if(F=!(ye.length>0&&ye[0]!==void 0)||ye[0],this.refs.$br.addClass("BRfullscreenAnimation"),ee=this.currentIndex(),F&&(this._fullscreenCloseHandler=function(bt){bt.keyCode===27&&le.toggleFullscreen()},Ur(document).on("keyup",this._fullscreenCloseHandler)),Ur(window).width()<=this.onePageMinBreakpoint&&this.switchMode(this.constMode1up),this.isFullscreenActive=!0,this.$(".BRnav .BRicon.full").attr("title","Exit fullscreen"),this.$(".BRnav .BRicon.full .BRtooltip").text("Exit fullscreen"),this.updateBrClasses(),!(this.activeMode instanceof Ht)){gt.n=1;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(ee)),this.activeMode.mode1UpLit.requestUpdate(),gt.n=1,this.activeMode.mode1UpLit.updateComplete;case 1:return this.jumpToIndex(ee),(O=this.plugins.textSelection)===null||O===void 0||O.textSelectionManager.stopPageFlip(this.refs.$brContainer),(L=this.plugins.translate)===null||L===void 0||L.textSelectionManager.stopPageFlip(this.refs.$brContainer),this.trigger(ri.eventNames.fragmentChange),this.trigger(ri.eventNames.fullscreenToggled),gt.n=2,new Promise(function(bt){return setTimeout(bt,0)});case 2:this.resize(),this.refs.$br.removeClass("BRfullscreenAnimation");case 3:return gt.a(2)}},B,this)})),ri.prototype.exitFullScreen=Lo(Or().m(function B(){var O,L,F;return Or().w(function(ee){for(;;)switch(ee.n){case 0:return this.refs.$br.addClass("BRfullscreenAnimation"),Ur(document).off("keyup",this._fullscreenCloseHandler),F=Ur(window).width(),this.options.controls.twoPage.visible&&F<=this.onePageMinBreakpoint&&this.switchMode(this.constMode2up),this.isFullscreenActive=!1,this.$(".BRnav .BRicon.full").attr("title","Go fullscreen"),this.$(".BRnav .BRicon.full .BRtooltip").text("Go fullscreen"),this.trigger(ri.eventNames.fullscreenToggled),this.updateBrClasses(),ee.n=1,new Promise(function(le){return setTimeout(le,0)});case 1:if(this.resize(),!(this.activeMode instanceof Ht)){ee.n=2;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(this.currentIndex())),this.activeMode.mode1UpLit.requestUpdate(),ee.n=2,this.activeMode.mode1UpLit.updateComplete;case 2:(O=this.plugins.textSelection)===null||O===void 0||O.textSelectionManager.stopPageFlip(this.refs.$brContainer),(L=this.plugins.translate)===null||L===void 0||L.textSelectionManager.stopPageFlip(this.refs.$brContainer),this.trigger(ri.eventNames.fragmentChange),this.refs.$br.removeClass("BRfullscreenAnimation");case 3:return ee.a(2)}},B,this)})),ri.prototype.toggleSlider=function(){var B=this.refs.$BRnav.find(".toggle_slider"),O=this.refs.$br.find(".BRnavMobile");B.toggleClass("active"),O.toggleClass("docked")},ri.prototype.currentIndex=function(){if(this.mode==this.constMode1up||this.mode==this.constModeThumb)return this.firstIndex;if(this.mode==this.constMode2up)return o.clamp(this.firstIndex,0,this.book.getNumLeafs()-1);throw"currentIndex called for unimplemented mode "+this.mode},ri.prototype.updateFirstIndex=function(B){var O,L=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).suppressFragmentChange,F=L!==void 0&&L;this.firstIndex!==B&&(this.firstIndex=B,this.suppressFragmentChange||F||this.trigger(ri.eventNames.fragmentChange),(O=this.plugins.search)!==null&&O!==void 0&&O.options.initialSearchTerm&&!F&&(this.suppressFragmentChange=!1),this.trigger(ri.eventNames.pageChanged),this.trigger(ri.eventNames.userAction))},ri.prototype.right=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=B.ariaLive,L=O===void 0||O,F=B.triggerStop,ee=F===void 0||F;this.jumpToIndex("right",{ariaLive:L,triggerStop:ee})},ri.prototype.rightmost=function(){this.pageProgression!="rl"?this.last():this.first()},ri.prototype.left=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=B.ariaLive,L=O===void 0||O,F=B.triggerStop,ee=F===void 0||F;this.jumpToIndex("left",{ariaLive:L,triggerStop:ee})},ri.prototype.leftmost=function(){this.pageProgression!="rl"?this.first():this.last()},ri.prototype.next=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=B.triggerStop,L=O===void 0||O,F=B.flipSpeed,ee=F===void 0?null:F,le=B.ariaLive,ye=le===void 0||le;this.jumpToIndex("next",{ariaLive:ye,flipSpeed:ee,triggerStop:L})},ri.prototype.prev=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=B.triggerStop,L=O===void 0||O,F=B.flipSpeed,ee=F===void 0?null:F,le=B.ariaLive,ye=le===void 0||le;this.jumpToIndex("prev",{ariaLive:ye,flipSpeed:ee,triggerStop:L})},ri.prototype.first=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=B.ariaLive,L=O===void 0||O,F=B.triggerStop,ee=F!==void 0&&F;this.jumpToIndex(0,{ariaLive:L,triggerStop:ee})},ri.prototype.last=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=B.ariaLive,L=O===void 0||O,F=B.triggerStop,ee=F!==void 0&&F;this.jumpToIndex(this.book.getNumLeafs()-1,{ariaLive:L,triggerStop:ee})},ri.prototype.initNavbar=p.prototype.init,Xn(p,"_components.navbar","init","initNavbar"),ri.prototype.buildToolbarElement=b.prototype.buildToolbarElement,Xn(b,"_components.toolbar","buildToolbarElement"),ri.prototype.initToolbar=b.prototype.initToolbar,Xn(b,"_components.toolbar","initToolbar"),ri.prototype.buildShareDiv=b.prototype.buildShareDiv,Xn(b,"_components.toolbar","buildShareDiv"),ri.prototype.buildInfoDiv=b.prototype.buildInfoDiv,Xn(b,"_components.toolbar","buildInfoDiv"),ri.prototype.getToolBarHeight=b.prototype.getToolBarHeight,Xn(b,"_components.toolbar","getToolBarHeight"),ri.prototype.getPageURI=D.prototype.getPageURI,Xn(D,"book","getPageURI"),ri.prototype.updateFromParams=function(B){var O,L=B.mode,F=L===void 0?0:L,ee=B.init,le=ee!==void 0&&ee,ye=B.fragmentChange,gt=ye!==void 0&&ye;F&&this.switchMode(F,{init:le,suppressFragmentChange:!gt}),B.index!==void 0?B.index!=this.currentIndex()&&this.jumpToIndex(B.index):B.page!==void 0&&B.page!=this.book.getPageNum(this.currentIndex())&&this.jumpToPage(B.page),(O=this.plugins.search)!==null&&O!==void 0&&O.enabled&&B.search!==void 0&&this.plugins.search.searchTerm!==B.search&&this.$(".BRsearchInput").val(B.search),this.enableThemesPlugin&&B.theme!==void 0&&this.updateTheme(B.theme)},ri.prototype.canSwitchToMode=function(B){return B!=this.constMode2up&&B!=this.constModeThumb||!(this.book.getNumLeafs()<2)},ri.prototype._getPageURI=function(B,O,L){var F=this.book.getPage(B,!1);return F?(O===void 0&&(O=F.height/this.twoPage.height),F.getURI(O,L)):this.imagesBaseURL+"transparent.png"},ri.prototype.showProgressPopup=function(B,O){var L=this;if(!this.popup){if(this.popup=document.createElement("div"),Ur(this.popup).prop("className","BRprogresspopup"),typeof O=="function"){var F=document.createElement("button");F.setAttribute("title","close"),F.setAttribute("class","close-popup");var ee=document.createElement("span");ee.setAttribute("class","icon icon-close-dark"),Ur(F).append(ee),F.addEventListener("click",function(){O(),L.removeProgressPopup()}),Ur(this.popup).append(F)}var le=document.createElement("div");if(Ur(le).css({height:"20px"}).prop("className","BRprogressbar"),Ur(this.popup).append(le),B){var ye=document.createElement("div");ye.innerHTML=B,Ur(this.popup).append(ye)}Ur(this.popup).appendTo(this.refs.$br)}},ri.prototype.removeProgressPopup=function(){Ur(this.popup).remove(),this.$(".BRprogresspopup").remove(),this.popup=null},ri.prototype.initUIStrings=function(){var B={".logo":"Go to Archive.org",".zoom_in":"Zoom in",".zoom_out":"Zoom out",".onepg":"One-page view",".twopg":"Two-page view",".thumb":"Thumbnail view",".print":"Print this page",".embed":"Embed BookReader",".link":"Link to this book (and page)",".bookmark":"Bookmark this page",".share":"Share this book",".info":"About this book",".full":"Go fullscreen",".toggle_slider":"Toggle page controls",".book_left":"Flip left",".book_right":"Flip right",".play":"Play",".pause":"Pause",".book_top":"First page",".book_bottom":"Last page",".book_leftmost":"First page",".book_rightmost":"Last page"};for(var O in this.pageProgression=="rl"&&(B[".book_leftmost"]="Last page",B[".book_rightmost"]="First page"),B)this.$(O).prop("title",B[O])},ri.prototype.reloadImages=function(){this.refs.$brContainer.find("img").each(function(B,O){if(!O.complete||O.naturalHeight===0){var L=O.src;O.src="",setTimeout(function(){O.src=L},1e3)}})},ri.prototype.getFooterHeight=function(){var B=this.mode==this.constMode2up?this.refs.$BRfooter:this.refs.$BRnav;if(B&&this.refs.$BRfooter){var O=B.outerHeight(),L=parseInt(this.refs.$BRfooter.css("bottom"));if(!isNaN(O)&&!isNaN(L))return O+L}return 0},ri.prototype.paramsFromCurrent=function(){var B,O={},L=this.currentIndex(),F=this.book.getPageNum(L);return(F===0||F)&&(O.page=F),O.index=L,O.mode=this.mode,this.isFullscreenActive&&(O.view="theater"),(B=this.plugins.search)!==null&&B!==void 0&&B.enabled&&(O.search=this.plugins.search.searchTerm),O},ri.prototype.paramsFromFragment=function(B){var O={};B.substr(0,1)=="#"&&(B=B.substr(1));var L=parseInt(/^\d+$/.exec(B));if(!isNaN(L))return O.index=L,O;for(var F=B.split("/"),ee={},le=0;le<F.length;le+=2)ee[F[le]]=F[le+1];return ee.mode=="1up"?O.mode=this.constMode1up:ee.mode=="2up"?O.mode=this.constMode2up:ee.mode=="thumb"&&(O.mode=this.constModeThumb),ee.page!==void 0&&(O.page=decodeURIComponent(ee.page)),ee.search!=null&&(O.search=o.decodeURIComponentPlus(ee.search)),ee.theme!=null&&(O.theme=ee.theme),O},ri.prototype.fragmentFromParams=function(B){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"hash",L=[];if(B.page!==void 0?L.push("page",encodeURIComponent(B.page)):B.index!==void 0&&L.push("page","n"+B.index),B.mode!==void 0)if(B.mode==this.constMode1up)L.push("mode","1up");else if(B.mode==this.constMode2up)L.push("mode","2up");else{if(B.mode!=this.constModeThumb)throw"fragmentFromParams called with unknown mode "+B.mode;L.push("mode","thumb")}return B.search&&O==="hash"&&L.push("search",o.encodeURIComponentPlus(B.search)),L.join("/")},ri.prototype.queryStringFromParams=function(B,O){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"hash",F=new URLSearchParams(O);B.view?F.set("view",B.view):F.delete("view"),B.search&&L==="history"&&F.set("q",B.search);var ee=F.toString();return ee?"?"+ee:""},ri.prototype.$=function(B){return this.refs.$br.find(B)},window.BookReader=ri})(),l=a.O(l)})();Xw=Q7,{default:Qw}=Xw,eC=en(Xw,["default"]),e2=Qw!==void 0?Qw:eC;});var t2={};On(t2,{default:()=>e2});var i2=Wt(()=>{fg();fg()});var tC,r2,n2,iC,o2,mg=Wt(()=>{tC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[924],{706:function(e,t,r){var a=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(u){return l(function(){return!!o[u]()||"\u200B\x85\u180E"[u]()!=="\u200B\x85\u180E"||a&&o[u].name!==u})}},1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{S:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var u=function(){return n=function d(f){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.br=f,this.options},(c=[{key:"setup",value:function(d){this.options=Object.assign({},this.options,d)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(d){}},{key:"_configureToolbar",value:function(d){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(d){}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},2762:function(e,t,r){var a=r(6518),l=r(3802).trim;a({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},4160:function(e,t,r){r.d(t,{$x:function(){return C},EF:function(){return f},ND:function(){return A},m0:function(){return p},YH:function(){return y},_4:function(){return w}}),r(2675),r(9463),r(2259),r(3418),r(4423),r(3792),r(4782),r(2010),r(875),r(6099),r(3362),r(7495),r(8781),r(1699),r(7764),r(1761),r(2953);var a=[],l={},o={},u={};[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u0623\u06C7\u0632\u0628\u06D0\u0643","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, ","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]].forEach(x=>{var S={name:x[0],nativeName:x[1],iso639_1:x[2],iso639_2T:x[3],iso639_2B:x[4]};l[x[2]]=o[x[3]]=u[x[4]]=S,a.push(S)});var n=a;function c(x,S){var s=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!s){if(Array.isArray(x)||(s=function(E,R){if(E){if(typeof E=="string")return d(E,R);var j={}.toString.call(E).slice(8,-1);return j==="Object"&&E.constructor&&(j=E.constructor.name),j==="Map"||j==="Set"?Array.from(E):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?d(E,R):void 0}}(x))||S&&x&&typeof x.length=="number"){s&&(x=s);var h=0,g=function(){};return{s:g,n:function(){return h>=x.length?{done:!0}:{done:!1,value:x[h++]}},e:function(E){throw E},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,b=!0,_=!1;return{s:function(){s=s.call(x)},n:function(){var E=s.next();return b=E.done,E},e:function(E){_=!0,m=E},f:function(){try{b||s.return==null||s.return()}finally{if(_)throw m}}}}function d(x,S){(S==null||S>x.length)&&(S=x.length);for(var s=0,h=Array(S);s<S;s++)h[s]=x[s];return h}function f(x){var S=x.match(/\S+/g);return S?S.length:0}function p(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(x)}var v={"zh-hans":"\u4E2D\u6587 (Zh\u014Dngw\xE9n)"};function y(x){if(!x)return null;if(x=x.toLocaleLowerCase(),v[x])return x;var S=k(x,["iso639_1"])||k(x,["iso639_2T"])||k(x,["iso639_2B","name","nativeName"]);return S?S.iso639_1:null}function w(x){if(!x)return null;if(x=x.toLocaleLowerCase(),v[x])return v[x];var S=k(x,["iso639_1"])||k(x,["iso639_2T"])||k(x,["iso639_2B","name","nativeName"]);return S!=null&&S.nativeName?S.nativeName.split(", ")[0]:null}function k(x,S){if(!x)return null;x=x.toLowerCase();var s,h=c(n);try{for(h.s();!(s=h.n()).done;){var g,m=s.value,b=c(S);try{for(b.s();!(g=b.n()).done;){var _;if((_=m[g.value])!==null&&_!==void 0&&_.toLowerCase().split(", ").includes(x))return m}}catch(E){b.e(E)}finally{b.f()}}}catch(E){h.e(E)}finally{h.f()}return null}function A(){try{return!!window.localStorage}catch(x){return!1}}var C=location.toString().indexOf("_debugReadAloud=true")!=-1},5372:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8706),r(113),r(3418),r(3792),r(8598),r(2062),r(4782),r(9572),r(2010),r(8130),r(5506),r(3851),r(875),r(6099),r(8459),r(3362),r(825),r(888),r(7495),r(8781),r(7764),r(5440),r(5746),r(2953),r(8408);var a=r(8004),l=r(4907),o=(r(8940),r(3500),r(1669));function u(ie){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},u(ie)}function n(ie,W){for(var V=0;V<W.length;V++){var se=W[V];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(ie,c(se.key),se)}}function c(ie){var W=function(V){if(u(V)!="object"||!V)return V;var se=V[Symbol.toPrimitive];if(se!==void 0){var Ae=se.call(V,"string");if(u(Ae)!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}(ie);return u(W)=="symbol"?W:W+""}var d=function(){return ie=function V(se){var Ae=se.br,Oe=se.searchCancelledCallback,je=Oe===void 0?function(){}:Oe;(function(De,Se){if(!(De instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,V),this.br=Ae,this.matches=[],this.cacheDOMElements(),this.cancelSearch=je},W=[{key:"init",value:function(){this.bindEvents()}},{key:"cacheDOMElements",value:function(){this.dom={},this.dom.toolbarSearch=this.buildToolbarSearch()}},{key:"setQuery",value:function(V){this.br.$('[name="query"]').val(V)}},{key:"emptyMatches",value:function(){this.matches=[]}},{key:"removeResultPins",value:function(){this.br.$(".BRnavpos .BRsearch").remove()}},{key:"clearSearchFieldAndResults",value:function(){var V=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.plugins.search.removeSearchResults(),this.removeResultPins(),this.emptyMatches(),this.setQuery(""),this.teardownSearchNavigation(),V&&this.br.trigger("SearchResultsCleared")}},{key:"toggleSidebar",value:function(){this.br.trigger("ToggleSearchMenu")}},{key:"renderSearchNavigation",value:function(){var V="BRsearch-navigation";o(".BRnav.BRnavMain").before(`
      <div class="`.concat(V,`">
        <button class="toggle-sidebar">
          <h4>
            <span class="icon icon-search"></span> Results
          </h4>
        </button>
        <div class="pagination">
          <button class="prev" title="Previous result"><span class="icon icon-chevron hflip"></span></button>
          <span data-id="resultsCount">`).concat(this.resultsPosition(),`</span>
          <button class="next" title="Next result"><span class="icon icon-chevron"></button>
        </div>
        <button class="clear" title="Clear search results">
          <span class="icon icon-close"></span>
        </button>
      </div>
    `)),this.dom.searchNavigation=o(".".concat(V))}},{key:"resultsPosition",value:function(){var V="".concat(this.matches.length," result").concat(this.matches.length===1?"":"s");return~this.currentMatchIndex&&(V="".concat(this.currentMatchIndex+1," / ").concat(this.matches.length)),V}},{key:"bindSearchNavigationEvents",value:function(){if(this.dom.searchNavigation){var V="searchNavigation";this.dom.searchNavigation.on("click.".concat(V),".clear",this.clearSearchFieldAndResults.bind(this)).on("click.".concat(V),".prev",this.showPrevResult.bind(this)).on("click.".concat(V),".next",this.showNextResult.bind(this)).on("click.".concat(V),".toggle-sidebar",this.toggleSidebar.bind(this)).on("click.".concat(V),!1)}}},{key:"showPrevResult",value:function(){this.currentMatchIndex!==0&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(V,se,Ae){return se[0]>Ae})+1),this.br.$(".BRnavline .BRsearch").eq(--this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"showNextResult",value:function(){this.currentMatchIndex+1!==this.matches.length&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(V,se,Ae){return V[V.length-1]>Ae})-1),this.br.$(".BRnavline .BRsearch").eq(++this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"getClosestMatchIndex",value:function(V){var se=this.matches.map(function(De){return De.par[0].page}),Ae=this.br.currentIndex()+1,Oe=function(De,Se){if(De.length===1)return De[0];var de=De.slice(0,De.length/2),Xe=De.slice(De.length/2);return Oe(V(de,Xe,Se)?de:Xe,Se)},je=Oe(se,Ae);return this.matches.indexOf(this.matches.find(function(De){return De.par[0].page===je}))}},{key:"updateResultsPosition",value:function(){this.dom.searchNavigation&&this.dom.searchNavigation.find("[data-id=resultsCount]").text(this.resultsPosition())}},{key:"updateSearchNavigationButtons",value:function(){this.dom.searchNavigation&&(this.dom.searchNavigation.find(".prev").attr("disabled",!this.currentMatchIndex),this.dom.searchNavigation.find(".next").attr("disabled",this.currentMatchIndex+1===this.matches.length))}},{key:"teardownSearchNavigation",value:function(){this.dom.searchNavigation||(this.dom.searchNavigation=o(".BRsearch-navigation")),this.dom.searchNavigation.length&&(this.dom.searchNavigation.off(".searchNavigation").remove(),this.dom.searchNavigation=null,this.br.resize())}},{key:"setCurrentMatchIndex",value:function(){var V;this.br.mode!==this.br.constModeThumb?(V=this.br.mode===this.br.constMode2up?this.find2upMatchingSearchResult():this.find1upMatchingSearchResult(),this.currentMatchIndex=this.matches.indexOf(V)):this.currentMatchIndex=-1}},{key:"find1upMatchingSearchResult",value:function(){var V=this;return this.matches.find(function(se){return V.br.currentIndex()===se.par[0].page-1})}},{key:"find2upMatchingSearchResult",value:function(){var V=this;return this.matches.find(function(se){return V.br._isIndexDisplayed(se.par[0].page-1)})}},{key:"updateSearchNavigation",value:function(){this.matches.length&&(this.setCurrentMatchIndex(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"togglePinsFor",value:function(V){var se=V?"visible":"hidden";this.br.refs.$BRfooter.find(".BRsearch").css({visibility:se})}},{key:"buildToolbarSearch",value:function(){var V=document.createElement("span");return V.classList.add("BRtoolbarSection","BRtoolbarSectionSearch"),V.innerHTML=`
      <form class="BRbooksearch desktop">
        <input type="search" name="query" class="BRsearchInput" value="" placeholder="Search inside"/>
        <button type="submit" class="BRsearchSubmit">
          <img src="`.concat(this.br.options.imagesBaseURL,`icon_search_button.svg" />
        </button>
      </form>
    `),V}},{key:"renderPins",value:function(V){var se=this;V.forEach(function(Ae){var Oe=se.br.book.leafNumToIndex(Ae.par[0].page),je=se.br.constructor.util.cssPercentage(Oe,se.br.book.getNumLeafs()-1),De=Ae.html;if(De.length>200){var Se=Math.max(0,De.indexOf("<mark>")-100);Se!=0&&(De="\u2026"+Ae.html.substring(Se).replace(/^\S+/,""))}o("<div>").addClass("BRsearch").css({left:je}).attr("title","Search result").append(`
          <div class="BRquery">
            <main>`.concat(De,`</main>
            <footer>Page `).concat(Ae.displayPageNumber,`</footer>
          </div>
        `)).appendTo(se.br.$(".BRnavline")).on("mouseenter",function(de){var Xe=de.currentTarget,ht=Xe.querySelector(".BRquery"),nt=ht.getBoundingClientRect(),lt=Xe.getBoundingClientRect(),ot=2*parseInt(getComputedStyle(ht).paddingLeft);nt.x-ot<0&&ht.style.setProperty("transform","translateX(-".concat(lt.left-ot,"px)")),o(".BRsearch,.BRchapter").removeClass("front"),o(de.target).addClass("front")}).on("mouseleave",function(de){return o(de.target).removeClass("front")}).on("click",function(){se.br.plugins.search.jumpToMatch(Ae.matchIndex)})})}},{key:"toggleSearchPending",value:function(){var V=this;arguments.length>0&&arguments[0]!==void 0&&arguments[0]?this.br.showProgressPopup("Search results will appear below...",function(){return V.progressPopupClosed()}):this.br.removeProgressPopup()}},{key:"progressPopupClosed",value:function(){this.toggleSearchPending(),this.cancelSearch()}},{key:"renderErrorModal",value:function(){var V="".concat(arguments.length>0&&arguments[0]!==void 0&&arguments[0]?"":"The text may still be processing. ","Please try again.");this.renderModalMessage(`
      Sorry, there was an error with your search.
      <br />
      `.concat(V,`
    `)),this.delayModalRemovalFor(4e3)}},{key:"renderBookNotIndexedModal",value:function(){this.renderModalMessage(`
      <p>
         This book hasn't been indexed for searching yet.
         We've just started indexing it, so search should be available soon.
         <br />
         Please try again later. Thanks!
      </p>
    `),this.delayModalRemovalFor(5e3)}},{key:"renderResultsEmptyModal",value:function(){this.renderModalMessage("No matches were found."),this.delayModalRemovalFor(2e3)}},{key:"renderModalMessage",value:function(V){var se=document.createElement("div");se.classList.add("BRprogresspopup","search_modal"),se.innerHTML=V,document.querySelector(this.br.el).append(se)}},{key:"delayModalRemovalFor",value:function(V){setTimeout(this.br.removeProgressPopup.bind(this.br),V)}},{key:"submitHandler",value:function(V){V.preventDefault();var se=V.target.querySelector('[name="query"]').value;return!!se.length&&(this.br.search(se),this.emptyMatches(),this.toggleSearchPending(!0),!1)}},{key:"handleSearchCallback",value:function(V,se){var Ae=this,Oe=se.results,je=se.options;this.matches=Oe.matches,this.setCurrentMatchIndex(),this.teardownSearchNavigation(),this.renderSearchNavigation(),this.bindSearchNavigationEvents(),this.renderPins(Oe.matches),this.toggleSearchPending(!1),je.goToFirstResult?o(document).one("BookReader:pageChanged",function(){Ae.br.resize()}):this.br.resize()}},{key:"handleSearchStarted",value:function(){this.emptyMatches(),this.br.plugins.search.removeSearchHilites(),this.removeResultPins(),this.toggleSearchPending(!0),this.teardownSearchNavigation(),this.setQuery(this.br.plugins.search.searchTerm)}},{key:"handleSearchCallbackError",value:function(){var V,se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.toggleSearchPending(!1);var Ae=se==null||(V=se.detail)===null||V===void 0||(V=V.props)===null||V===void 0||(V=V.results)===null||V===void 0?void 0:V.indexed;this.renderErrorModal(Ae)}},{key:"handleSearchCallbackBookNotIndexed",value:function(){this.toggleSearchPending(!1),this.renderBookNotIndexedModal()}},{key:"handleSearchCallbackEmpty",value:function(){this.toggleSearchPending(!1),this.renderResultsEmptyModal()}},{key:"bindEvents",value:function(){var V="BookReader:";window.addEventListener("".concat(V,"SearchCallbackError"),this.handleSearchCallbackError.bind(this)),o(document).on("".concat(V,"SearchCallback"),this.handleSearchCallback.bind(this)).on("".concat(V,"SearchStarted"),this.handleSearchStarted.bind(this)).on("".concat(V,"SearchCallbackBookNotIndexed"),this.handleSearchCallbackBookNotIndexed.bind(this)).on("".concat(V,"SearchCallbackEmpty"),this.handleSearchCallbackEmpty.bind(this)).on("".concat(V,"pageChanged"),this.updateSearchNavigation.bind(this)),this.dom.toolbarSearch.querySelector("form").addEventListener("submit",this.submitHandler.bind(this))}}],W&&n(ie.prototype,W),Object.defineProperty(ie,"prototype",{writable:!1}),ie;var ie,W}(),f=d;function p(ie,W){return function(V){if(Array.isArray(V))return V}(ie)||function(V,se){var Ae=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(Ae!=null){var Oe,je,De,Se,de=[],Xe=!0,ht=!1;try{if(De=(Ae=Ae.call(V)).next,se===0){if(Object(Ae)!==Ae)return;Xe=!1}else for(;!(Xe=(Oe=De.call(Ae)).done)&&(de.push(Oe.value),de.length!==se);Xe=!0);}catch(nt){ht=!0,je=nt}finally{try{if(!Xe&&Ae.return!=null&&(Se=Ae.return(),Object(Se)!==Se))return}finally{if(ht)throw je}}return de}}(ie,W)||y(ie,W)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(ie,W){var V=typeof Symbol<"u"&&ie[Symbol.iterator]||ie["@@iterator"];if(!V){if(Array.isArray(ie)||(V=y(ie))||W&&ie&&typeof ie.length=="number"){V&&(ie=V);var se=0,Ae=function(){};return{s:Ae,n:function(){return se>=ie.length?{done:!0}:{done:!1,value:ie[se++]}},e:function(Se){throw Se},f:Ae}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oe,je=!0,De=!1;return{s:function(){V=V.call(ie)},n:function(){var Se=V.next();return je=Se.done,Se},e:function(Se){De=!0,Oe=Se},f:function(){try{je||V.return==null||V.return()}finally{if(De)throw Oe}}}}function y(ie,W){if(ie){if(typeof ie=="string")return w(ie,W);var V={}.toString.call(ie).slice(8,-1);return V==="Object"&&ie.constructor&&(V=ie.constructor.name),V==="Map"||V==="Set"?Array.from(ie):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?w(ie,W):void 0}}function w(ie,W){(W==null||W>ie.length)&&(W=ie.length);for(var V=0,se=Array(W);V<W;V++)se[V]=ie[V];return se}function k(ie,W,V){var se=(0,a.escapeRegExp)((0,a.escapeHTML)(W)),Ae=(0,a.escapeRegExp)((0,a.escapeHTML)(V)),Oe=new RegExp("".concat(se,"([^]+?)").concat(Ae),"g");return(0,a.escapeHTML)(ie).replace(Oe,"<mark>$1</mark>").replace(/(\b)- /g,"$1")}r(4864);var A=r(1041),C=r(9073),x=r(4160),S=r(1669),s=r(1669);function h(ie){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},h(ie)}function g(ie,W){return function(V){if(Array.isArray(V))return V}(ie)||function(V,se){var Ae=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(Ae!=null){var Oe,je,De,Se,de=[],Xe=!0,ht=!1;try{if(De=(Ae=Ae.call(V)).next,se===0){if(Object(Ae)!==Ae)return;Xe=!1}else for(;!(Xe=(Oe=De.call(Ae)).done)&&(de.push(Oe.value),de.length!==se);Xe=!0);}catch(nt){ht=!0,je=nt}finally{try{if(!Xe&&Ae.return!=null&&(Se=Ae.return(),Object(Se)!==Se))return}finally{if(ht)throw je}}return de}}(ie,W)||b(ie,W)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(ie,W){var V=typeof Symbol<"u"&&ie[Symbol.iterator]||ie["@@iterator"];if(!V){if(Array.isArray(ie)||(V=b(ie))||W&&ie&&typeof ie.length=="number"){V&&(ie=V);var se=0,Ae=function(){};return{s:Ae,n:function(){return se>=ie.length?{done:!0}:{done:!1,value:ie[se++]}},e:function(Se){throw Se},f:Ae}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oe,je=!0,De=!1;return{s:function(){V=V.call(ie)},n:function(){var Se=V.next();return je=Se.done,Se},e:function(Se){De=!0,Oe=Se},f:function(){try{je||V.return==null||V.return()}finally{if(De)throw Oe}}}}function b(ie,W){if(ie){if(typeof ie=="string")return _(ie,W);var V={}.toString.call(ie).slice(8,-1);return V==="Object"&&ie.constructor&&(V=ie.constructor.name),V==="Map"||V==="Set"?Array.from(ie):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?_(ie,W):void 0}}function _(ie,W){(W==null||W>ie.length)&&(W=ie.length);for(var V=0,se=Array(W);V<W;V++)se[V]=ie[V];return se}function E(){var ie,W,V=typeof Symbol=="function"?Symbol:{},se=V.iterator||"@@iterator",Ae=V.toStringTag||"@@toStringTag";function Oe(lt,ot,ve,pe){var tt=ot&&ot.prototype instanceof De?ot:De,xe=Object.create(tt.prototype);return R(xe,"_invoke",function(Ce,Ue,Te){var it,Me,mt,He=0,We=Te||[],yt=!1,Ot={p:0,n:0,v:ie,a:Ft,f:Ft.bind(ie,4),d:function(rt,oe){return it=rt,Me=0,mt=ie,Ot.n=oe,je}};function Ft(rt,oe){for(Me=rt,mt=oe,W=0;!yt&&He&&!Pe&&W<We.length;W++){var Pe,Ze=We[W],Je=Ot.p,qe=Ze[2];rt>3?(Pe=qe===oe)&&(mt=Ze[(Me=Ze[4])?5:(Me=3,3)],Ze[4]=Ze[5]=ie):Ze[0]<=Je&&((Pe=rt<2&&Je<Ze[1])?(Me=0,Ot.v=oe,Ot.n=Ze[1]):Je<qe&&(Pe=rt<3||Ze[0]>oe||oe>qe)&&(Ze[4]=rt,Ze[5]=oe,Ot.n=qe,Me=0))}if(Pe||rt>1)return je;throw yt=!0,oe}return function(rt,oe,Pe){if(He>1)throw TypeError("Generator is already running");for(yt&&oe===1&&Ft(oe,Pe),Me=oe,mt=Pe;(W=Me<2?ie:mt)||!yt;){it||(Me?Me<3?(Me>1&&(Ot.n=-1),Ft(Me,mt)):Ot.n=mt:Ot.v=mt);try{if(He=2,it){if(Me||(rt="next"),W=it[rt]){if(!(W=W.call(it,mt)))throw TypeError("iterator result is not an object");if(!W.done)return W;mt=W.value,Me<2&&(Me=0)}else Me===1&&(W=it.return)&&W.call(it),Me<2&&(mt=TypeError("The iterator does not provide a '"+rt+"' method"),Me=1);it=ie}else if((W=(yt=Ot.n<0)?mt:Ce.call(Ue,Ot))!==je)break}catch(Ze){it=ie,Me=1,mt=Ze}finally{He=1}}return{value:W,done:yt}}}(lt,ve,pe),!0),xe}var je={};function De(){}function Se(){}function de(){}W=Object.getPrototypeOf;var Xe=[][se]?W(W([][se]())):(R(W={},se,function(){return this}),W),ht=de.prototype=De.prototype=Object.create(Xe);function nt(lt){return Object.setPrototypeOf?Object.setPrototypeOf(lt,de):(lt.__proto__=de,R(lt,Ae,"GeneratorFunction")),lt.prototype=Object.create(ht),lt}return Se.prototype=de,R(ht,"constructor",de),R(de,"constructor",Se),Se.displayName="GeneratorFunction",R(de,Ae,"GeneratorFunction"),R(ht),R(ht,Ae,"Generator"),R(ht,se,function(){return this}),R(ht,"toString",function(){return"[object Generator]"}),(E=function(){return{w:Oe,m:nt}})()}function R(ie,W,V,se){var Ae=Object.defineProperty;try{Ae({},"",{})}catch(Oe){Ae=0}R=function(Oe,je,De,Se){function de(Xe,ht){R(Oe,Xe,function(nt){return this._invoke(Xe,ht,nt)})}je?Ae?Ae(Oe,je,{value:De,enumerable:!Se,configurable:!Se,writable:!Se}):Oe[je]=De:(de("next",0),de("throw",1),de("return",2))},R(ie,W,V,se)}function j(ie,W,V,se,Ae,Oe,je){try{var De=ie[Oe](je),Se=De.value}catch(de){return void V(de)}De.done?W(Se):Promise.resolve(Se).then(se,Ae)}function H(ie){return function(){var W=this,V=arguments;return new Promise(function(se,Ae){var Oe=ie.apply(W,V);function je(Se){j(Oe,se,Ae,je,De,"next",Se)}function De(Se){j(Oe,se,Ae,je,De,"throw",Se)}je(void 0)})}}function G(ie,W){for(var V=0;V<W.length;V++){var se=W[V];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(ie,J(se.key),se)}}function q(){try{var ie=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(W){}return(q=function(){return!!ie})()}function K(ie,W,V,se){var Ae=ue(te(1&se?ie.prototype:ie),W,V);return 2&se&&typeof Ae=="function"?function(Oe){return Ae.apply(V,Oe)}:Ae}function ue(){return ue=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(ie,W,V){var se=function(Oe,je){for(;!{}.hasOwnProperty.call(Oe,je)&&(Oe=te(Oe))!==null;);return Oe}(ie,W);if(se){var Ae=Object.getOwnPropertyDescriptor(se,W);return Ae.get?Ae.get.call(arguments.length<3?ie:V):Ae.value}},ue.apply(null,arguments)}function te(ie){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},te(ie)}function D(ie,W){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,se){return V.__proto__=se,V},D(ie,W)}function J(ie){var W=function(V){if(h(V)!="object"||!V)return V;var se=V[Symbol.toPrimitive];if(se!==void 0){var Ae=se.call(V,"string");if(h(Ae)!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}(ie);return h(W)=="symbol"?W:W+""}var Q=window.BookReader,ne=function(ie){function W(){var je,De,Se,de;(function(lt,ot){if(!(lt instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,W);for(var Xe=arguments.length,ht=new Array(Xe),nt=0;nt<Xe;nt++)ht[nt]=arguments[nt];return je=function(lt,ot,ve){return ot=te(ot),function(pe,tt){if(tt&&(h(tt)=="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}(pe)}(lt,q()?Reflect.construct(ot,ve||[],te(lt).constructor):ot.apply(lt,ve))}(this,W,[].concat(ht)),De=je,Se="options",de={enabled:!0,preTag:"{{{",postTag:"}}}",searchInsideUrl:"/fulltext/inside.php?"+["q={{query|urlencode}}","pre_tag={{preTag|urlencode}}","post_tag={{postTag|urlencode}}"].join("&"),initialSearchTerm:null,goToFirstResult:!1},(Se=J(Se))in De?Object.defineProperty(De,Se,{value:de,enumerable:!0,configurable:!0,writable:!0}):De[Se]=de,je}return function(je,De){if(typeof De!="function"&&De!==null)throw new TypeError("Super expression must either be null or a function");je.prototype=Object.create(De&&De.prototype,{constructor:{value:je,writable:!0,configurable:!0}}),Object.defineProperty(je,"prototype",{writable:!1}),De&&D(je,De)}(W,ie),V=W,se=[{key:"setup",value:function(je){var De=this;K(W,"setup",this,3)([je]),this.searchTerm="",this.searchResults=null,this.searchInsideUrl=this.options.searchInsideUrl,this.enabled=this.options.enabled,this.searchXHR=null,this._searchBoxesByIndex={},this.enabled?this.searchView=new f({br:this.br,searchCancelledCallback:function(){De._cancelSearch(),De.br.trigger("SearchCanceled",{term:De.searchTerm,instance:De.br})}}):this.searchView=null}},{key:"init",value:function(){K(W,"init",this,3)([]),this.enabled&&(this.searchView.init(),this.options.initialSearchTerm&&this.search(this.options.initialSearchTerm,{goToFirstResult:this.options.goToFirstResult,suppressFragmentChange:!1}))}},{key:"_configureToolbar",value:function(je){if(this.enabled)return this.searchView.dom.toolbarSearch&&je.find(".BRtoolbarSectionInfo").after(this.searchView.dom.toolbarSearch),je}},{key:"_configurePageContainer",value:function(je){if(this.enabled&&je.page&&je.page.index in this._searchBoxesByIndex){var De=je.page.index,Se=this._searchBoxesByIndex[De];(0,l.KL)("searchHiliteLayer",Se,je.page,je.$container[0],Se.map(function(de){return"match-index-".concat(de.matchIndex)}))}return je}},{key:"search",value:(Oe=H(E().m(function je(){var De,Se,de,Xe,ht,nt,lt,ot=this,ve=arguments;return E().w(function(pe){for(;;)switch(pe.n){case 0:return De=ve.length>0&&ve[0]!==void 0?ve[0]:"",Se=ve.length>1&&ve[1]!==void 0?ve[1]:{},de={goToFirstResult:!1,disablePopup:!1,suppressFragmentChange:!1,error:null,success:null},Xe=S.extend({},de,Se),this.suppressFragmentChange=Xe.suppressFragmentChange,this.searchCancelled=!1,this.searchTerm=De.replace(/\//g," "),Xe.suppressFragmentChange||this.br.trigger(Q.eventNames.fragmentChange),ht=(0,C.g)(this.options.searchInsideUrl,this.br.options.vars,{query:De,preTag:this.options.preTag,postTag:this.options.postTag}),nt=function(tt){if(!ot.searchCancelled){var xe=tt.error||!tt.matches.length,Ce=typeof Xe.error=="function",Ue=typeof Xe.success=="function";xe?(console.error("Search Inside Response Error",tt.error||"matches.length == 0"),Ce?Xe.error.call(ot,tt,Xe):ot.BRSearchCallbackError(tt)):Ue?Xe.success.call(ot,tt,Xe):ot.BRSearchCallback(tt,Xe)}},this.br.trigger("SearchStarted",{term:this.searchTerm,instance:this.br}),lt=nt,pe.n=1,s.ajax({url:ht,cache:!0,xhrFields:{withCredentials:this.br.protected},beforeSend:function(tt){ot.searchXHR=tt}});case 1:lt(pe.v);case 2:return pe.a(2)}},je,this)})),function(){return Oe.apply(this,arguments)})},{key:"_cancelSearch",value:function(){var je;(je=this.searchXHR)===null||je===void 0||je.abort(),this.searchView.clearSearchFieldAndResults(!1),this.searchTerm="",this.searchXHR=null,this.searchCancelled=!0,this.searchResults=null}},{key:"cancelSearchRequest",value:function(){this.searchCancelled=!0,this.searchXHR!==null&&(this._cancelSearch(),this.searchView.toggleSearchPending(),this.br.trigger("SearchCanceled",{term:this.searchTerm,instance:this.br}))}},{key:"BRSearchCallback",value:function(je,De){var Se=this,de=(0,x.YH)(this.br.options.bookLanguage);(function(Xe,ht,nt,lt,ot){var ve,pe=v(Xe.matches.entries());try{for(pe.s();!(ve=pe.n()).done;){var tt=p(ve.value,2),xe=tt[0],Ce=tt[1];Ce.matchIndex=xe,Ce.displayPageNumber=ht(Ce.par[0].page),Ce.html=k(Ce.text,nt,lt),Ce.lang=ot;var Ue,Te=v(Ce.par);try{for(Te.s();!(Ue=Te.n()).done;){var it,Me=v(Ue.value.boxes);try{for(Me.s();!(it=Me.n()).done;)it.value.matchIndex=xe}catch(mt){Me.e(mt)}finally{Me.f()}}}catch(mt){Te.e(mt)}finally{Te.f()}}}catch(mt){pe.e(mt)}finally{pe.f()}})(je,function(Xe){return Se.br.book.getPageNum(Se.br.book.leafNumToIndex(Xe))},this.options.preTag,this.options.postTag,de),this.searchResults=je||null,this.updateSearchHilites(),this.br.removeProgressPopup(),De.goToFirstResult&&this.jumpToMatch(0),this.br.trigger("SearchCallback",{results:je,options:De,instance:this.br})}},{key:"BRSearchCallbackError",value:function(je){this._BRSearchCallbackError(je)}},{key:"_BRSearchCallbackError",value:function(je){this.searchResults=je;var De={term:this.searchTerm,results:je,instance:this.br};if(je.error)this.br.trigger("SearchCallbackError",De);else if(je.matches.length==0){if(je.indexed===!1)return void this.br.trigger("SearchCallbackBookNotIndexed",De);this.br.trigger("SearchCallbackEmpty",De)}}},{key:"updateSearchHilites",value:function(){var je,De=((je=this.searchResults)===null||je===void 0?void 0:je.matches)||[],Se={};this.removeSearchHilites();var de,Xe=m(De);try{for(Xe.s();!(de=Xe.n()).done;){var ht,nt=m(de.value.par[0].boxes);try{for(nt.s();!(ht=nt.n()).done;){var lt=ht.value,ot=this.br.book.leafNumToIndex(lt.page);(Se[ot]||(Se[ot]=[])).push(lt)}}catch(He){nt.e(He)}finally{nt.f()}}}catch(He){Xe.e(He)}finally{Xe.f()}for(var ve=0,pe=Object.entries(Se);ve<pe.length;ve++){var tt,xe=g(pe[ve],2),Ce=xe[0],Ue=xe[1],Te=parseFloat(Ce),it=this.br.book.getPage(Te),Me=m(this.br.getActivePageContainerElementsForIndex(Te));try{for(Me.s();!(tt=Me.n()).done;){var mt=tt.value;(0,l.KL)("searchHiliteLayer",Ue,it,mt,Ue.map(function(He){return"match-index-".concat(He.matchIndex)}))}}catch(He){Me.e(He)}finally{Me.f()}}this._searchBoxesByIndex=Se}},{key:"removeSearchHilites",value:function(){s(this.br.getActivePageContainerElements()).find(".searchHiliteLayer").remove()}},{key:"jumpToMatch",value:(Ae=H(E().m(function je(De){var Se,de,Xe,ht,nt,lt,ot,ve,pe,tt,xe,Ce;return E().w(function(Ue){for(;;)switch(Ue.n){case 0:if(de=(Se=this.searchResults)===null||Se===void 0?void 0:Se.matches[De],Xe=this.br.book,ht=Xe.leafNumToIndex(de.par[0].page),nt=Xe.getPage(ht),lt=Math.abs(this.br.currentIndex()-ht)<3,ot=!1,nt.isViewable){Ue.n=2;break}return Ue.n=1,fetch("/services/bookreader/request_page?"+new URLSearchParams({id:this.br.options.bookId,subprefix:this.br.options.subPrefix,leafNum:nt.leafNum})).then(function(Te){return Te.json()});case 1:ve=Ue.v,pe=m(ve.value);try{for(pe.s();!(tt=pe.n()).done;)xe=tt.value,Xe.getPage(Xe.leafNumToIndex(xe)).makeViewable()}catch(Te){pe.e(Te)}finally{pe.f()}if(ve.value.length||(Xe.getPage(ht).makeViewable(),ot=!0),this.br._modes.mode1Up.mode1UpLit.updatePages(),this.br.activeMode!=this.br._modes.mode1Up){Ue.n=2;break}return Ue.n=2,this.br._modes.mode1Up.mode1UpLit.updateComplete;case 2:return this.br._isIndexDisplayed(ht)||(this.suppressFragmentChange=!1,this.br.jumpToIndex(ht,{ariaLive:!0})),ot&&Xe.getPage(ht).makeViewable(!1),Ue.n=3,(0,a.poll)(function(){return s("rect.match-index-".concat(de.matchIndex))},{until:function(Te){return Te.length>0}});case 3:if(!(Ce=Ue.v).length){Ue.n=5;break}return Ce.css("animation","none"),Ce[0].scrollIntoView({block:this.br.constMode1up==this.br.mode||this.br.isFullscreenActive?"center":"nearest",inline:"center",behavior:lt?"smooth":"auto"}),Ue.n=4,new Promise(function(Te){return setTimeout(Te,100)});case 4:Ce.removeAttr("style");case 5:return Ue.a(2)}},je,this)})),function(je){return Ae.apply(this,arguments)})},{key:"removeSearchResults",value:function(){var je=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.removeSearchHilites(),this.searchTerm=null,this.searchResults=null,je||this.br.trigger(Q.eventNames.fragmentChange)}}],se&&G(V.prototype,se),Object.defineProperty(V,"prototype",{writable:!1}),V;var V,se,Ae,Oe}(A.S);Q==null||Q.registerPlugin("search",ne)},9073:function(e,t,r){function a(u,n){(n==null||n>u.length)&&(n=u.length);for(var c=0,d=Array(n);c<n;c++)d[c]=u[c];return d}function l(u,n){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return u==null?void 0:u.replace(/\{\{([^}]*?)\}\}/g,function(f,p){if(!p)return f;var v,y=function(C){if(Array.isArray(C))return C}(v=p.split("|").map(function(C){return C.trim()}))||function(C){if(typeof Symbol<"u"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}(v)||function(C,x){if(C){if(typeof C=="string")return a(C,x);var S={}.toString.call(C).slice(8,-1);return S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set"?Array.from(C):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?a(C,x):void 0}}(v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=y[0],k=a(y).slice(1);if(!(w in c)&&!(w in n))return f;var A=w in c?c[w]:w in n?n[w]:null;return k.map(function(C){return d[C]}).reduce(function(C,x){return x(C)},A&&A.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=5372)}]);r2=tC,{default:n2}=r2,iC=en(r2,["default"]),o2=n2!==void 0?n2:iC;});var a2={};On(a2,{default:()=>o2});var s2=Wt(()=>{mg();mg()});var rC,l2,u2,nC,c2,gg=Wt(()=>{rC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[623],{1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{S:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var u=function(){return n=function d(f){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.br=f,this.options},(c=[{key:"setup",value:function(d){this.options=Object.assign({},this.options,d)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(d){}},{key:"_configureToolbar",value:function(d){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(d){}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},6165:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8706),r(3792),r(9572),r(8130),r(875),r(6099),r(825),r(7495),r(7764),r(1761),r(2953);var a=r(1041);function l(y){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},l(y)}function o(y,w){for(var k=0;k<w.length;k++){var A=w[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,f(A.key),A)}}function u(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return(u=function(){return!!y})()}function n(y){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},n(y)}function c(y,w){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,A){return k.__proto__=A,k},c(y,w)}function d(y,w,k){return(w=f(w))in y?Object.defineProperty(y,w,{value:k,enumerable:!0,configurable:!0,writable:!0}):y[w]=k,y}function f(y){var w=function(k){if(l(k)!="object"||!k)return k;var A=k[Symbol.toPrimitive];if(A!==void 0){var C=A.call(k,"string");if(l(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(y);return l(w)=="symbol"?w:w+""}var p=window.BookReader,v=function(y){function w(){var C;(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,w);for(var x=arguments.length,S=new Array(x),s=0;s<x;s++)S[s]=arguments[s];return d(C=function(h,g,m){return g=n(g),function(b,_){if(_&&(l(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(b)}(h,u()?Reflect.construct(g,m||[],n(h).constructor):g.apply(h,m))}(this,w,[].concat(S)),"options",{enabled:!0,debug:!1}),d(C,"_prevFragment",null),C}return function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(x&&x.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),x&&c(C,x)}(w,y),k=w,A=[{key:"init",value:function(){var C=this;this.options.enabled&&this.br.bind(p.eventNames.fragmentChange,function(){return C.sendFragmentChange()})}},{key:"sendFragmentChange",value:function(){if(window.archive_analytics){var C=this._prevFragment,x=this.br.paramsFromCurrent(),S=this.br.fragmentFromParams(x);if(C!=S){var s,h={bookreader:"user_changed_view",itemid:this.br.bookId,cache_bust:Math.random(),offsite:1,details:0};try{h.offsite=window.top.location.hostname.match(/\.archive.org$/)?0:1,h.details=!h.offsite&&window.top.location.pathname.match(/^\/details\//)?1:0}catch(m){}window.archive_analytics.send_ping(h,null,"augment_for_ao_site");var g=(s=this.br.options.lendingInfo)!==null&&s!==void 0&&s.loanId?{loanId:this.br.options.lendingInfo.loanId}:{};window.archive_analytics.send_event("BookReader","UserChangedView",window.location.pathname,g),this._prevFragment=S}}}},{key:"sendEvent",value:function(C,x,S,s){this.options.enabled&&(this.options.debug&&console.log("archiveAnalyticsSendEvent",arguments,window.archive_analytics),window.archive_analytics&&(s=s||{},typeof S=="number"&&(s.ev=S),window.archive_analytics.send_event(C,x,null,s)))}}],A&&o(k.prototype,A),Object.defineProperty(k,"prototype",{writable:!1}),k;var k,A}(a.S);p==null||p.registerPlugin("archiveAnalytics",v)}},function(e){e(e.s=6165)}]);l2=rC,{default:u2}=l2,nC=en(l2,["default"]),c2=u2!==void 0?u2:nC});var d2={};On(d2,{default:()=>c2});var h2=Wt(()=>{gg();gg()});var oC,p2,f2,aC,m2,vg=Wt(()=>{oC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[479],{706:function(e,t,r){var a=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(u){return l(function(){return!!o[u]()||"\u200B\x85\u180E"[u]()!=="\u200B\x85\u180E"||a&&o[u].name!==u})}},2762:function(e,t,r){var a=r(6518),l=r(3802).trim;a({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},3296:function(e,t,r){r(5806)},3921:function(e,t,r){var a=r(6518),l=r(2652),o=r(4659);a({target:"Object",stat:!0},{fromEntries:function(u){var n={};return l(u,function(c,d){o(n,c,d)},{AS_ENTRIES:!0}),n}})},5806:function(e,t,r){r(7764);var a,l=r(6518),o=r(3724),u=r(7416),n=r(4576),c=r(6080),d=r(9504),f=r(6840),p=r(2106),v=r(679),y=r(9297),w=r(4213),k=r(7916),A=r(7680),C=r(8183).codeAt,x=r(6098),S=r(655),s=r(687),h=r(2812),g=r(8406),m=r(1181),b=m.set,_=m.getterFor("URL"),E=g.URLSearchParams,R=g.getState,j=n.URL,H=n.TypeError,G=n.parseInt,q=Math.floor,K=Math.pow,ue=d("".charAt),te=d(/./.exec),D=d([].join),J=d(1.1.toString),Q=d([].pop),ne=d([].push),ie=d("".replace),W=d([].shift),V=d("".split),se=d("".slice),Ae=d("".toLowerCase),Oe=d([].unshift),je="Invalid scheme",De="Invalid host",Se="Invalid port",de=/[a-z]/i,Xe=/[\d+-.a-z]/i,ht=/\d/,nt=/^0x/i,lt=/^[0-7]+$/,ot=/^\d+$/,ve=/^[\da-f]+$/i,pe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,tt=/[\0\t\n\r #/:<>?@[\\\]^|]/,xe=/^[\u0000-\u0020]+/,Ce=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Ue=/[\t\n\r]/g,Te=function(Fe){var pt,Ct,Nt,ke;if(typeof Fe=="number"){for(pt=[],Ct=0;Ct<4;Ct++)Oe(pt,Fe%256),Fe=q(Fe/256);return D(pt,".")}if(typeof Fe=="object"){for(pt="",Nt=function(It){for(var Dt=null,Et=1,ui=null,ki=0,vi=0;vi<8;vi++)It[vi]!==0?(ki>Et&&(Dt=ui,Et=ki),ui=null,ki=0):(ui===null&&(ui=vi),++ki);return ki>Et?ui:Dt}(Fe),Ct=0;Ct<8;Ct++)ke&&Fe[Ct]===0||(ke&&(ke=!1),Nt===Ct?(pt+=Ct?":":"::",ke=!0):(pt+=J(Fe[Ct],16),Ct<7&&(pt+=":")));return"["+pt+"]"}return Fe},it={},Me=w({},it,{" ":1,'"':1,"<":1,">":1,"`":1}),mt=w({},Me,{"#":1,"?":1,"{":1,"}":1}),He=w({},mt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),We=function(Fe,pt){var Ct=C(Fe,0);return Ct>32&&Ct<127&&!y(pt,Fe)?Fe:encodeURIComponent(Fe)},yt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ot=function(Fe,pt){var Ct;return Fe.length===2&&te(de,ue(Fe,0))&&((Ct=ue(Fe,1))===":"||!pt&&Ct==="|")},Ft=function(Fe){var pt;return Fe.length>1&&Ot(se(Fe,0,2))&&(Fe.length===2||(pt=ue(Fe,2))==="/"||pt==="\\"||pt==="?"||pt==="#")},rt=function(Fe){return Fe==="."||Ae(Fe)==="%2e"},oe=function(Fe){return(Fe=Ae(Fe))===".."||Fe==="%2e."||Fe===".%2e"||Fe==="%2e%2e"},Pe={},Ze={},Je={},qe={},M={},be={},he={},Ge={},vt={},kt={},ce={},_e={},Re={},st={},xt={},Mt={},Bt={},Rt={},qt={},Be={},me={},ze=function(Fe,pt,Ct){var Nt,ke,It,Dt=S(Fe);if(pt){if(ke=this.parse(Dt))throw new H(ke);this.searchParams=null}else{if(Ct!==void 0&&(Nt=new ze(Ct,!0)),ke=this.parse(Dt,null,Nt))throw new H(ke);(It=R(new E)).bindURL(this),this.searchParams=It}};ze.prototype={type:"URL",parse:function(Fe,pt,Ct){var Nt,ke,It,Dt,Et=this,ui=pt||Pe,ki=0,vi="",nr=!1,Li=!1,Ri=!1;for(Fe=S(Fe),pt||(Et.scheme="",Et.username="",Et.password="",Et.host=null,Et.port=null,Et.path=[],Et.query=null,Et.fragment=null,Et.cannotBeABaseURL=!1,Fe=ie(Fe,xe,""),Fe=ie(Fe,Ce,"$1")),Fe=ie(Fe,Ue,""),Nt=k(Fe);ki<=Nt.length;){switch(ke=Nt[ki],ui){case Pe:if(!ke||!te(de,ke)){if(pt)return je;ui=Je;continue}vi+=Ae(ke),ui=Ze;break;case Ze:if(ke&&(te(Xe,ke)||ke==="+"||ke==="-"||ke==="."))vi+=Ae(ke);else{if(ke!==":"){if(pt)return je;vi="",ui=Je,ki=0;continue}if(pt&&(Et.isSpecial()!==y(yt,vi)||vi==="file"&&(Et.includesCredentials()||Et.port!==null)||Et.scheme==="file"&&!Et.host))return;if(Et.scheme=vi,pt)return void(Et.isSpecial()&&yt[Et.scheme]===Et.port&&(Et.port=null));vi="",Et.scheme==="file"?ui=st:Et.isSpecial()&&Ct&&Ct.scheme===Et.scheme?ui=qe:Et.isSpecial()?ui=Ge:Nt[ki+1]==="/"?(ui=M,ki++):(Et.cannotBeABaseURL=!0,ne(Et.path,""),ui=qt)}break;case Je:if(!Ct||Ct.cannotBeABaseURL&&ke!=="#")return je;if(Ct.cannotBeABaseURL&&ke==="#"){Et.scheme=Ct.scheme,Et.path=A(Ct.path),Et.query=Ct.query,Et.fragment="",Et.cannotBeABaseURL=!0,ui=me;break}ui=Ct.scheme==="file"?st:be;continue;case qe:if(ke!=="/"||Nt[ki+1]!=="/"){ui=be;continue}ui=vt,ki++;break;case M:if(ke==="/"){ui=kt;break}ui=Rt;continue;case be:if(Et.scheme=Ct.scheme,ke===a)Et.username=Ct.username,Et.password=Ct.password,Et.host=Ct.host,Et.port=Ct.port,Et.path=A(Ct.path),Et.query=Ct.query;else if(ke==="/"||ke==="\\"&&Et.isSpecial())ui=he;else if(ke==="?")Et.username=Ct.username,Et.password=Ct.password,Et.host=Ct.host,Et.port=Ct.port,Et.path=A(Ct.path),Et.query="",ui=Be;else{if(ke!=="#"){Et.username=Ct.username,Et.password=Ct.password,Et.host=Ct.host,Et.port=Ct.port,Et.path=A(Ct.path),Et.path.length--,ui=Rt;continue}Et.username=Ct.username,Et.password=Ct.password,Et.host=Ct.host,Et.port=Ct.port,Et.path=A(Ct.path),Et.query=Ct.query,Et.fragment="",ui=me}break;case he:if(!Et.isSpecial()||ke!=="/"&&ke!=="\\"){if(ke!=="/"){Et.username=Ct.username,Et.password=Ct.password,Et.host=Ct.host,Et.port=Ct.port,ui=Rt;continue}ui=kt}else ui=vt;break;case Ge:if(ui=vt,ke!=="/"||ue(vi,ki+1)!=="/")continue;ki++;break;case vt:if(ke!=="/"&&ke!=="\\"){ui=kt;continue}break;case kt:if(ke==="@"){nr&&(vi="%40"+vi),nr=!0,It=k(vi);for(var xi=0;xi<It.length;xi++){var ai=It[xi];if(ai!==":"||Ri){var wi=We(ai,He);Ri?Et.password+=wi:Et.username+=wi}else Ri=!0}vi=""}else if(ke===a||ke==="/"||ke==="?"||ke==="#"||ke==="\\"&&Et.isSpecial()){if(nr&&vi==="")return"Invalid authority";ki-=k(vi).length+1,vi="",ui=ce}else vi+=ke;break;case ce:case _e:if(pt&&Et.scheme==="file"){ui=Mt;continue}if(ke!==":"||Li){if(ke===a||ke==="/"||ke==="?"||ke==="#"||ke==="\\"&&Et.isSpecial()){if(Et.isSpecial()&&vi==="")return De;if(pt&&vi===""&&(Et.includesCredentials()||Et.port!==null))return;if(Dt=Et.parseHost(vi))return Dt;if(vi="",ui=Bt,pt)return;continue}ke==="["?Li=!0:ke==="]"&&(Li=!1),vi+=ke}else{if(vi==="")return De;if(Dt=Et.parseHost(vi))return Dt;if(vi="",ui=Re,pt===_e)return}break;case Re:if(!te(ht,ke)){if(ke===a||ke==="/"||ke==="?"||ke==="#"||ke==="\\"&&Et.isSpecial()||pt){if(vi!==""){var _r=G(vi,10);if(_r>65535)return Se;Et.port=Et.isSpecial()&&_r===yt[Et.scheme]?null:_r,vi=""}if(pt)return;ui=Bt;continue}return Se}vi+=ke;break;case st:if(Et.scheme="file",ke==="/"||ke==="\\")ui=xt;else{if(!Ct||Ct.scheme!=="file"){ui=Rt;continue}switch(ke){case a:Et.host=Ct.host,Et.path=A(Ct.path),Et.query=Ct.query;break;case"?":Et.host=Ct.host,Et.path=A(Ct.path),Et.query="",ui=Be;break;case"#":Et.host=Ct.host,Et.path=A(Ct.path),Et.query=Ct.query,Et.fragment="",ui=me;break;default:Ft(D(A(Nt,ki),""))||(Et.host=Ct.host,Et.path=A(Ct.path),Et.shortenPath()),ui=Rt;continue}}break;case xt:if(ke==="/"||ke==="\\"){ui=Mt;break}Ct&&Ct.scheme==="file"&&!Ft(D(A(Nt,ki),""))&&(Ot(Ct.path[0],!0)?ne(Et.path,Ct.path[0]):Et.host=Ct.host),ui=Rt;continue;case Mt:if(ke===a||ke==="/"||ke==="\\"||ke==="?"||ke==="#"){if(!pt&&Ot(vi))ui=Rt;else if(vi===""){if(Et.host="",pt)return;ui=Bt}else{if(Dt=Et.parseHost(vi))return Dt;if(Et.host==="localhost"&&(Et.host=""),pt)return;vi="",ui=Bt}continue}vi+=ke;break;case Bt:if(Et.isSpecial()){if(ui=Rt,ke!=="/"&&ke!=="\\")continue}else if(pt||ke!=="?")if(pt||ke!=="#"){if(ke!==a&&(ui=Rt,ke!=="/"))continue}else Et.fragment="",ui=me;else Et.query="",ui=Be;break;case Rt:if(ke===a||ke==="/"||ke==="\\"&&Et.isSpecial()||!pt&&(ke==="?"||ke==="#")){if(oe(vi)?(Et.shortenPath(),ke==="/"||ke==="\\"&&Et.isSpecial()||ne(Et.path,"")):rt(vi)?ke==="/"||ke==="\\"&&Et.isSpecial()||ne(Et.path,""):(Et.scheme==="file"&&!Et.path.length&&Ot(vi)&&(Et.host&&(Et.host=""),vi=ue(vi,0)+":"),ne(Et.path,vi)),vi="",Et.scheme==="file"&&(ke===a||ke==="?"||ke==="#"))for(;Et.path.length>1&&Et.path[0]==="";)W(Et.path);ke==="?"?(Et.query="",ui=Be):ke==="#"&&(Et.fragment="",ui=me)}else vi+=We(ke,mt);break;case qt:ke==="?"?(Et.query="",ui=Be):ke==="#"?(Et.fragment="",ui=me):ke!==a&&(Et.path[0]+=We(ke,it));break;case Be:pt||ke!=="#"?ke!==a&&(ke==="'"&&Et.isSpecial()?Et.query+="%27":Et.query+=ke==="#"?"%23":We(ke,it)):(Et.fragment="",ui=me);break;case me:ke!==a&&(Et.fragment+=We(ke,Me))}ki++}},parseHost:function(Fe){var pt,Ct,Nt;if(ue(Fe,0)==="["){if(ue(Fe,Fe.length-1)!=="]"||(pt=function(ke){var It,Dt,Et,ui,ki,vi,nr,Li=[0,0,0,0,0,0,0,0],Ri=0,xi=null,ai=0,wi=function(){return ue(ke,ai)};if(wi()===":"){if(ue(ke,1)!==":")return;ai+=2,xi=++Ri}for(;wi();){if(Ri===8)return;if(wi()!==":"){for(It=Dt=0;Dt<4&&te(ve,wi());)It=16*It+G(wi(),16),ai++,Dt++;if(wi()==="."){if(Dt===0||(ai-=Dt,Ri>6))return;for(Et=0;wi();){if(ui=null,Et>0){if(!(wi()==="."&&Et<4))return;ai++}if(!te(ht,wi()))return;for(;te(ht,wi());){if(ki=G(wi(),10),ui===null)ui=ki;else{if(ui===0)return;ui=10*ui+ki}if(ui>255)return;ai++}Li[Ri]=256*Li[Ri]+ui,++Et!==2&&Et!==4||Ri++}if(Et!==4)return;break}if(wi()===":"){if(ai++,!wi())return}else if(wi())return;Li[Ri++]=It}else{if(xi!==null)return;ai++,xi=++Ri}}if(xi!==null)for(vi=Ri-xi,Ri=7;Ri!==0&&vi>0;)nr=Li[Ri],Li[Ri--]=Li[xi+vi-1],Li[xi+--vi]=nr;else if(Ri!==8)return;return Li}(se(Fe,1,-1)),!pt))return De;this.host=pt}else if(this.isSpecial()){if(Fe=x(Fe),te(pe,Fe)||(pt=function(ke){var It,Dt,Et,ui,ki,vi,nr,Li=V(ke,".");if(Li.length&&Li[Li.length-1]===""&&Li.length--,(It=Li.length)>4)return ke;for(Dt=[],Et=0;Et<It;Et++){if((ui=Li[Et])==="")return ke;if(ki=10,ui.length>1&&ue(ui,0)==="0"&&(ki=te(nt,ui)?16:8,ui=se(ui,ki===8?1:2)),ui==="")vi=0;else{if(!te(ki===10?ot:ki===8?lt:ve,ui))return ke;vi=G(ui,ki)}ne(Dt,vi)}for(Et=0;Et<It;Et++)if(vi=Dt[Et],Et===It-1){if(vi>=K(256,5-It))return null}else if(vi>255)return null;for(nr=Q(Dt),Et=0;Et<Dt.length;Et++)nr+=Dt[Et]*K(256,3-Et);return nr}(Fe),pt===null))return De;this.host=pt}else{if(te(tt,Fe))return De;for(pt="",Ct=k(Fe),Nt=0;Nt<Ct.length;Nt++)pt+=We(Ct[Nt],it);this.host=pt}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return y(yt,this.scheme)},shortenPath:function(){var Fe=this.path,pt=Fe.length;!pt||this.scheme==="file"&&pt===1&&Ot(Fe[0],!0)||Fe.length--},serialize:function(){var Fe=this,pt=Fe.scheme,Ct=Fe.username,Nt=Fe.password,ke=Fe.host,It=Fe.port,Dt=Fe.path,Et=Fe.query,ui=Fe.fragment,ki=pt+":";return ke!==null?(ki+="//",Fe.includesCredentials()&&(ki+=Ct+(Nt?":"+Nt:"")+"@"),ki+=Te(ke),It!==null&&(ki+=":"+It)):pt==="file"&&(ki+="//"),ki+=Fe.cannotBeABaseURL?Dt[0]:Dt.length?"/"+D(Dt,"/"):"",Et!==null&&(ki+="?"+Et),ui!==null&&(ki+="#"+ui),ki},setHref:function(Fe){var pt=this.parse(Fe);if(pt)throw new H(pt);this.searchParams.update()},getOrigin:function(){var Fe=this.scheme,pt=this.port;if(Fe==="blob")try{return new Ye(Fe.path[0]).origin}catch(Ct){return"null"}return Fe!=="file"&&this.isSpecial()?Fe+"://"+Te(this.host)+(pt!==null?":"+pt:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(Fe){this.parse(S(Fe)+":",Pe)},getUsername:function(){return this.username},setUsername:function(Fe){var pt=k(S(Fe));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var Ct=0;Ct<pt.length;Ct++)this.username+=We(pt[Ct],He)}},getPassword:function(){return this.password},setPassword:function(Fe){var pt=k(S(Fe));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var Ct=0;Ct<pt.length;Ct++)this.password+=We(pt[Ct],He)}},getHost:function(){var Fe=this.host,pt=this.port;return Fe===null?"":pt===null?Te(Fe):Te(Fe)+":"+pt},setHost:function(Fe){this.cannotBeABaseURL||this.parse(Fe,ce)},getHostname:function(){var Fe=this.host;return Fe===null?"":Te(Fe)},setHostname:function(Fe){this.cannotBeABaseURL||this.parse(Fe,_e)},getPort:function(){var Fe=this.port;return Fe===null?"":S(Fe)},setPort:function(Fe){this.cannotHaveUsernamePasswordPort()||((Fe=S(Fe))===""?this.port=null:this.parse(Fe,Re))},getPathname:function(){var Fe=this.path;return this.cannotBeABaseURL?Fe[0]:Fe.length?"/"+D(Fe,"/"):""},setPathname:function(Fe){this.cannotBeABaseURL||(this.path=[],this.parse(Fe,Bt))},getSearch:function(){var Fe=this.query;return Fe?"?"+Fe:""},setSearch:function(Fe){(Fe=S(Fe))===""?this.query=null:(ue(Fe,0)==="?"&&(Fe=se(Fe,1)),this.query="",this.parse(Fe,Be)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Fe=this.fragment;return Fe?"#"+Fe:""},setHash:function(Fe){(Fe=S(Fe))!==""?(ue(Fe,0)==="#"&&(Fe=se(Fe,1)),this.fragment="",this.parse(Fe,me)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ye=function(Fe){var pt=v(this,ut),Ct=h(arguments.length,1)>1?arguments[1]:void 0,Nt=b(pt,new ze(Fe,!1,Ct));o||(pt.href=Nt.serialize(),pt.origin=Nt.getOrigin(),pt.protocol=Nt.getProtocol(),pt.username=Nt.getUsername(),pt.password=Nt.getPassword(),pt.host=Nt.getHost(),pt.hostname=Nt.getHostname(),pt.port=Nt.getPort(),pt.pathname=Nt.getPathname(),pt.search=Nt.getSearch(),pt.searchParams=Nt.getSearchParams(),pt.hash=Nt.getHash())},ut=Ye.prototype,ft=function(Fe,pt){return{get:function(){return _(this)[Fe]()},set:pt&&function(Ct){return _(this)[pt](Ct)},configurable:!0,enumerable:!0}};if(o&&(p(ut,"href",ft("serialize","setHref")),p(ut,"origin",ft("getOrigin")),p(ut,"protocol",ft("getProtocol","setProtocol")),p(ut,"username",ft("getUsername","setUsername")),p(ut,"password",ft("getPassword","setPassword")),p(ut,"host",ft("getHost","setHost")),p(ut,"hostname",ft("getHostname","setHostname")),p(ut,"port",ft("getPort","setPort")),p(ut,"pathname",ft("getPathname","setPathname")),p(ut,"search",ft("getSearch","setSearch")),p(ut,"searchParams",ft("getSearchParams")),p(ut,"hash",ft("getHash","setHash"))),f(ut,"toJSON",function(){return _(this).serialize()},{enumerable:!0}),f(ut,"toString",function(){return _(this).serialize()},{enumerable:!0}),j){var dt=j.createObjectURL,at=j.revokeObjectURL;dt&&f(Ye,"createObjectURL",c(dt,j)),at&&f(Ye,"revokeObjectURL",c(at,j))}s(Ye,"URL"),l({global:!0,constructor:!0,forced:!u,sham:!o},{URL:Ye})},5857:function(e,t,r){function a(C){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},a(C)}function l(C,x){(x==null||x>C.length)&&(x=C.length);for(var S=0,s=Array(x);S<x;S++)s[S]=C[S];return s}function o(C,x){for(var S=0;S<x.length;S++){var s=x[S];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(C,u(s.key),s)}}function u(C){var x=function(S){if(a(S)!="object"||!S)return S;var s=S[Symbol.toPrimitive];if(s!==void 0){var h=s.call(S,"string");if(a(h)!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(C);return a(x)=="symbol"?x:x+""}r(2675),r(9463),r(2259),r(5700),r(8706),r(3792),r(2712),r(9572),r(8130),r(3851),r(875),r(6099),r(825),r(888),r(7495),r(7764),r(5440),r(2953),r(8408),r(2008),r(113),r(3418),r(8598),r(2062),r(4782),r(2010),r(5506),r(3921),r(9432),r(8781),r(1761),r(5746),r(2762),r(3500),r(3296),r(7208);var n,c=function(){return C=function S(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,S),this.bookReaderOptions=s,this.urlSchema=[{name:"page",position:"path",default:"n0"},{name:"mode",position:"path",default:"2up"},{name:"search",position:"path",deprecated_for:"q"},{name:"q",position:"query_param"},{name:"sort",position:"query_param"},{name:"view",position:"query_param"},{name:"admin",position:"query_param"}],this.urlState={},this.urlMode=this.bookReaderOptions.urlMode||"hash",this.urlHistoryBasePath=this.bookReaderOptions.urlHistoryBasePath||"/",this.urlLocationPollId=null,this.oldLocationHash=null,this.oldUserHash=null},x=[{key:"urlStateToUrlString",value:function(S){var s=this,h=new URLSearchParams,g={};Object.keys(S).forEach(function(E){var R,j,H,G,q=s.urlSchema.find(function(K){return K.name===E});(R=q)!==null&&R!==void 0&&R.deprecated_for&&(q=s.urlSchema.find(function(K){return K.name===q.deprecated_for})),((j=q)===null||j===void 0?void 0:j.position)=="path"?g[(H=q)===null||H===void 0?void 0:H.name]=S[E]:h.append(((G=q)===null||G===void 0?void 0:G.name)||E,S[E])});var m=this.urlSchema.filter(function(E){return E.position=="path"}).map(function(E){return g[E.name]?"".concat(E.name,"/").concat(encodeURIComponent(g[E.name])):""}).join("/"),b="".concat(m.replace(/\/+/g,"/").replace(/\/+$/,"")),_="".concat(b,"?").concat(h.toString());return h.toString()?_:"".concat(b)}},{key:"urlStringToUrlState",value:function(S){var s={},h=new URL(S,"http://example.com"),g=Object.fromEntries(h.searchParams.entries()),m=h.pathname.match(/[^\\/]+\/[^\\/]+/g),b=m?Object.fromEntries(m.map(function(E){return E.split("/")})):{},_=function(E,R){return Object.keys(E).some(function(j){return j==R})};return this.urlSchema.filter(function(E){return E.position=="path"}).forEach(function(E){var R=_(b,E.name),j=_(E,"deprecated_for")&&R;if(R||j){var H=j?E.deprecated_for:E.name;s[H]=decodeURIComponent(b[E.name])}}),Object.entries(g).forEach(function(E){var R=function(G,q){return function(K){if(Array.isArray(K))return K}(G)||function(K,ue){var te=K==null?null:typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(te!=null){var D,J,Q,ne,ie=[],W=!0,V=!1;try{if(Q=(te=te.call(K)).next,ue===0){if(Object(te)!==te)return;W=!1}else for(;!(W=(D=Q.call(te)).done)&&(ie.push(D.value),ie.length!==ue);W=!0);}catch(se){V=!0,J=se}finally{try{if(!W&&te.return!=null&&(ne=te.return(),Object(ne)!==ne))return}finally{if(V)throw J}}return ie}}(G,q)||function(K,ue){if(K){if(typeof K=="string")return l(K,ue);var te={}.toString.call(K).slice(8,-1);return te==="Object"&&K.constructor&&(te=K.constructor.name),te==="Map"||te==="Set"?Array.from(K):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?l(K,ue):void 0}}(G,q)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(E,2),j=R[0],H=R[1];s[j]=H}),s}},{key:"setUrlParam",value:function(S,s){this.urlState[S]=s,this.pushToAddressBar()}},{key:"removeUrlParam",value:function(S){delete this.urlState[S],this.pushToAddressBar()}},{key:"getUrlParam",value:function(S){return this.urlState[S]}},{key:"pushToAddressBar",value:function(){var S=this.urlStateToUrlString(this.urlState),s=S!=="/"?S:"";if(this.urlMode=="history")if(window.history&&window.history.replaceState){var h="".concat(this.urlHistoryBasePath).concat(s).trim().replace(/(\/+)/g,"/");try{window.history.replaceState({},null,h)}catch(g){this.urlMode="hash"}}else this.options.urlMode="hash";this.urlMode=="hash"&&window.location.replace("#"+s),this.oldLocationHash=S}},{key:"listenForHashChanges",value:function(){var S=this;this.oldLocationHash=window.location.hash.substr(1),this.urlLocationPollId&&(clearInterval(this.urlLocationPollId),this.urlLocationPollId=null),this.urlLocationPollId=setInterval(function(){var s=window.location.hash.substr(1);s!=S.oldLocationHash&&(S.urlState=S.urlStringToUrlState(s))},500)}},{key:"pullFromAddressBar",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.location,s=this.urlMode==="history"?S.pathname.substr(this.urlHistoryBasePath.length)+S.search:S.hash.substr(1);this.urlState=this.urlStringToUrlState(s)}}],x&&o(C.prototype,x),Object.defineProperty(C,"prototype",{writable:!1}),C;var C,x}();function d(C){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},d(C)}function f(C,x){for(var S=0;S<x.length;S++){var s=x[S];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(C,p(s.key),s)}}function p(C){var x=function(S){if(d(S)!="object"||!S)return S;var s=S[Symbol.toPrimitive];if(s!==void 0){var h=s.call(S,"string");if(d(h)!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(C);return d(x)=="symbol"?x:x+""}function v(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(x){}return(v=function(){return!!C})()}function y(){return y=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(C,x,S){var s=function(g,m){for(;!{}.hasOwnProperty.call(g,m)&&(g=w(g))!==null;);return g}(C,x);if(s){var h=Object.getOwnPropertyDescriptor(s,x);return h.get?h.get.call(arguments.length<3?C:S):h.value}},y.apply(null,arguments)}function w(C){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},w(C)}function k(C,x){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,s){return S.__proto__=s,S},k(C,x)}r(1669).extend(BookReader.defaultOptions,{enableUrlPlugin:!0,bookId:"",defaults:null,updateWindowTitle:!1,urlMode:"hash",urlHistoryBasePath:"/",urlTrackedParams:["page","search","mode","region","highlight","view"],urlTrackIndex0:!1}),BookReader.prototype.setup=(n=BookReader.prototype.setup,function(C){n.call(this,C),this.bookId=C.bookId,this.defaults=C.defaults,this.locationPollId=null,this.oldLocationHash=null,this.oldUserHash=null}),BookReader.prototype.init=function(C){return function(){var x=this;this.options.enableUrlPlugin&&(this.bind(BookReader.eventNames.PostInit,function(){var S=x.options,s=S.updateWindowTitle,h=S.urlMode;s&&(document.title=x.shortTitle(x.bookTitle,50)),h==="hash"&&x.urlStartLocationPolling()}),this.bind(BookReader.eventNames.fragmentChange,this.urlUpdateFragment.bind(this))),C.call(this)}}(BookReader.prototype.init),BookReader.prototype.shortTitle=function(C){return this.bookTitle.length<C?this.bookTitle:"".concat(this.bookTitle.substr(0,C-3),"...")},BookReader.prototype.urlStartLocationPolling=function(){var C=this;this.oldLocationHash=this.urlReadFragment(),this.locationPollId&&(clearInterval(this.locationPollId),this.locationPollId=null),this.locationPollId=setInterval(function(){var x=C.urlReadFragment();if(x!=C.oldLocationHash&&x!=C.oldUserHash){var S,s=C.paramsFromFragment(x),h=function(){return C.updateFromParams(s)};C.trigger(BookReader.eventNames.stop),C.animating?((S=C.plugins.autoplay)===null||S===void 0||S.stop(),C.animationFinishedCallback=h):h(),C.oldUserHash=x}},500)},BookReader.prototype.urlUpdateFragment=function(){var C=this.paramsFromCurrent(),x=this.options,S=x.urlTrackIndex0,s=x.urlTrackedParams;S||C.index===void 0||C.index!==0||(delete C.index,delete C.page);var h=s.reduce(function(G,q){return q in C&&(G[q]=C[q]),G},{}),g=this.fragmentFromParams(h,this.options.urlMode),m=this.urlReadFragment(),b=this.getLocationSearch(),_=this.queryStringFromParams(h,b,this.options.urlMode);if(m!==g||b!==_){if(this.options.urlMode==="history")if(window.history&&window.history.replaceState){var E=this.options.urlHistoryBasePath.replace(/\/+$/,""),R=g===""?"":"/".concat(g),j="".concat(E).concat(R).concat(_);try{window.history.replaceState({},null,j),this.oldLocationHash=g+_}catch(G){this.options.urlMode="hash"}}else this.options.urlMode="hash";if(this.options.urlMode==="hash"){var H=this.urlParamsFiltersOnlySearch(this.readQueryString());window.location.replace("#"+g+H),this.oldLocationHash=g+H}}},BookReader.prototype.urlParamsFiltersOnlySearch=function(C){var x=new URLSearchParams(C);return x.has("q")?"?".concat(new URLSearchParams({q:x.get("q")})):""},BookReader.prototype.urlReadFragment=function(){var C=this.options,x=C.urlMode,S=C.urlHistoryBasePath;return x==="history"?window.location.pathname.substr(S.length):window.location.hash.substr(1)},BookReader.prototype.urlReadHashFragment=function(){return window.location.hash.substr(1)};var A=function(){function C(){return function(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}(this,C),function(s,h,g){return h=w(h),function(m,b){if(b&&(d(b)=="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(m)}(s,v()?Reflect.construct(h,g||[],w(s).constructor):h.apply(s,g))}(this,C,arguments)}return function(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),h&&k(s,h)}(C,BookReader),x=C,S=[{key:"init",value:function(){var s,h,g,m=this;this.options.enableUrlPlugin&&(this.urlPlugin=new c(this.options),this.bind(BookReader.eventNames.PostInit,function(){m.options.urlMode==="hash"&&m.urlPlugin.listenForHashChanges()})),(s=C,h=this,typeof(g=y(w(s.prototype),"init",h))=="function"?function(b){return g.apply(h,b)}:g)([])}}],S&&f(x.prototype,S),Object.defineProperty(x,"prototype",{writable:!1}),x;var x,S}();window.BookReader=A},6098:function(e,t,r){var a=r(9504),l=2147483647,o=/[^\0-\u007E]/,u=/[.\u3002\uFF0E\uFF61]/g,n="Overflow: input needs wider integers to process",c=RangeError,d=a(u.exec),f=Math.floor,p=String.fromCharCode,v=a("".charCodeAt),y=a([].join),w=a([].push),k=a("".replace),A=a("".split),C=a("".toLowerCase),x=function(h){return h+22+75*(h<26)},S=function(h,g,m){var b=0;for(h=m?f(h/700):h>>1,h+=f(h/g);h>455;)h=f(h/35),b+=36;return f(b+36*h/(h+38))},s=function(h){var g=[];h=function(ne){for(var ie=[],W=0,V=ne.length;W<V;){var se=v(ne,W++);if(se>=55296&&se<=56319&&W<V){var Ae=v(ne,W++);(64512&Ae)==56320?w(ie,((1023&se)<<10)+(1023&Ae)+65536):(w(ie,se),W--)}else w(ie,se)}return ie}(h);var m,b,_=h.length,E=128,R=0,j=72;for(m=0;m<h.length;m++)(b=h[m])<128&&w(g,p(b));var H=g.length,G=H;for(H&&w(g,"-");G<_;){var q=l;for(m=0;m<h.length;m++)(b=h[m])>=E&&b<q&&(q=b);var K=G+1;if(q-E>f((l-R)/K))throw new c(n);for(R+=(q-E)*K,E=q,m=0;m<h.length;m++){if((b=h[m])<E&&++R>l)throw new c(n);if(b===E){for(var ue=R,te=36;;){var D=te<=j?1:te>=j+26?26:te-j;if(ue<D)break;var J=ue-D,Q=36-D;w(g,p(x(D+J%Q))),ue=f(J/Q),te+=36}w(g,p(x(ue))),j=S(R,K,G===H),R=0,G++}}R++,E++}return y(g,"")};e.exports=function(h){var g,m,b=[],_=A(k(C(h),u,"."),".");for(g=0;g<_.length;g++)m=_[g],w(b,d(o,m)?"xn--"+s(m):m);return y(b,".")}},7208:function(e,t,r){var a=r(6518),l=r(9565);a({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return l(URL.prototype.toString,this)}})}},function(e){e(e.s=5857)}]);p2=oC,{default:f2}=p2,aC=en(p2,["default"]),m2=f2!==void 0?f2:aC});var g2={};On(g2,{default:()=>m2});var v2=Wt(()=>{vg();vg()});var sC,b2,y2,lC,w2,bg=Wt(()=>{sC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[51],{706:function(e,t,r){"use strict";var a=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(u){return l(function(){return!!o[u]()||"\u200B\x85\u180E"[u]()!=="\u200B\x85\u180E"||a&&o[u].name!==u})}},1041:function(e,t,r){"use strict";function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{S:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var u=function(){return n=function d(f){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.br=f,this.options},(c=[{key:"setup",value:function(d){this.options=Object.assign({},this.options,d)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(d){}},{key:"_configureToolbar",value:function(d){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(d){}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},1792:function(e,t,r){var a,l;a=[r(1669)],(l=function(o){return function(u){"use strict";function n(c){c===void 0&&(c=window.navigator.userAgent),c=c.toLowerCase();var d=/(edge)\/([\w.]+)/.exec(c)||/(opr)[\/]([\w.]+)/.exec(c)||/(chrome)[ \/]([\w.]+)/.exec(c)||/(iemobile)[\/]([\w.]+)/.exec(c)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[],f=/(ipad)/.exec(c)||/(ipod)/.exec(c)||/(windows phone)/.exec(c)||/(iphone)/.exec(c)||/(kindle)/.exec(c)||/(silk)/.exec(c)||/(android)/.exec(c)||/(win)/.exec(c)||/(mac)/.exec(c)||/(linux)/.exec(c)||/(cros)/.exec(c)||/(playbook)/.exec(c)||/(bb)/.exec(c)||/(blackberry)/.exec(c)||[],p={},v={browser:d[5]||d[3]||d[1]||"",version:d[2]||d[4]||"0",versionNumber:d[4]||d[2]||"0",platform:f[0]||""};if(v.browser&&(p[v.browser]=!0,p.version=v.version,p.versionNumber=parseInt(v.versionNumber,10)),v.platform&&(p[v.platform]=!0),(p.android||p.bb||p.blackberry||p.ipad||p.iphone||p.ipod||p.kindle||p.playbook||p.silk||p["windows phone"])&&(p.mobile=!0),(p.cros||p.mac||p.linux||p.win)&&(p.desktop=!0),(p.chrome||p.opr||p.safari)&&(p.webkit=!0),p.rv||p.iemobile){var y="msie";v.browser=y,p[y]=!0}if(p.edge){delete p.edge;var w="msedge";v.browser=w,p[w]=!0}if(p.safari&&p.blackberry){var k="blackberry";v.browser=k,p[k]=!0}if(p.safari&&p.playbook){var A="playbook";v.browser=A,p[A]=!0}if(p.bb){var C="blackberry";v.browser=C,p[C]=!0}if(p.opr){var x="opera";v.browser=x,p[x]=!0}if(p.safari&&p.android){var S="android";v.browser=S,p[S]=!0}if(p.safari&&p.kindle){var s="kindle";v.browser=s,p[s]=!0}if(p.safari&&p.silk){var h="silk";v.browser=h,p[h]=!0}return p.name=v.browser,p.platform=v.platform,p}return window.jQBrowser=n(window.navigator.userAgent),window.jQBrowser.uaMatch=n,u&&(u.browser=window.jQBrowser),window.jQBrowser}(o)}.apply(t,a))===void 0||(e.exports=l)},2443:function(e,t,r){var a;e=r.nmd(e),function(l,o){"use strict";if(!l||!l.document)throw new Error("SoundManager requires a browser with window and document objects.");var u=null;function n(c,d){this.setupOptions={url:c||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=d||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var f,p,v,y,w,k,A,C,x,S,s,h,g,m,b,_,E,R,j,H,G,q,K,ue,te,D,J,Q,ne,ie,W,V,se,Ae,Oe,je,De,Se,de,Xe,ht,nt,lt,ot,ve,pe,tt,xe,Ce,Ue,Te,it,Me,mt,He,We,yt,Ot,Ft,rt,oe,Pe,Ze,Je,qe,M=this,be=null,he=null,Ge="soundManager",vt=Ge+": ",kt=navigator.userAgent,ce=l.location.href.toString(),_e=document,Re=[],st=!0,xt=!1,Mt=!1,Bt=!1,Rt=!1,qt=!1,Be=0,me=["log","info","warn","error"],ze=null,Ye=null,ut=!1,ft=!1,dt=0,at=null,Fe=[],pt=null,Ct=Array.prototype.slice,Nt=!1,ke=0,It=1e3,Dt=kt.match(/(ipad|iphone|ipod)/i),Et=kt.match(/android/i),ui=kt.match(/msie|trident/i),ki=kt.match(/webkit/i),vi=kt.match(/safari/i)&&!kt.match(/chrome/i),nr=kt.match(/opera/i),Li=kt.match(/(mobile|pre\/|xoom)/i)||Dt||Et,Ri=!ce.match(/usehtml5audio/i)&&!ce.match(/sm2-ignorebadua/i)&&vi&&!kt.match(/silk/i)&&kt.match(/OS\sX\s10_6_([3-7])/i),xi=l.console!==o&&console.log!==o,ai=_e.hasFocus!==o?_e.hasFocus():null,wi=vi&&(_e.hasFocus===o||!_e.hasFocus()),_r=!wi,Jr=/(mp3|mp4|mpa|m4a|m4b)/i,pr="about:blank",Gi=_e.location?_e.location.protocol.match(/http/i):null,Dr=Gi?"":"//",ji=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Ii=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ar=new RegExp("\\.("+Ii.join("|")+")(\\?.*)?$","i");function Oi(ge){return M.preferFlash&&Ot&&!M.ignoreFlash&&M.flash[ge]!==o&&M.flash[ge]}function Tr(ge){return function(wt){var Ht,pi=this._s;return pi&&pi._a?Ht=ge.call(this,wt):(pi&&pi.id?M._wD(pi.id+": Ignoring "+wt.type):M._wD("HTML5::Ignoring "+wt.type),Ht=null),Ht}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Gi,De={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},Te=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==o&&(nr&&opera!==o&&opera.version()<10?new Audio(null):new Audio).canPlayType!==o}catch(ge){return!1}}(),this.setup=function(ge){var wt=!M.url;return ge!==o&&Bt&&pt&&M.ok()&&(ge.flashVersion!==o||ge.url!==o||ge.html5Test!==o)&&ht(Ae("setupLate")),s(ge),Nt||(Li?M.setupOptions.ignoreMobileRestrictions&&!M.setupOptions.forceUseGlobalHTML5Audio||(Fe.push(G.globalHTML5),Nt=!0):M.setupOptions.forceUseGlobalHTML5Audio&&(Fe.push(G.globalHTML5),Nt=!0)),!qe&&Li&&(M.setupOptions.ignoreMobileRestrictions?Fe.push(G.ignoreMobile):(M.setupOptions.useHTML5Audio&&!M.setupOptions.preferFlash||M._wD(G.mobileUA),M.setupOptions.useHTML5Audio=!0,M.setupOptions.preferFlash=!1,Dt?M.ignoreFlash=!0:(Et&&!kt.match(/android\s2\.3/i)||!Et)&&(M._wD(G.globalHTML5),Nt=!0))),ge&&(wt&&te&&ge.url!==o&&M.beginDelayedInit(),te||ge.url===o||_e.readyState!=="complete"||setTimeout(K,1)),qe=!0,M},this.ok=function(){return pt?Bt&&!Rt:M.useHTML5Audio&&M.hasHTML5},this.supported=this.ok,this.getMovie=function(ge){return p(ge)||_e[ge]||l[ge]},this.createSound=function(ge,wt){var Ht,pi,ii,Yi=null;if(pi=(Ht=Ge+".createSound(): ")+Ae(Bt?"notOK":"notReady"),!Bt||!M.ok())return ht(pi),!1;if(wt!==o&&(ge={id:ge,url:wt}),(ii=S(ge)).url=pe(ii.url),ii.id===o&&(ii.id=M.setupOptions.idPrefix+ke++),ii.id.toString().charAt(0).match(/^[0-9]$/)&&M._wD(Ht+Ae("badID",ii.id),2),M._wD(Ht+ii.id+(ii.url?" ("+ii.url+")":""),1),nt(ii.id,!0))return M._wD(Ht+ii.id+" exists",1),M.sounds[ii.id];function Ji(){return ii=de(ii),M.sounds[ii.id]=new f(ii),M.soundIDs.push(ii.id),M.sounds[ii.id]}if(Ce(ii))Yi=Ji(),M.html5Only||M._wD(ii.id+": Using HTML5"),Yi._setup_html5(ii);else{if(M.html5Only)return M._wD(ii.id+": No HTML5 support for this sound, and no Flash. Exiting."),Ji();if(M.html5.usingFlash&&ii.url&&ii.url.match(/data:/i))return M._wD(ii.id+": data: URIs not supported via Flash. Exiting."),Ji();k>8&&(ii.isMovieStar===null&&(ii.isMovieStar=!!(ii.serverURL||ii.type&&ii.type.match(ji)||ii.url&&ii.url.match(ar))),ii.isMovieStar&&(M._wD(Ht+"using MovieStar handling"),ii.loops>1&&C("noNSLoop"))),ii=Xe(ii,Ht),Yi=Ji(),k===8?he._createSound(ii.id,ii.loops||1,ii.usePolicyFile):(he._createSound(ii.id,ii.url,ii.usePeakData,ii.useWaveformData,ii.useEQData,ii.isMovieStar,!!ii.isMovieStar&&ii.bufferTime,ii.loops||1,ii.serverURL,ii.duration||null,ii.autoPlay,!0,ii.autoLoad,ii.usePolicyFile),ii.serverURL||(Yi.connected=!0,ii.onconnect&&ii.onconnect.apply(Yi))),ii.serverURL||!ii.autoLoad&&!ii.autoPlay||Yi.load(ii)}return!ii.serverURL&&ii.autoPlay&&Yi.play(),Yi},this.destroySound=function(ge,wt){if(!nt(ge))return!1;var Ht,pi=M.sounds[ge];for(pi.stop(),pi._iO={},pi.unload(),Ht=0;Ht<M.soundIDs.length;Ht++)if(M.soundIDs[Ht]===ge){M.soundIDs.splice(Ht,1);break}return wt||pi.destruct(!0),pi=null,delete M.sounds[ge],!0},this.load=function(ge,wt){return!!nt(ge)&&M.sounds[ge].load(wt)},this.unload=function(ge){return!!nt(ge)&&M.sounds[ge].unload()},this.onPosition=function(ge,wt,Ht,pi){return!!nt(ge)&&M.sounds[ge].onposition(wt,Ht,pi)},this.onposition=this.onPosition,this.clearOnPosition=function(ge,wt,Ht){return!!nt(ge)&&M.sounds[ge].clearOnPosition(wt,Ht)},this.play=function(ge,wt){var Ht=null,pi=wt&&!(wt instanceof Object);if(!Bt||!M.ok())return ht(Ge+".play(): "+Ae(Bt?"notOK":"notReady")),!1;if(nt(ge,pi))pi&&(wt={url:wt});else{if(!pi)return!1;pi&&(wt={url:wt}),wt&&wt.url&&(M._wD(Ge+'.play(): Attempting to create "'+ge+'"',1),wt.id=ge,Ht=M.createSound(wt).play())}return Ht===null&&(Ht=M.sounds[ge].play(wt)),Ht},this.start=this.play,this.setPlaybackRate=function(ge,wt,Ht){return!!nt(ge)&&M.sounds[ge].setPlaybackRate(wt,Ht)},this.setPosition=function(ge,wt){return!!nt(ge)&&M.sounds[ge].setPosition(wt)},this.stop=function(ge){return!!nt(ge)&&(M._wD(Ge+".stop("+ge+")",1),M.sounds[ge].stop())},this.stopAll=function(){var ge;for(ge in M._wD(Ge+".stopAll()",1),M.sounds)M.sounds.hasOwnProperty(ge)&&M.sounds[ge].stop()},this.pause=function(ge){return!!nt(ge)&&M.sounds[ge].pause()},this.pauseAll=function(){var ge;for(ge=M.soundIDs.length-1;ge>=0;ge--)M.sounds[M.soundIDs[ge]].pause()},this.resume=function(ge){return!!nt(ge)&&M.sounds[ge].resume()},this.resumeAll=function(){var ge;for(ge=M.soundIDs.length-1;ge>=0;ge--)M.sounds[M.soundIDs[ge]].resume()},this.togglePause=function(ge){return!!nt(ge)&&M.sounds[ge].togglePause()},this.setPan=function(ge,wt){return!!nt(ge)&&M.sounds[ge].setPan(wt)},this.setVolume=function(ge,wt){var Ht,pi;if(ge!==o&&!isNaN(ge)&&wt===o){for(Ht=0,pi=M.soundIDs.length;Ht<pi;Ht++)M.sounds[M.soundIDs[Ht]].setVolume(ge);return!1}return!!nt(ge)&&M.sounds[ge].setVolume(wt)},this.mute=function(ge){var wt=0;if(ge instanceof String&&(ge=null),ge)return!!nt(ge)&&(M._wD(Ge+'.mute(): Muting "'+ge+'"'),M.sounds[ge].mute());for(M._wD(Ge+".mute(): Muting all sounds"),wt=M.soundIDs.length-1;wt>=0;wt--)M.sounds[M.soundIDs[wt]].mute();return M.muted=!0,!0},this.muteAll=function(){M.mute()},this.unmute=function(ge){var wt;if(ge instanceof String&&(ge=null),ge)return!!nt(ge)&&(M._wD(Ge+'.unmute(): Unmuting "'+ge+'"'),M.sounds[ge].unmute());for(M._wD(Ge+".unmute(): Unmuting all sounds"),wt=M.soundIDs.length-1;wt>=0;wt--)M.sounds[M.soundIDs[wt]].unmute();return M.muted=!1,!0},this.unmuteAll=function(){M.unmute()},this.toggleMute=function(ge){return!!nt(ge)&&M.sounds[ge].toggleMute()},this.getMemoryUse=function(){var ge=0;return he&&k!==8&&(ge=parseInt(he._getMemoryUse(),10)),ge},this.disable=function(ge){var wt;if(ge===o&&(ge=!1),Rt)return!1;for(Rt=!0,C("shutdown",1),wt=M.soundIDs.length-1;wt>=0;wt--)W(M.sounds[M.soundIDs[wt]]);return W(M),x(ge),We.remove(l,"load",b),!0},this.canPlayMIME=function(ge){var wt;return M.hasHTML5&&(wt=Ue({type:ge})),!wt&&pt&&(wt=ge&&M.ok()?!!(k>8&&ge.match(ji)||ge.match(M.mimePattern)):null),wt},this.canPlayURL=function(ge){var wt;return M.hasHTML5&&(wt=Ue({url:ge})),!wt&&pt&&(wt=ge&&M.ok()?!!ge.match(M.filePattern):null),wt},this.canPlayLink=function(ge){return!(ge.type===o||!ge.type||!M.canPlayMIME(ge.type))||M.canPlayURL(ge.href)},this.getSoundById=function(ge,wt){if(!ge)return null;var Ht=M.sounds[ge];return Ht||wt||M._wD(Ge+'.getSoundById(): Sound "'+ge+'" not found.',2),Ht},this.onready=function(ge,wt){var Ht="onready";if(typeof ge!="function")throw Ae("needFunction",Ht);return Bt&&M._wD(Ae("queue",Ht)),wt||(wt=l),g(Ht,ge,wt),m(),!0},this.ontimeout=function(ge,wt){var Ht="ontimeout";if(typeof ge!="function")throw Ae("needFunction",Ht);return Bt&&M._wD(Ae("queue",Ht)),wt||(wt=l),g(Ht,ge,wt),m({type:Ht}),!0},this._writeDebug=function(ge,wt){var Ht,pi;return!(!M.setupOptions.debugMode||!(xi&&M.useConsole&&(wt&&typeof wt=="object"?console.log(ge,wt):me[wt]!==o?console[me[wt]](ge):console.log(ge),M.consoleOnly))&&(!(Ht=p("soundmanager-debug"))||(pi=_e.createElement("div"),++Be%2==0&&(pi.className="sm2-alt"),wt=wt===o?0:parseInt(wt,10),pi.appendChild(_e.createTextNode(ge)),wt&&(wt>=2&&(pi.style.fontWeight="bold"),wt===3&&(pi.style.color="#ff3333")),Ht.insertBefore(pi,Ht.firstChild),Ht=null,0)))},ce.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(ge){l.alert(ge)}),this._wD=this._writeDebug,this._debug=function(){var ge,wt;for(C("currentObj",1),ge=0,wt=M.soundIDs.length;ge<wt;ge++)M.sounds[M.soundIDs[ge]]._debug()},this.reboot=function(ge,wt){var Ht,pi,ii;for(M.soundIDs.length&&M._wD("Destroying "+M.soundIDs.length+" SMSound object"+(M.soundIDs.length!==1?"s":"")+"..."),Ht=M.soundIDs.length-1;Ht>=0;Ht--)M.sounds[M.soundIDs[Ht]].destruct();if(he)try{ui&&(Ye=he.innerHTML),ze=he.parentNode.removeChild(he)}catch(Yi){C("badRemove",2)}if(Ye=ze=pt=he=null,M.enabled=te=Bt=ut=ft=xt=Mt=Rt=Nt=M.swfLoaded=!1,M.soundIDs=[],M.sounds={},ke=0,qe=!1,ge)Re=[];else for(Ht in Re)if(Re.hasOwnProperty(Ht))for(pi=0,ii=Re[Ht].length;pi<ii;pi++)Re[Ht][pi].fired=!1;return wt||M._wD(Ge+": Rebooting..."),M.html5={usingFlash:null},M.flash={},M.html5Only=!1,M.ignoreFlash=!1,l.setTimeout(function(){wt||M.beginDelayedInit()},20),M},this.reset=function(){return C("reset"),M.reboot(!0,!0)},this.getMoviePercent=function(){return he&&"PercentLoaded"in he?he.PercentLoaded():null},this.beginDelayedInit=function(){qt=!0,K(),setTimeout(function(){return!ft&&(J(),q(),ft=!0,!0)},20),_()},this.destruct=function(){M._wD(Ge+".destruct()"),M.disable(!0)},f=function(ge){var wt,Ht,pi,ii,Yi,Ji,cr,on,un,Kr,ae=this,ro=!1,Dn=[],Fn=0,Mn=null;un={duration:null,time:null},this.id=ge.id,this.sID=this.id,this.url=ge.url,this.options=S(ge),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,Kr=!this.url,this.id3={},this._debug=function(){M._wD(ae.id+": Merged options:",ae.options)},this.load=function(Zt){var di;if(Zt!==o?ae._iO=S(Zt,ae.options):(Zt=ae.options,ae._iO=Zt,Mn&&Mn!==ae.url&&(C("manURL"),ae._iO.url=ae.url,ae.url=null)),ae._iO.url||(ae._iO.url=ae.url),ae._iO.url=pe(ae._iO.url),ae.instanceOptions=ae._iO,di=ae._iO,M._wD(ae.id+": load ("+di.url+")"),!di.url&&!ae.url)return M._wD(ae.id+": load(): url is unassigned. Exiting.",2),ae;if(ae.isHTML5||k!==8||ae.url||di.autoPlay||M._wD(ae.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),di.url===ae.url&&ae.readyState!==0&&ae.readyState!==2)return C("onURL",1),ae.readyState===3&&di.onload&&Je(ae,function(){di.onload.apply(ae,[!!ae.duration])}),ae;if(ae.loaded=!1,ae.readyState=1,ae.playState=0,ae.id3={},Ce(di))ae._setup_html5(di)._called_load?M._wD(ae.id+": Ignoring request to load again"):(ae._html5_canplay=!1,ae.url!==di.url&&(M._wD(C("manURL")+": "+di.url),ae._a.src=di.url,ae.setPosition(0)),ae._a.autobuffer="auto",ae._a.preload="auto",ae._a._called_load=!0);else{if(M.html5Only)return M._wD(ae.id+": No flash support. Exiting."),ae;if(ae._iO.url&&ae._iO.url.match(/data:/i))return M._wD(ae.id+": data: URIs not supported via Flash. Exiting."),ae;try{ae.isHTML5=!1,ae._iO=Xe(de(di)),ae._iO.autoPlay&&(ae._iO.position||ae._iO.from)&&(M._wD(ae.id+": Disabling autoPlay because of non-zero offset case"),ae._iO.autoPlay=!1),di=ae._iO,k===8?he._load(ae.id,di.url,di.stream,di.autoPlay,di.usePolicyFile):he._load(ae.id,di.url,!!di.stream,!!di.autoPlay,di.loops||1,!!di.autoLoad,di.usePolicyFile)}catch(ni){C("smError",2),A("onload",!1),Q({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return ae.url=di.url,ae},this.unload=function(){return ae.readyState!==0&&(M._wD(ae.id+": unload()"),ae.isHTML5?(ii(),ae._a&&(ae._a.pause(),Mn=Me(ae._a))):k===8?he._unload(ae.id,pr):he._unload(ae.id),wt()),ae},this.destruct=function(Zt){M._wD(ae.id+": Destruct"),ae.isHTML5?(ii(),ae._a&&(ae._a.pause(),Me(ae._a),Nt||pi(),ae._a._s=null,ae._a=null)):(ae._iO.onfailure=null,he._destroySound(ae.id)),Zt||M.destroySound(ae.id,!0)},this.play=function(Zt,di){var ni,Xi,Wi,hn,Wn,sa,To=!0;if(ni=ae.id+": play(): ",di=di===o||di,Zt||(Zt={}),ae.url&&(ae._iO.url=ae.url),ae._iO=S(ae._iO,ae.options),ae._iO=S(Zt,ae._iO),ae._iO.url=pe(ae._iO.url),ae.instanceOptions=ae._iO,!ae.isHTML5&&ae._iO.serverURL&&!ae.connected)return ae.getAutoPlay()||(M._wD(ni+" Netstream not connected yet - setting autoPlay"),ae.setAutoPlay(!0)),ae;if(Ce(ae._iO)&&(ae._setup_html5(ae._iO),Yi()),ae.playState===1&&!ae.paused){if(!ae._iO.multiShot)return M._wD(ni+"Already playing (one-shot)",1),ae.isHTML5&&ae.setPosition(ae._iO.position),ae;M._wD(ni+"Already playing (multi-shot)",1)}if(Zt.url&&Zt.url!==ae.url&&(ae.readyState||ae.isHTML5||k!==8||!Kr?ae.load(ae._iO):Kr=!1),ae.loaded)M._wD(ni.substr(0,ni.lastIndexOf(":")));else if(ae.readyState===0){if(M._wD(ni+"Attempting to load"),ae.isHTML5||M.html5Only){if(!ae.isHTML5)return M._wD(ni+"Unsupported type. Exiting."),ae;ae.load(ae._iO)}else ae._iO.autoPlay=!0,ae.load(ae._iO);ae.instanceOptions=ae._iO}else{if(ae.readyState===2)return M._wD(ni+"Could not load - exiting",2),ae;M._wD(ni+"Loading - attempting to play...")}return!ae.isHTML5&&k===9&&ae.position>0&&ae.position===ae.duration&&(M._wD(ni+"Sound at end, resetting to position: 0"),Zt.position=0),ae.paused&&ae.position>=0&&(!ae._iO.serverURL||ae.position>0)?(M._wD(ni+"Resuming from paused state",1),ae.resume()):(ae._iO=S(Zt,ae._iO),(!ae.isHTML5&&ae._iO.position!==null&&ae._iO.position>0||ae._iO.from!==null&&ae._iO.from>0||ae._iO.to!==null)&&ae.instanceCount===0&&ae.playState===0&&!ae._iO.serverURL&&(Wi=function(){ae._iO=S(Zt,ae._iO),ae.play(ae._iO)},ae.isHTML5&&!ae._html5_canplay?(M._wD(ni+"Beginning load for non-zero offset case"),ae.load({_oncanplay:Wi})):ae.isHTML5||ae.loaded||ae.readyState&&ae.readyState===2||(M._wD(ni+"Preloading for non-zero offset case"),ae.load({onload:Wi})),ae._iO=on()),(!ae.instanceCount||ae._iO.multiShotEvents||ae.isHTML5&&ae._iO.multiShot&&!Nt||!ae.isHTML5&&k>8&&!ae.getAutoPlay())&&ae.instanceCount++,ae._iO.onposition&&ae.playState===0&&Ji(ae),ae.playState=1,ae.paused=!1,ae.position=ae._iO.position===o||isNaN(ae._iO.position)?0:ae._iO.position,ae.isHTML5||(ae._iO=Xe(de(ae._iO))),ae._iO.onplay&&di&&(ae._iO.onplay.apply(ae),ro=!0),ae.setVolume(ae._iO.volume,!0),ae.setPan(ae._iO.pan,!0),ae._iO.playbackRate!==1&&ae.setPlaybackRate(ae._iO.playbackRate),ae.isHTML5?ae.instanceCount<2?(Yi(),Xi=ae._setup_html5(),ae.setPosition(ae._iO.position),Xi.play()):(M._wD(ae.id+": Cloning Audio() for instance #"+ae.instanceCount+"..."),hn=new Audio(ae._iO.url),Wn=function(){We.remove(hn,"ended",Wn),ae._onfinish(ae),Me(hn),hn=null},sa=function(){We.remove(hn,"canplay",sa);try{hn.currentTime=ae._iO.position/It}catch(Rs){ht(ae.id+": multiShot play() failed to apply position of "+ae._iO.position/It)}hn.play()},We.add(hn,"ended",Wn),ae._iO.volume!==o&&(hn.volume=Math.max(0,Math.min(1,ae._iO.volume/100))),ae.muted&&(hn.muted=!0),ae._iO.position?We.add(hn,"canplay",sa):hn.play()):(To=he._start(ae.id,ae._iO.loops||1,k===9?ae.position:ae.position/It,ae._iO.multiShot||!1),k!==9||To||(M._wD(ni+"No sound hardware, or 32-sound ceiling hit",2),ae._iO.onplayerror&&ae._iO.onplayerror.apply(ae)))),ae},this.start=this.play,this.stop=function(Zt){var di,ni=ae._iO;return ae.playState===1&&(M._wD(ae.id+": stop()"),ae._onbufferchange(0),ae._resetOnPosition(0),ae.paused=!1,ae.isHTML5||(ae.playState=0),cr(),ni.to&&ae.clearOnPosition(ni.to),ae.isHTML5?ae._a&&(di=ae.position,ae.setPosition(0),ae.position=di,ae._a.pause(),ae.playState=0,ae._onTimer(),ii()):(he._stop(ae.id,Zt),ni.serverURL&&ae.unload()),ae.instanceCount=0,ae._iO={},ni.onstop&&ni.onstop.apply(ae)),ae},this.setAutoPlay=function(Zt){M._wD(ae.id+": Autoplay turned "+(Zt?"on":"off")),ae._iO.autoPlay=Zt,ae.isHTML5||(he._setAutoPlay(ae.id,Zt),Zt&&(ae.instanceCount||ae.readyState!==1||(ae.instanceCount++,M._wD(ae.id+": Incremented instance count to "+ae.instanceCount))))},this.getAutoPlay=function(){return ae._iO.autoPlay},this.setPlaybackRate=function(Zt){var di=Math.max(.5,Math.min(4,Zt));if(di!==Zt&&M._wD(ae.id+": setPlaybackRate("+Zt+"): limiting rate to "+di,2),ae.isHTML5)try{ae._iO.playbackRate=di,ae._a.playbackRate=di}catch(ni){M._wD(ae.id+": setPlaybackRate("+di+") failed: "+ni.message,2)}return ae},this.setPosition=function(Zt){Zt===o&&(Zt=0);var di,ni,Xi=ae.isHTML5?Math.max(Zt,0):Math.min(ae.duration||ae._iO.duration,Math.max(Zt,0));if(ae.position=Xi,ni=ae.position/It,ae._resetOnPosition(ae.position),ae._iO.position=Xi,ae.isHTML5){if(ae._a){if(ae._html5_canplay){if(ae._a.currentTime.toFixed(3)!==ni.toFixed(3)){M._wD(ae.id+": setPosition("+ni+")");try{ae._a.currentTime=ni,(ae.playState===0||ae.paused)&&ae._a.pause()}catch(Wi){M._wD(ae.id+": setPosition("+ni+") failed: "+Wi.message,2)}}}else if(ni)return M._wD(ae.id+": setPosition("+ni+"): Cannot seek yet, sound not ready",2),ae;ae.paused&&ae._onTimer(!0)}}else di=k===9?ae.position:ni,ae.readyState&&ae.readyState!==2&&he._setPosition(ae.id,di,ae.paused||!ae.playState,ae._iO.multiShot);return ae},this.pause=function(Zt){return ae.paused||ae.playState===0&&ae.readyState!==1||(M._wD(ae.id+": pause()"),ae.paused=!0,ae.isHTML5?(ae._setup_html5().pause(),ii()):(Zt||Zt===o)&&he._pause(ae.id,ae._iO.multiShot),ae._iO.onpause&&ae._iO.onpause.apply(ae)),ae},this.resume=function(){var Zt=ae._iO;return ae.paused&&(M._wD(ae.id+": resume()"),ae.paused=!1,ae.playState=1,ae.isHTML5?(ae._setup_html5().play(),Yi()):(Zt.isMovieStar&&!Zt.serverURL&&ae.setPosition(ae.position),he._pause(ae.id,Zt.multiShot)),!ro&&Zt.onplay?(Zt.onplay.apply(ae),ro=!0):Zt.onresume&&Zt.onresume.apply(ae)),ae},this.togglePause=function(){return M._wD(ae.id+": togglePause()"),ae.playState===0?(ae.play({position:k!==9||ae.isHTML5?ae.position/It:ae.position}),ae):(ae.paused?ae.resume():ae.pause(),ae)},this.setPan=function(Zt,di){return Zt===o&&(Zt=0),di===o&&(di=!1),ae.isHTML5||he._setPan(ae.id,Zt),ae._iO.pan=Zt,di||(ae.pan=Zt,ae.options.pan=Zt),ae},this.setVolume=function(Zt,di){return Zt===o&&(Zt=100),di===o&&(di=!1),ae.isHTML5?ae._a&&(M.muted&&!ae.muted&&(ae.muted=!0,ae._a.muted=!0),ae._a.volume=Math.max(0,Math.min(1,Zt/100))):he._setVolume(ae.id,M.muted&&!ae.muted||ae.muted?0:Zt),ae._iO.volume=Zt,di||(ae.volume=Zt,ae.options.volume=Zt),ae},this.mute=function(){return ae.muted=!0,ae.isHTML5?ae._a&&(ae._a.muted=!0):he._setVolume(ae.id,0),ae},this.unmute=function(){ae.muted=!1;var Zt=ae._iO.volume!==o;return ae.isHTML5?ae._a&&(ae._a.muted=!1):he._setVolume(ae.id,Zt?ae._iO.volume:ae.options.volume),ae},this.toggleMute=function(){return ae.muted?ae.unmute():ae.mute()},this.onPosition=function(Zt,di,ni){return Dn.push({position:parseInt(Zt,10),method:di,scope:ni!==o?ni:ae,fired:!1}),ae},this.onposition=this.onPosition,this.clearOnPosition=function(Zt,di){var ni;if(Zt=parseInt(Zt,10),!isNaN(Zt))for(ni=0;ni<Dn.length;ni++)Zt===Dn[ni].position&&(di&&di!==Dn[ni].method||(Dn[ni].fired&&Fn--,Dn.splice(ni,1)))},this._processOnPosition=function(){var Zt,di,ni=Dn.length;if(!ni||!ae.playState||Fn>=ni)return!1;for(Zt=ni-1;Zt>=0;Zt--)!(di=Dn[Zt]).fired&&ae.position>=di.position&&(di.fired=!0,Fn++,di.method.apply(di.scope,[di.position]),ni=Dn.length);return!0},this._resetOnPosition=function(Zt){var di,ni,Xi=Dn.length;if(!Xi)return!1;for(di=Xi-1;di>=0;di--)(ni=Dn[di]).fired&&Zt<=ni.position&&(ni.fired=!1,Fn--);return!0},on=function(){var Zt,di,ni=ae._iO,Xi=ni.from,Wi=ni.to;return di=function(){M._wD(ae.id+': "To" time of '+Wi+" reached."),ae.clearOnPosition(Wi,di),ae.stop()},Zt=function(){M._wD(ae.id+': Playing "from" '+Xi),Wi===null||isNaN(Wi)||ae.onPosition(Wi,di)},Xi===null||isNaN(Xi)||(ni.position=Xi,ni.multiShot=!1,Zt()),ni},Ji=function(){var Zt,di=ae._iO.onposition;if(di)for(Zt in di)di.hasOwnProperty(Zt)&&ae.onPosition(parseInt(Zt,10),di[Zt])},cr=function(){var Zt,di=ae._iO.onposition;if(di)for(Zt in di)di.hasOwnProperty(Zt)&&ae.clearOnPosition(parseInt(Zt,10))},Yi=function(){ae.isHTML5&&lt(ae)},ii=function(){ae.isHTML5&&ot(ae)},(wt=function(Zt){Zt||(Dn=[],Fn=0),ro=!1,ae._hasTimer=null,ae._a=null,ae._html5_canplay=!1,ae.bytesLoaded=null,ae.bytesTotal=null,ae.duration=ae._iO&&ae._iO.duration?ae._iO.duration:null,ae.durationEstimate=null,ae.buffered=[],ae.eqData=[],ae.eqData.left=[],ae.eqData.right=[],ae.failures=0,ae.isBuffering=!1,ae.instanceOptions={},ae.instanceCount=0,ae.loaded=!1,ae.metadata={},ae.readyState=0,ae.muted=!1,ae.paused=!1,ae.peakData={left:0,right:0},ae.waveformData={left:[],right:[]},ae.playState=0,ae.position=null,ae.id3={}})(),this._onTimer=function(Zt){var di,ni,Xi=!1,Wi={};return(ae._hasTimer||Zt)&&ae._a&&(Zt||(ae.playState>0||ae.readyState===1)&&!ae.paused)&&((di=ae._get_html5_duration())!==un.duration&&(un.duration=di,ae.duration=di,Xi=!0),ae.durationEstimate=ae.duration,(ni=ae._a.currentTime*It||0)!==un.time&&(un.time=ni,Xi=!0),(Xi||Zt)&&ae._whileplaying(ni,Wi,Wi,Wi,Wi)),Xi},this._get_html5_duration=function(){var Zt=ae._iO,di=ae._a&&ae._a.duration?ae._a.duration*It:Zt&&Zt.duration?Zt.duration:null;return di&&!isNaN(di)&&di!==1/0?di:null},this._apply_loop=function(Zt,di){!Zt.loop&&di>1&&M._wD("Note: Native HTML5 looping is infinite.",1),Zt.loop=di>1?"loop":""},this._setup_html5=function(Zt){var di,ni=S(ae._iO,Zt),Xi=Nt?be:ae._a,Wi=decodeURI(ni.url);if(Nt?Wi===decodeURI(yt)&&(di=!0):Wi===decodeURI(Mn)&&(di=!0),Xi){if(Xi._s){if(Nt)Xi._s&&Xi._s.playState&&!di&&Xi._s.stop();else if(!Nt&&Wi===decodeURI(Mn))return ae._apply_loop(Xi,ni.loops),Xi}di||(Mn&&wt(!1),Xi.src=ni.url,ae.url=ni.url,Mn=ni.url,yt=ni.url,Xi._called_load=!1)}else ni.autoLoad||ni.autoPlay?(ae._a=new Audio(ni.url),ae._a.load()):ae._a=nr&&opera.version()<10?new Audio(null):new Audio,(Xi=ae._a)._called_load=!1,Nt&&(be=Xi);return ae.isHTML5=!0,ae._a=Xi,Xi._s=ae,Ht(),ae._apply_loop(Xi,ni.loops),ni.autoLoad||ni.autoPlay?ae.load():(Xi.autobuffer=!1,Xi.preload="auto"),Xi},Ht=function(){if(ae._a._added_events)return!1;var Zt;function di(ni,Xi,Wi){return ae._a?ae._a.addEventListener(ni,Xi,Wi||!1):null}for(Zt in ae._a._added_events=!0,oe)oe.hasOwnProperty(Zt)&&di(Zt,oe[Zt]);return!0},pi=function(){var Zt;function di(ni,Xi,Wi){return ae._a?ae._a.removeEventListener(ni,Xi,Wi||!1):null}for(Zt in M._wD(ae.id+": Removing event listeners"),ae._a._added_events=!1,oe)oe.hasOwnProperty(Zt)&&di(Zt,oe[Zt])},this._onload=function(Zt){var di,ni=!!Zt||!ae.isHTML5&&k===8&&ae.duration;return di=ae.id+": ",M._wD(di+(ni?"onload()":"Failed to load / invalid sound?"+(ae.duration?" -":" Zero-length duration reported.")+" ("+ae.url+")"),ni?1:2),ni||ae.isHTML5||(M.sandbox.noRemote===!0&&M._wD(di+Ae("noNet"),1),M.sandbox.noLocal===!0&&M._wD(di+Ae("noLocal"),1)),ae.loaded=ni,ae.readyState=ni?3:2,ae._onbufferchange(0),ni||ae.isHTML5||ae._onerror(),ae._iO.onload&&Je(ae,function(){ae._iO.onload.apply(ae,[ni])}),!0},this._onerror=function(Zt,di){ae._iO.onerror&&Je(ae,function(){ae._iO.onerror.apply(ae,[Zt,di])})},this._onbufferchange=function(Zt){return!(ae.playState===0||Zt&&ae.isBuffering||!Zt&&!ae.isBuffering||(ae.isBuffering=Zt===1,ae._iO.onbufferchange&&(M._wD(ae.id+": Buffer state change: "+Zt),ae._iO.onbufferchange.apply(ae,[Zt])),0))},this._onsuspend=function(){return ae._iO.onsuspend&&(M._wD(ae.id+": Playback suspended"),ae._iO.onsuspend.apply(ae)),!0},this._onfailure=function(Zt,di,ni){ae.failures++,M._wD(ae.id+": Failure ("+ae.failures+"): "+Zt),ae._iO.onfailure&&ae.failures===1?ae._iO.onfailure(Zt,di,ni):M._wD(ae.id+": Ignoring failure")},this._onwarning=function(Zt,di,ni){ae._iO.onwarning&&ae._iO.onwarning(Zt,di,ni)},this._onfinish=function(){var Zt=ae._iO.onfinish;ae._onbufferchange(0),ae._resetOnPosition(0),ae.instanceCount&&(ae.instanceCount--,ae.instanceCount||(cr(),ae.playState=0,ae.paused=!1,ae.instanceCount=0,ae.instanceOptions={},ae._iO={},ii(),ae.isHTML5&&(ae.position=0)),ae.instanceCount&&!ae._iO.multiShotEvents||Zt&&(M._wD(ae.id+": onfinish()"),Je(ae,function(){Zt.apply(ae)})))},this._whileloading=function(Zt,di,ni,Xi){var Wi=ae._iO;ae.bytesLoaded=Zt,ae.bytesTotal=di,ae.duration=Math.floor(ni),ae.bufferLength=Xi,ae.isHTML5||Wi.isMovieStar?ae.durationEstimate=ae.duration:Wi.duration?ae.durationEstimate=ae.duration>Wi.duration?ae.duration:Wi.duration:ae.durationEstimate=parseInt(ae.bytesTotal/ae.bytesLoaded*ae.duration,10),ae.isHTML5||(ae.buffered=[{start:0,end:ae.duration}]),(ae.readyState!==3||ae.isHTML5)&&Wi.whileloading&&Wi.whileloading.apply(ae)},this._whileplaying=function(Zt,di,ni,Xi,Wi){var hn,Wn=ae._iO;return!isNaN(Zt)&&Zt!==null&&(ae.position=Math.max(0,Zt),ae._processOnPosition(),!ae.isHTML5&&k>8&&(Wn.usePeakData&&di!==o&&di&&(ae.peakData={left:di.leftPeak,right:di.rightPeak}),Wn.useWaveformData&&ni!==o&&ni&&(ae.waveformData={left:ni.split(","),right:Xi.split(",")}),Wn.useEQData&&Wi!==o&&Wi&&Wi.leftEQ&&(hn=Wi.leftEQ.split(","),ae.eqData=hn,ae.eqData.left=hn,Wi.rightEQ!==o&&Wi.rightEQ&&(ae.eqData.right=Wi.rightEQ.split(",")))),ae.playState===1&&(ae.isHTML5||k!==8||ae.position||!ae.isBuffering||ae._onbufferchange(0),Wn.whileplaying&&Wn.whileplaying.apply(ae)),!0)},this._oncaptiondata=function(Zt){M._wD(ae.id+": Caption data received."),ae.captiondata=Zt,ae._iO.oncaptiondata&&ae._iO.oncaptiondata.apply(ae,[Zt])},this._onmetadata=function(Zt,di){M._wD(ae.id+": Metadata received.");var ni,Xi,Wi={};for(ni=0,Xi=Zt.length;ni<Xi;ni++)Wi[Zt[ni]]=di[ni];ae.metadata=Wi,ae._iO.onmetadata&&ae._iO.onmetadata.call(ae,ae.metadata)},this._onid3=function(Zt,di){M._wD(ae.id+": ID3 data received.");var ni,Xi,Wi=[];for(ni=0,Xi=Zt.length;ni<Xi;ni++)Wi[Zt[ni]]=di[ni];ae.id3=S(ae.id3,Wi),ae._iO.onid3&&ae._iO.onid3.apply(ae)},this._onconnect=function(Zt){Zt=Zt===1,M._wD(ae.id+": "+(Zt?"Connected.":"Failed to connect? - "+ae.url),Zt?1:2),ae.connected=Zt,Zt&&(ae.failures=0,nt(ae.id)&&(ae.getAutoPlay()?ae.play(o,ae.getAutoPlay()):ae._iO.autoLoad&&ae.load()),ae._iO.onconnect&&ae._iO.onconnect.apply(ae,[Zt]))},this._ondataerror=function(Zt){ae.playState>0&&(M._wD(ae.id+": Data error: "+Zt),ae._iO.ondataerror&&ae._iO.ondataerror.apply(ae))},this._debug()},D=function(){return _e.body||_e.getElementsByTagName("div")[0]},p=function(ge){return _e.getElementById(ge)},S=function(ge,wt){var Ht,pi,ii=ge||{};for(pi in Ht=wt===o?M.defaultOptions:wt)Ht.hasOwnProperty(pi)&&ii[pi]===o&&(typeof Ht[pi]!="object"||Ht[pi]===null?ii[pi]=Ht[pi]:ii[pi]=S(ii[pi],Ht[pi]));return ii},Je=function(ge,wt){ge.isHTML5||k!==8?wt():l.setTimeout(wt,0)},h={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},s=function(ge,wt){var Ht,pi=!0,ii=wt!==o,Yi=M.setupOptions,Ji=h;if(ge===o){for(Ht in pi=[],Yi)Yi.hasOwnProperty(Ht)&&pi.push(Ht);for(Ht in Ji)Ji.hasOwnProperty(Ht)&&(typeof M[Ht]=="object"?pi.push(Ht+": {...}"):M[Ht]instanceof Function?pi.push(Ht+": function() {...}"):pi.push(Ht));return M._wD(Ae("setup",pi.join(", "))),!1}for(Ht in ge)if(ge.hasOwnProperty(Ht))if(typeof ge[Ht]!="object"||ge[Ht]===null||ge[Ht]instanceof Array||ge[Ht]instanceof RegExp)ii&&Ji[wt]!==o?M[wt][Ht]=ge[Ht]:Yi[Ht]!==o?(M.setupOptions[Ht]=ge[Ht],M[Ht]=ge[Ht]):Ji[Ht]===o?(ht(Ae(M[Ht]===o?"setupUndef":"setupError",Ht),2),pi=!1):M[Ht]instanceof Function?M[Ht].apply(M,ge[Ht]instanceof Array?ge[Ht]:[ge[Ht]]):M[Ht]=ge[Ht];else{if(Ji[Ht]!==o)return s(ge[Ht],Ht);ht(Ae(M[Ht]===o?"setupUndef":"setupError",Ht),2),pi=!1}return pi},We=function(){var ge=l.attachEvent,wt={add:ge?"attachEvent":"addEventListener",remove:ge?"detachEvent":"removeEventListener"};function Ht(ii){var Yi=Ct.call(ii),Ji=Yi.length;return ge?(Yi[1]="on"+Yi[1],Ji>3&&Yi.pop()):Ji===3&&Yi.push(!1),Yi}function pi(ii,Yi){var Ji=ii.shift(),cr=[wt[Yi]];ge?Ji[cr](ii[0],ii[1]):Ji[cr].apply(Ji,ii)}return{add:function(){pi(Ht(arguments),"add")},remove:function(){pi(Ht(arguments),"remove")}}}(),oe={abort:Tr(function(){M._wD(this._s.id+": abort")}),canplay:Tr(function(){var ge,wt=this._s;if(!wt._html5_canplay){if(wt._html5_canplay=!0,M._wD(wt.id+": canplay"),wt._onbufferchange(0),ge=wt._iO.position===o||isNaN(wt._iO.position)?null:wt._iO.position/It,this.currentTime!==ge){M._wD(wt.id+": canplay: Setting position to "+ge);try{this.currentTime=ge}catch(Ht){M._wD(wt.id+": canplay: Setting position of "+ge+" failed: "+Ht.message,2)}}wt._iO._oncanplay&&wt._iO._oncanplay()}}),canplaythrough:Tr(function(){var ge=this._s;ge.loaded||(ge._onbufferchange(0),ge._whileloading(ge.bytesLoaded,ge.bytesTotal,ge._get_html5_duration()),ge._onload(!0))}),durationchange:Tr(function(){var ge,wt=this._s;ge=wt._get_html5_duration(),isNaN(ge)||ge===wt.duration||(M._wD(this._s.id+": durationchange ("+ge+")"+(wt.duration?", previously "+wt.duration:"")),wt.durationEstimate=wt.duration=ge)}),ended:Tr(function(){var ge=this._s;M._wD(ge.id+": ended"),ge._onfinish()}),error:Tr(function(){var ge=Te[this.error.code]||null;M._wD(this._s.id+": HTML5 error, code "+this.error.code+(ge?" ("+ge+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,ge)}),loadeddata:Tr(function(){var ge=this._s;M._wD(ge.id+": loadeddata"),ge._loaded||vi||(ge.duration=ge._get_html5_duration())}),loadedmetadata:Tr(function(){M._wD(this._s.id+": loadedmetadata")}),loadstart:Tr(function(){M._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:Tr(function(){this._s._onbufferchange(0)}),playing:Tr(function(){M._wD(this._s.id+": playing \u266B"),this._s._onbufferchange(0)}),progress:Tr(function(ge){var wt,Ht,pi,ii=this._s,Yi=0,Ji=ge.type==="progress",cr=ge.target.buffered,on=ge.loaded||0,un=ge.total||1;if(ii.buffered=[],cr&&cr.length){for(wt=0,Ht=cr.length;wt<Ht;wt++)ii.buffered.push({start:cr.start(wt)*It,end:cr.end(wt)*It});if(Yi=(cr.end(0)-cr.start(0))*It,on=Math.min(1,Yi/(ge.target.duration*It)),Ji&&cr.length>1){for(pi=[],Ht=cr.length,wt=0;wt<Ht;wt++)pi.push(ge.target.buffered.start(wt)*It+"-"+ge.target.buffered.end(wt)*It);M._wD(this._s.id+": progress, timeRanges: "+pi.join(", "))}Ji&&!isNaN(on)&&M._wD(this._s.id+": progress, "+Math.floor(100*on)+"% loaded")}isNaN(on)||(ii._whileloading(on,un,ii._get_html5_duration()),on&&un&&on===un&&oe.canplaythrough.call(this,ge))}),ratechange:Tr(function(){M._wD(this._s.id+": ratechange")}),suspend:Tr(function(ge){var wt=this._s;M._wD(this._s.id+": suspend"),oe.progress.call(this,ge),wt._onsuspend()}),stalled:Tr(function(){M._wD(this._s.id+": stalled")}),timeupdate:Tr(function(){this._s._onTimer()}),waiting:Tr(function(){var ge=this._s;M._wD(this._s.id+": waiting"),ge._onbufferchange(1)})},Ce=function(ge){return!(!ge||!(ge.type||ge.url||ge.serverURL))&&!(ge.serverURL||ge.type&&Oi(ge.type))&&(ge.type?Ue({type:ge.type}):Ue({url:ge.url})||M.html5Only||ge.url.match(/data:/i))},Me=function(ge){var wt;return ge&&(wt=vi?pr:M.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":pr,ge.src=wt,ge._called_unload!==o&&(ge._called_load=!1)),Nt&&(yt=null),wt},Ue=function(ge){if(!M.useHTML5Audio||!M.hasHTML5)return!1;var wt,Ht,pi,ii,Yi=ge.url||null,Ji=ge.type||null,cr=M.audioFormats;if(Ji&&M.html5[Ji]!==o)return M.html5[Ji]&&!Oi(Ji);if(!it){for(ii in it=[],cr)cr.hasOwnProperty(ii)&&(it.push(ii),cr[ii].related&&(it=it.concat(cr[ii].related)));it=new RegExp("\\.("+it.join("|")+")(\\?.*)?$","i")}return(pi=Yi?Yi.toLowerCase().match(it):null)&&pi.length?pi=pi[1]:Ji?pi=((Ht=Ji.indexOf(";"))!==-1?Ji.substr(0,Ht):Ji).substr(6):wt=!1,pi&&M.html5[pi]!==o?wt=M.html5[pi]&&!Oi(pi):(Ji="audio/"+pi,wt=M.html5.canPlayType({type:Ji}),M.html5[pi]=wt,wt=wt&&M.html5[Ji]&&!Oi(Ji)),wt},He=function(){if(!M.useHTML5Audio||!M.hasHTML5)return M.html5.usingFlash=!0,pt=!0,!1;var ge,wt,Ht,pi,ii=Audio!==o?nr&&opera.version()<10?new Audio(null):new Audio:null,Yi={};function Ji(cr){var on,un,Kr=!1,ae=!1;if(!ii||typeof ii.canPlayType!="function")return Kr;if(cr instanceof Array){for(pi=0,un=cr.length;pi<un;pi++)(M.html5[cr[pi]]||ii.canPlayType(cr[pi]).match(M.html5Test))&&(ae=!0,M.html5[cr[pi]]=!0,M.flash[cr[pi]]=!!cr[pi].match(Jr));Kr=ae}else Kr=!(!(on=!(!ii||typeof ii.canPlayType!="function")&&ii.canPlayType(cr))||!on.match(M.html5Test));return Kr}for(ge in Ht=M.audioFormats)if(Ht.hasOwnProperty(ge)&&(wt="audio/"+ge,Yi[ge]=Ji(Ht[ge].type),Yi[wt]=Yi[ge],ge.match(Jr)?(M.flash[ge]=!0,M.flash[wt]=!0):(M.flash[ge]=!1,M.flash[wt]=!1),Ht[ge]&&Ht[ge].related))for(pi=Ht[ge].related.length-1;pi>=0;pi--)Yi["audio/"+Ht[ge].related[pi]]=Yi[ge],M.html5[Ht[ge].related[pi]]=Yi[ge],M.flash[Ht[ge].related[pi]]=Yi[ge];return Yi.canPlayType=ii?Ji:null,M.html5=S(M.html5,Yi),M.html5.usingFlash=xe(),pt=M.html5.usingFlash,!0},G={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:Ge+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:vt+"Verify that %s is a valid path.",tryDebug:"Try "+Ge+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:vt+"Non-HTTP page ("+_e.location.protocol+` URL?) Review Flash player security settings for this special case:
http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html
May need to add/allow path, eg. c:/sm2/ or /users/me/sm2/`,waitFocus:vt+"Special case: Waiting for SWF to load with window focus...",waitForever:vt+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:vt+"Waiting for 100% SWF load...",needFunction:vt+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:vt+"_debug(): Current sound objects",waitOnload:vt+"Waiting for window.onload()",docLoaded:vt+"Document already loaded",onload:vt+"initComplete(): calling soundManager.onload()",onloadOK:Ge+".onload() complete",didInit:vt+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:vt+"Failed to remove Flash node.",shutdown:Ge+".disable(): Shutting down",queue:vt+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+De.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:vt+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:Ge+".load(): current URL already assigned.",badFV:Ge+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:vt+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:vt+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:Ge+".setup(): allowed parameters: %s",setupError:Ge+'.setup(): "%s" cannot be assigned with this method.',setupUndef:Ge+'.setup(): Could not find option "%s"',setupLate:Ge+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:vt+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. \u2713",reset:Ge+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},Ae=function(){var ge,wt,Ht,pi,ii;if(pi=(ge=Ct.call(arguments)).shift(),(ii=G&&G[pi]?G[pi]:"")&&ge&&ge.length)for(wt=0,Ht=ge.length;wt<Ht;wt++)ii=ii.replace("%s",ge[wt]);return ii},de=function(ge){return k===8&&ge.loops>1&&ge.stream&&(C("as2loop"),ge.stream=!1),ge},Xe=function(ge,wt){return ge&&!ge.usePolicyFile&&(ge.onid3||ge.usePeakData||ge.useWaveformData||ge.useEQData)&&(M._wD((wt||"")+Ae("policy")),ge.usePolicyFile=!0),ge},ht=function(ge){xi&&console.warn!==o?console.warn(ge):M._wD(ge)},v=function(){return!1},W=function(ge){var wt;for(wt in ge)ge.hasOwnProperty(wt)&&typeof ge[wt]=="function"&&(ge[wt]=v);wt=null},V=function(ge){ge===o&&(ge=!1),(Rt||ge)&&M.disable(ge)},se=function(ge){var wt;if(ge)if(ge.match(/\.swf(\?.*)?$/i)){if(ge.substr(ge.toLowerCase().lastIndexOf(".swf?")+4))return ge}else ge.lastIndexOf("/")!==ge.length-1&&(ge+="/");return wt=(ge&&ge.lastIndexOf("/")!==-1?ge.substr(0,ge.lastIndexOf("/")+1):"./")+M.movieURL,M.noSWFCache&&(wt+="?ts="+new Date().getTime()),wt},j=function(){(k=parseInt(M.flashVersion,10))!==8&&k!==9&&(M._wD(Ae("badFV",k,8)),M.flashVersion=k=8);var ge=M.debugMode||M.debugFlash?"_debug.swf":".swf";M.useHTML5Audio&&!M.html5Only&&M.audioFormats.mp4.required&&k<9&&(M._wD(Ae("needfl9")),M.flashVersion=k=9),M.version=M.versionNumber+(M.html5Only?" (HTML5-only mode)":k===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),k>8?(M.defaultOptions=S(M.defaultOptions,M.flash9Options),M.features.buffering=!0,M.defaultOptions=S(M.defaultOptions,M.movieStarOptions),M.filePatterns.flash9=new RegExp("\\.(mp3|"+Ii.join("|")+")(\\?.*)?$","i"),M.features.movieStar=!0):M.features.movieStar=!1,M.filePattern=M.filePatterns[k!==8?"flash9":"flash8"],M.movieURL=(k===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",ge),M.features.peakData=M.features.waveformData=M.features.eqData=k>8},ne=function(ge,wt){he&&he._setPolling(ge,wt)},ie=function(){if(M.debugURLParam.test(ce)&&(M.setupOptions.debugMode=M.debugMode=!0),!p(M.debugID)){var ge,wt,Ht,pi,ii;if(M.debugMode&&!p(M.debugID)&&(!xi||!M.useConsole||!M.consoleOnly)){for(ii in(ge=_e.createElement("div")).id=M.debugID+"-toggle",pi={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},ge.appendChild(_e.createTextNode("-")),ge.onclick=Se,ge.title="Toggle SM2 debug console",kt.match(/msie 6/i)&&(ge.style.position="absolute",ge.style.cursor="hand"),pi)pi.hasOwnProperty(ii)&&(ge.style[ii]=pi[ii]);if((wt=_e.createElement("div")).id=M.debugID,wt.style.display=M.debugMode?"block":"none",M.debugMode&&!p(ge.id)){try{(Ht=D()).appendChild(ge)}catch(Yi){throw new Error(Ae("domError")+` 
`+Yi.toString())}Ht.appendChild(wt)}}Ht=null}},nt=this.getSoundById,C=function(ge,wt){return ge?M._wD(Ae(ge),wt):""},Se=function(){var ge=p(M.debugID),wt=p(M.debugID+"-toggle");ge&&(st?(wt.innerHTML="+",ge.style.display="none"):(wt.innerHTML="-",ge.style.display="block"),st=!st)},A=function(ge,wt,Ht){if(l.sm2Debugger!==o)try{sm2Debugger.handleEvent(ge,wt,Ht)}catch(pi){return!1}return!0},je=function(){var ge=[];return M.debugMode&&ge.push(De.sm2Debug),M.debugFlash&&ge.push(De.flashDebug),M.useHighPerformance&&ge.push(De.highPerf),ge.join(" ")},Oe=function(){var ge=Ae("fbHandler"),wt=M.getMoviePercent(),Ht=De,pi={type:"FLASHBLOCK"};M.html5Only||(M.ok()?(M.didFlashBlock&&M._wD(ge+": Unblocked"),M.oMC&&(M.oMC.className=[je(),Ht.swfDefault,Ht.swfLoaded+(M.didFlashBlock?" "+Ht.swfUnblocked:"")].join(" "))):(pt&&(M.oMC.className=je()+" "+Ht.swfDefault+" "+(wt===null?Ht.swfTimedout:Ht.swfError),M._wD(ge+": "+Ae("fbTimeout")+(wt?" ("+Ae("fbLoaded")+")":""))),M.didFlashBlock=!0,m({type:"ontimeout",ignoreInit:!0,error:pi}),Q(pi)))},g=function(ge,wt,Ht){Re[ge]===o&&(Re[ge]=[]),Re[ge].push({method:wt,scope:Ht||null,fired:!1})},m=function(ge){if(ge||(ge={type:M.ok()?"onready":"ontimeout"}),!Bt&&ge&&!ge.ignoreInit||ge.type==="ontimeout"&&(M.ok()||Rt&&!ge.ignoreInit))return!1;var wt,Ht,pi={success:ge&&ge.ignoreInit?M.ok():!Rt},ii=ge&&ge.type&&Re[ge.type]||[],Yi=[],Ji=[pi],cr=pt&&!M.ok();for(ge.error&&(Ji[0].error=ge.error),wt=0,Ht=ii.length;wt<Ht;wt++)ii[wt].fired!==!0&&Yi.push(ii[wt]);if(Yi.length)for(wt=0,Ht=Yi.length;wt<Ht;wt++)Yi[wt].scope?Yi[wt].method.apply(Yi[wt].scope,Ji):Yi[wt].method.apply(this,Ji),cr||(Yi[wt].fired=!0);return!0},b=function(){l.setTimeout(function(){M.useFlashBlock&&Oe(),m(),typeof M.onload=="function"&&(C("onload",1),M.onload.apply(l),C("onloadOK",1)),M.waitForWindowLoad&&We.add(l,"load",b)},1)},Ft=function(){if(Ot!==o)return Ot;var ge,wt,Ht,pi,ii=!1,Yi=navigator,Ji=l.ActiveXObject;try{pi=Yi.plugins}catch(cr){pi=void 0}if(pi&&pi.length)wt="application/x-shockwave-flash",(Ht=Yi.mimeTypes)&&Ht[wt]&&Ht[wt].enabledPlugin&&Ht[wt].enabledPlugin.description&&(ii=!0);else if(Ji!==o&&!kt.match(/MSAppHost/i)){try{ge=new Ji("ShockwaveFlash.ShockwaveFlash")}catch(cr){ge=null}ii=!!ge,ge=null}return Ot=ii,ii},xe=function(){var ge,wt,Ht=M.audioFormats;if(Dt&&kt.match(/os (1|2|3_0|3_1)\s/i)?(M.hasHTML5=!1,M.html5Only=!0,M.oMC&&(M.oMC.style.display="none")):M.useHTML5Audio&&(M.html5&&M.html5.canPlayType||(M._wD("SoundManager: No HTML5 Audio() support detected."),M.hasHTML5=!1),Ri&&M._wD(vt+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(Ot?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),M.useHTML5Audio&&M.hasHTML5)for(wt in tt=!0,Ht)Ht.hasOwnProperty(wt)&&Ht[wt].required&&(M.html5.canPlayType(Ht[wt].type)?M.preferFlash&&(M.flash[wt]||M.flash[Ht[wt].type])&&(ge=!0):(tt=!1,ge=!0));return M.ignoreFlash&&(ge=!1,tt=!0),M.html5Only=M.hasHTML5&&M.useHTML5Audio&&!ge,!M.html5Only},pe=function(ge){var wt,Ht,pi,ii=0;if(ge instanceof Array){for(wt=0,Ht=ge.length;wt<Ht;wt++)if(ge[wt]instanceof Object){if(M.canPlayMIME(ge[wt].type)){ii=wt;break}}else if(M.canPlayURL(ge[wt])){ii=wt;break}ge[ii].url&&(ge[ii]=ge[ii].url),pi=ge[ii]}else pi=ge;return pi},lt=function(ge){ge._hasTimer||(ge._hasTimer=!0,!Li&&M.html5PollingInterval&&(at===null&&dt===0&&(at=setInterval(ve,M.html5PollingInterval)),dt++))},ot=function(ge){ge._hasTimer&&(ge._hasTimer=!1,!Li&&M.html5PollingInterval&&dt--)},ve=function(){var ge;if(at!==null&&!dt)return clearInterval(at),void(at=null);for(ge=M.soundIDs.length-1;ge>=0;ge--)M.sounds[M.soundIDs[ge]].isHTML5&&M.sounds[M.soundIDs[ge]]._hasTimer&&M.sounds[M.soundIDs[ge]]._onTimer()},Q=function(ge){ge=ge!==o?ge:{},typeof M.onerror=="function"&&M.onerror.apply(l,[{type:ge.type!==o?ge.type:null}]),ge.fatal!==o&&ge.fatal&&M.disable()},rt=function(){if(Ri&&Ft()){var ge,wt,Ht=M.audioFormats;for(wt in Ht)if(Ht.hasOwnProperty(wt)&&(wt==="mp3"||wt==="mp4")&&(M._wD(Ge+": Using flash fallback for "+wt+" format"),M.html5[wt]=!1,Ht[wt]&&Ht[wt].related))for(ge=Ht[wt].related.length-1;ge>=0;ge--)M.html5[Ht[wt].related[ge]]=!1}},this._setSandboxType=function(ge){var wt=M.sandbox;wt.type=ge,wt.description=wt.types[wt.types[ge]!==o?ge:"unknown"],wt.type==="localWithFile"?(wt.noRemote=!0,wt.noLocal=!1,C("secNote",2)):wt.type==="localWithNetwork"?(wt.noRemote=!1,wt.noLocal=!0):wt.type==="localTrusted"&&(wt.noRemote=!1,wt.noLocal=!1)},this._externalInterfaceOK=function(ge){if(!M.swfLoaded){var wt;if(A("swf",!0),A("flashtojs",!0),M.swfLoaded=!0,wi=!1,Ri&&rt(),!ge||ge.replace(/\+dev/i,"")!==M.versionNumber.replace(/\+dev/i,""))return wt=Ge+': Fatal: JavaScript file build "'+M.versionNumber+'" does not match Flash SWF build "'+ge+'" at '+M.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(wt)},0);setTimeout(w,ui?100:1)}},J=function(ge,wt){if(xt&&Mt)return!1;function Ht(){var ni,Xi=[],Wi=[];ni="SoundManager "+M.version+(!M.html5Only&&M.useHTML5Audio?M.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),M.html5Only?M.html5PollingInterval&&Xi.push("html5PollingInterval ("+M.html5PollingInterval+"ms)"):(M.preferFlash&&Xi.push("preferFlash"),M.useHighPerformance&&Xi.push("useHighPerformance"),M.flashPollingInterval&&Xi.push("flashPollingInterval ("+M.flashPollingInterval+"ms)"),M.html5PollingInterval&&Xi.push("html5PollingInterval ("+M.html5PollingInterval+"ms)"),M.wmode&&Xi.push("wmode ("+M.wmode+")"),M.debugFlash&&Xi.push("debugFlash"),M.useFlashBlock&&Xi.push("flashBlock")),Xi.length&&(Wi=Wi.concat([Xi.join(" + ")])),M._wD(ni+(Wi.length?" + "+Wi.join(", "):""),1),Pe()}if(M.html5Only)return j(),Ht(),M.oMC=p(M.movieID),w(),xt=!0,Mt=!0,!1;var pi,ii,Yi,Ji,cr,on,un,Kr,ae,ro=wt||M.url,Dn=M.altURL||ro,Fn=D(),Mn=je(),Zt=_e.getElementsByTagName("html")[0];function di(ni,Xi){return'<param name="'+ni+'" value="'+Xi+'" />'}if(pi=Zt&&Zt.dir&&Zt.dir.match(/rtl/i),ge=ge===o?M.id:ge,j(),M.url=se(Gi?ro:Dn),wt=M.url,M.wmode=!M.wmode&&M.useHighPerformance?"transparent":M.wmode,M.wmode!==null&&(kt.match(/msie 8/i)||!ui&&!M.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Fe.push(G.spcWmode),M.wmode=null),ii={name:ge,id:ge,src:wt,quality:"high",allowScriptAccess:M.allowScriptAccess,bgcolor:M.bgColor,pluginspage:Dr+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:M.wmode,hasPriority:"true"},M.debugFlash&&(ii.FlashVars="debug=1"),M.wmode||delete ii.wmode,ui)Yi=_e.createElement("div"),cr=['<object id="'+ge+'" data="'+wt+'" type="'+ii.type+'" title="'+ii.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',di("movie",wt),di("AllowScriptAccess",M.allowScriptAccess),di("quality",ii.quality),M.wmode?di("wmode",M.wmode):"",di("bgcolor",M.bgColor),di("hasPriority","true"),M.debugFlash?di("FlashVars",ii.FlashVars):"","</object>"].join("");else for(Ji in Yi=_e.createElement("embed"),ii)ii.hasOwnProperty(Ji)&&Yi.setAttribute(Ji,ii[Ji]);if(ie(),Mn=je(),Fn=D())if(M.oMC=p(M.movieID)||_e.createElement("div"),M.oMC.id)ae=M.oMC.className,M.oMC.className=(ae?ae+" ":De.swfDefault)+(Mn?" "+Mn:""),M.oMC.appendChild(Yi),ui&&((on=M.oMC.appendChild(_e.createElement("div"))).className=De.swfBox,on.innerHTML=cr),Mt=!0;else{if(M.oMC.id=M.movieID,M.oMC.className=De.swfDefault+" "+Mn,un=null,on=null,M.useFlashBlock||(M.useHighPerformance?un={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(un={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},pi&&(un.left=Math.abs(parseInt(un.left,10))+"px"))),ki&&(M.oMC.style.zIndex=1e4),!M.debugFlash)for(Kr in un)un.hasOwnProperty(Kr)&&(M.oMC.style[Kr]=un[Kr]);try{ui||M.oMC.appendChild(Yi),Fn.appendChild(M.oMC),ui&&((on=M.oMC.appendChild(_e.createElement("div"))).className=De.swfBox,on.innerHTML=cr),Mt=!0}catch(ni){throw new Error(Ae("domError")+` 
`+ni.toString())}}return xt=!0,Ht(),!0},q=function(){return M.html5Only?(J(),!1):!he&&(M.url?((he=M.getMovie(M.id))||(ze?(ui?M.oMC.innerHTML=Ye:M.oMC.appendChild(ze),ze=null,xt=!0):J(M.id,M.url),he=M.getMovie(M.id)),typeof M.oninitmovie=="function"&&setTimeout(M.oninitmovie,1),Ze(),!0):(C("noURL"),!1))},_=function(){setTimeout(E,1e3)},R=function(){l.setTimeout(function(){ht(vt+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),M.setup({preferFlash:!1}).reboot(),M.didFlashBlock=!0,M.beginDelayedInit()},1)},E=function(){var ge,wt=!1;M.url&&(ut||(ut=!0,We.remove(l,"load",_),Ot&&wi&&!ai?C("waitFocus"):(Bt||(ge=M.getMoviePercent())>0&&ge<100&&(wt=!0),setTimeout(function(){if(ge=M.getMoviePercent(),wt)return ut=!1,M._wD(Ae("waitSWF")),void l.setTimeout(_,1);Bt||(M._wD(Ge+": No Flash response within expected time. Likely causes: "+(ge===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(M.debugFlash?" "+Ae("checkSWF"):""),2),!Gi&&ge&&(C("localFail",2),M.debugFlash||C("tryDebug",2)),ge===0&&M._wD(Ae("swf404",M.url),1),A("flashtojs",!1,": Timed out"+(Gi?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Bt&&_r&&(ge===null?M.useFlashBlock||M.flashLoadTimeout===0?(M.useFlashBlock&&Oe(),C("waitForever")):!M.useFlashBlock&&tt?R():(C("waitForever"),m({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):M.flashLoadTimeout===0?C("waitForever"):!M.useFlashBlock&&tt?R():V(!0))},M.flashLoadTimeout))))},H=function(){function ge(){We.remove(l,"focus",H)}return ai||!wi?(ge(),!0):(_r=!0,ai=!0,C("gotFocus"),ut=!1,_(),ge(),!0)},Ze=function(){Fe.length&&(M._wD("SoundManager 2: "+Fe.join(" "),1),Fe=[])},Pe=function(){Ze();var ge,wt=[];if(M.useHTML5Audio&&M.hasHTML5){for(ge in M.audioFormats)M.audioFormats.hasOwnProperty(ge)&&wt.push(ge+" = "+M.html5[ge]+(!M.html5[ge]&&pt&&M.flash[ge]?" (using flash)":M.preferFlash&&M.flash[ge]&&pt?" (preferring flash)":M.html5[ge]?"":" ("+(M.audioFormats[ge].required?"required, ":"")+"and no flash support)"));M._wD("SoundManager 2 HTML5 support: "+wt.join(", "),1)}},x=function(ge){if(Bt)return!1;if(M.html5Only)return C("sm2Loaded",1),Bt=!0,b(),A("onload",!0),!0;var wt,Ht=!0;return M.useFlashBlock&&M.flashLoadTimeout&&!M.getMoviePercent()||(Bt=!0),wt={type:!Ot&&pt?"NO_FLASH":"INIT_TIMEOUT"},M._wD("SoundManager 2 "+(Rt?"failed to load":"loaded")+" ("+(Rt?"Flash security/load error":"OK")+") "+String.fromCharCode(Rt?10006:10003),Rt?2:1),Rt||ge?(M.useFlashBlock&&M.oMC&&(M.oMC.className=je()+" "+(M.getMoviePercent()===null?De.swfTimedout:De.swfError)),m({type:"ontimeout",error:wt,ignoreInit:!0}),A("onload",!1),Q(wt),Ht=!1):A("onload",!0),Rt||(M.waitForWindowLoad&&!qt?(C("waitOnload"),We.add(l,"load",b)):(M.waitForWindowLoad&&qt&&C("docLoaded"),b())),Ht},y=function(){var ge,wt=M.setupOptions;for(ge in wt)wt.hasOwnProperty(ge)&&(M[ge]===o?M[ge]=wt[ge]:M[ge]!==wt[ge]&&(M.setupOptions[ge]=M[ge]))},w=function(){if(Bt)return C("didInit"),!1;function ge(){We.remove(l,"load",M.beginDelayedInit)}if(M.html5Only)return Bt||(ge(),M.enabled=!0,x()),!0;q();try{he._externalInterfaceTest(!1),ne(!0,M.flashPollingInterval||(M.useHighPerformance?10:50)),M.debugMode||he._disableDebug(),M.enabled=!0,A("jstoflash",!0),M.html5Only||We.add(l,"unload",v)}catch(wt){return M._wD("js/flash exception: "+wt.toString()),A("jstoflash",!1),Q({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),x(),!1}return x(),ge(),!0},K=function(){return!te&&(te=!0,y(),ie(),!Ot&&M.hasHTML5&&(M._wD("SoundManager 2: No Flash detected"+(M.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),M.setup({useHTML5Audio:!0,preferFlash:!1})),He(),!Ot&&pt&&(Fe.push(G.needFlash),M.setup({flashLoadTimeout:1})),_e.removeEventListener&&_e.removeEventListener("DOMContentLoaded",K,!1),q(),!0)},mt=function(){return _e.readyState==="complete"&&(K(),_e.detachEvent("onreadystatechange",mt)),!0},ue=function(){qt=!0,K(),We.remove(l,"load",ue)},Ft(),We.add(l,"focus",H),We.add(l,"load",_),We.add(l,"load",ue),_e.addEventListener?_e.addEventListener("DOMContentLoaded",K,!1):_e.attachEvent?_e.attachEvent("onreadystatechange",mt):(A("onload",!1),Q({type:"NO_DOM2_EVENTS",fatal:!0}))}l.SM2_DEFER!==o&&SM2_DEFER||(u=new n),e&&typeof e.exports=="object"?(e.exports.SoundManager=n,e.exports.soundManager=u):(a=function(){return{constructor:n,getInstance:function(c){if(!l.soundManager&&c instanceof Function){var d=c(n);d instanceof n&&(l.soundManager=d)}return l.soundManager}}}.call(t,r,t,e))===void 0||(e.exports=a),l.SoundManager=n,l.soundManager=u}(window)},2762:function(e,t,r){"use strict";var a=r(6518),l=r(3802).trim;a({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},3638:function(e,t,r){"use strict";r(2675),r(9463),r(2259),r(5700),r(8706),r(2008),r(113),r(3418),r(3792),r(8598),r(2062),r(4782),r(6910),r(9572),r(2010),r(8130),r(9085),r(5506),r(3851),r(1278),r(875),r(9432),r(6099),r(8459),r(3362),r(825),r(888),r(7495),r(8781),r(7764),r(1761),r(1392),r(3500),r(2953),r(5440);var a=r(9073),l=r(1669);function o(Be){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},o(Be)}function u(){var Be,me,ze=typeof Symbol=="function"?Symbol:{},Ye=ze.iterator||"@@iterator",ut=ze.toStringTag||"@@toStringTag";function ft(It,Dt,Et,ui){var ki=Dt&&Dt.prototype instanceof at?Dt:at,vi=Object.create(ki.prototype);return n(vi,"_invoke",function(nr,Li,Ri){var xi,ai,wi,_r=0,Jr=Ri||[],pr=!1,Gi={p:0,n:0,v:Be,a:Dr,f:Dr.bind(Be,4),d:function(ji,Ii){return xi=ji,ai=0,wi=Be,Gi.n=Ii,dt}};function Dr(ji,Ii){for(ai=ji,wi=Ii,me=0;!pr&&_r&&!ar&&me<Jr.length;me++){var ar,Oi=Jr[me],Tr=Gi.p,ge=Oi[2];ji>3?(ar=ge===Ii)&&(wi=Oi[(ai=Oi[4])?5:(ai=3,3)],Oi[4]=Oi[5]=Be):Oi[0]<=Tr&&((ar=ji<2&&Tr<Oi[1])?(ai=0,Gi.v=Ii,Gi.n=Oi[1]):Tr<ge&&(ar=ji<3||Oi[0]>Ii||Ii>ge)&&(Oi[4]=ji,Oi[5]=Ii,Gi.n=ge,ai=0))}if(ar||ji>1)return dt;throw pr=!0,Ii}return function(ji,Ii,ar){if(_r>1)throw TypeError("Generator is already running");for(pr&&Ii===1&&Dr(Ii,ar),ai=Ii,wi=ar;(me=ai<2?Be:wi)||!pr;){xi||(ai?ai<3?(ai>1&&(Gi.n=-1),Dr(ai,wi)):Gi.n=wi:Gi.v=wi);try{if(_r=2,xi){if(ai||(ji="next"),me=xi[ji]){if(!(me=me.call(xi,wi)))throw TypeError("iterator result is not an object");if(!me.done)return me;wi=me.value,ai<2&&(ai=0)}else ai===1&&(me=xi.return)&&me.call(xi),ai<2&&(wi=TypeError("The iterator does not provide a '"+ji+"' method"),ai=1);xi=Be}else if((me=(pr=Gi.n<0)?wi:nr.call(Li,Gi))!==dt)break}catch(Oi){xi=Be,ai=1,wi=Oi}finally{_r=1}}return{value:me,done:pr}}}(It,Et,ui),!0),vi}var dt={};function at(){}function Fe(){}function pt(){}me=Object.getPrototypeOf;var Ct=[][Ye]?me(me([][Ye]())):(n(me={},Ye,function(){return this}),me),Nt=pt.prototype=at.prototype=Object.create(Ct);function ke(It){return Object.setPrototypeOf?Object.setPrototypeOf(It,pt):(It.__proto__=pt,n(It,ut,"GeneratorFunction")),It.prototype=Object.create(Nt),It}return Fe.prototype=pt,n(Nt,"constructor",pt),n(pt,"constructor",Fe),Fe.displayName="GeneratorFunction",n(pt,ut,"GeneratorFunction"),n(Nt),n(Nt,ut,"Generator"),n(Nt,Ye,function(){return this}),n(Nt,"toString",function(){return"[object Generator]"}),(u=function(){return{w:ft,m:ke}})()}function n(Be,me,ze,Ye){var ut=Object.defineProperty;try{ut({},"",{})}catch(ft){ut=0}n=function(ft,dt,at,Fe){function pt(Ct,Nt){n(ft,Ct,function(ke){return this._invoke(Ct,Nt,ke)})}dt?ut?ut(ft,dt,{value:at,enumerable:!Fe,configurable:!Fe,writable:!Fe}):ft[dt]=at:(pt("next",0),pt("throw",1),pt("return",2))},n(Be,me,ze,Ye)}function c(Be,me){return function(ze){if(Array.isArray(ze))return ze}(Be)||function(ze,Ye){var ut=ze==null?null:typeof Symbol<"u"&&ze[Symbol.iterator]||ze["@@iterator"];if(ut!=null){var ft,dt,at,Fe,pt=[],Ct=!0,Nt=!1;try{if(at=(ut=ut.call(ze)).next,Ye===0){if(Object(ut)!==ut)return;Ct=!1}else for(;!(Ct=(ft=at.call(ut)).done)&&(pt.push(ft.value),pt.length!==Ye);Ct=!0);}catch(ke){Nt=!0,dt=ke}finally{try{if(!Ct&&ut.return!=null&&(Fe=ut.return(),Object(Fe)!==Fe))return}finally{if(Nt)throw dt}}return pt}}(Be,me)||f(Be,me)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(Be,me){var ze=typeof Symbol<"u"&&Be[Symbol.iterator]||Be["@@iterator"];if(!ze){if(Array.isArray(Be)||(ze=f(Be))||me&&Be&&typeof Be.length=="number"){ze&&(Be=ze);var Ye=0,ut=function(){};return{s:ut,n:function(){return Ye>=Be.length?{done:!0}:{done:!1,value:Be[Ye++]}},e:function(Fe){throw Fe},f:ut}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ft,dt=!0,at=!1;return{s:function(){ze=ze.call(Be)},n:function(){var Fe=ze.next();return dt=Fe.done,Fe},e:function(Fe){at=!0,ft=Fe},f:function(){try{dt||ze.return==null||ze.return()}finally{if(at)throw ft}}}}function f(Be,me){if(Be){if(typeof Be=="string")return p(Be,me);var ze={}.toString.call(Be).slice(8,-1);return ze==="Object"&&Be.constructor&&(ze=Be.constructor.name),ze==="Map"||ze==="Set"?Array.from(Be):ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze)?p(Be,me):void 0}}function p(Be,me){(me==null||me>Be.length)&&(me=Be.length);for(var ze=0,Ye=Array(me);ze<me;ze++)Ye[ze]=Be[ze];return Ye}function v(Be,me,ze,Ye,ut,ft,dt){try{var at=Be[ft](dt),Fe=at.value}catch(pt){return void ze(pt)}at.done?me(Fe):Promise.resolve(Fe).then(Ye,ut)}function y(Be,me){for(var ze=0;ze<me.length;ze++){var Ye=me[ze];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Be,w(Ye.key),Ye)}}function w(Be){var me=function(ze){if(o(ze)!="object"||!ze)return ze;var Ye=ze[Symbol.toPrimitive];if(Ye!==void 0){var ut=Ye.call(ze,"string");if(o(ut)!="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)}(Be);return o(me)=="symbol"?me:me+""}var k=function(){function Be(ft,dt,at,Fe){(function(pt,Ct){if(!(pt instanceof Ct))throw new TypeError("Cannot call a class as a function")})(this,Be),this.leafIndex=ft,this.chunkIndex=dt,this.text=at,this.lineRects=Fe}return me=Be,ze=[{key:"fetch",value:(Ye=u().m(function ft(dt,at){var Fe,pt,Ct,Nt,ke,It,Dt,Et,ui,ki,vi,nr;return u().w(function(Li){for(;;)switch(Li.n){case 0:if((Fe=window.br.plugins.translate)===null||Fe===void 0||!Fe.translationManager.active){Li.n=2;break}return Li.n=1,window.br.plugins.translate.getTranslateLayers(at);case 1:pt=Li.v,Ct=Array.from(pt[0].childNodes),Nt=[],ke=d(Ct.entries());try{for(ke.s();!(It=ke.n()).done;)Dt=c(It.value,2),Et=Dt[0],(ui=Dt[1]).classList.contains("ocr-role-header-footer")||(ki=new Be(at,Et,ui.textContent,[]),Nt.push(ki))}catch(Ri){ke.e(Ri)}finally{ke.f()}return Nt.length===0&&(vi=new Be(at,0,"",[]),Nt.push(vi)),Li.a(2,Nt);case 2:return Li.n=3,l.ajax({type:"GET",url:(0,a.g)(dt,{pageIndex:at}),cache:!0,xhrFields:{withCredentials:window.br.protected}});case 3:return nr=Li.v,Li.a(2,Be._fromTextWrapperResponse(at,nr));case 4:return Li.a(2)}},ft)}),ut=function(){var ft=this,dt=arguments;return new Promise(function(at,Fe){var pt=Ye.apply(ft,dt);function Ct(ke){v(pt,at,Fe,Ct,Nt,"next",ke)}function Nt(ke){v(pt,at,Fe,Ct,Nt,"throw",ke)}Ct(void 0)})},function(ft,dt){return ut.apply(this,arguments)})},{key:"_fromTextWrapperResponse",value:function(ft,dt){return dt.map(function(at,Fe){var pt=Be._fixChunkRects(at.slice(1)),Ct=Be._removeDanglingHyphens(at[0]);return new Be(ft,Fe,Ct,pt)})}},{key:"_fixChunkRects",value:function(ft){if(ft.length<2)return ft;var dt=c(ft,2),at=dt[0],Fe=dt[1],pt=c(at,3),Ct=pt[0],Nt=pt[1],ke=pt[2]-Ct,It=Fe[1]-Fe[3],Dt=Fe[2]-Fe[0],Et=Fe[2];return ke>30*Dt&&(at[2]=Et,at[3]=Nt-It),ft}},{key:"_removeDanglingHyphens",value:function(ft){return ft.replace(/[-]\s+/g,"")}}],ze&&y(me,ze),Object.defineProperty(me,"prototype",{writable:!1}),me;var me,ze,Ye,ut}();function A(Be){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},A(Be)}function C(){var Be,me,ze=typeof Symbol=="function"?Symbol:{},Ye=ze.iterator||"@@iterator",ut=ze.toStringTag||"@@toStringTag";function ft(It,Dt,Et,ui){var ki=Dt&&Dt.prototype instanceof at?Dt:at,vi=Object.create(ki.prototype);return x(vi,"_invoke",function(nr,Li,Ri){var xi,ai,wi,_r=0,Jr=Ri||[],pr=!1,Gi={p:0,n:0,v:Be,a:Dr,f:Dr.bind(Be,4),d:function(ji,Ii){return xi=ji,ai=0,wi=Be,Gi.n=Ii,dt}};function Dr(ji,Ii){for(ai=ji,wi=Ii,me=0;!pr&&_r&&!ar&&me<Jr.length;me++){var ar,Oi=Jr[me],Tr=Gi.p,ge=Oi[2];ji>3?(ar=ge===Ii)&&(wi=Oi[(ai=Oi[4])?5:(ai=3,3)],Oi[4]=Oi[5]=Be):Oi[0]<=Tr&&((ar=ji<2&&Tr<Oi[1])?(ai=0,Gi.v=Ii,Gi.n=Oi[1]):Tr<ge&&(ar=ji<3||Oi[0]>Ii||Ii>ge)&&(Oi[4]=ji,Oi[5]=Ii,Gi.n=ge,ai=0))}if(ar||ji>1)return dt;throw pr=!0,Ii}return function(ji,Ii,ar){if(_r>1)throw TypeError("Generator is already running");for(pr&&Ii===1&&Dr(Ii,ar),ai=Ii,wi=ar;(me=ai<2?Be:wi)||!pr;){xi||(ai?ai<3?(ai>1&&(Gi.n=-1),Dr(ai,wi)):Gi.n=wi:Gi.v=wi);try{if(_r=2,xi){if(ai||(ji="next"),me=xi[ji]){if(!(me=me.call(xi,wi)))throw TypeError("iterator result is not an object");if(!me.done)return me;wi=me.value,ai<2&&(ai=0)}else ai===1&&(me=xi.return)&&me.call(xi),ai<2&&(wi=TypeError("The iterator does not provide a '"+ji+"' method"),ai=1);xi=Be}else if((me=(pr=Gi.n<0)?wi:nr.call(Li,Gi))!==dt)break}catch(Oi){xi=Be,ai=1,wi=Oi}finally{_r=1}}return{value:me,done:pr}}}(It,Et,ui),!0),vi}var dt={};function at(){}function Fe(){}function pt(){}me=Object.getPrototypeOf;var Ct=[][Ye]?me(me([][Ye]())):(x(me={},Ye,function(){return this}),me),Nt=pt.prototype=at.prototype=Object.create(Ct);function ke(It){return Object.setPrototypeOf?Object.setPrototypeOf(It,pt):(It.__proto__=pt,x(It,ut,"GeneratorFunction")),It.prototype=Object.create(Nt),It}return Fe.prototype=pt,x(Nt,"constructor",pt),x(pt,"constructor",Fe),Fe.displayName="GeneratorFunction",x(pt,ut,"GeneratorFunction"),x(Nt),x(Nt,ut,"Generator"),x(Nt,Ye,function(){return this}),x(Nt,"toString",function(){return"[object Generator]"}),(C=function(){return{w:ft,m:ke}})()}function x(Be,me,ze,Ye){var ut=Object.defineProperty;try{ut({},"",{})}catch(ft){ut=0}x=function(ft,dt,at,Fe){function pt(Ct,Nt){x(ft,Ct,function(ke){return this._invoke(Ct,Nt,ke)})}dt?ut?ut(ft,dt,{value:at,enumerable:!Fe,configurable:!Fe,writable:!Fe}):ft[dt]=at:(pt("next",0),pt("throw",1),pt("return",2))},x(Be,me,ze,Ye)}function S(Be,me,ze,Ye,ut,ft,dt){try{var at=Be[ft](dt),Fe=at.value}catch(pt){return void ze(pt)}at.done?me(Fe):Promise.resolve(Fe).then(Ye,ut)}function s(Be,me){for(var ze=0;ze<me.length;ze++){var Ye=me[ze];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Be,h(Ye.key),Ye)}}function h(Be){var me=function(ze){if(A(ze)!="object"||!ze)return ze;var Ye=ze[Symbol.toPrimitive];if(Ye!==void 0){var ut=Ye.call(ze,"string");if(A(ut)!="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)}(Be);return A(me)=="symbol"?me:me+""}var g=function(){function Be(ft,dt,at){(function(Fe,pt){if(!(Fe instanceof pt))throw new TypeError("Cannot call a class as a function")})(this,Be),this.pageCount=ft,this.opts=Object.assign({},m,at),this._cursor={page:dt,chunk:0},this._bufferedPages={},this._bufferingPages={},this._cursorLock=Promise.resolve()}return me=Be,ze=[{key:"next",value:function(){var ft=this;return this._cursorLock=this._cursorLock.then(function(){return ft._nextUncontrolled()})}},{key:"decrement",value:function(){var ft=this;return this._cursorLock=this._cursorLock.then(function(){return ft._decrementUncontrolled()})}},{key:"_nextUncontrolled",value:(Ye=C().m(function ft(){var dt;return C().w(function(at){for(;;)switch(at.n){case 0:if(this._cursor.page!=this.pageCount){at.n=1;break}return at.a(2,Promise.resolve(Be.AT_END));case 1:return this._recenterBuffer(this._cursor.page),at.n=2,this._fetchPageChunks(this._cursor.page);case 2:if(dt=at.v,this._cursor.chunk!=dt.length){at.n=3;break}return this._cursor.page++,this._cursor.chunk=0,at.a(2,this._nextUncontrolled());case 3:return at.a(2,dt[this._cursor.chunk++])}},ft,this)}),ut=function(){var ft=this,dt=arguments;return new Promise(function(at,Fe){var pt=Ye.apply(ft,dt);function Ct(ke){S(pt,at,Fe,Ct,Nt,"next",ke)}function Nt(ke){S(pt,at,Fe,Ct,Nt,"throw",ke)}Ct(void 0)})},function(){return ut.apply(this,arguments)})},{key:"_decrementUncontrolled",value:function(){var ft=this,dt=Promise.resolve();return this._cursor.chunk>0?this._cursor.chunk--:this._cursor.page>0&&(this._cursor.page--,dt=this._fetchPageChunks(this._cursor.page).then(function(at){if(at.length==0)return ft._decrementUncontrolled();ft._cursor.chunk=at.length-1})),dt.then(function(){return ft._fetchPageChunks(ft._cursor.page)})}},{key:"_recenterBuffer",value:function(ft){for(var dt=Math.max(0,ft-this.opts.pageBufferSize),at=Math.min(this.pageCount,ft+this.opts.pageBufferSize+1),Fe=dt;Fe<at;Fe++)this._fetchPageChunks(Fe);this._removePageFromBuffer(dt-1),this._removePageFromBuffer(at+1)}},{key:"_removePageFromBuffer",value:function(ft){delete this._bufferingPages[ft],delete this._bufferedPages[ft]}},{key:"_fetchPageChunks",value:function(ft){var dt=this;return ft in this._bufferingPages?this._bufferingPages[ft]:ft in this._bufferedPages?Promise.resolve(this._bufferedPages[ft]):(this._bufferingPages[ft]=this._fetchPageChunksDirect(ft).then(function(at){return delete dt._bufferingPages[ft],dt._bufferedPages[ft]=at,at}),this._bufferingPages[ft])}},{key:"_fetchPageChunksDirect",value:function(ft){return k.fetch(this.opts.pageChunkUrl,ft)}}],ze&&s(me.prototype,ze),Object.defineProperty(me,"prototype",{writable:!1}),me;var me,ze,Ye,ut}();g.AT_END="__PageChunkIterator.AT_END__";var m={pageChunkUrl:null,pageBufferSize:2},b=r(4160),_=r(1669);function E(Be){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},E(Be)}function R(Be,me){(me==null||me>Be.length)&&(me=Be.length);for(var ze=0,Ye=Array(me);ze<me;ze++)Ye[ze]=Be[ze];return Ye}function j(){var Be,me,ze=typeof Symbol=="function"?Symbol:{},Ye=ze.iterator||"@@iterator",ut=ze.toStringTag||"@@toStringTag";function ft(It,Dt,Et,ui){var ki=Dt&&Dt.prototype instanceof at?Dt:at,vi=Object.create(ki.prototype);return H(vi,"_invoke",function(nr,Li,Ri){var xi,ai,wi,_r=0,Jr=Ri||[],pr=!1,Gi={p:0,n:0,v:Be,a:Dr,f:Dr.bind(Be,4),d:function(ji,Ii){return xi=ji,ai=0,wi=Be,Gi.n=Ii,dt}};function Dr(ji,Ii){for(ai=ji,wi=Ii,me=0;!pr&&_r&&!ar&&me<Jr.length;me++){var ar,Oi=Jr[me],Tr=Gi.p,ge=Oi[2];ji>3?(ar=ge===Ii)&&(wi=Oi[(ai=Oi[4])?5:(ai=3,3)],Oi[4]=Oi[5]=Be):Oi[0]<=Tr&&((ar=ji<2&&Tr<Oi[1])?(ai=0,Gi.v=Ii,Gi.n=Oi[1]):Tr<ge&&(ar=ji<3||Oi[0]>Ii||Ii>ge)&&(Oi[4]=ji,Oi[5]=Ii,Gi.n=ge,ai=0))}if(ar||ji>1)return dt;throw pr=!0,Ii}return function(ji,Ii,ar){if(_r>1)throw TypeError("Generator is already running");for(pr&&Ii===1&&Dr(Ii,ar),ai=Ii,wi=ar;(me=ai<2?Be:wi)||!pr;){xi||(ai?ai<3?(ai>1&&(Gi.n=-1),Dr(ai,wi)):Gi.n=wi:Gi.v=wi);try{if(_r=2,xi){if(ai||(ji="next"),me=xi[ji]){if(!(me=me.call(xi,wi)))throw TypeError("iterator result is not an object");if(!me.done)return me;wi=me.value,ai<2&&(ai=0)}else ai===1&&(me=xi.return)&&me.call(xi),ai<2&&(wi=TypeError("The iterator does not provide a '"+ji+"' method"),ai=1);xi=Be}else if((me=(pr=Gi.n<0)?wi:nr.call(Li,Gi))!==dt)break}catch(Oi){xi=Be,ai=1,wi=Oi}finally{_r=1}}return{value:me,done:pr}}}(It,Et,ui),!0),vi}var dt={};function at(){}function Fe(){}function pt(){}me=Object.getPrototypeOf;var Ct=[][Ye]?me(me([][Ye]())):(H(me={},Ye,function(){return this}),me),Nt=pt.prototype=at.prototype=Object.create(Ct);function ke(It){return Object.setPrototypeOf?Object.setPrototypeOf(It,pt):(It.__proto__=pt,H(It,ut,"GeneratorFunction")),It.prototype=Object.create(Nt),It}return Fe.prototype=pt,H(Nt,"constructor",pt),H(pt,"constructor",Fe),Fe.displayName="GeneratorFunction",H(pt,ut,"GeneratorFunction"),H(Nt),H(Nt,ut,"Generator"),H(Nt,Ye,function(){return this}),H(Nt,"toString",function(){return"[object Generator]"}),(j=function(){return{w:ft,m:ke}})()}function H(Be,me,ze,Ye){var ut=Object.defineProperty;try{ut({},"",{})}catch(ft){ut=0}H=function(ft,dt,at,Fe){function pt(Ct,Nt){H(ft,Ct,function(ke){return this._invoke(Ct,Nt,ke)})}dt?ut?ut(ft,dt,{value:at,enumerable:!Fe,configurable:!Fe,writable:!Fe}):ft[dt]=at:(pt("next",0),pt("throw",1),pt("return",2))},H(Be,me,ze,Ye)}function G(Be,me,ze,Ye,ut,ft,dt){try{var at=Be[ft](dt),Fe=at.value}catch(pt){return void ze(pt)}at.done?me(Fe):Promise.resolve(Fe).then(Ye,ut)}function q(Be){return function(){var me=this,ze=arguments;return new Promise(function(Ye,ut){var ft=Be.apply(me,ze);function dt(Fe){G(ft,Ye,ut,dt,at,"next",Fe)}function at(Fe){G(ft,Ye,ut,dt,at,"throw",Fe)}dt(void 0)})}}function K(Be,me){for(var ze=0;ze<me.length;ze++){var Ye=me[ze];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Be,ue(Ye.key),Ye)}}function ue(Be){var me=function(ze){if(E(ze)!="object"||!ze)return ze;var Ye=ze[Symbol.toPrimitive];if(Ye!==void 0){var ut=Ye.call(ze,"string");if(E(ut)!="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)}(Be);return E(me)=="symbol"?me:me+""}var te=function(){function Be(dt){var at,Fe,pt,Ct=this;(function(Nt,ke){if(!(Nt instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,Be),at=this,pt=function(){Ct.voice=Be.getBestBookVoice(Ct.getVoices(),Ct.opts.bookLanguage)},(Fe=ue(Fe="updateBestVoice"))in at?Object.defineProperty(at,Fe,{value:pt,enumerable:!0,configurable:!0,writable:!0}):at[Fe]=pt,this.playing=!1,this.paused=!1,this.opts=dt,this._chunkIterator=null,this.activeSound=null,this.playbackRate=1,this.events=_({}),this.voice=null,this.events.on("voiceschanged",this.updateBestVoice),this.events.trigger("voiceschanged")}return me=Be,ze=[{key:"getVoices",value:function(){throw new Error("Unimplemented abstract class")}},{key:"init",value:function(){return null}},{key:"start",value:function(dt,at){this.playing=!0,this.paused=!1,this.opts.onLoadingStart(),this._chunkIterator=new g(at,dt,{pageChunkUrl:this.opts.pageChunkUrl,pageBufferSize:3}),this.step(),this.events.trigger("start")}},{key:"stop",value:function(){this.activeSound&&this.activeSound.stop(),this.playing=!1,this.paused=!0,this._chunkIterator=null,this.activeSound=null,this.events.trigger("stop")}},{key:"pause",value:function(){var dt=!this.paused&&this.activeSound;this.paused=!0,this.activeSound&&this.activeSound.pause(),dt&&this.events.trigger("pause")}},{key:"resume",value:function(){var dt=this.paused&&this.activeSound;this.paused=!1,this.activeSound&&this.activeSound.resume(),dt&&this.events.trigger("resume")}},{key:"togglePlayPause",value:function(){this.paused?this.resume():this.pause()}},{key:"jumpForward",value:function(){this.activeSound&&this.activeSound.finish()}},{key:"jumpBackward",value:(ft=q(j().m(function dt(){var at=this;return j().w(function(Fe){for(;;)switch(Fe.n){case 0:return Fe.n=1,Promise.all([this.activeSound.stop(),this._chunkIterator.decrement().then(function(){return at._chunkIterator.decrement()})]);case 1:this.step();case 2:return Fe.a(2)}},dt,this)})),function(){return ft.apply(this,arguments)})},{key:"setVoice",value:function(dt){this.events.off("voiceschanged",this.updateBestVoice),this.voice=this.getVoices().find(function(at){return at.voiceURI===dt}),this.opts.bookLanguage&&(0,b.ND)()&&localStorage.setItem("BRtts-voice-".concat(this.opts.bookLanguage),this.voice.voiceURI),this.activeSound&&this.activeSound.setVoice(this.voice)}},{key:"setPlaybackRate",value:function(dt){this.playbackRate=dt,this.activeSound&&this.activeSound.setPlaybackRate(dt)}},{key:"step",value:(ut=q(j().m(function dt(){var at,Fe,pt,Ct=this;return j().w(function(Nt){for(;;)switch(Nt.n){case 0:return Nt.n=1,this._chunkIterator.next();case 1:if((at=Nt.v)!=g.AT_END){Nt.n=2;break}return this.stop(),this.opts.onDone(),Nt.a(2);case 2:return this.opts.onLoadingStart(),(Fe=this.createSound(at)).chunk=at,Fe.rate=this.playbackRate,Fe.voice=this.voice,Fe.load(function(){return Ct.opts.onLoadingComplete()}),this.opts.onLoadingComplete(),Nt.n=3,this.opts.beforeChunkPlay(at);case 3:if(this.playing){Nt.n=4;break}return Nt.a(2);case 4:return Nt.n=5,this.playSound(Fe).then(function(){return Ct.opts.afterChunkPlay(Fe.chunk)});case 5:return pt=Nt.v,this.paused&&this.pause(),Nt.n=6,pt;case 6:if(!this.playing){Nt.n=7;break}return Nt.a(2,this.step());case 7:return Nt.a(2)}},dt,this)})),function(){return ut.apply(this,arguments)})},{key:"createSound",value:function(dt){throw new Error("Unimplemented abstract class")}},{key:"playSound",value:function(dt){return this.activeSound=dt,this.activeSound.loaded||this.opts.onLoadingStart(),this.activeSound.play()}},{key:"getBestVoice",value:function(dt){return Be.getBestBookVoice(this.getVoices(),dt||this.opts.bookLanguage)}}],Ye=[{key:"isSupported",value:function(){throw new Error("Unimplemented abstract class")}},{key:"getBestBookVoice",value:function(dt,at){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:navigator.languages,pt=dt.filter(function(Nt){return Nt.lang.startsWith(at)}),Ct=(Fe=Fe||(navigator.language?[navigator.language]:[])).filter(function(Nt){return Nt.startsWith(at)});return Be.getMatchingStoredVoice(pt,at)||Be.getMatchingVoice(Ct,pt)||pt.find(function(Nt){return Nt.default})||pt[0]||Be.getMatchingVoice(Fe,dt)||dt.find(function(Nt){return Nt.default})||dt[0]}},{key:"getMatchingStoredVoice",value:function(dt,at){var Fe=(0,b.ND)()&&localStorage.getItem("BRtts-voice-".concat(at));return Fe?dt.find(function(pt){return pt.voiceURI===Fe}):void 0}},{key:"getMatchingVoice",value:function(dt,at){var Fe,pt=function(ke,It){var Dt=typeof Symbol<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(!Dt){if(Array.isArray(ke)||(Dt=function(Li,Ri){if(Li){if(typeof Li=="string")return R(Li,Ri);var xi={}.toString.call(Li).slice(8,-1);return xi==="Object"&&Li.constructor&&(xi=Li.constructor.name),xi==="Map"||xi==="Set"?Array.from(Li):xi==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xi)?R(Li,Ri):void 0}}(ke))||It&&ke&&typeof ke.length=="number"){Dt&&(ke=Dt);var Et=0,ui=function(){};return{s:ui,n:function(){return Et>=ke.length?{done:!0}:{done:!1,value:ke[Et++]}},e:function(Li){throw Li},f:ui}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ki,vi=!0,nr=!1;return{s:function(){Dt=Dt.call(ke)},n:function(){var Li=Dt.next();return vi=Li.done,Li},e:function(Li){nr=!0,ki=Li},f:function(){try{vi||Dt.return==null||Dt.return()}finally{if(nr)throw ki}}}}(dt);try{var Ct,Nt=function(){var ke=Fe.value,It=at.filter(function(Dt){return Dt.lang.replace("_","-").startsWith(ke)});if(It.length)return{v:It.find(function(Dt){return Dt.default})||It[0]}};for(pt.s();!(Fe=pt.n()).done;)if(Ct=Nt())return Ct.v}catch(ke){pt.e(ke)}finally{pt.f()}}}],ze&&K(me.prototype,ze),Ye&&K(me,Ye),Object.defineProperty(me,"prototype",{writable:!1}),me;var me,ze,Ye,ut,ft}(),D=r(8004),J=(r(2443),r(1792),r(1669));function Q(Be){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},Q(Be)}function ne(){var Be,me,ze=typeof Symbol=="function"?Symbol:{},Ye=ze.iterator||"@@iterator",ut=ze.toStringTag||"@@toStringTag";function ft(It,Dt,Et,ui){var ki=Dt&&Dt.prototype instanceof at?Dt:at,vi=Object.create(ki.prototype);return ie(vi,"_invoke",function(nr,Li,Ri){var xi,ai,wi,_r=0,Jr=Ri||[],pr=!1,Gi={p:0,n:0,v:Be,a:Dr,f:Dr.bind(Be,4),d:function(ji,Ii){return xi=ji,ai=0,wi=Be,Gi.n=Ii,dt}};function Dr(ji,Ii){for(ai=ji,wi=Ii,me=0;!pr&&_r&&!ar&&me<Jr.length;me++){var ar,Oi=Jr[me],Tr=Gi.p,ge=Oi[2];ji>3?(ar=ge===Ii)&&(wi=Oi[(ai=Oi[4])?5:(ai=3,3)],Oi[4]=Oi[5]=Be):Oi[0]<=Tr&&((ar=ji<2&&Tr<Oi[1])?(ai=0,Gi.v=Ii,Gi.n=Oi[1]):Tr<ge&&(ar=ji<3||Oi[0]>Ii||Ii>ge)&&(Oi[4]=ji,Oi[5]=Ii,Gi.n=ge,ai=0))}if(ar||ji>1)return dt;throw pr=!0,Ii}return function(ji,Ii,ar){if(_r>1)throw TypeError("Generator is already running");for(pr&&Ii===1&&Dr(Ii,ar),ai=Ii,wi=ar;(me=ai<2?Be:wi)||!pr;){xi||(ai?ai<3?(ai>1&&(Gi.n=-1),Dr(ai,wi)):Gi.n=wi:Gi.v=wi);try{if(_r=2,xi){if(ai||(ji="next"),me=xi[ji]){if(!(me=me.call(xi,wi)))throw TypeError("iterator result is not an object");if(!me.done)return me;wi=me.value,ai<2&&(ai=0)}else ai===1&&(me=xi.return)&&me.call(xi),ai<2&&(wi=TypeError("The iterator does not provide a '"+ji+"' method"),ai=1);xi=Be}else if((me=(pr=Gi.n<0)?wi:nr.call(Li,Gi))!==dt)break}catch(Oi){xi=Be,ai=1,wi=Oi}finally{_r=1}}return{value:me,done:pr}}}(It,Et,ui),!0),vi}var dt={};function at(){}function Fe(){}function pt(){}me=Object.getPrototypeOf;var Ct=[][Ye]?me(me([][Ye]())):(ie(me={},Ye,function(){return this}),me),Nt=pt.prototype=at.prototype=Object.create(Ct);function ke(It){return Object.setPrototypeOf?Object.setPrototypeOf(It,pt):(It.__proto__=pt,ie(It,ut,"GeneratorFunction")),It.prototype=Object.create(Nt),It}return Fe.prototype=pt,ie(Nt,"constructor",pt),ie(pt,"constructor",Fe),Fe.displayName="GeneratorFunction",ie(pt,ut,"GeneratorFunction"),ie(Nt),ie(Nt,ut,"Generator"),ie(Nt,Ye,function(){return this}),ie(Nt,"toString",function(){return"[object Generator]"}),(ne=function(){return{w:ft,m:ke}})()}function ie(Be,me,ze,Ye){var ut=Object.defineProperty;try{ut({},"",{})}catch(ft){ut=0}ie=function(ft,dt,at,Fe){function pt(Ct,Nt){ie(ft,Ct,function(ke){return this._invoke(Ct,Nt,ke)})}dt?ut?ut(ft,dt,{value:at,enumerable:!Fe,configurable:!Fe,writable:!Fe}):ft[dt]=at:(pt("next",0),pt("throw",1),pt("return",2))},ie(Be,me,ze,Ye)}function W(Be,me,ze,Ye,ut,ft,dt){try{var at=Be[ft](dt),Fe=at.value}catch(pt){return void ze(pt)}at.done?me(Fe):Promise.resolve(Fe).then(Ye,ut)}function V(Be){return function(){var me=this,ze=arguments;return new Promise(function(Ye,ut){var ft=Be.apply(me,ze);function dt(Fe){W(ft,Ye,ut,dt,at,"next",Fe)}function at(Fe){W(ft,Ye,ut,dt,at,"throw",Fe)}dt(void 0)})}}function se(Be,me){if(!(Be instanceof me))throw new TypeError("Cannot call a class as a function")}function Ae(Be,me){for(var ze=0;ze<me.length;ze++){var Ye=me[ze];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Be,je(Ye.key),Ye)}}function Oe(Be,me,ze){return me&&Ae(Be.prototype,me),ze&&Ae(Be,ze),Object.defineProperty(Be,"prototype",{writable:!1}),Be}function je(Be){var me=function(ze){if(Q(ze)!="object"||!ze)return ze;var Ye=ze[Symbol.toPrimitive];if(Ye!==void 0){var ut=Ye.call(ze,"string");if(Q(ut)!="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)}(Be);return Q(me)=="symbol"?me:me+""}function De(){try{var Be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(me){}return(De=function(){return!!Be})()}function Se(){return Se=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Be,me,ze){var Ye=function(ft,dt){for(;!{}.hasOwnProperty.call(ft,dt)&&(ft=de(ft))!==null;);return ft}(Be,me);if(Ye){var ut=Object.getOwnPropertyDescriptor(Ye,me);return ut.get?ut.get.call(arguments.length<3?Be:ze):ut.value}},Se.apply(null,arguments)}function de(Be){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)},de(Be)}function Xe(Be,me){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ze,Ye){return ze.__proto__=Ye,ze},Xe(Be,me)}var ht=function(Be){function me(Ye){var ut,ft,dt,at,Fe;return se(this,me),(dt=this,at=me,Fe=[Ye],at=de(at),ft=function(pt,Ct){if(Ct&&(Q(Ct)=="object"||typeof Ct=="function"))return Ct;if(Ct!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}(pt)}(dt,De()?Reflect.construct(at,Fe||[],de(dt).constructor):at.apply(dt,Fe))).audioFormat=(ut=J.browser)!==null&&ut!==void 0&&ut.mozilla?"ogg":"mp3",ft.festivalUrl=Ye.festivalUrl,ft}return function(Ye,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function");Ye.prototype=Object.create(ut&&ut.prototype,{constructor:{value:Ye,writable:!0,configurable:!0}}),Object.defineProperty(Ye,"prototype",{writable:!1}),ut&&Xe(Ye,ut)}(me,Be),Oe(me,[{key:"getVoices",value:function(){return[{default:!0,lang:"en-US",localService:!1,name:"Festival - English (US)",voiceURI:null}]}},{key:"init",value:function(){soundManager.setup({debugMode:!1,preferFlash:!0,url:"/bookreader/BookReader/soundmanager/swf",useHTML5Audio:!0,flashVersion:9})}},{key:"start",value:function(Ye,ut){var ft=this,dt=null;navigator.userAgent.match(/mobile/i)&&(dt=this.iOSCaptureUserIntentHack()),(dt=dt||Promise.resolve()).then(function(){return(at=me,Fe=ft,typeof(pt=Se(de(at.prototype),"start",Fe))=="function"?function(Ct){return pt.apply(Fe,Ct)}:pt)([Ye,ut]);var at,Fe,pt})}},{key:"createSound",value:function(Ye){return new nt((0,a.g)(this.festivalUrl,{text:Ye.text,format:this.audioFormat}))}},{key:"iOSCaptureUserIntentHack",value:(ze=V(ne().m(function Ye(){var ut;return ne().w(function(ft){for(;;)switch(ft.n){case 0:return ut=soundManager.createSound({url:lt[this.audioFormat]}),ft.n=1,new Promise(function(dt){return ut.play({onfinish:dt})});case 1:ut.destruct();case 2:return ft.a(2)}},Ye,this)})),function(){return ze.apply(this,arguments)})}],[{key:"isSupported",value:function(){return typeof soundManager<"u"&&soundManager.supported()}}]);var ze}(te),nt=function(){return Oe(function me(ze){se(this,me),this.soundUrl=ze,this.sound=null,this.rate=1,this._finishResolver=null},[{key:"loaded",get:function(){return this.sound&&this.sound.loaded}},{key:"load",value:function(me){var ze,Ye=this;return this.sound=soundManager.createSound({url:this.soundUrl,onload:function(){Ye.rate!=1&&Ye.sound.setPlaybackRate(Ye.rate),me()},onresume:(ze=V(ne().m(function ut(){return ne().w(function(ft){for(;;)switch(ft.n){case 0:return ft.n=1,(0,D.sleep)(25);case 1:Ye.rate!=1&&Ye.sound.setPlaybackRate(Ye.rate);case 2:return ft.a(2)}},ut)})),function(){return ze.apply(this,arguments)})}),this.sound.load()}},{key:"play",value:(Be=V(ne().m(function me(){var ze=this;return ne().w(function(Ye){for(;;)switch(Ye.n){case 0:return Ye.n=1,new Promise(function(ut){ze._finishResolver=ut,ze.sound.play({onfinish:ut})});case 1:this.sound.destruct();case 2:return Ye.a(2)}},me,this)})),function(){return Be.apply(this,arguments)})},{key:"stop",value:function(){return this.sound.stop(),Promise.resolve()}},{key:"pause",value:function(){this.sound.pause()}},{key:"resume",value:function(){this.sound.resume()}},{key:"setPlaybackRate",value:function(me){this.rate=me,this.sound.setPlaybackRate(me)}},{key:"finish",value:function(){this.sound.stop(),this._finishResolver()}}]);var Be}(),lt={mp3:"data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ogg:"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAVEgAAAAAAAADSDf4BHgF2b3JiaXMAAAAAAUSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAFRIAAAEAAAB4VKTpEDv//////////////////8kDdm9yYmlzKwAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTIwMjAzIChPbW5pcHJlc2VudCkAAAAAAQV2b3JiaXMpQkNWAQAIAAAAMUwgxYDQkFUAABAAAGAkKQ6TZkkppZShKHmYlEhJKaWUxTCJmJSJxRhjjDHGGGOMMcYYY4wgNGQVAAAEAIAoCY6j5klqzjlnGCeOcqA5aU44pyAHilHgOQnC9SZjbqa0pmtuziklCA1ZBQAAAgBASCGFFFJIIYUUYoghhhhiiCGHHHLIIaeccgoqqKCCCjLIIINMMumkk0466aijjjrqKLTQQgsttNJKTDHVVmOuvQZdfHPOOeecc84555xzzglCQ1YBACAAAARCBhlkEEIIIYUUUogppphyCjLIgNCQVQAAIACAAAAAAEeRFEmxFMuxHM3RJE/yLFETNdEzRVNUTVVVVVV1XVd2Zdd2ddd2fVmYhVu4fVm4hVvYhV33hWEYhmEYhmEYhmH4fd/3fd/3fSA0ZBUAIAEAoCM5luMpoiIaouI5ogOEhqwCAGQAAAQAIAmSIimSo0mmZmquaZu2aKu2bcuyLMuyDISGrAIAAAEABAAAAAAAoGmapmmapmmapmmapmmapmmapmmaZlmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVlAaMgqAEACAEDHcRzHcSRFUiTHciwHCA1ZBQDIAAAIAEBSLMVyNEdzNMdzPMdzPEd0RMmUTM30TA8IDVkFAAACAAgAAAAAAEAxHMVxHMnRJE9SLdNyNVdzPddzTdd1XVdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgdCQVQAABAAAIZ1mlmqACDOQYSA0ZBUAgAAAABihCEMMCA1ZBQAABAAAiKHkIJrQmvPNOQ6a5aCpFJvTwYlUmye5qZibc84555xszhnjnHPOKcqZxaCZ0JpzzkkMmqWgmdCac855EpsHranSmnPOGeecDsYZYZxzzmnSmgep2Vibc85Z0JrmqLkUm3POiZSbJ7W5VJtzzjnnnHPOOeecc86pXpzOwTnhnHPOidqba7kJXZxzzvlknO7NCeGcc84555xzzjnnnHPOCUJDVgEAQAAABGHYGMadgiB9jgZiFCGmIZMedI8Ok6AxyCmkHo2ORkqpg1BSGSeldILQkFUAACAAAIQQUkghhRRSSCGFFFJIIYYYYoghp5xyCiqopJKKKsoos8wyyyyzzDLLrMPOOuuwwxBDDDG00kosNdVWY4215p5zrjlIa6W11lorpZRSSimlIDRkFQAAAgBAIGSQQQYZhRRSSCGGmHLKKaegggoIDVkFAAACAAgAAADwJM8RHdERHdERHdERHdERHc/xHFESJVESJdEyLVMzPVVUVVd2bVmXddu3hV3Ydd/Xfd/XjV8XhmVZlmVZlmVZlmVZlmVZlmUJQkNWAQAgAAAAQgghhBRSSCGFlGKMMcecg05CCYHQkFUAACAAgAAAAABHcRTHkRzJkSRLsiRN0izN8jRP8zTRE0VRNE1TFV3RFXXTFmVTNl3TNWXTVWXVdmXZtmVbt31Ztn3f933f933f933f933f13UgNGQVACABAKAjOZIiKZIiOY7jSJIEhIasAgBkAAAEAKAojuI4jiNJkiRZkiZ5lmeJmqmZnumpogqEhqwCAAABAAQAAAAAAKBoiqeYiqeIiueIjiiJlmmJmqq5omzKruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6QGjIKgBAAgBAR3IkR3IkRVIkRXIkBwgNWQUAyAAACADAMRxDUiTHsixN8zRP8zTREz3RMz1VdEUXCA1ZBQAAAgAIAAAAAADAkAxLsRzN0SRRUi3VUjXVUi1VVD1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXVNE3TNIHQkJUAABkAACNBBhmEEIpykEJuPVgIMeYkBaE5BqHEGISnEDMMOQ0idJBBJz24kjnDDPPgUigVREyDjSU3jiANwqZcSeU4CEJDVgQAUQAAgDHIMcQYcs5JyaBEzjEJnZTIOSelk9JJKS2WGDMpJaYSY+Oco9JJyaSUGEuKnaQSY4mtAACAAAcAgAALodCQFQFAFAAAYgxSCimFlFLOKeaQUsox5RxSSjmnnFPOOQgdhMoxBp2DECmlHFPOKccchMxB5ZyD0EEoAAAgwAEAIMBCKDRkRQAQJwDgcCTPkzRLFCVLE0XPFGXXE03XlTTNNDVRVFXLE1XVVFXbFk1VtiVNE01N9FRVE0VVFVXTlk1VtW3PNGXZVFXdFlXVtmXbFn5XlnXfM01ZFlXV1k1VtXXXln1f1m1dmDTNNDVRVFVNFFXVVFXbNlXXtjVRdFVRVWVZVFVZdmVZ91VX1n1LFFXVU03ZFVVVtlXZ9W1Vln3hdFVdV2XZ91VZFn5b14Xh9n3hGFXV1k3X1XVVln1h1mVht3XfKGmaaWqiqKqaKKqqqaq2baqurVui6KqiqsqyZ6qurMqyr6uubOuaKKquqKqyLKqqLKuyrPuqLOu2qKq6rcqysJuuq+u27wvDLOu6cKqurquy7PuqLOu6revGceu6MHymKcumq+q6qbq6buu6ccy2bRyjquq+KsvCsMqy7+u6L7R1IVFVdd2UXeNXZVn3bV93nlv3hbJtO7+t+8px67rS+DnPbxy5tm0cs24bv637xvMrP2E4jqVnmrZtqqqtm6qr67JuK8Os60JRVX1dlWXfN11ZF27fN45b142iquq6Ksu+sMqyMdzGbxy7MBxd2zaOW9edsq0LfWPI9wnPa9vGcfs64/Z1o68MCcePAACAAQcAgAATykChISsCgDgBAAYh5xRTECrFIHQQUuogpFQxBiFzTkrFHJRQSmohlNQqxiBUjknInJMSSmgplNJSB6GlUEproZTWUmuxptRi7SCkFkppLZTSWmqpxtRajBFjEDLnpGTOSQmltBZKaS1zTkrnoKQOQkqlpBRLSi1WzEnJoKPSQUippBJTSam1UEprpaQWS0oxthRbbjHWHEppLaQSW0kpxhRTbS3GmiPGIGTOScmckxJKaS2U0lrlmJQOQkqZg5JKSq2VklLMnJPSQUipg45KSSm2kkpMoZTWSkqxhVJabDHWnFJsNZTSWkkpxpJKbC3GWltMtXUQWgultBZKaa21VmtqrcZQSmslpRhLSrG1FmtuMeYaSmmtpBJbSanFFluOLcaaU2s1ptZqbjHmGlttPdaac0qt1tRSjS3GmmNtvdWae+8gpBZKaS2U0mJqLcbWYq2hlNZKKrGVklpsMebaWow5lNJiSanFklKMLcaaW2y5ppZqbDHmmlKLtebac2w19tRarC3GmlNLtdZac4+59VYAAMCAAwBAgAlloNCQlQBAFAAAQYhSzklpEHLMOSoJQsw5J6lyTEIpKVXMQQgltc45KSnF1jkIJaUWSyotxVZrKSm1FmstAACgwAEAIMAGTYnFAQoNWQkARAEAIMYgxBiEBhmlGIPQGKQUYxAipRhzTkqlFGPOSckYcw5CKhljzkEoKYRQSiophRBKSSWlAgAAChwAAAJs0JRYHKDQkBUBQBQAAGAMYgwxhiB0VDIqEYRMSiepgRBaC6111lJrpcXMWmqttNhACK2F1jJLJcbUWmatxJhaKwAA7MABAOzAQig0ZCUAkAcAQBijFGPOOWcQYsw56Bw0CDHmHIQOKsacgw5CCBVjzkEIIYTMOQghhBBC5hyEEEIIoYMQQgillNJBCCGEUkrpIIQQQimldBBCCKGUUgoAACpwAAAIsFFkc4KRoEJDVgIAeQAAgDFKOQehlEYpxiCUklKjFGMQSkmpcgxCKSnFVjkHoZSUWuwglNJabDV2EEppLcZaQ0qtxVhrriGl1mKsNdfUWoy15pprSi3GWmvNuQAA3AUHALADG0U2JxgJKjRkJQCQBwCAIKQUY4wxhhRiijHnnEMIKcWYc84pphhzzjnnlGKMOeecc4wx55xzzjnGmHPOOeccc84555xzjjnnnHPOOeecc84555xzzjnnnHPOCQAAKnAAAAiwUWRzgpGgQkNWAgCpAAAAEVZijDHGGBsIMcYYY4wxRhJijDHGGGNsMcYYY4wxxphijDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYW2uttdZaa6211lprrbXWWmutAEC/CgcA/wcbVkc4KRoLLDRkJQAQDgAAGMOYc445Bh2EhinopIQOQgihQ0o5KCWEUEopKXNOSkqlpJRaSplzUlIqJaWWUuogpNRaSi211loHJaXWUmqttdY6CKW01FprrbXYQUgppdZaiy3GUEpKrbXYYow1hlJSaq3F2GKsMaTSUmwtxhhjrKGU1lprMcYYay0ptdZijLXGWmtJqbXWYos11loLAOBucACASLBxhpWks8LR4EJDVgIAIQEABEKMOeeccxBCCCFSijHnoIMQQgghREox5hx0EEIIIYSMMeeggxBCCCGEkDHmHHQQQgghhBA65xyEEEIIoYRSSuccdBBCCCGUUELpIIQQQgihhFJKKR2EEEIooYRSSiklhBBCCaWUUkoppYQQQgihhBJKKaWUEEIIpZRSSimllBJCCCGUUkoppZRSQgihlFBKKaWUUkoIIYRSSimllFJKCSGEUEoppZRSSikhhBJKKaWUUkoppQAAgAMHAIAAI+gko8oibDThwgNQaMhKAIAMAABx2GrrKdbIIMWchJZLhJByEGIuEVKKOUexZUgZxRjVlDGlFFNSa+icYoxRT51jSjHDrJRWSiiRgtJyrLV2zAEAACAIADAQITOBQAEUGMgAgAOEBCkAoLDA0DFcBATkEjIKDArHhHPSaQMAEITIDJGIWAwSE6qBomI6AFhcYMgHgAyNjbSLC+gywAVd3HUghCAEIYjFARSQgIMTbnjiDU+4wQk6RaUOAgAAAAAAAQAeAACSDSAiIpo5jg6PD5AQkRGSEpMTlAAAAAAA4AGADwCAJAWIiIhmjqPD4wMkRGSEpMTkBCUAAAAAAAAAAAAICAgAAAAAAAQAAAAICE9nZ1MABCwAAAAAAAAAFRIAAAIAAAAPBTD1AgEBAAo="},ot=r(7583);function ve(Be){return ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},ve(Be)}function pe(){var Be,me,ze=typeof Symbol=="function"?Symbol:{},Ye=ze.iterator||"@@iterator",ut=ze.toStringTag||"@@toStringTag";function ft(It,Dt,Et,ui){var ki=Dt&&Dt.prototype instanceof at?Dt:at,vi=Object.create(ki.prototype);return tt(vi,"_invoke",function(nr,Li,Ri){var xi,ai,wi,_r=0,Jr=Ri||[],pr=!1,Gi={p:0,n:0,v:Be,a:Dr,f:Dr.bind(Be,4),d:function(ji,Ii){return xi=ji,ai=0,wi=Be,Gi.n=Ii,dt}};function Dr(ji,Ii){for(ai=ji,wi=Ii,me=0;!pr&&_r&&!ar&&me<Jr.length;me++){var ar,Oi=Jr[me],Tr=Gi.p,ge=Oi[2];ji>3?(ar=ge===Ii)&&(wi=Oi[(ai=Oi[4])?5:(ai=3,3)],Oi[4]=Oi[5]=Be):Oi[0]<=Tr&&((ar=ji<2&&Tr<Oi[1])?(ai=0,Gi.v=Ii,Gi.n=Oi[1]):Tr<ge&&(ar=ji<3||Oi[0]>Ii||Ii>ge)&&(Oi[4]=ji,Oi[5]=Ii,Gi.n=ge,ai=0))}if(ar||ji>1)return dt;throw pr=!0,Ii}return function(ji,Ii,ar){if(_r>1)throw TypeError("Generator is already running");for(pr&&Ii===1&&Dr(Ii,ar),ai=Ii,wi=ar;(me=ai<2?Be:wi)||!pr;){xi||(ai?ai<3?(ai>1&&(Gi.n=-1),Dr(ai,wi)):Gi.n=wi:Gi.v=wi);try{if(_r=2,xi){if(ai||(ji="next"),me=xi[ji]){if(!(me=me.call(xi,wi)))throw TypeError("iterator result is not an object");if(!me.done)return me;wi=me.value,ai<2&&(ai=0)}else ai===1&&(me=xi.return)&&me.call(xi),ai<2&&(wi=TypeError("The iterator does not provide a '"+ji+"' method"),ai=1);xi=Be}else if((me=(pr=Gi.n<0)?wi:nr.call(Li,Gi))!==dt)break}catch(Oi){xi=Be,ai=1,wi=Oi}finally{_r=1}}return{value:me,done:pr}}}(It,Et,ui),!0),vi}var dt={};function at(){}function Fe(){}function pt(){}me=Object.getPrototypeOf;var Ct=[][Ye]?me(me([][Ye]())):(tt(me={},Ye,function(){return this}),me),Nt=pt.prototype=at.prototype=Object.create(Ct);function ke(It){return Object.setPrototypeOf?Object.setPrototypeOf(It,pt):(It.__proto__=pt,tt(It,ut,"GeneratorFunction")),It.prototype=Object.create(Nt),It}return Fe.prototype=pt,tt(Nt,"constructor",pt),tt(pt,"constructor",Fe),Fe.displayName="GeneratorFunction",tt(pt,ut,"GeneratorFunction"),tt(Nt),tt(Nt,ut,"Generator"),tt(Nt,Ye,function(){return this}),tt(Nt,"toString",function(){return"[object Generator]"}),(pe=function(){return{w:ft,m:ke}})()}function tt(Be,me,ze,Ye){var ut=Object.defineProperty;try{ut({},"",{})}catch(ft){ut=0}tt=function(ft,dt,at,Fe){function pt(Ct,Nt){tt(ft,Ct,function(ke){return this._invoke(Ct,Nt,ke)})}dt?ut?ut(ft,dt,{value:at,enumerable:!Fe,configurable:!Fe,writable:!Fe}):ft[dt]=at:(pt("next",0),pt("throw",1),pt("return",2))},tt(Be,me,ze,Ye)}function xe(Be,me,ze,Ye,ut,ft,dt){try{var at=Be[ft](dt),Fe=at.value}catch(pt){return void ze(pt)}at.done?me(Fe):Promise.resolve(Fe).then(Ye,ut)}function Ce(Be){return function(){var me=this,ze=arguments;return new Promise(function(Ye,ut){var ft=Be.apply(me,ze);function dt(Fe){xe(ft,Ye,ut,dt,at,"next",Fe)}function at(Fe){xe(ft,Ye,ut,dt,at,"throw",Fe)}dt(void 0)})}}function Ue(Be,me){if(!(Be instanceof me))throw new TypeError("Cannot call a class as a function")}function Te(Be,me){for(var ze=0;ze<me.length;ze++){var Ye=me[ze];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Be,Me(Ye.key),Ye)}}function it(Be,me,ze){return me&&Te(Be.prototype,me),ze&&Te(Be,ze),Object.defineProperty(Be,"prototype",{writable:!1}),Be}function Me(Be){var me=function(ze){if(ve(ze)!="object"||!ze)return ze;var Ye=ze[Symbol.toPrimitive];if(Ye!==void 0){var ut=Ye.call(ze,"string");if(ve(ut)!="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)}(Be);return ve(me)=="symbol"?me:me+""}function mt(){try{var Be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(me){}return(mt=function(){return!!Be})()}function He(){return He=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Be,me,ze){var Ye=function(ft,dt){for(;!{}.hasOwnProperty.call(ft,dt)&&(ft=We(ft))!==null;);return ft}(Be,me);if(Ye){var ut=Object.getOwnPropertyDescriptor(Ye,me);return ut.get?ut.get.call(arguments.length<3?Be:ze):ut.value}},He.apply(null,arguments)}function We(Be){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)},We(Be)}function yt(Be,me){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ze,Ye){return ze.__proto__=Ye,ze},yt(Be,me)}var Ot=function(Be){function me(ze){var Ye,ut,ft,dt;return Ue(this,me),ut=this,dt=[ze],ft=We(ft=me),Ye=function(at,Fe){if(Fe&&(ve(Fe)=="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}(at)}(ut,mt()?Reflect.construct(ft,dt||[],We(ut).constructor):ft.apply(ut,dt)),speechSynthesis.addEventListener&&speechSynthesis.addEventListener("voiceschanged",function(){return Ye.events.trigger("voiceschanged")}),Ye}return function(ze,Ye){if(typeof Ye!="function"&&Ye!==null)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(Ye&&Ye.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),Object.defineProperty(ze,"prototype",{writable:!1}),Ye&&yt(ze,Ye)}(me,Be),it(me,[{key:"start",value:function(ze,Ye){var ut,ft,dt,at=this;if("mediaSession"in navigator){var Fe=new Audio(br.options.imagesBaseURL+"../silence.mp3");Fe.loop=!0,this.events.on("pause",function(){return Fe.pause()}),this.events.on("resume",function(){return Fe.play()}),this.events.on("stop",function(){return Fe.src=""}),Fe.play().then(function(){navigator.mediaSession.metadata=new MediaMetadata({title:br.bookTitle,artist:br.options.metadata.filter(function(pt){return pt.label=="Author"}).map(function(pt){return pt.value})[0],artwork:[{src:br.options.thumbnail,type:"image/jpg"}]}),navigator.mediaSession.setPositionState({duration:1/0}),navigator.mediaSession.setActionHandler("play",function(){Fe.play(),at.resume()}),navigator.mediaSession.setActionHandler("pause",function(){Fe.pause(),at.pause()}),navigator.mediaSession.setActionHandler("previoustrack",function(){return at.jumpBackward()}),navigator.mediaSession.setActionHandler("nexttrack",function(){return at.jumpForward()})})}return(ut=me,ft=this,typeof(dt=He(We(ut.prototype),"start",ft))=="function"?function(pt){return dt.apply(ft,pt)}:dt)([ze,Ye])}},{key:"getVoices",value:function(){var ze=speechSynthesis.getVoices();return ze.filter(function(Ye){return Ye.default}).length!=1&&ze.unshift({voiceURI:"bookreader.SystemDefault",name:"System Default",lang:navigator.language,default:!0,localService:!0}),ze}},{key:"createSound",value:function(ze){return new Ft(ze.text)}}],[{key:"isSupported",value:function(){return window.speechSynthesis!==void 0}}])}(te),Ft=function(){return it(function ft(dt){Ue(this,ft),this.text=dt,this.loaded=!1,this.paused=!1,this.started=!1,this.stopped=!1,this.rate=1,this.utterance=null,this.voice=null,this._lastEvents={pause:null,boundary:null,start:null},this._charIndex=0,this._finishResolver=null,this._finishPromise=null},[{key:"load",value:function(ft){var dt,at=this;this.loaded=!1,this.started=!1,this.utterance=new SpeechSynthesisUtterance(this.text.slice(this._charIndex)),((dt=this.voice)===null||dt===void 0?void 0:dt.voiceURI)!=="bookreader.SystemDefault"&&(this.utterance.voice=this.voice),this.voice&&(this.utterance.lang=this.voice.lang),this.utterance.rate=this.rate,b.$x&&(this.utterance.addEventListener("pause",function(){return console.log("pause")}),this.utterance.addEventListener("resume",function(){return console.log("resume")}),this.utterance.addEventListener("start",function(){return console.log("start")}),this.utterance.addEventListener("end",function(){return console.log("end")}),this.utterance.addEventListener("error",function(Fe){return console.log("error",Fe)}),this.utterance.addEventListener("boundary",function(){return console.log("boundary")}),this.utterance.addEventListener("mark",function(){return console.log("mark")}),this.utterance.addEventListener("finish",function(){return console.log("finish")})),this.utterance.addEventListener("start",function(Fe){return at._lastEvents.start=Fe}),this.utterance.addEventListener("boundary",function(Fe){return at._lastEvents.boundary=Fe}),this.utterance.addEventListener("pause",function(Fe){return at._lastEvents.pause=Fe}),this.utterance.addEventListener("start",function(){at.started=!0,at.stopped=!1,at.paused=!1}),this.utterance.addEventListener("pause",function(){return at.paused=!0}),this.utterance.addEventListener("resume",function(){return at.paused=!1}),this.utterance.addEventListener("end",function(Fe){at.paused||at.stopped||at.utterance.dispatchEvent(new CustomEvent("finish",Fe))}),this.loaded=!0,ft&&ft()}},{key:"reload",value:(ut=Ce(pe().m(function ft(){var dt,at;return pe().w(function(Fe){for(;;)switch(Fe.n){case 0:return dt=this.paused,(at=this._lastEvents.boundary||this._lastEvents.pause)&&(this._charIndex=this.text.indexOf(at.target.text)+at.charIndex),Fe.n=1,this.stop();case 1:this.load(),dt||this.play();case 2:return Fe.a(2)}},ft,this)})),function(){return ut.apply(this,arguments)})},{key:"play",value:function(){var ft=this;this._finishPromise=this._finishPromise||new Promise(function(at){return ft._finishResolver=at}),this.utterance.addEventListener("finish",this._finishResolver),speechSynthesis.cancel(),speechSynthesis.resume(),speechSynthesis.speak(this.utterance);var dt=this.utterance.voice&&this.utterance.voice.localService;return(0,ot.H8)()&&!dt&&this._chromePausingBugFix(),this._finishPromise}},{key:"stop",value:function(){var ft=Promise.resolve();return this.stopped||(ft=Promise.race([(0,D.promisifyEvent)(this.utterance,"end"),(0,D.promisifyEvent)(this.utterance,"error")])),this.stopped=!0,speechSynthesis.cancel(),ft}},{key:"finish",value:(Ye=Ce(pe().m(function ft(){return pe().w(function(dt){for(;;)switch(dt.n){case 0:return dt.n=1,this.stop();case 1:this.utterance.dispatchEvent(new Event("finish"));case 2:return dt.a(2)}},ft,this)})),function(){return Ye.apply(this,arguments)})},{key:"pause",value:(ze=Ce(pe().m(function ft(){var dt,at;return pe().w(function(Fe){for(;;)switch(Fe.n){case 0:if(!this.paused){Fe.n=1;break}return Fe.a(2);case 1:return dt=(0,D.promisifyEvent)(this.utterance,"pause"),speechSynthesis.pause(),at=(0,ot.gm)()&&(0,b.m0)(),Fe.n=2,Promise.race([dt,(0,D.sleep)(100).then(function(){return"timeout"})]);case 2:if(Fe.v=="timeout"){Fe.n=3;break}return Fe.a(2);case 3:b.$x&&console.log("TTS: Firing pause event manually"),this.utterance.dispatchEvent(new CustomEvent("pause",this._lastEvents.start)),at&&this.stop();case 4:return Fe.a(2)}},ft,this)})),function(){return ze.apply(this,arguments)})},{key:"resume",value:(me=Ce(pe().m(function ft(){var dt,at;return pe().w(function(Fe){for(;;)switch(Fe.n){case 0:if(this.started&&!this.stopped){Fe.n=1;break}return this.play(),Fe.a(2);case 1:if(this.paused){Fe.n=2;break}return Fe.a(2);case 2:return dt=(0,ot.H8)()&&(0,b.m0)()||(0,ot.gm)()&&(0,b.m0)(),at=(0,D.promisifyEvent)(this.utterance,"resume"),speechSynthesis.resume(),Fe.n=3,Promise.race([at,(0,D.sleep)(100).then(function(){return"timeout"})]);case 3:if(Fe.v=="timeout"){Fe.n=4;break}return Fe.a(2);case 4:if(b.$x&&console.log("TTS: Firing resume event manually"),this.utterance.dispatchEvent(new CustomEvent("resume",{})),!dt){Fe.n=6;break}return Fe.n=5,this.reload();case 5:this.play();case 6:return Fe.a(2)}},ft,this)})),function(){return me.apply(this,arguments)})},{key:"setPlaybackRate",value:function(ft){this.rate=ft,this.reload()}},{key:"setVoice",value:function(ft){this.voice=ft,this.reload()}},{key:"_chromePausingBugFix",value:(Be=Ce(pe().m(function ft(){var dt;return pe().w(function(at){for(;;)switch(at.n){case 0:return b.$x&&console.log("CHROME-PAUSE-HACK: starting"),at.n=1,Promise.race([(0,D.sleep)(14e3).then(function(){return"timeout"}),(0,D.promisifyEvent)(this.utterance,"pause").then(function(){return"pause"}),(0,D.promisifyEvent)(this.utterance,"end").then(function(){return"end"}),(0,D.promisifyEvent)(this.utterance,"error").then(function(){return"error"})]);case 1:if(dt=at.v,b.$x&&console.log("CHROME-PAUSE-HACK: ".concat(dt)),dt!="end"&&dt!="error"){at.n=2;break}b.$x&&console.log("CHROME-PAUSE-HACK: stopped (end/error)"),at.n=6;break;case 2:if(dt!="pause"){at.n=4;break}return at.n=3,Promise.race([(0,D.promisifyEvent)(this.utterance,"resume").then(function(){return"resume"}),(0,D.sleep)(14e3).then(function(){return"timeout"})]);case 3:at.v=="timeout"?(b.$x&&console.log("CHROME-PAUSE-HACK: stopped (timed out while paused)"),this.stop()):this._chromePausingBugFix(),at.n=6;break;case 4:if(dt!="timeout"){at.n=6;break}return speechSynthesis.pause(),at.n=5,(0,D.sleep)(25);case 5:speechSynthesis.resume(),this._chromePausingBugFix();case 6:return at.a(2)}},ft,this)})),function(){return Be.apply(this,arguments)})}]);var Be,me,ze,Ye,ut}(),rt="Read this book aloud",oe=r(4907),Pe=r(1041),Ze=r(1669);function Je(Be){return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},Je(Be)}function qe(Be,me){return function(ze){if(Array.isArray(ze))return ze}(Be)||function(ze,Ye){var ut=ze==null?null:typeof Symbol<"u"&&ze[Symbol.iterator]||ze["@@iterator"];if(ut!=null){var ft,dt,at,Fe,pt=[],Ct=!0,Nt=!1;try{if(at=(ut=ut.call(ze)).next,Ye===0){if(Object(ut)!==ut)return;Ct=!1}else for(;!(Ct=(ft=at.call(ut)).done)&&(pt.push(ft.value),pt.length!==Ye);Ct=!0);}catch(ke){Nt=!0,dt=ke}finally{try{if(!Ct&&ut.return!=null&&(Fe=ut.return(),Object(Fe)!==Fe))return}finally{if(Nt)throw dt}}return pt}}(Be,me)||function(ze,Ye){if(ze){if(typeof ze=="string")return M(ze,Ye);var ut={}.toString.call(ze).slice(8,-1);return ut==="Object"&&ze.constructor&&(ut=ze.constructor.name),ut==="Map"||ut==="Set"?Array.from(ze):ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut)?M(ze,Ye):void 0}}(Be,me)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M(Be,me){(me==null||me>Be.length)&&(me=Be.length);for(var ze=0,Ye=Array(me);ze<me;ze++)Ye[ze]=Be[ze];return Ye}function be(){var Be,me,ze=typeof Symbol=="function"?Symbol:{},Ye=ze.iterator||"@@iterator",ut=ze.toStringTag||"@@toStringTag";function ft(It,Dt,Et,ui){var ki=Dt&&Dt.prototype instanceof at?Dt:at,vi=Object.create(ki.prototype);return he(vi,"_invoke",function(nr,Li,Ri){var xi,ai,wi,_r=0,Jr=Ri||[],pr=!1,Gi={p:0,n:0,v:Be,a:Dr,f:Dr.bind(Be,4),d:function(ji,Ii){return xi=ji,ai=0,wi=Be,Gi.n=Ii,dt}};function Dr(ji,Ii){for(ai=ji,wi=Ii,me=0;!pr&&_r&&!ar&&me<Jr.length;me++){var ar,Oi=Jr[me],Tr=Gi.p,ge=Oi[2];ji>3?(ar=ge===Ii)&&(wi=Oi[(ai=Oi[4])?5:(ai=3,3)],Oi[4]=Oi[5]=Be):Oi[0]<=Tr&&((ar=ji<2&&Tr<Oi[1])?(ai=0,Gi.v=Ii,Gi.n=Oi[1]):Tr<ge&&(ar=ji<3||Oi[0]>Ii||Ii>ge)&&(Oi[4]=ji,Oi[5]=Ii,Gi.n=ge,ai=0))}if(ar||ji>1)return dt;throw pr=!0,Ii}return function(ji,Ii,ar){if(_r>1)throw TypeError("Generator is already running");for(pr&&Ii===1&&Dr(Ii,ar),ai=Ii,wi=ar;(me=ai<2?Be:wi)||!pr;){xi||(ai?ai<3?(ai>1&&(Gi.n=-1),Dr(ai,wi)):Gi.n=wi:Gi.v=wi);try{if(_r=2,xi){if(ai||(ji="next"),me=xi[ji]){if(!(me=me.call(xi,wi)))throw TypeError("iterator result is not an object");if(!me.done)return me;wi=me.value,ai<2&&(ai=0)}else ai===1&&(me=xi.return)&&me.call(xi),ai<2&&(wi=TypeError("The iterator does not provide a '"+ji+"' method"),ai=1);xi=Be}else if((me=(pr=Gi.n<0)?wi:nr.call(Li,Gi))!==dt)break}catch(Oi){xi=Be,ai=1,wi=Oi}finally{_r=1}}return{value:me,done:pr}}}(It,Et,ui),!0),vi}var dt={};function at(){}function Fe(){}function pt(){}me=Object.getPrototypeOf;var Ct=[][Ye]?me(me([][Ye]())):(he(me={},Ye,function(){return this}),me),Nt=pt.prototype=at.prototype=Object.create(Ct);function ke(It){return Object.setPrototypeOf?Object.setPrototypeOf(It,pt):(It.__proto__=pt,he(It,ut,"GeneratorFunction")),It.prototype=Object.create(Nt),It}return Fe.prototype=pt,he(Nt,"constructor",pt),he(pt,"constructor",Fe),Fe.displayName="GeneratorFunction",he(pt,ut,"GeneratorFunction"),he(Nt),he(Nt,ut,"Generator"),he(Nt,Ye,function(){return this}),he(Nt,"toString",function(){return"[object Generator]"}),(be=function(){return{w:ft,m:ke}})()}function he(Be,me,ze,Ye){var ut=Object.defineProperty;try{ut({},"",{})}catch(ft){ut=0}he=function(ft,dt,at,Fe){function pt(Ct,Nt){he(ft,Ct,function(ke){return this._invoke(Ct,Nt,ke)})}dt?ut?ut(ft,dt,{value:at,enumerable:!Fe,configurable:!Fe,writable:!Fe}):ft[dt]=at:(pt("next",0),pt("throw",1),pt("return",2))},he(Be,me,ze,Ye)}function Ge(Be,me,ze,Ye,ut,ft,dt){try{var at=Be[ft](dt),Fe=at.value}catch(pt){return void ze(pt)}at.done?me(Fe):Promise.resolve(Fe).then(Ye,ut)}function vt(Be){return function(){var me=this,ze=arguments;return new Promise(function(Ye,ut){var ft=Be.apply(me,ze);function dt(Fe){Ge(ft,Ye,ut,dt,at,"next",Fe)}function at(Fe){Ge(ft,Ye,ut,dt,at,"throw",Fe)}dt(void 0)})}}function kt(Be,me){var ze=Object.keys(Be);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(Be);me&&(Ye=Ye.filter(function(ut){return Object.getOwnPropertyDescriptor(Be,ut).enumerable})),ze.push.apply(ze,Ye)}return ze}function ce(Be,me){for(var ze=0;ze<me.length;ze++){var Ye=me[ze];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Be,Bt(Ye.key),Ye)}}function _e(){try{var Be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(me){}return(_e=function(){return!!Be})()}function Re(){return Re=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Be,me,ze){var Ye=function(ft,dt){for(;!{}.hasOwnProperty.call(ft,dt)&&(ft=st(ft))!==null;);return ft}(Be,me);if(Ye){var ut=Object.getOwnPropertyDescriptor(Ye,me);return ut.get?ut.get.call(arguments.length<3?Be:ze):ut.value}},Re.apply(null,arguments)}function st(Be){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)},st(Be)}function xt(Be,me){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ze,Ye){return ze.__proto__=Ye,ze},xt(Be,me)}function Mt(Be,me,ze){return(me=Bt(me))in Be?Object.defineProperty(Be,me,{value:ze,enumerable:!0,configurable:!0,writable:!0}):Be[me]=ze,Be}function Bt(Be){var me=function(ze){if(Je(ze)!="object"||!ze)return ze;var Ye=ze[Symbol.toPrimitive];if(Ye!==void 0){var ut=Ye.call(ze,"string");if(Je(ut)!="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)}(Be);return Je(me)=="symbol"?me:me+""}var Rt=window.BookReader,qt=function(Be){function me(){var dt;(function(Ct,Nt){if(!(Ct instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,me);for(var at=arguments.length,Fe=new Array(at),pt=0;pt<at;pt++)Fe[pt]=arguments[pt];return Mt(dt=function(Ct,Nt,ke){return Nt=st(Nt),function(It,Dt){if(Dt&&(Je(Dt)=="object"||typeof Dt=="function"))return Dt;if(Dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Et){if(Et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et}(It)}(Ct,_e()?Reflect.construct(Nt,ke||[],st(Ct).constructor):Nt.apply(Ct,ke))}(this,me,[].concat(Fe)),"options",{enabled:!0,pageChunkUrl:"https://{{server}}/BookReader/BookReaderGetTextWrapper.php?path={{bookPath|urlencode}}_djvu.xml&page={{pageIndex}}&callback=false",remoteTtsUrl:"https://{{server}}/BookReader/BookReaderGetTTS.php?string={{text|urlencode}}&format={{format}}"}),dt}return function(dt,at){if(typeof at!="function"&&at!==null)throw new TypeError("Super expression must either be null or a function");dt.prototype=Object.create(at&&at.prototype,{constructor:{value:dt,writable:!0,configurable:!0}}),Object.defineProperty(dt,"prototype",{writable:!1}),at&&xt(dt,at)}(me,Be),ze=me,Ye=[{key:"setup",value:function(dt){var at,Fe,pt;if((at=me,Fe=this,typeof(pt=Re(st(at.prototype),"setup",Fe))=="function"?function(ke){return pt.apply(Fe,ke)}:pt)([Object.assign({server:this.br.options.server,bookPath:this.br.options.bookPath},dt)]),this.options.enabled){this._ttsBoxesByIndex={};var Ct=Ot.isSupported()?Ot:ht.isSupported()?ht:null;if(/_forceTTSEngine=(festival|web)/.test(location.toString())){var Nt=location.toString().match(/_forceTTSEngine=(festival|web)/)[1];Ct={festival:ht,web:Ot}[Nt]}Ct&&(this.ttsEngine=new Ct(function(ke){for(var It=1;It<arguments.length;It++){var Dt=arguments[It]!=null?arguments[It]:{};It%2?kt(Object(Dt),!0).forEach(function(Et){Mt(ke,Et,Dt[Et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(Dt)):kt(Object(Dt)).forEach(function(Et){Object.defineProperty(ke,Et,Object.getOwnPropertyDescriptor(Dt,Et))})}return ke}({pageChunkUrl:(0,a.g)(this.options.pageChunkUrl,this.br.options.vars),bookLanguage:(0,b.YH)(this.br.options.bookLanguage),onLoadingStart:this.br.showProgressPopup.bind(this.br,"Loading audio..."),onLoadingComplete:this.br.removeProgressPopup.bind(this.br),onDone:this.stop.bind(this),beforeChunkPlay:this.beforeChunkPlay.bind(this),afterChunkPlay:this.sendChunkFinishedAnalyticsEvent.bind(this)},Ct===ht?{festivalUrl:(0,a.g)(this.options.remoteTtsUrl,this.br.options.vars)}:{})))}}},{key:"init",value:function(){var dt=this;this.options.enabled&&this.br.bind(Rt.eventNames.PostInit,function(){dt.br.$(".BRicon.read").click(function(){return dt.toggle(),!1}),dt.ttsEngine&&(dt.ttsEngine.init(),/[?&]_autoReadAloud=show/.test(location.toString())&&dt.start(!1))})}},{key:"_configurePageContainer",value:function(dt){if(this.options.enabled&&dt.page&&dt.page.index in this._ttsBoxesByIndex){var at=dt.page.index;(0,oe.KL)("ttsHiliteLayer",this._ttsBoxesByIndex[at],dt.page,dt.$container[0])}}},{key:"extendNavBar",value:function(dt){var at=this;if(this.options.enabled&&this.ttsEngine){this.br.refs.$BRReadAloudToolbar=Ze(`
      <ul class="read-aloud">
        <li>
          <select class="playback-speed" name="playback-speed" title="`.concat("Playback speed",`">
            <option value="0.25">0.25x</option>
            <option value="0.5">0.5x</option>
            <option value="0.75">0.75x</option>
            <option value="1.0" selected>1.0x</option>
            <option value="1.25">1.25x</option>
            <option value="1.5">1.5x</option>
            <option value="1.75">1.75x</option>
            <option value="2">2x</option>
          </select>
        </li>
        <li>
          <button type="button" name="review" title="`).concat("Review 10 seconds",`">
            <div class="icon icon-review"></div>
          </button>
        </li>
        <li>
          <button type="button" name="play" title="`).concat("Play",`">
            <div class="icon icon-play"></div>
            <div class="icon icon-pause"></div>
          </button>
        </li>
        <li>
          <button type="button" name="advance" title="`).concat("Advance 10 seconds",`">
            <div class="icon icon-advance"></div>
          </button>
        </li>
        <li>
          <select class="playback-voices" name="playback-voice" style="display: none" title="Change read aloud voices">
          </select>
        </li>
      </ul>
    `)),dt.find(".BRcontrols").prepend(this.br.refs.$BRReadAloudToolbar);var Fe=function(It){return It.map(function(Dt){return'<option value="'.concat(Dt.voiceURI,'">').concat(Dt.lang," - ").concat(Dt.name,"</option>")}).join("")},pt=function(It,Dt){return"".concat(It.lang," - ").concat(It.name).localeCompare("".concat(Dt.lang," - ").concat(Dt.name))},Ct=function(It){var Dt;It.empty();var Et=at.ttsEngine.opts.bookLanguage;(Dt=at.br.plugins.translate)!==null&&Dt!==void 0&&(Dt=Dt.translationManager)!==null&&Dt!==void 0&&Dt.active&&(Et=at.br.plugins.translate.langFromCode);var ui=at.ttsEngine.getVoices().filter(function(Ri){return Ri.lang.startsWith(Et)}).sort(pt),ki=at.ttsEngine.getVoices().filter(function(Ri){return!Ri.lang.startsWith(Et)}).sort(pt);if(at.ttsEngine.getVoices().length>1){var vi;if((vi=at.br.plugins.translate)!==null&&vi!==void 0&&(vi=vi.translationManager)!==null&&vi!==void 0&&vi.active){var nr=at.br.plugins.translate.langToCode,Li=at.ttsEngine.getVoices().filter(function(Ri){return Ri.lang.startsWith(nr)}).sort(pt);It.append(Ze('<optgroup label="Book Language, Translated From ('.concat(Et,')"> ').concat(Fe(ui)," </optgroup>"))),It.append(Ze('<optgroup label="Book Language, Translated To ('.concat(nr,')"> ').concat(Fe(Li)," </optgroup>"))),It.append(Ze('<optgroup label="Other Languages"> '.concat(Fe(ki.filter(function(Ri){return!Ri.lang.startsWith(nr)}).sort(pt)))))}else It.append(Ze('<optgroup label="Book Language ('.concat(Et,')"> ').concat(Fe(ui)," </optgroup>"))),It.append(Ze('<optgroup label="Other Languages"> '.concat(Fe(ki)," </optgroup>")));It.val(at.ttsEngine.voice.voiceURI),It.show()}else It.hide()},Nt=this.br.refs.$BRReadAloudToolbar.find("[name=playback-voice]");Ct(Nt),Nt.on("change",function(It){return at.ttsEngine.setVoice(Nt.val())}),this.ttsEngine.events.on("pause resume start",function(){return at.updateState()}),this.ttsEngine.events.on("voiceschanged",function(){return Ct(Nt)}),this.br.on("translationEnabled",function(){return Ct(Nt)}),this.br.on("translationDisabled",function(){return Ct(Nt)}),this.br.refs.$BRReadAloudToolbar.find("[name=play]").on("click",this.playPause.bind(this)),this.br.refs.$BRReadAloudToolbar.find("[name=advance]").on("click",this.jumpForward.bind(this)),this.br.refs.$BRReadAloudToolbar.find("[name=review]").on("click",this.jumpBackward.bind(this));var ke=this.br.refs.$BRReadAloudToolbar.find('select[name="playback-speed"]');ke.on("change",function(It){return at.ttsEngine.setPlaybackRate(parseFloat(ke.val()))}),Ze(`<li>
        <button class="BRicon read js-tooltip" title="`.concat(rt,`">
          <div class="icon icon-read-aloud"></div>
          <span class="BRtooltip">`).concat(rt,`</span>
        </button>
      </li>`)).insertBefore(dt.find(".BRcontrols .BRicon.zoom_out").closest("li"))}}},{key:"toggle",value:function(){var dt;(dt=this.br.plugins.autoplay)===null||dt===void 0||dt.stop(),this.ttsEngine.playing?this.stop():this.start()}},{key:"start",value:function(){var dt,at=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],Fe=(dt=this.br.plugins.translate)!==null&&dt!==void 0&&(dt=dt.translationManager)!==null&&dt!==void 0&&dt.active?(0,b.YH)(this.br.plugins.translate.langToCode):"",pt=this.ttsEngine.getBestVoice(Fe),Ct=this.br.refs.$BRReadAloudToolbar.find("[name=playback-voice");this.ttsEngine.setVoice(pt.voiceURI),Ct.val(pt.voiceURI),this.br.constModeThumb==this.br.mode&&this.br.switchMode(this.br.constMode1up),this.br.refs.$BRReadAloudToolbar.addClass("visible"),this.br.$(".BRicon.read").addClass("unread active"),this.sendAnalyticsEvent("Start"),at&&this.ttsEngine.start(this.br.currentIndex(),this.br.book.getNumLeafs())}},{key:"jumpForward",value:function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpForward()}},{key:"jumpBackward",value:function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpBackward()}},{key:"updateState",value:function(){var dt=!(this.ttsEngine.paused||!this.ttsEngine.playing);this.br.$(".read-aloud [name=play]").toggleClass("playing",dt)}},{key:"playPause",value:function(){this.ttsEngine.playing?(this.ttsEngine.togglePlayPause(),this.updateState()):this.toggle()}},{key:"stop",value:function(){this.br.refs.$BRReadAloudToolbar.removeClass("visible"),this.br.$(".BRicon.read").removeClass("unread active"),this.sendAnalyticsEvent("Stop"),this.ttsEngine.stop(),this.removeHilites(),this.br.removeProgressPopup()}},{key:"beforeChunkPlay",value:(ft=vt(be().m(function dt(at){return be().w(function(Fe){for(;;)switch(Fe.n){case 0:return Fe.n=1,this.maybeFlipToIndex(at.leafIndex);case 1:this.highlightChunk(at),this.scrollToChunk(at);case 2:return Fe.a(2)}},dt,this)})),function(dt){return ft.apply(this,arguments)})},{key:"sendChunkFinishedAnalyticsEvent",value:function(dt){this.sendAnalyticsEvent("ChunkFinished-Words",(0,b.EF)(dt.text))}},{key:"maybeFlipToIndex",value:(ut=vt(be().m(function dt(at){return be().w(function(Fe){for(;;)switch(Fe.n){case 0:this.br._isIndexDisplayed(at)||this.br.jumpToIndex(at,{ariaLive:!1});case 1:return Fe.a(2)}},dt,this)})),function(dt){return ut.apply(this,arguments)})},{key:"highlightChunk",value:function(dt){var at,Fe=this,pt=dt.leafIndex;if(this.removeHilites(),(at=this.br.plugins.translate)!==null&&at!==void 0&&at.translationManager.active){var Ct=this.br.getActivePageContainerElementsForIndex(pt),Nt=dt.chunkIndex;Ct.forEach(function(Et){var ui=Et.querySelector(".BRtranslateLayer"),ki=Array.from(ui.childNodes)[Nt];if(ki){var vi=[ki.offsetHeight,ki.offsetTop,ki.offsetWidth,ki.offsetLeft],nr=vi[1],Li=vi[3],Ri={pageIndex:[{l:Li,r:Li+vi[2],b:nr+vi[0],t:nr}]};(0,oe.KL)("ttsHiliteLayer",Ri.pageIndex,Fe.br.book.getPage(pt),ui)}})}else{this._ttsBoxesByIndex=Mt({},pt,dt.lineRects.map(function(Et){var ui=qe(Et,4),ki=ui[0],vi=ui[1];return{l:ki,r:ui[2],b:vi,t:ui[3]}}));for(var ke=function(){var Et=qe(Dt[It],2),ui=Et[0],ki=Et[1],vi=parseFloat(ui),nr=Fe.br.book.getPage(vi);Fe.br.getActivePageContainerElementsForIndex(vi).forEach(function(Li){return(0,oe.KL)("ttsHiliteLayer",ki,nr,Li)})},It=0,Dt=Object.entries(this._ttsBoxesByIndex);It<Dt.length;It++)ke()}}},{key:"scrollToChunk",value:function(dt){var at;this.br.constModeThumb!=this.br.mode&&((at=Ze(".pagediv".concat(dt.leafIndex," .ttsHiliteLayer rect")).last())===null||at===void 0||(at=at[0])===null||at===void 0||at.scrollIntoView({block:this.br.constMode1up==this.br.mode||this.br.isFullscreenActive?"center":"nearest",inline:"center",behavior:"smooth"}))}},{key:"removeHilites",value:function(){Ze(this.br.getActivePageContainerElements()).find(".ttsHiliteLayer").remove(),this._ttsBoxesByIndex={}}},{key:"sendAnalyticsEvent",value:function(dt,at){if(this.br.plugins.archiveAnalytics){var Fe={},pt=this.ttsEngine.opts.bookLanguage;pt&&(Fe.mediaLanguage=pt),this.br.plugins.archiveAnalytics.sendEvent("BRReadAloud",dt,at,Fe)}}}],Ye&&ce(ze.prototype,Ye),Object.defineProperty(ze,"prototype",{writable:!1}),ze;var ze,Ye,ut,ft}(Pe.S);Rt==null||Rt.registerPlugin("tts",qt)},4160:function(e,t,r){"use strict";r.d(t,{$x:function(){return C},EF:function(){return f},ND:function(){return A},m0:function(){return p},YH:function(){return y},_4:function(){return w}}),r(2675),r(9463),r(2259),r(3418),r(4423),r(3792),r(4782),r(2010),r(875),r(6099),r(3362),r(7495),r(8781),r(1699),r(7764),r(1761),r(2953);var a=[],l={},o={},u={};[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u0623\u06C7\u0632\u0628\u06D0\u0643","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, ","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]].forEach(x=>{var S={name:x[0],nativeName:x[1],iso639_1:x[2],iso639_2T:x[3],iso639_2B:x[4]};l[x[2]]=o[x[3]]=u[x[4]]=S,a.push(S)});var n=a;function c(x,S){var s=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!s){if(Array.isArray(x)||(s=function(E,R){if(E){if(typeof E=="string")return d(E,R);var j={}.toString.call(E).slice(8,-1);return j==="Object"&&E.constructor&&(j=E.constructor.name),j==="Map"||j==="Set"?Array.from(E):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?d(E,R):void 0}}(x))||S&&x&&typeof x.length=="number"){s&&(x=s);var h=0,g=function(){};return{s:g,n:function(){return h>=x.length?{done:!0}:{done:!1,value:x[h++]}},e:function(E){throw E},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,b=!0,_=!1;return{s:function(){s=s.call(x)},n:function(){var E=s.next();return b=E.done,E},e:function(E){_=!0,m=E},f:function(){try{b||s.return==null||s.return()}finally{if(_)throw m}}}}function d(x,S){(S==null||S>x.length)&&(S=x.length);for(var s=0,h=Array(S);s<S;s++)h[s]=x[s];return h}function f(x){var S=x.match(/\S+/g);return S?S.length:0}function p(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(x)}var v={"zh-hans":"\u4E2D\u6587 (Zh\u014Dngw\xE9n)"};function y(x){if(!x)return null;if(x=x.toLocaleLowerCase(),v[x])return x;var S=k(x,["iso639_1"])||k(x,["iso639_2T"])||k(x,["iso639_2B","name","nativeName"]);return S?S.iso639_1:null}function w(x){if(!x)return null;if(x=x.toLocaleLowerCase(),v[x])return v[x];var S=k(x,["iso639_1"])||k(x,["iso639_2T"])||k(x,["iso639_2B","name","nativeName"]);return S!=null&&S.nativeName?S.nativeName.split(", ")[0]:null}function k(x,S){if(!x)return null;x=x.toLowerCase();var s,h=c(n);try{for(h.s();!(s=h.n()).done;){var g,m=s.value,b=c(S);try{for(b.s();!(g=b.n()).done;){var _;if((_=m[g.value])!==null&&_!==void 0&&_.toLowerCase().split(", ").includes(x))return m}}catch(E){b.e(E)}finally{b.f()}}}catch(E){h.e(E)}finally{h.f()}return null}function A(){try{return!!window.localStorage}catch(x){return!1}}var C=location.toString().indexOf("_debugReadAloud=true")!=-1},9073:function(e,t,r){"use strict";function a(u,n){(n==null||n>u.length)&&(n=u.length);for(var c=0,d=Array(n);c<n;c++)d[c]=u[c];return d}function l(u,n){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return u==null?void 0:u.replace(/\{\{([^}]*?)\}\}/g,function(f,p){if(!p)return f;var v,y=function(C){if(Array.isArray(C))return C}(v=p.split("|").map(function(C){return C.trim()}))||function(C){if(typeof Symbol<"u"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}(v)||function(C,x){if(C){if(typeof C=="string")return a(C,x);var S={}.toString.call(C).slice(8,-1);return S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set"?Array.from(C):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?a(C,x):void 0}}(v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=y[0],k=a(y).slice(1);if(!(w in c)&&!(w in n))return f;var A=w in c?c[w]:w in n?n[w]:null;return k.map(function(C){return d[C]}).reduce(function(C,x){return x(C)},A&&A.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=3638)}]);b2=sC,{default:y2}=b2,lC=en(b2,["default"]),w2=y2!==void 0?y2:lC;});var _2={};On(_2,{default:()=>w2});var k2=Wt(()=>{bg();bg()});var uC,x2,S2,cC,A2,yg=Wt(()=>{uC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[393],{1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{S:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var u=function(){return n=function d(f){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.br=f,this.options},(c=[{key:"setup",value:function(d){this.options=Object.assign({},this.options,d)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(d){}},{key:"_configureToolbar",value:function(d){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(d){}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},3387:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8706),r(2008),r(3792),r(9572),r(8130),r(9085),r(875),r(6099),r(825),r(7495),r(7764),r(5746),r(2953),r(8408);var a=r(8340),l=r(8004);function o(w){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},o(w)}function u(w,k){for(var A=0;A<k.length;A++){var C=k[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,p(C.key),C)}}function n(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(k){}return(n=function(){return!!w})()}function c(w){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},c(w)}function d(w,k){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,C){return A.__proto__=C,A},d(w,k)}function f(w,k,A){return(k=p(k))in w?Object.defineProperty(w,k,{value:A,enumerable:!0,configurable:!0,writable:!0}):w[k]=A,w}function p(w){var k=function(A){if(o(A)!="object"||!A)return A;var C=A[Symbol.toPrimitive];if(C!==void 0){var x=C.call(A,"string");if(o(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(A)}(w);return o(k)=="symbol"?k:k+""}var v=function(w){function k(){var x;(function(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")})(this,k);for(var S=arguments.length,s=new Array(S),h=0;h<S;h++)s[h]=arguments[h];return f(x=function(g,m,b){return m=c(m),function(_,E){if(E&&(o(E)=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(_)}(g,n()?Reflect.construct(m,b||[],c(g).constructor):m.apply(g,b))}(this,k,[].concat(s)),"options",{enabled:!0,flipSpeed:1500,flipDelay:5e3,urlParams:!0}),f(x,"timer",null),x}return function(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),S&&d(x,S)}(k,w),A=k,C=[{key:"init",value:function(){var x=this;if(this.options.enabled&&(this.br.bind(a.q.stop,function(){return x.stop()}),this.options.urlParams)){var S=new URLSearchParams(window.location.search);S.get("flipSpeed")&&(this.options.flipSpeed=(0,l.parseAnimationSpeed)(S.get("flipSpeed"))||this.options.flipSpeed),S.get("flipDelay")&&(this.options.flipDelay=(0,l.parseAnimationSpeed)(S.get("flipDelay"))||this.options.flipDelay),S.get("autoflip")==="1"&&this.toggle()}}},{key:"_bindNavigationHandlers",value:function(){var x=this;if(this.options.enabled){var S=this.br.$(".BRicon");S.filter(".play").on("click",function(){return x.toggle(),!1}),S.filter(".pause").on("click",function(){return x.toggle(),!1})}}},{key:"toggle",value:function(){var x=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.options.enabled){Object.assign(this.options,S),this.br.trigger(a.q.stop);var s=!1;this.br.constMode2up!=this.br.mode&&(s=!0,this.br.switchMode(this.br.constMode2up)),this.timer==null?(this.br.pageProgression=="rl"&&s||this.br.next({triggerStop:!1,flipSpeed:this.options.flipSpeed}),this.br.$(".play").hide(),this.br.$(".pause").show(),this.timer=setInterval(function(){x.br.animating||(Math.max(x.br.twoPage.currentIndexL,x.br.twoPage.currentIndexR)>=x.br.book.getNumLeafs()-1?x.br.prev({triggerStop:!1,flipSpeed:x.options.flipSpeed}):x.br.next({triggerStop:!1,flipSpeed:x.options.flipSpeed}))},(0,l.parseAnimationSpeed)(this.options.flipDelay))):this.stop()}}},{key:"stop",value:function(){this.options.enabled&&this.timer!=null&&(clearInterval(this.timer),this.br.$(".pause").hide(),this.br.$(".play").show(),this.timer=null)}}],C&&u(A.prototype,C),Object.defineProperty(A,"prototype",{writable:!1}),A;var A,C}(r(1041).S),y=window.BookReader;y==null||y.registerPlugin("autoplay",v)}},function(e){e(e.s=3387)}]);x2=uC,{default:S2}=x2,cC=en(x2,["default"]),A2=S2!==void 0?S2:cC});var C2={};On(C2,{default:()=>A2});var E2=Wt(()=>{yg();yg()});var dC,T2,$2,hC,P2,wg=Wt(()=>{dC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[555],{1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{S:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var u=function(){return n=function d(f){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.br=f,this.options},(c=[{key:"setup",value:function(d){this.options=Object.assign({},this.options,d)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(d){}},{key:"_configureToolbar",value:function(d){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(d){}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},4442:function(e,t,r){var a={};r.r(a),r.d(a,{areCookiesBlocked:function(){return u},getItem:function(){return d},removeItem:function(){return p},setItem:function(){return f}}),r(2675),r(9463),r(2259),r(3792),r(875),r(6099),r(825),r(7764),r(2953),r(5700),r(8706),r(9572),r(8130),r(8940),r(7495),r(1761);var l=r(8340),o=r(1041);function u(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;try{return S.cookie,!1}catch(s){return!0}}r(4864),r(8781),r(5440);var n,c=u();function d(S){return c||!S?null:decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(S).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function f(S,s,h,g,m,b){return!c&&(document.cookie=encodeURIComponent(S)+"="+encodeURIComponent(s)+(h?"; expires=".concat(h.toUTCString()):"")+(m?"; domain=".concat(m):"")+(g?"; path=".concat(g):"")+(b?"; secure":""),!0)}function p(S,s,h){return!c&&!!hasItem(S)&&(document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(h?"; domain=".concat(h):"")+(s?"; path=".concat(s):""),!0)}function v(S){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},v(S)}function y(S,s){for(var h=0;h<s.length;h++){var g=s[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(S,C(g.key),g)}}function w(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(w=function(){return!!S})()}function k(S){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},k(S)}function A(S,s){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,g){return h.__proto__=g,h},A(S,s)}function C(S){var s=function(h){if(v(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var m=g.call(h,"string");if(v(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(S);return v(s)=="symbol"?s:s+""}BookReader.docCookies=a;var x=function(S){function s(){var m,b,_,E;(function(G,q){if(!(G instanceof q))throw new TypeError("Cannot call a class as a function")})(this,s);for(var R=arguments.length,j=new Array(R),H=0;H<R;H++)j[H]=arguments[H];return m=function(G,q,K){return q=k(q),function(ue,te){if(te&&(v(te)=="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(ue)}(G,w()?Reflect.construct(q,K||[],k(G).constructor):q.apply(G,K))}(this,s,[].concat(j)),b=m,E={enabled:!0,cookiePath:null},(_=C(_="options"))in b?Object.defineProperty(b,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[_]=E,m}return function(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),b&&A(m,b)}(s,S),h=s,(g=[{key:"init",value:function(){var m=this;this.options.enabled&&this.br.bind(l.q.fragmentChange,function(){var b=m.br.paramsFromCurrent();m.updateResumeValue(b.index)})}},{key:"getResumeValue",value:function(){var m=BookReader.docCookies.getItem("br-resume");return m!==null?parseInt(m):null}},{key:"getCookiePath",value:function(m){return m.match(".+?(?=/page/|/mode/|$)")[0]}},{key:"updateResumeValue",value:function(m,b){var _=new Date(+new Date+12096e5),E=this.options.cookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(b||"br-resume",m,_,E,null,!1)}}])&&y(h.prototype,g),Object.defineProperty(h,"prototype",{writable:!1}),h;var h,g}(o.S);(n=BookReader)===null||n===void 0||n.registerPlugin("resume",x)}},function(e){e(e.s=4442)}]);T2=dC,{default:$2}=T2,hC=en(T2,["default"]),P2=$2!==void 0?$2:hC});var O2={};On(O2,{default:()=>P2});var M2=Wt(()=>{wg();wg()});var pC,I2,L2,fC,D2,_g=Wt(()=>{pC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[858],{706:function(e,t,r){var a=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(u){return l(function(){return!!o[u]()||"\u200B\x85\u180E"[u]()!=="\u200B\x85\u180E"||a&&o[u].name!==u})}},1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{S:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var u=function(){return n=function d(f){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.br=f,this.options},(c=[{key:"setup",value:function(d){this.options=Object.assign({},this.options,d)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(d){}},{key:"_configureToolbar",value:function(d){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(d){}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},2117:function(e,t,r){r(2675),r(9463),r(2259),r(8125),r(113),r(3418),r(4782),r(4554),r(2010),r(4731),r(479),r(2811),r(3851),r(875),r(3362),r(825),r(888),r(7495),r(8781),r(5700),r(8706),r(2008),r(8980),r(3792),r(8598),r(2062),r(4490),r(9572),r(8130),r(9085),r(6099),r(8940),r(7764),r(3500),r(2953),r(8408);var a=r(420),l=r(9696),o=r(4535),u=r(8900),n=a.qy`
<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="tocTitleID tocDescID"
>
  <title id="tocTitleID">Table of contents icon</title>
  <desc id="tocDescID">An illustration of three text list items</desc>
  <g class="fill-color" fill-rule="evenodd"><rect height="3" rx="1.5" width="18" x="6"/><rect height="3" rx="1.5" width="18" x="6" y="21"/><rect height="3" rx="1.5" width="18" x="6" y="14"/><rect height="3" rx="1.5" width="18" x="6" y="7"/><rect height="3" rx="1.5" width="4"/><rect height="3" rx="1.5" width="4" y="21"/><rect height="3" rx="1.5" width="4" y="14"/><rect height="3" rx="1.5" width="4" y="7"/></g>
</svg>
`;class c extends a.WF{static get styles(){return a.AH`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return n}}customElements.define("ia-icon-toc",c);var d,f,p,v,y,w,k=r(1041),A=r(9073),C=r(1669);function x(ve){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},x(ve)}function S(){S=function(){return ve};var ve={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(pe,tt){["method","field"].forEach(function(xe){tt.forEach(function(Ce){Ce.kind===xe&&Ce.placement==="own"&&this.defineClassElement(pe,Ce)},this)},this)},initializeClassElements:function(pe,tt){var xe=pe.prototype;["method","field"].forEach(function(Ce){tt.forEach(function(Ue){var Te=Ue.placement;if(Ue.kind===Ce&&(Te==="static"||Te==="prototype")){var it=Te==="static"?pe:xe;this.defineClassElement(it,Ue)}},this)},this)},defineClassElement:function(pe,tt){var xe=tt.descriptor;if(tt.kind==="field"){var Ce=tt.initializer;xe={enumerable:xe.enumerable,writable:xe.writable,configurable:xe.configurable,value:Ce===void 0?void 0:Ce.call(pe)}}Object.defineProperty(pe,tt.key,xe)},decorateClass:function(pe,tt){var xe=[],Ce=[],Ue={static:[],prototype:[],own:[]};if(pe.forEach(function(it){this.addElementPlacement(it,Ue)},this),pe.forEach(function(it){if(!g(it))return xe.push(it);var Me=this.decorateElement(it,Ue);xe.push(Me.element),xe.push.apply(xe,Me.extras),Ce.push.apply(Ce,Me.finishers)},this),!tt)return{elements:xe,finishers:Ce};var Te=this.decorateConstructor(xe,tt);return Ce.push.apply(Ce,Te.finishers),Te.finishers=Ce,Te},addElementPlacement:function(pe,tt,xe){var Ce=tt[pe.placement];if(!xe&&Ce.indexOf(pe.key)!==-1)throw new TypeError("Duplicated element ("+pe.key+")");Ce.push(pe.key)},decorateElement:function(pe,tt){for(var xe=[],Ce=[],Ue=pe.decorators,Te=Ue.length-1;Te>=0;Te--){var it=tt[pe.placement];it.splice(it.indexOf(pe.key),1);var Me=this.fromElementDescriptor(pe),mt=this.toElementFinisherExtras((0,Ue[Te])(Me)||Me);pe=mt.element,this.addElementPlacement(pe,tt),mt.finisher&&Ce.push(mt.finisher);var He=mt.extras;if(He){for(var We=0;We<He.length;We++)this.addElementPlacement(He[We],tt);xe.push.apply(xe,He)}}return{element:pe,finishers:Ce,extras:xe}},decorateConstructor:function(pe,tt){for(var xe=[],Ce=tt.length-1;Ce>=0;Ce--){var Ue=this.fromClassDescriptor(pe),Te=this.toClassDescriptor((0,tt[Ce])(Ue)||Ue);if(Te.finisher!==void 0&&xe.push(Te.finisher),Te.elements!==void 0){pe=Te.elements;for(var it=0;it<pe.length-1;it++)for(var Me=it+1;Me<pe.length;Me++)if(pe[it].key===pe[Me].key&&pe[it].placement===pe[Me].placement)throw new TypeError("Duplicated element ("+pe[it].key+")")}}return{elements:pe,finishers:xe}},fromElementDescriptor:function(pe){var tt={kind:pe.kind,key:pe.key,placement:pe.placement,descriptor:pe.descriptor};return Object.defineProperty(tt,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),pe.kind==="field"&&(tt.initializer=pe.initializer),tt},toElementDescriptors:function(pe){if(pe!==void 0)return(tt=pe,function(xe){if(Array.isArray(xe))return xe}(tt)||E(tt)||_(tt)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(xe){var Ce=this.toElementDescriptor(xe);return this.disallowProperty(xe,"finisher","An element descriptor"),this.disallowProperty(xe,"extras","An element descriptor"),Ce},this);var tt},toElementDescriptor:function(pe){var tt=pe.kind+"";if(tt!=="method"&&tt!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+tt+'"');var xe=Oe(pe.key),Ce=pe.placement+"";if(Ce!=="static"&&Ce!=="prototype"&&Ce!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+Ce+'"');var Ue=pe.descriptor;this.disallowProperty(pe,"elements","An element descriptor");var Te={kind:tt,key:xe,placement:Ce,descriptor:Object.assign({},Ue)};return tt!=="field"?this.disallowProperty(pe,"initializer","A method descriptor"):(this.disallowProperty(Ue,"get","The property descriptor of a field descriptor"),this.disallowProperty(Ue,"set","The property descriptor of a field descriptor"),this.disallowProperty(Ue,"value","The property descriptor of a field descriptor"),Te.initializer=pe.initializer),Te},toElementFinisherExtras:function(pe){return{element:this.toElementDescriptor(pe),finisher:b(pe,"finisher"),extras:this.toElementDescriptors(pe.extras)}},fromClassDescriptor:function(pe){var tt={kind:"class",elements:pe.map(this.fromElementDescriptor,this)};return Object.defineProperty(tt,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),tt},toClassDescriptor:function(pe){var tt=pe.kind+"";if(tt!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+tt+'"');this.disallowProperty(pe,"key","A class descriptor"),this.disallowProperty(pe,"placement","A class descriptor"),this.disallowProperty(pe,"descriptor","A class descriptor"),this.disallowProperty(pe,"initializer","A class descriptor"),this.disallowProperty(pe,"extras","A class descriptor");var xe=b(pe,"finisher");return{elements:this.toElementDescriptors(pe.elements),finisher:xe}},runClassFinishers:function(pe,tt){for(var xe=0;xe<tt.length;xe++){var Ce=(0,tt[xe])(pe);if(Ce!==void 0){if(typeof Ce!="function")throw new TypeError("Finishers must return a constructor.");pe=Ce}}return pe},disallowProperty:function(pe,tt,xe){if(pe[tt]!==void 0)throw new TypeError(xe+" can't have a ."+tt+" property.")}};return ve}function s(ve){var pe,tt=Oe(ve.key);ve.kind==="method"?pe={value:ve.value,writable:!0,configurable:!0,enumerable:!1}:ve.kind==="get"?pe={get:ve.value,configurable:!0,enumerable:!1}:ve.kind==="set"?pe={set:ve.value,configurable:!0,enumerable:!1}:ve.kind==="field"&&(pe={configurable:!0,writable:!0,enumerable:!0});var xe={kind:ve.kind==="field"?"field":"method",key:tt,placement:ve.static?"static":ve.kind==="field"?"own":"prototype",descriptor:pe};return ve.decorators&&(xe.decorators=ve.decorators),ve.kind==="field"&&(xe.initializer=ve.value),xe}function h(ve,pe){ve.descriptor.get!==void 0?pe.descriptor.get=ve.descriptor.get:pe.descriptor.set=ve.descriptor.set}function g(ve){return ve.decorators&&ve.decorators.length}function m(ve){return ve!==void 0&&!(ve.value===void 0&&ve.writable===void 0)}function b(ve,pe){var tt=ve[pe];if(tt!==void 0&&typeof tt!="function")throw new TypeError("Expected '"+pe+"' to be a function");return tt}function _(ve,pe){if(ve){if(typeof ve=="string")return R(ve,pe);var tt={}.toString.call(ve).slice(8,-1);return tt==="Object"&&ve.constructor&&(tt=ve.constructor.name),tt==="Map"||tt==="Set"?Array.from(ve):tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt)?R(ve,pe):void 0}}function E(ve){if(typeof Symbol<"u"&&ve[Symbol.iterator]!=null||ve["@@iterator"]!=null)return Array.from(ve)}function R(ve,pe){(pe==null||pe>ve.length)&&(pe=ve.length);for(var tt=0,xe=Array(pe);tt<pe;tt++)xe[tt]=ve[tt];return xe}function j(ve,pe){return pe||(pe=ve.slice(0)),Object.freeze(Object.defineProperties(ve,{raw:{value:Object.freeze(pe)}}))}function H(){var ve,pe,tt=typeof Symbol=="function"?Symbol:{},xe=tt.iterator||"@@iterator",Ce=tt.toStringTag||"@@toStringTag";function Ue(Ot,Ft,rt,oe){var Pe=Ft&&Ft.prototype instanceof it?Ft:it,Ze=Object.create(Pe.prototype);return G(Ze,"_invoke",function(Je,qe,M){var be,he,Ge,vt=0,kt=M||[],ce=!1,_e={p:0,n:0,v:ve,a:Re,f:Re.bind(ve,4),d:function(st,xt){return be=st,he=0,Ge=ve,_e.n=xt,Te}};function Re(st,xt){for(he=st,Ge=xt,pe=0;!ce&&vt&&!Mt&&pe<kt.length;pe++){var Mt,Bt=kt[pe],Rt=_e.p,qt=Bt[2];st>3?(Mt=qt===xt)&&(Ge=Bt[(he=Bt[4])?5:(he=3,3)],Bt[4]=Bt[5]=ve):Bt[0]<=Rt&&((Mt=st<2&&Rt<Bt[1])?(he=0,_e.v=xt,_e.n=Bt[1]):Rt<qt&&(Mt=st<3||Bt[0]>xt||xt>qt)&&(Bt[4]=st,Bt[5]=xt,_e.n=qt,he=0))}if(Mt||st>1)return Te;throw ce=!0,xt}return function(st,xt,Mt){if(vt>1)throw TypeError("Generator is already running");for(ce&&xt===1&&Re(xt,Mt),he=xt,Ge=Mt;(pe=he<2?ve:Ge)||!ce;){be||(he?he<3?(he>1&&(_e.n=-1),Re(he,Ge)):_e.n=Ge:_e.v=Ge);try{if(vt=2,be){if(he||(st="next"),pe=be[st]){if(!(pe=pe.call(be,Ge)))throw TypeError("iterator result is not an object");if(!pe.done)return pe;Ge=pe.value,he<2&&(he=0)}else he===1&&(pe=be.return)&&pe.call(be),he<2&&(Ge=TypeError("The iterator does not provide a '"+st+"' method"),he=1);be=ve}else if((pe=(ce=_e.n<0)?Ge:Je.call(qe,_e))!==Te)break}catch(Bt){be=ve,he=1,Ge=Bt}finally{vt=1}}return{value:pe,done:ce}}}(Ot,rt,oe),!0),Ze}var Te={};function it(){}function Me(){}function mt(){}pe=Object.getPrototypeOf;var He=[][xe]?pe(pe([][xe]())):(G(pe={},xe,function(){return this}),pe),We=mt.prototype=it.prototype=Object.create(He);function yt(Ot){return Object.setPrototypeOf?Object.setPrototypeOf(Ot,mt):(Ot.__proto__=mt,G(Ot,Ce,"GeneratorFunction")),Ot.prototype=Object.create(We),Ot}return Me.prototype=mt,G(We,"constructor",mt),G(mt,"constructor",Me),Me.displayName="GeneratorFunction",G(mt,Ce,"GeneratorFunction"),G(We),G(We,Ce,"Generator"),G(We,xe,function(){return this}),G(We,"toString",function(){return"[object Generator]"}),(H=function(){return{w:Ue,m:yt}})()}function G(ve,pe,tt,xe){var Ce=Object.defineProperty;try{Ce({},"",{})}catch(Ue){Ce=0}G=function(Ue,Te,it,Me){function mt(He,We){G(Ue,He,function(yt){return this._invoke(He,We,yt)})}Te?Ce?Ce(Ue,Te,{value:it,enumerable:!Me,configurable:!Me,writable:!Me}):Ue[Te]=it:(mt("next",0),mt("throw",1),mt("return",2))},G(ve,pe,tt,xe)}function q(ve,pe,tt,xe,Ce,Ue,Te){try{var it=ve[Ue](Te),Me=it.value}catch(mt){return void tt(mt)}it.done?pe(Me):Promise.resolve(Me).then(xe,Ce)}function K(ve){return function(){var pe=this,tt=arguments;return new Promise(function(xe,Ce){var Ue=ve.apply(pe,tt);function Te(Me){q(Ue,xe,Ce,Te,it,"next",Me)}function it(Me){q(Ue,xe,Ce,Te,it,"throw",Me)}Te(void 0)})}}function ue(ve,pe){if(!(ve instanceof pe))throw new TypeError("Cannot call a class as a function")}function te(ve,pe){for(var tt=0;tt<pe.length;tt++){var xe=pe[tt];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ve,Oe(xe.key),xe)}}function D(ve,pe,tt){return pe&&te(ve.prototype,pe),tt&&te(ve,tt),Object.defineProperty(ve,"prototype",{writable:!1}),ve}function J(ve,pe,tt){return pe=W(pe),function(xe,Ce){if(Ce&&(x(Ce)=="object"||typeof Ce=="function"))return Ce;if(Ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ue){if(Ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ue}(xe)}(ve,Q()?Reflect.construct(pe,tt||[],W(ve).constructor):pe.apply(ve,tt))}function Q(){try{var ve=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(pe){}return(Q=function(){return!!ve})()}function ne(ve,pe,tt,xe){var Ce=ie(W(1&xe?ve.prototype:ve),pe,tt);return 2&xe&&typeof Ce=="function"?function(Ue){return Ce.apply(tt,Ue)}:Ce}function ie(){return ie=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(ve,pe,tt){var xe=function(Ue,Te){for(;!{}.hasOwnProperty.call(Ue,Te)&&(Ue=W(Ue))!==null;);return Ue}(ve,pe);if(xe){var Ce=Object.getOwnPropertyDescriptor(xe,pe);return Ce.get?Ce.get.call(arguments.length<3?ve:tt):Ce.value}},ie.apply(null,arguments)}function W(ve){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},W(ve)}function V(ve,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");ve.prototype=Object.create(pe&&pe.prototype,{constructor:{value:ve,writable:!0,configurable:!0}}),Object.defineProperty(ve,"prototype",{writable:!1}),pe&&se(ve,pe)}function se(ve,pe){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,xe){return tt.__proto__=xe,tt},se(ve,pe)}function Ae(ve,pe,tt){return(pe=Oe(pe))in ve?Object.defineProperty(ve,pe,{value:tt,enumerable:!0,configurable:!0,writable:!0}):ve[pe]=tt,ve}function Oe(ve){var pe=function(tt){if(x(tt)!="object"||!tt)return tt;var xe=tt[Symbol.toPrimitive];if(xe!==void 0){var Ce=xe.call(tt,"string");if(x(Ce)!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tt)}(ve);return x(pe)=="symbol"?pe:pe+""}var je,De,Se,de,Xe,ht,nt,lt=window.BookReader,ot=function(ve){function pe(){var Ce;ue(this,pe);for(var Ue=arguments.length,Te=new Array(Ue),it=0;it<Ue;it++)Te[it]=arguments[it];return Ae(Ce=J(this,pe,[].concat(Te)),"options",{enabled:!0,openLibraryHost:"https://openlibrary.org",openLibraryId:"",internetArchiveId:"",olHost:"https://openlibrary.org",bookId:"{{bookId}}"}),Ae(Ce,"_tocEntries",void 0),Ae(Ce,"_chaptersPanel",void 0),Ce}return V(pe,ve),D(pe,[{key:"setup",value:function(Ce){ne(pe,"setup",this,3)([Ce]),this.options.internetArchiveId=this.options.internetArchiveId||this.options.bookId,this.options.openLibraryHost=this.options.openLibraryHost||this.options.olHost}},{key:"init",value:(xe=K(H().m(function Ce(){var Ue,Te,it,Me,mt=this;return H().w(function(He){for(;;)switch(He.n){case 0:if(this.options.enabled&&this.br.ui!=="embed"){He.n=1;break}return He.a(2);case 1:if(Te=null,(Ue=this.br.options.table_of_contents)===null||Ue===void 0||!Ue.length){He.n=2;break}Te=this.br.options.table_of_contents,He.n=4;break;case 2:return He.n=3,this.getOpenLibraryRecord();case 3:(Me=He.v)!=null&&(it=Me.table_of_contents)!==null&&it!==void 0&&it.length&&(Te=Me.table_of_contents);case 4:Te&&(this._tocEntries=Te.map(function(We){return Object.assign({},We,{pageIndex:typeof We.leaf=="number"?mt.br.book.leafNumToIndex(We.leaf):We.pagenum?mt.br.book.getPageIndex(We.pagenum):void 0})}),this._render(),this.br.bind(lt.eventNames.pageChanged,function(){return mt._updateCurrent()}));case 5:return He.a(2)}},Ce,this)})),function(){return xe.apply(this,arguments)})},{key:"_render",value:function(){var Ce=this;this.br.shell.menuProviders.chapters={id:"chapters",icon:(0,a.qy)(d||(d=j(['<ia-icon-toc aria-hidden="true" role="presentation" style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-toc>']))),label:"Table of Contents",component:(0,a.qy)(f||(f=j([`<br-chapters-panel
        .contents="`,`"
        .jumpToPage="`,`"
        @connected="`,`"
      />`])),this._tocEntries,function(Ue){Ce._updateCurrent(Ue),Ce.br.jumpToIndex(Ue,{ariaLive:!0})},function(Ue){Ce._chaptersPanel=Ue.target,Ce._updateCurrent()})},this.br.shell.addMenuShortcut("chapters"),this.br.shell.updateMenuContents(),this._tocEntries.forEach(function(Ue,Te){return Ce._renderMarker(Ue,Te)})}},{key:"_renderMarker",value:function(Ce,Ue){var Te=this;if(Ce.pageIndex!=null){var it=[Ce.label,Ce.title].filter(function(mt){return mt}).join(" ")||"Chapter ".concat(Ue+1),Me=lt.util.cssPercentage(Ce.pageIndex,this.br.book.getNumLeafs()-1);C("<div></div>").append(C("<div />").text(it).append(C('<div class="BRchapterPage" />').text(this.br.book.getPageName(Ce.pageIndex)))).addClass("BRchapter").css({left:Me}).appendTo(this.br.$(".BRnavline")).on("mouseenter",function(mt){var He=mt.currentTarget,We=He.querySelector("div"),yt=We.getBoundingClientRect(),Ot=He.getBoundingClientRect(),Ft=2*parseInt(getComputedStyle(We).paddingLeft);yt.x-Ft<0&&We.style.setProperty("transform","translateX(-".concat(Ot.left-Ft,"px)")),Te.br.$(".BRsearch,.BRchapter").removeClass("front"),C(mt.target).addClass("front")}).on("mouseleave",function(mt){return C(mt.target).removeClass("front")}).on("click",function(){Te._updateCurrent(Ce.pageIndex),Te.br.jumpToIndex(Ce.pageIndex,{ariaLive:!0})}),this.br.$(".BRchapter, .BRsearch").each(function(mt,He){var We=C(He);We.on("mouseenter",function(){return We.addClass("front")}).on("mouseleave",function(){return We.removeClass("front")})})}}},{key:"getOpenLibraryRecord",value:(tt=K(H().m(function Ce(){var Ue,Te,it,Me,mt,He;return H().w(function(We){for(;;)switch(We.n){case 0:if(Ue=(0,A.g)(this.options.openLibraryHost,this.br.options.vars),!this.options.openLibraryId){We.n=2;break}return Te=(0,A.g)(this.options.openLibraryId,this.br.options.vars),We.n=1,C.ajax({url:"".concat(Ue,"/books/").concat(Te,".json")});case 1:return We.a(2,We.v);case 2:if(!this.options.internetArchiveId){We.n=6;break}return Me=(0,A.g)(this.options.internetArchiveId,this.br.options.vars),mt="".concat(Ue,"/query.json?type=/type/edition&*=&"),We.n=3,C.ajax({url:mt+new URLSearchParams({ocaid:Me,limit:"1"})});case 3:if((He=We.v)&&He.length){We.n=5;break}return We.n=4,C.ajax({url:mt+new URLSearchParams({source_records:"ia:".concat(Me),limit:"1"})});case 4:He=We.v;case 5:return We.a(2,(it=He)===null||it===void 0?void 0:it[0]);case 6:return We.a(2,null)}},Ce,this)})),function(){return tt.apply(this,arguments)})},{key:"_updateCurrent",value:function(){var Ce,Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.br.mode==2?Math.max.apply(Math,function(Me){if(Array.isArray(Me))return R(Me)}(Ce=this.br.displayedIndices)||E(Ce)||_(Ce)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()):this.br.firstIndex,Te=this._tocEntries.filter(function(Me){return Me.pageIndex!=null}).reverse(),it=Te[Te.findIndex(function(Me){return Me.pageIndex<=Ue})];this._chaptersPanel&&(this._chaptersPanel.currentChapter=it)}}]);var tt,xe}(k.S);lt==null||lt.registerPlugin("chapters",ot),je=[(0,l.EM)("br-chapters-panel")],De=a.WF,Xe=S(),Se=function(ve){Xe.initializeInstanceElements(ve,nt.elements)},ht={F:de=function(ve){function pe(tt){var xe;return ue(this,pe),xe=J(this,pe),Se(xe),xe.contents=tt,xe}return V(pe,ve),D(pe)}(De),d:[{kind:"field",decorators:[(0,l.MZ)({type:Array})],key:"contents",value:function(){return[]}},{kind:"field",decorators:[(0,l.MZ)({type:Object})],key:"currentChapter",value:function(){return{}}},{kind:"field",key:"jumpToPage",value:function(){return function(){}}},{kind:"method",key:"render",value:function(){var ve=this;return(0,a.qy)(p||(p=j([`
    <ol>
      `,`
    </ol>
    `])),this.contents.map(function(pe){return ve.renderTOCEntry(pe)}))}},{kind:"method",key:"renderTOCEntry",value:function(ve){var pe=this,tt=[ve.label,ve.title].filter(function(Ce){return Ce}).join(" "),xe=ve.pageIndex!=null;return(0,a.qy)(v||(v=j([`
    <li
      class="
        BRtable-contents-el
        `,`
        `,`
      "
      style="`,`"
      data-event-click-tracking="`,`"
      @click="`,`"
    >
      `,`
      `,`
    </li>`])),xe?"clickable":"",ve==this.currentChapter?"current":"",(0,u.W)({marginLeft:10*(ve.level-1)+"px"}),(0,o.J)(xe?"BRTOCPanel|GoToChapter":void 0),function(){return pe.jumpToPage(ve.pageIndex)},tt,ve.pagenum?(0,a.qy)(y||(y=j([`
        <br />
        <span class="BRTOCElementPage">Page `,`</span>
      `])),ve.pagenum):a.s6)}},{kind:"method",key:"connectedCallback",value:function(){ne(de,"connectedCallback",this,3)([]),this.dispatchEvent(new CustomEvent("connected"))}},{kind:"method",key:"updated",value:function(ve){var pe;ve.has("currentChapter")&&((pe=this.shadowRoot.querySelector("li.current"))===null||pe===void 0||pe.scrollIntoView({block:"nearest",behavior:"smooth"}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,a.AH)(w||(w=j([`
      ol {
        padding: 0;
        margin: 0;
        margin-right: 5px;
      }
      li {
        padding: 10px;
        overflow: hidden;
        border-radius: 4px;
      }
      li.clickable {
        font-weight: normal;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      li.clickable:not(.current):hover {
        background-color: rgba(255,255,255, 0.05);
      }

      li.current {
        background-color: rgba(255,255,255,0.9);
        color: #333;
      }

      .BRTOCElementPage {
        font-size: 0.85em;
        opacity: .8;
      }`])))}}]},nt=Xe.decorateClass(function(ve){for(var pe=[],tt=function(Te){return Te.kind==="method"&&Te.key===Ue.key&&Te.placement===Ue.placement},xe=0;xe<ve.length;xe++){var Ce,Ue=ve[xe];if(Ue.kind==="method"&&(Ce=pe.find(tt)))if(m(Ue.descriptor)||m(Ce.descriptor)){if(g(Ue)||g(Ce))throw new ReferenceError("Duplicated methods ("+Ue.key+") can't be decorated.");Ce.descriptor=Ue.descriptor}else{if(g(Ue)){if(g(Ce))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+Ue.key+").");Ce.decorators=Ue.decorators}h(Ue,Ce)}else pe.push(Ue)}return pe}(ht.d.map(s)),je),Xe.initializeClassElements(ht.F,nt.elements),Xe.runClassFinishers(ht.F,nt.finishers)},2762:function(e,t,r){var a=r(6518),l=r(3802).trim;a({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},4535:function(e,t,r){r.d(t,{J:function(){return l}});var a=r(6681),l=function(o){return o!=null?o:a.s6}},9073:function(e,t,r){function a(u,n){(n==null||n>u.length)&&(n=u.length);for(var c=0,d=Array(n);c<n;c++)d[c]=u[c];return d}function l(u,n){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return u==null?void 0:u.replace(/\{\{([^}]*?)\}\}/g,function(f,p){if(!p)return f;var v,y=function(C){if(Array.isArray(C))return C}(v=p.split("|").map(function(C){return C.trim()}))||function(C){if(typeof Symbol<"u"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}(v)||function(C,x){if(C){if(typeof C=="string")return a(C,x);var S={}.toString.call(C).slice(8,-1);return S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set"?Array.from(C):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?a(C,x):void 0}}(v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=y[0],k=a(y).slice(1);if(!(w in c)&&!(w in n))return f;var A=w in c?c[w]:w in n?n[w]:null;return k.map(function(C){return d[C]}).reduce(function(C,x){return x(C)},A&&A.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=2117)}]);I2=pC,{default:L2}=I2,fC=en(I2,["default"]),D2=L2!==void 0?L2:fC;});var R2={};On(R2,{default:()=>D2});var j2=Wt(()=>{_g();_g()});var mC,B2,N2,gC,F2,kg=Wt(()=>{mC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[326],{296:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8706),r(2008),r(113),r(3418),r(3792),r(8598),r(2062),r(4782),r(6910),r(9572),r(2010),r(6033),r(8130),r(9085),r(875),r(6099),r(8459),r(3362),r(825),r(7495),r(8781),r(9449),r(7764),r(2762),r(2953);var a=r(4907),l=r(1041),o=r(9073),u=r(4565),n=r(4160),c=r(593),d=r(1669);function f(W){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},f(W)}var p=S().m(D),v=S().m(J),y=S().m(Q);function w(W){return function(V){if(Array.isArray(V))return x(V)}(W)||function(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}(W)||C(W)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(W,V){var se=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!se){if(Array.isArray(W)||(se=C(W))||V&&W&&typeof W.length=="number"){se&&(W=se);var Ae=0,Oe=function(){};return{s:Oe,n:function(){return Ae>=W.length?{done:!0}:{done:!1,value:W[Ae++]}},e:function(de){throw de},f:Oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var je,De=!0,Se=!1;return{s:function(){se=se.call(W)},n:function(){var de=se.next();return De=de.done,de},e:function(de){Se=!0,je=de},f:function(){try{De||se.return==null||se.return()}finally{if(Se)throw je}}}}function A(W,V){return function(se){if(Array.isArray(se))return se}(W)||function(se,Ae){var Oe=se==null?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(Oe!=null){var je,De,Se,de,Xe=[],ht=!0,nt=!1;try{if(Se=(Oe=Oe.call(se)).next,Ae===0){if(Object(Oe)!==Oe)return;ht=!1}else for(;!(ht=(je=Se.call(Oe)).done)&&(Xe.push(je.value),Xe.length!==Ae);ht=!0);}catch(lt){nt=!0,De=lt}finally{try{if(!ht&&Oe.return!=null&&(de=Oe.return(),Object(de)!==de))return}finally{if(nt)throw De}}return Xe}}(W,V)||C(W,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(W,V){if(W){if(typeof W=="string")return x(W,V);var se={}.toString.call(W).slice(8,-1);return se==="Object"&&W.constructor&&(se=W.constructor.name),se==="Map"||se==="Set"?Array.from(W):se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se)?x(W,V):void 0}}function x(W,V){(V==null||V>W.length)&&(V=W.length);for(var se=0,Ae=Array(V);se<V;se++)Ae[se]=W[se];return Ae}function S(){var W,V,se=typeof Symbol=="function"?Symbol:{},Ae=se.iterator||"@@iterator",Oe=se.toStringTag||"@@toStringTag";function je(ot,ve,pe,tt){var xe=ve&&ve.prototype instanceof Se?ve:Se,Ce=Object.create(xe.prototype);return s(Ce,"_invoke",function(Ue,Te,it){var Me,mt,He,We=0,yt=it||[],Ot=!1,Ft={p:0,n:0,v:W,a:rt,f:rt.bind(W,4),d:function(oe,Pe){return Me=oe,mt=0,He=W,Ft.n=Pe,De}};function rt(oe,Pe){for(mt=oe,He=Pe,V=0;!Ot&&We&&!Ze&&V<yt.length;V++){var Ze,Je=yt[V],qe=Ft.p,M=Je[2];oe>3?(Ze=M===Pe)&&(He=Je[(mt=Je[4])?5:(mt=3,3)],Je[4]=Je[5]=W):Je[0]<=qe&&((Ze=oe<2&&qe<Je[1])?(mt=0,Ft.v=Pe,Ft.n=Je[1]):qe<M&&(Ze=oe<3||Je[0]>Pe||Pe>M)&&(Je[4]=oe,Je[5]=Pe,Ft.n=M,mt=0))}if(Ze||oe>1)return De;throw Ot=!0,Pe}return function(oe,Pe,Ze){if(We>1)throw TypeError("Generator is already running");for(Ot&&Pe===1&&rt(Pe,Ze),mt=Pe,He=Ze;(V=mt<2?W:He)||!Ot;){Me||(mt?mt<3?(mt>1&&(Ft.n=-1),rt(mt,He)):Ft.n=He:Ft.v=He);try{if(We=2,Me){if(mt||(oe="next"),V=Me[oe]){if(!(V=V.call(Me,He)))throw TypeError("iterator result is not an object");if(!V.done)return V;He=V.value,mt<2&&(mt=0)}else mt===1&&(V=Me.return)&&V.call(Me),mt<2&&(He=TypeError("The iterator does not provide a '"+oe+"' method"),mt=1);Me=W}else if((V=(Ot=Ft.n<0)?He:Ue.call(Te,Ft))!==De)break}catch(Je){Me=W,mt=1,He=Je}finally{We=1}}return{value:V,done:Ot}}}(ot,pe,tt),!0),Ce}var De={};function Se(){}function de(){}function Xe(){}V=Object.getPrototypeOf;var ht=[][Ae]?V(V([][Ae]())):(s(V={},Ae,function(){return this}),V),nt=Xe.prototype=Se.prototype=Object.create(ht);function lt(ot){return Object.setPrototypeOf?Object.setPrototypeOf(ot,Xe):(ot.__proto__=Xe,s(ot,Oe,"GeneratorFunction")),ot.prototype=Object.create(nt),ot}return de.prototype=Xe,s(nt,"constructor",Xe),s(Xe,"constructor",de),de.displayName="GeneratorFunction",s(Xe,Oe,"GeneratorFunction"),s(nt),s(nt,Oe,"Generator"),s(nt,Ae,function(){return this}),s(nt,"toString",function(){return"[object Generator]"}),(S=function(){return{w:je,m:lt}})()}function s(W,V,se,Ae){var Oe=Object.defineProperty;try{Oe({},"",{})}catch(je){Oe=0}s=function(je,De,Se,de){function Xe(ht,nt){s(je,ht,function(lt){return this._invoke(ht,nt,lt)})}De?Oe?Oe(je,De,{value:Se,enumerable:!de,configurable:!de,writable:!de}):je[De]=Se:(Xe("next",0),Xe("throw",1),Xe("return",2))},s(W,V,se,Ae)}function h(W,V,se,Ae,Oe,je,De){try{var Se=W[je](De),de=Se.value}catch(Xe){return void se(Xe)}Se.done?V(de):Promise.resolve(de).then(Ae,Oe)}function g(W){return function(){var V=this,se=arguments;return new Promise(function(Ae,Oe){var je=W.apply(V,se);function De(de){h(je,Ae,Oe,De,Se,"next",de)}function Se(de){h(je,Ae,Oe,De,Se,"throw",de)}De(void 0)})}}function m(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}function b(W,V){for(var se=0;se<V.length;se++){var Ae=V[se];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(W,G(Ae.key),Ae)}}function _(W,V,se){return V&&b(W.prototype,V),se&&b(W,se),Object.defineProperty(W,"prototype",{writable:!1}),W}function E(){try{var W=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(V){}return(E=function(){return!!W})()}function R(W){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},R(W)}function j(W,V){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,Ae){return se.__proto__=Ae,se},j(W,V)}function H(W,V,se){return(V=G(V))in W?Object.defineProperty(W,V,{value:se,enumerable:!0,configurable:!0,writable:!0}):W[V]=se,W}function G(W){var V=function(se){if(f(se)!="object"||!se)return se;var Ae=se[Symbol.toPrimitive];if(Ae!==void 0){var Oe=Ae.call(se,"string");if(f(Oe)!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(W);return f(V)=="symbol"?V:V+""}var q=window.BookReader,K=function(W){function V(Oe){var je,De,Se,de;return m(this,V),H((De=this,de=[Oe],Se=R(Se=V),je=function(Xe,ht){if(ht&&(f(ht)=="object"||typeof ht=="function"))return ht;if(ht!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}(Xe)}(De,E()?Reflect.construct(Se,de||[],R(De).constructor):Se.apply(De,de))),"options",{enabled:!0,fullDjvuXmlUrl:null,singlePageDjvuXmlUrl:null,jsonp:!1,maxProtectedWords:200}),H(je,"djvuPagesPromise",null),H(je,"pageTextCache",new u.l),H(je,"maxWordRendered",2500),je.rtl=je.br.pageProgression==="rl",je.textSelectionManager=new c.bg(".BRtextLayer",je.br,{selectionElement:[".BRwordElement",".BRspace"]},je.options.maxProtectedWords),je}return function(Oe,je){if(typeof je!="function"&&je!==null)throw new TypeError("Super expression must either be null or a function");Oe.prototype=Object.create(je&&je.prototype,{constructor:{value:Oe,writable:!0,configurable:!0}}),Object.defineProperty(Oe,"prototype",{writable:!1}),je&&j(Oe,je)}(V,W),_(V,[{key:"init",value:function(){this.options.enabled&&(this.loadData(),this.textSelectionManager.init())}},{key:"_configurePageContainer",value:function(Oe){return this.br.mode!==this.br.constModeThumb&&Oe.page&&this.createTextLayer(Oe),Oe}},{key:"loadData",value:function(){this.options.singlePageDjvuXmlUrl||(this.djvuPagesPromise=d.ajax({type:"GET",url:(0,o.g)(this.options.fullDjvuXmlUrl,this.br.options.vars),dataType:this.options.jsonp?"jsonp":"html",cache:!0,xhrFields:{withCredentials:this.br.protected},error:function(Oe){}}).then(function(Oe){try{var je=d.parseXML(Oe);return je&&d(je).find("OBJECT")}catch(De){return}}))}},{key:"getPageText",value:(Ae=g(S().m(function Oe(je){var De,Se,de,Xe,ht;return S().w(function(nt){for(;;)switch(nt.p=nt.n){case 0:if(!this.options.singlePageDjvuXmlUrl){nt.n=5;break}if(!(De=this.pageTextCache.entries.find(function(lt){return lt.index==je}))){nt.n=1;break}return nt.a(2,De.response);case 1:return nt.n=2,d.ajax({type:"GET",url:(0,o.g)(this.options.singlePageDjvuXmlUrl,this.br.options.vars,{pageIndex:je}),dataType:this.options.jsonp?"jsonp":"html",cache:!0,xhrFields:{withCredentials:this.br.protected},error:function(lt){}});case 2:return Se=nt.v,nt.p=3,de=d.parseXML(Se),Xe=de&&d(de).find("OBJECT")[0],this.pageTextCache.add({index:je,response:Xe}),nt.a(2,Xe);case 4:return nt.p=4,nt.v,nt.a(2,void 0);case 5:return nt.n=6,this.djvuPagesPromise;case 6:if(!(ht=nt.v)){nt.n=7;break}return nt.a(2,ht[je]);case 7:return nt.a(2)}},Oe,this,[[3,4]])})),function(Oe){return Ae.apply(this,arguments)})},{key:"createTextLayer",value:(se=g(S().m(function Oe(je){var De,Se,de,Xe,ht,nt,lt,ot,ve,pe,tt,xe,Ce,Ue,Te,it,Me,mt,He,We,yt,Ot,Ft,rt,oe,Pe=this;return S().w(function(Ze){for(;;)switch(Ze.n){case 0:if(De=je.page.index,!(Se=je.$container).find(".BRtextLayer").length){Ze.n=1;break}return Ze.a(2);case 1:return Ze.n=2,this.getPageText(De);case 2:if(de=Ze.v){Ze.n=3;break}return Ze.a(2);case 3:if(d(de).find("WORD").filter(function(Je,qe){var M=A(qe.getAttribute("coords").split(",").map(parseFloat),4),be=M[0],he=M[3];if(be==0&&he==0)return console.error("Found invalid ocr word coordinates"),!0}).remove(),ne(de),!((Xe=d(de).find("WORD").length)>this.maxWordRendered)){Ze.n=4;break}return console.log("Page ".concat(De," has too many words (").concat(Xe," > ").concat(this.maxWordRendered,"). Not rendering text layer.")),Ze.a(2);case 4:return ht=(0,a.Ql)(je.page,"BRtextLayer"),Ze.n=5,Promise.resolve();case 5:nt=parseFloat(je.$container[0].style.width)/je.page.width,lt=parseFloat(je.$container[0].style.height)/je.page.height,ht.style.transform="scale(".concat(nt,", ").concat(lt,")"),(ot=(0,n.YH)(this.br.options.bookLanguage))&&ht.setAttribute("lang",ot),ht.setAttribute("dir",this.rtl?"rtl":"ltr"),ve=d(de).find("PARAGRAPH[coords]").toArray(),pe=ve.map(function(Je){var qe=Pe.renderParagraph(Je);return ht.appendChild(qe),qe}),tt=ue(ht,".BRparagraphElement"),xe=0,Ce=k(Q(ve,pe));try{for(Ce.s();!(Ue=Ce.n()).done;)Te=A(Ue.value,2),it=Te[0],Me=Te[1],mt=d(it).attr("coords").split(",").map(parseFloat),He=tt.get(Me),We=A(mt,4),yt=We[0],Ot=We[2],Ft=We[3],rt=this.rtl?He.right-Ot:yt-He.left,oe=Ft-(He.top+xe),Me.style[this.rtl?"marginRight":"marginLeft"]="".concat(rt,"px"),Me.style.marginTop="".concat(oe,"px"),xe+=oe,ht.appendChild(Me)}catch(Je){Ce.e(Je)}finally{Ce.f()}Se.append(ht),this.textSelectionManager.stopPageFlip(Se),this.br.trigger("textLayerRendered",{pageIndex:De,pageContainer:je});case 6:return Ze.a(2)}},Oe,this)})),function(Oe){return se.apply(this,arguments)})},{key:"renderParagraph",value:function(Oe){var je=document.createElement("p");je.classList.add("BRparagraphElement"),Oe.getAttribute("x-role")&&(je.classList.add("ocr-role-header-footer"),je.ariaHidden="true");var De=A(d(Oe).attr("coords").split(",").map(parseFloat),4),Se=De[0],de=De[1],Xe=De[2],ht=De[3],nt=[],lt=d(Oe).find("LINE[coords]").toArray();if(!lt.length)return je;var ot,ve=k(J(D(lt,te)));try{for(ve.s();!(ot=ve.n()).done;){var pe=A(ot.value,3),tt=pe[0],xe=pe[1],Ce=pe[2],Ue=xe.ocrElement==lt[lt.length-1],Te=document.createElement("span");Te.classList.add("BRlineElement");var it,Me=k(xe.words.entries());try{for(Me.s();!(it=Me.n()).done;){var mt=A(it.value,2),He=mt[0],We=mt[1],yt=A(d(We).attr("coords").split(",").map(parseFloat),4),Ot=yt[1],Ft=yt[2],rt=yt[3],oe=Ot-rt;if(nt.push(oe),He==0&&tt!=null&&tt.lastWord.textContent.trim().endsWith("-")){var Pe=A(d((Ce||tt).firstWord).attr("coords").split(",").map(parseFloat),3)[0];d(We).attr("coords","".concat(Pe,",").concat(Ot,",").concat(Ft,",").concat(rt))}var Ze=document.createElement("span");if(Ze.setAttribute("class","BRwordElement"),Ze.textContent=We.textContent.trim(),He>0){var Je=document.createElement("span");Je.classList.add("BRspace"),Je.textContent=" ",Je.setAttribute("aria-label","\xA0"),Te.append(Je),Te.appendChild(document.createTextNode(" "))}Te.appendChild(Ze)}}catch(Ri){Me.e(Ri)}finally{Me.f()}var qe=xe.lastWord.textContent.trim().endsWith("-"),M=Te.children[Te.children.length-1];qe&&!Ue&&(M.textContent=M.textContent.trim().slice(0,-1),M.classList.add("BRwordElement--hyphen")),je.appendChild(Te),Ue||qe||je.appendChild(document.createTextNode(" "))}}catch(Ri){ve.e(Ri)}finally{ve.f()}nt.sort(function(Ri,xi){return Ri-xi});var be=nt[Math.floor(.85*nt.length)]+4;je.style.left="".concat(Se,"px"),je.style.top="".concat(ht,"px"),je.style.width="".concat(Xe-Se,"px"),je.style.height="".concat(de-ht,"px"),je.style.fontSize="".concat(be,"px");var he,Ge=ue(je,".BRwordElement"),vt=k(Q(d(Oe).find("WORD").toArray(),je.querySelectorAll(".BRwordElement")));try{for(vt.s();!(he=vt.n()).done;){var kt=A(he.value,2),ce=kt[0],_e=kt[1],Re=Ge.get(_e),st=A(d(ce).attr("coords").split(",").map(parseFloat),3),xt=st[0],Mt=st[2]-xt;ce.textContent.endsWith(" ")&&(Mt=Mt*(ce.textContent.length-1)/ce.textContent.length);var Bt=Mt-Re.width;_e.style.letterSpacing="".concat(Bt/(ce.textContent.length-1),"px")}}catch(Ri){vt.e(Ri)}finally{vt.f()}Ge=ue(je,".BRwordElement");var Rt,qt=ue(je,".BRspace"),Be=d(Oe).find("LINE[coords]").toArray(),me=Array.from(je.querySelectorAll(".BRlineElement")),ze=ht,Ye=k(Q(Be,me));try{for(Ye.s();!(Rt=Ye.n()).done;){var ut,ft=A(Rt.value,2),dt=ft[0],at=ft[1],Fe=d(dt).find("WORD").toArray(),pt=this.rtl?Xe:Se,Ct=k(Q(Fe,at.querySelectorAll(".BRwordElement")));try{for(Ct.s();!(ut=Ct.n()).done;){var Nt=A(ut.value,2),ke=Nt[0],It=Nt[1],Dt=Ge.get(It),Et=A(d(ke).attr("coords").split(",").map(parseFloat),3),ui=Et[0],ki=Et[2],vi=this.rtl?-(ki-pt):ui-pt;if(It.previousElementSibling){var nr=It.previousElementSibling;nr.style.letterSpacing="".concat(vi-qt.get(nr).width,"px")}else It.style[this.rtl?"paddingRight":"paddingLeft"]="".concat(vi,"px");this.rtl?pt-=vi+Dt.width:pt+=vi+Dt.width}}catch(Ri){Ct.e(Ri)}finally{Ct.f()}var Li=Math.min.apply(Math,w(Fe.map(function(Ri){return parseFloat(d(Ri).attr("coords").split(",")[3])})))-ze;at.previousElementSibling&&(at.previousElementSibling.style.lineHeight="".concat(Li,"px"),ze+=Li)}}catch(Ri){Ye.e(Ri)}finally{Ye.f()}return me[me.length-1].style.lineHeight="".concat(de-ze,"px"),je.appendChild(document.createElement("br")),je}}]);var se,Ae}(l.S);function ue(W,V){var se={position:W.style.position,visibility:W.style.visibility,top:W.style.top,left:W.style.left,transform:W.style.transform};W.style.position="absolute",W.style.visibility="hidden",W.style.top="0",W.style.left="0",W.style.transform="none",document.body.appendChild(W);var Ae=new Map(Array.from(W.querySelectorAll(V)).map(function(Oe){var je=Oe.getBoundingClientRect();return[Oe,new ie(je.left+window.scrollX,je.top+window.scrollY,je.width,je.height)]}));return document.body.removeChild(W),Object.assign(W.style,se),Ae}function te(W){var V=d(W).find("WORD").toArray();return{ocrElement:W,words:V,firstWord:V[0],lastWord:V[V.length-1]}}function D(W,V){var se,Ae,Oe,je;return S().w(function(De){for(;;)switch(De.p=De.n){case 0:se=k(W),De.p=1,se.s();case 2:if((Ae=se.n()).done){De.n=4;break}return Oe=Ae.value,De.n=3,V(Oe);case 3:De.n=2;break;case 4:De.n=6;break;case 5:De.p=5,je=De.v,se.e(je);case 6:return De.p=6,se.f(),De.f(6);case 7:return De.a(2)}},p,null,[[1,5,6,7]])}function J(W){var V,se,Ae,Oe,je,De,Se;return S().w(function(de){for(;;)switch(de.p=de.n){case 0:V=void 0,se=void 0,Ae=void 0,Oe=k(W),de.p=1,Oe.s();case 2:if((je=Oe.n()).done){de.n=5;break}if(De=je.value,se===void 0){de.n=3;break}return Ae=De,de.n=3,[V,se,Ae];case 3:V=se,se=De,Ae=void 0;case 4:de.n=2;break;case 5:de.n=7;break;case 6:de.p=6,Se=de.v,Oe.e(Se);case 7:return de.p=7,Oe.f(),de.f(7);case 8:if(se===void 0){de.n=9;break}return de.n=9,[V,se,Ae];case 9:return de.a(2)}},v,null,[[1,6,7,8]])}function Q(W,V){var se,Ae,Oe,je;return S().w(function(De){for(;;)switch(De.n){case 0:se=W[Symbol.iterator](),Ae=V[Symbol.iterator]();case 1:if(Oe=se.next(),je=Ae.next(),!Oe.done||!je.done){De.n=2;break}return De.a(2);case 2:if(!Oe.done&&!je.done){De.n=3;break}throw new Error("zip: one of the iterators is done");case 3:return De.n=4,[Oe.value,je.value];case 4:De.n=1;break;case 5:return De.a(2)}},y)}function ne(W){if(!d(W).attr("coords")&&W.children){var V=d(W).children().toArray();if(V.length!==0){var se,Ae=k(V);try{for(Ae.s();!(se=Ae.n()).done;)ne(se.value)}catch(Xe){Ae.e(Xe)}finally{Ae.f()}var Oe,je=[],De=k(V);try{for(De.s();!(Oe=De.n()).done;){var Se=Oe.value;d(Se).attr("coords")&&je.push(d(Se).attr("coords").split(",").map(parseFloat))}}catch(Xe){De.e(Xe)}finally{De.f()}var de=function(Xe){var ht,nt=1/0,lt=-1/0,ot=-1/0,ve=1/0,pe=k(Xe);try{for(pe.s();!(ht=pe.n()).done;){var tt=A(ht.value,4),xe=tt[0],Ce=tt[1],Ue=tt[2],Te=tt[3];nt=Math.min(nt,xe),lt=Math.max(lt,Ce),ot=Math.max(ot,Ue),ve=Math.min(ve,Te)}}catch(it){pe.e(it)}finally{pe.f()}return[nt,lt,ot,ve]}(je);Math.abs(de[0])!=1/0&&d(W).attr("coords",de.join(","))}}}q==null||q.registerPlugin("textSelection",K);var ie=function(){return _(function W(V,se,Ae,Oe){m(this,W),this.x=V,this.y=se,this.width=Ae,this.height=Oe},[{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"top",get:function(){return this.y}},{key:"left",get:function(){return this.x}}])}()},593:function(e,t,r){r.d(t,{bg:function(){return h}}),r(2675),r(9463),r(2259),r(5700),r(113),r(3418),r(3792),r(8598),r(4782),r(9572),r(2010),r(8130),r(875),r(6099),r(3362),r(7495),r(8781),r(7764),r(5440),r(2953);var a=r(1669);function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(b)}function o(b,_){for(var E=0;E<_.length;E++){var R=_[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(b,n(R.key),R)}}function u(b,_,E){return(_=n(_))in b?Object.defineProperty(b,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[_]=E,b}function n(b){var _=function(E){if(l(E)!="object"||!E)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var j=R.call(E,"string");if(l(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(b);return l(_)=="symbol"?_:_+""}var c=function(){return b=function E(R,j){var H=this;(function(G,q){if(!(G instanceof q))throw new TypeError("Cannot call a class as a function")})(this,E),u(this,"selecting",!1),u(this,"startedInSelector",!1),u(this,"target",null),u(this,"_onSelectionChange",function(){var G=window.getSelection();if(!H.selecting&&G.toString()){var q=a(G.anchorNode).closest(H.selector)[0];if(!q)return;H.target=q,H.selecting=!0,H.handler("started",H.target)}!H.selecting||!G.isCollapsed&&G.toString()&&a(G.anchorNode).closest(H.selector)[0]||(H.selecting=!1,H.handler("cleared",H.target))}),this.selector=R,this.handler=j},(_=[{key:"attach",value:function(){document.addEventListener("selectionchange",this._onSelectionChange)}},{key:"detach",value:function(){document.removeEventListener("selectionchange",this._onSelectionChange)}}])&&o(b.prototype,_),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,_}(),d=r(1669);function f(b){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(b)}function p(b){if(b!=null){var _=b[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],E=0;if(_)return _.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length))return{next:function(){return b&&E>=b.length&&(b=void 0),{value:b&&b[E++],done:!b}}}}throw new TypeError(f(b)+" is not iterable")}function v(){var b,_,E=typeof Symbol=="function"?Symbol:{},R=E.iterator||"@@iterator",j=E.toStringTag||"@@toStringTag";function H(Q,ne,ie,W){var V=ne&&ne.prototype instanceof q?ne:q,se=Object.create(V.prototype);return y(se,"_invoke",function(Ae,Oe,je){var De,Se,de,Xe=0,ht=je||[],nt=!1,lt={p:0,n:0,v:b,a:ot,f:ot.bind(b,4),d:function(ve,pe){return De=ve,Se=0,de=b,lt.n=pe,G}};function ot(ve,pe){for(Se=ve,de=pe,_=0;!nt&&Xe&&!tt&&_<ht.length;_++){var tt,xe=ht[_],Ce=lt.p,Ue=xe[2];ve>3?(tt=Ue===pe)&&(de=xe[(Se=xe[4])?5:(Se=3,3)],xe[4]=xe[5]=b):xe[0]<=Ce&&((tt=ve<2&&Ce<xe[1])?(Se=0,lt.v=pe,lt.n=xe[1]):Ce<Ue&&(tt=ve<3||xe[0]>pe||pe>Ue)&&(xe[4]=ve,xe[5]=pe,lt.n=Ue,Se=0))}if(tt||ve>1)return G;throw nt=!0,pe}return function(ve,pe,tt){if(Xe>1)throw TypeError("Generator is already running");for(nt&&pe===1&&ot(pe,tt),Se=pe,de=tt;(_=Se<2?b:de)||!nt;){De||(Se?Se<3?(Se>1&&(lt.n=-1),ot(Se,de)):lt.n=de:lt.v=de);try{if(Xe=2,De){if(Se||(ve="next"),_=De[ve]){if(!(_=_.call(De,de)))throw TypeError("iterator result is not an object");if(!_.done)return _;de=_.value,Se<2&&(Se=0)}else Se===1&&(_=De.return)&&_.call(De),Se<2&&(de=TypeError("The iterator does not provide a '"+ve+"' method"),Se=1);De=b}else if((_=(nt=lt.n<0)?de:Ae.call(Oe,lt))!==G)break}catch(xe){De=b,Se=1,de=xe}finally{Xe=1}}return{value:_,done:nt}}}(Q,ie,W),!0),se}var G={};function q(){}function K(){}function ue(){}_=Object.getPrototypeOf;var te=[][R]?_(_([][R]())):(y(_={},R,function(){return this}),_),D=ue.prototype=q.prototype=Object.create(te);function J(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,ue):(Q.__proto__=ue,y(Q,j,"GeneratorFunction")),Q.prototype=Object.create(D),Q}return K.prototype=ue,y(D,"constructor",ue),y(ue,"constructor",K),K.displayName="GeneratorFunction",y(ue,j,"GeneratorFunction"),y(D),y(D,j,"Generator"),y(D,R,function(){return this}),y(D,"toString",function(){return"[object Generator]"}),(v=function(){return{w:H,m:J}})()}function y(b,_,E,R){var j=Object.defineProperty;try{j({},"",{})}catch(H){j=0}y=function(H,G,q,K){function ue(te,D){y(H,te,function(J){return this._invoke(te,D,J)})}G?j?j(H,G,{value:q,enumerable:!K,configurable:!K,writable:!K}):H[G]=q:(ue("next",0),ue("throw",1),ue("return",2))},y(b,_,E,R)}var w=v().m(g),k=v().m(m);function A(b,_){var E=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!E){if(Array.isArray(b)||(E=function(K,ue){if(K){if(typeof K=="string")return C(K,ue);var te={}.toString.call(K).slice(8,-1);return te==="Object"&&K.constructor&&(te=K.constructor.name),te==="Map"||te==="Set"?Array.from(K):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?C(K,ue):void 0}}(b))||_&&b&&typeof b.length=="number"){E&&(b=E);var R=0,j=function(){};return{s:j,n:function(){return R>=b.length?{done:!0}:{done:!1,value:b[R++]}},e:function(K){throw K},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,G=!0,q=!1;return{s:function(){E=E.call(b)},n:function(){var K=E.next();return G=K.done,K},e:function(K){q=!0,H=K},f:function(){try{G||E.return==null||E.return()}finally{if(q)throw H}}}}function C(b,_){(_==null||_>b.length)&&(_=b.length);for(var E=0,R=Array(_);E<_;E++)R[E]=b[E];return R}function x(b,_){for(var E=0;E<_.length;E++){var R=_[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(b,s(R.key),R)}}function S(b,_,E){return(_=s(_))in b?Object.defineProperty(b,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[_]=E,b}function s(b){var _=function(E){if(f(E)!="object"||!E)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var j=R.call(E,"string");if(f(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(b);return f(_)=="symbol"?_:_+""}var h=function(){return b=function E(R,j,H,G){var q=this,K=H.selectionElement;(function(ue,te){if(!(ue instanceof te))throw new TypeError("Cannot call a class as a function")})(this,E),S(this,"options",{maxProtectedWords:200}),S(this,"_onSelectionChange",function(ue,te){if(ue==="started")q.textSelectingMode(te);else{if(ue!=="cleared")throw new Error("Unknown type ".concat(ue));q.defaultMode(te)}}),S(this,"_limitSelection",function(){var ue=window.getSelection();if(ue.rangeCount){var te=ue.getRangeAt(0),D=!!te.startContainer.parentElement.closest(".BRcontainer"),J=!!te.endContainer.parentElement.closest(".BRcontainer");if(D||J)if(D&&J){var Q=function(ie,W){var V,se=0,Ae=A(ie);try{for(Ae.s();!(V=Ae.n()).done;){var Oe=V.value;if(se==W)return Oe;se++}}catch(je){Ae.e(je)}finally{Ae.f()}}(g(m(te.startContainer,te.endContainer),function(ie){var W;return(W=ie.classList)===null||W===void 0?void 0:W.contains(q.selectionElement[0].replace(".",""))}),q.options.maxProtectedWords-1);if(Q&&te.endContainer.parentNode!=Q){var ne=document.createRange();ne.setStart(te.startContainer,te.startOffset),ne.setEnd(Q.firstChild,Q.textContent.length),ue.removeAllRanges(),ue.addRange(ne)}}else ue.removeAllRanges()}}),this.layer=R,this.br=j,this.selectionElement=K,this.selectionObserver=new c(this.layer,this._onSelectionChange),this.options.maxProtectedWords=G||200},_=[{key:"init",value:function(){var E=this;this.attach(),new c(this.layer,function(R){var j;R=="started"&&((j=E.br.plugins.archiveAnalytics)===null||j===void 0||j.sendEvent("BookReader","SelectStart"),E.br.refs.$br.find(".BRpagecontainer--hasSelection").removeClass("BRpagecontainer--hasSelection"),d(window.getSelection().anchorNode).closest(".BRpagecontainer").addClass("BRpagecontainer--hasSelection"))}).attach()}},{key:"attach",value:function(){var E=this;this.selectionObserver.attach(),this.br.protected&&(document.addEventListener("selectionchange",this._limitSelection),d(document.body).on("contextmenu dragstart copy",function(R){var j=document.getSelection();if(j!=null&&j.toString()&&d(E.layer).toArray().some(function(H){return j.containsNode(H,!0)}))return R.preventDefault(),!1}))}},{key:"detach",value:function(){this.selectionObserver.detach(),this.br.protected&&document.removeEventListener("selectionchange",this._limitSelection)}},{key:"interceptCopy",value:function(E){E[0].addEventListener("copy",function(R){var j=document.getSelection();R.clipboardData.setData("text/plain",j.toString()),R.preventDefault()})}},{key:"stopPageFlip",value:function(E){var R=this,j=E.find(this.layer);j.length&&(j.each(function(H,G){return R.defaultMode(G)}),this.br.protected||this.interceptCopy(E))}},{key:"defaultMode",value:function(E){var R=this,j=d(E).closest(".BRpagecontainer");E.style.pointerEvents="none",j.find("img").css("pointer-events","auto"),d(E).off(".textSelectPluginHandler");var H=this.mouseIsDown,G=this.mouseIsDown;H&&(E.style.pointerEvents="auto"),d(E).on("mousedown.textSelectPluginHandler",function(q){R.mouseIsDown=!0,d(q.target).is(R.selectionElement.join(", "))&&q.stopPropagation()}),d(E).on("mouseup.textSelectPluginHandler",function(q){R.mouseIsDown=!1,E.style.pointerEvents="none",G&&(G=!1,q.stopPropagation())})}},{key:"textSelectingMode",value:function(E){var R=this,j=d(E).closest(".BRpagecontainer");E.style.pointerEvents="all",j.find("img").css("pointer-events","none"),d(E).off(".textSelectPluginHandler"),d(E).on("mousedown.textSelectPluginHandler",function(H){R.mouseIsDown=!0,H.stopPropagation()}),d(E).on("mouseup.textSelectPluginHandler",function(H){R.mouseIsDown=!1,H.stopPropagation()})}}],_&&x(b.prototype,_),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,_}();function g(b,_){var E,R,j,H;return v().w(function(G){for(;;)switch(G.p=G.n){case 0:E=A(b),G.p=1,E.s();case 2:if((R=E.n()).done){G.n=4;break}if(j=R.value,!_(j)){G.n=3;break}return G.n=3,j;case 3:G.n=2;break;case 4:G.n=6;break;case 5:G.p=5,H=G.v,E.e(H);case 6:return G.p=6,E.f(),G.f(6);case 7:return G.a(2)}},w,null,[[1,5,6,7]])}function m(b,_){var E,R;return v().w(function(j){for(;;)switch(j.n){case 0:return R=function(H){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=G.children,K=q===void 0||q,ue=G.parents,te=ue===void 0||ue,D=G.siblings,J=D===void 0||D;return v().m(function Q(){var ne;return v().w(function(ie){for(;;)switch(ie.n){case 0:if(H!==_){ie.n=2;break}return E=!0,ie.n=1,H;case 1:return ie.a(2);case 2:return ie.n=3,H;case 3:if(!K||!H.firstChild){ie.n=5;break}return ie.d(p(R(H.firstChild,{children:!0,parents:!1,siblings:!0})),4);case 4:if(!E){ie.n=5;break}return ie.a(2);case 5:if(!J){ie.n=9;break}ne=H.nextSibling;case 6:if(!ne){ie.n=9;break}return ie.d(p(R(ne,{children:!0,parents:!1,siblings:!1})),7);case 7:if(!E){ie.n=8;break}return ie.a(2);case 8:ne=ne.nextSibling,ie.n=6;break;case 9:if(!te||!H.parentNode){ie.n=11;break}return ie.d(p(R(H.parentNode,{children:!1,parents:!0,siblings:!0})),10);case 10:if(!E){ie.n=11;break}return ie.a(2);case 11:return ie.a(2)}},Q)})()},E=!1,j.d(p(R(b)),1);case 1:return j.a(2)}},k)}},706:function(e,t,r){var a=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(u){return l(function(){return!!o[u]()||"\u200B\x85\u180E"[u]()!=="\u200B\x85\u180E"||a&&o[u].name!==u})}},1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{S:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var u=function(){return n=function d(f){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.br=f,this.options},(c=[{key:"setup",value:function(d){this.options=Object.assign({},this.options,d)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(d){}},{key:"_configureToolbar",value:function(d){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(d){}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},2762:function(e,t,r){var a=r(6518),l=r(3802).trim;a({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},4160:function(e,t,r){r.d(t,{$x:function(){return C},EF:function(){return f},ND:function(){return A},m0:function(){return p},YH:function(){return y},_4:function(){return w}}),r(2675),r(9463),r(2259),r(3418),r(4423),r(3792),r(4782),r(2010),r(875),r(6099),r(3362),r(7495),r(8781),r(1699),r(7764),r(1761),r(2953);var a=[],l={},o={},u={};[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u0623\u06C7\u0632\u0628\u06D0\u0643","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, ","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]].forEach(x=>{var S={name:x[0],nativeName:x[1],iso639_1:x[2],iso639_2T:x[3],iso639_2B:x[4]};l[x[2]]=o[x[3]]=u[x[4]]=S,a.push(S)});var n=a;function c(x,S){var s=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!s){if(Array.isArray(x)||(s=function(E,R){if(E){if(typeof E=="string")return d(E,R);var j={}.toString.call(E).slice(8,-1);return j==="Object"&&E.constructor&&(j=E.constructor.name),j==="Map"||j==="Set"?Array.from(E):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?d(E,R):void 0}}(x))||S&&x&&typeof x.length=="number"){s&&(x=s);var h=0,g=function(){};return{s:g,n:function(){return h>=x.length?{done:!0}:{done:!1,value:x[h++]}},e:function(E){throw E},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,b=!0,_=!1;return{s:function(){s=s.call(x)},n:function(){var E=s.next();return b=E.done,E},e:function(E){_=!0,m=E},f:function(){try{b||s.return==null||s.return()}finally{if(_)throw m}}}}function d(x,S){(S==null||S>x.length)&&(S=x.length);for(var s=0,h=Array(S);s<S;s++)h[s]=x[s];return h}function f(x){var S=x.match(/\S+/g);return S?S.length:0}function p(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(x)}var v={"zh-hans":"\u4E2D\u6587 (Zh\u014Dngw\xE9n)"};function y(x){if(!x)return null;if(x=x.toLocaleLowerCase(),v[x])return x;var S=k(x,["iso639_1"])||k(x,["iso639_2T"])||k(x,["iso639_2B","name","nativeName"]);return S?S.iso639_1:null}function w(x){if(!x)return null;if(x=x.toLocaleLowerCase(),v[x])return v[x];var S=k(x,["iso639_1"])||k(x,["iso639_2T"])||k(x,["iso639_2B","name","nativeName"]);return S!=null&&S.nativeName?S.nativeName.split(", ")[0]:null}function k(x,S){if(!x)return null;x=x.toLowerCase();var s,h=c(n);try{for(h.s();!(s=h.n()).done;){var g,m=s.value,b=c(S);try{for(b.s();!(g=b.n()).done;){var _;if((_=m[g.value])!==null&&_!==void 0&&_.toLowerCase().split(", ").includes(x))return m}}catch(E){b.e(E)}finally{b.f()}}}catch(E){h.e(E)}finally{h.f()}return null}function A(){try{return!!window.localStorage}catch(x){return!1}}var C=location.toString().indexOf("_debugReadAloud=true")!=-1},4565:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{l:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(6099),r(7764),r(2953);var u=function(){return n=function d(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.maxSize=f,this.entries=[]},(c=[{key:"add",value:function(d){this.entries.length>=this.maxSize&&this.entries.shift(),this.entries.push(d)}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},9073:function(e,t,r){function a(u,n){(n==null||n>u.length)&&(n=u.length);for(var c=0,d=Array(n);c<n;c++)d[c]=u[c];return d}function l(u,n){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return u==null?void 0:u.replace(/\{\{([^}]*?)\}\}/g,function(f,p){if(!p)return f;var v,y=function(C){if(Array.isArray(C))return C}(v=p.split("|").map(function(C){return C.trim()}))||function(C){if(typeof Symbol<"u"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}(v)||function(C,x){if(C){if(typeof C=="string")return a(C,x);var S={}.toString.call(C).slice(8,-1);return S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set"?Array.from(C):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?a(C,x):void 0}}(v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=y[0],k=a(y).slice(1);if(!(w in c)&&!(w in n))return f;var A=w in c?c[w]:w in n?n[w]:null;return k.map(function(C){return d[C]}).reduce(function(C,x){return x(C)},A&&A.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=296)}]);B2=mC,{default:N2}=B2,gC=en(B2,["default"]),F2=N2!==void 0?N2:gC;});var z2={};On(z2,{default:()=>F2});var H2=Wt(()=>{kg();kg()});var e_={};On(e_,{BroadcastChannel:()=>Fh,MessageChannel:()=>zh,MessagePort:()=>Hh,SHARE_ENV:()=>q2,Worker:()=>Uh,default:()=>vC,getEnvironmentData:()=>K2,isMainThread:()=>U2,markAsUntransferable:()=>Z2,moveMessagePortToContext:()=>J2,parentPort:()=>W2,receiveMessageOnPort:()=>X2,resourceLimits:()=>V2,setEnvironmentData:()=>Q2,threadId:()=>G2,workerData:()=>Y2});function Qa(){throw new Error('[esm.sh] "node:worker_threads" is not supported in browser environment.')}function K2(){Qa()}function Z2(){Qa()}function J2(){Qa()}function X2(){Qa()}function Q2(){Qa()}var U2,W2,V2,q2,G2,Y2,Fh,zh,Hh,Uh,vC,t_=Wt(()=>{U2=!0,W2=null,V2={maxYoungGenerationSizeMb:0,maxOldGenerationSizeMb:0,codeRangeSizeMb:0,stackSizeMb:0},q2=Symbol("worker_threads.SHARE_ENV"),G2=0,Y2=void 0;Fh=class{constructor(){Qa()}},zh=class{constructor(){Qa()}},Hh=class{constructor(){Qa()}},Uh=class{constructor(){Qa()}},vC={isMainThread:U2,parentPort:W2,resourceLimits:V2,SHARE_ENV:q2,threadId:G2,workerData:Y2,getEnvironmentData:K2,markAsUntransferable:Z2,moveMessagePortToContext:J2,receiveMessageOnPort:X2,setEnvironmentData:Q2,BroadcastChannel:Fh,MessageChannel:zh,MessagePort:Hh,Worker:Uh}});var bC,i_,r_,yC,n_,xg=Wt(()=>{bC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[444],{593:function(e,t,r){r.d(t,{bg:function(){return h}}),r(2675),r(9463),r(2259),r(5700),r(113),r(3418),r(3792),r(8598),r(4782),r(9572),r(2010),r(8130),r(875),r(6099),r(3362),r(7495),r(8781),r(7764),r(5440),r(2953);var a=r(1669);function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(b)}function o(b,_){for(var E=0;E<_.length;E++){var R=_[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(b,n(R.key),R)}}function u(b,_,E){return(_=n(_))in b?Object.defineProperty(b,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[_]=E,b}function n(b){var _=function(E){if(l(E)!="object"||!E)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var j=R.call(E,"string");if(l(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(b);return l(_)=="symbol"?_:_+""}var c=function(){return b=function E(R,j){var H=this;(function(G,q){if(!(G instanceof q))throw new TypeError("Cannot call a class as a function")})(this,E),u(this,"selecting",!1),u(this,"startedInSelector",!1),u(this,"target",null),u(this,"_onSelectionChange",function(){var G=window.getSelection();if(!H.selecting&&G.toString()){var q=a(G.anchorNode).closest(H.selector)[0];if(!q)return;H.target=q,H.selecting=!0,H.handler("started",H.target)}!H.selecting||!G.isCollapsed&&G.toString()&&a(G.anchorNode).closest(H.selector)[0]||(H.selecting=!1,H.handler("cleared",H.target))}),this.selector=R,this.handler=j},(_=[{key:"attach",value:function(){document.addEventListener("selectionchange",this._onSelectionChange)}},{key:"detach",value:function(){document.removeEventListener("selectionchange",this._onSelectionChange)}}])&&o(b.prototype,_),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,_}(),d=r(1669);function f(b){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(b)}function p(b){if(b!=null){var _=b[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],E=0;if(_)return _.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length))return{next:function(){return b&&E>=b.length&&(b=void 0),{value:b&&b[E++],done:!b}}}}throw new TypeError(f(b)+" is not iterable")}function v(){var b,_,E=typeof Symbol=="function"?Symbol:{},R=E.iterator||"@@iterator",j=E.toStringTag||"@@toStringTag";function H(Q,ne,ie,W){var V=ne&&ne.prototype instanceof q?ne:q,se=Object.create(V.prototype);return y(se,"_invoke",function(Ae,Oe,je){var De,Se,de,Xe=0,ht=je||[],nt=!1,lt={p:0,n:0,v:b,a:ot,f:ot.bind(b,4),d:function(ve,pe){return De=ve,Se=0,de=b,lt.n=pe,G}};function ot(ve,pe){for(Se=ve,de=pe,_=0;!nt&&Xe&&!tt&&_<ht.length;_++){var tt,xe=ht[_],Ce=lt.p,Ue=xe[2];ve>3?(tt=Ue===pe)&&(de=xe[(Se=xe[4])?5:(Se=3,3)],xe[4]=xe[5]=b):xe[0]<=Ce&&((tt=ve<2&&Ce<xe[1])?(Se=0,lt.v=pe,lt.n=xe[1]):Ce<Ue&&(tt=ve<3||xe[0]>pe||pe>Ue)&&(xe[4]=ve,xe[5]=pe,lt.n=Ue,Se=0))}if(tt||ve>1)return G;throw nt=!0,pe}return function(ve,pe,tt){if(Xe>1)throw TypeError("Generator is already running");for(nt&&pe===1&&ot(pe,tt),Se=pe,de=tt;(_=Se<2?b:de)||!nt;){De||(Se?Se<3?(Se>1&&(lt.n=-1),ot(Se,de)):lt.n=de:lt.v=de);try{if(Xe=2,De){if(Se||(ve="next"),_=De[ve]){if(!(_=_.call(De,de)))throw TypeError("iterator result is not an object");if(!_.done)return _;de=_.value,Se<2&&(Se=0)}else Se===1&&(_=De.return)&&_.call(De),Se<2&&(de=TypeError("The iterator does not provide a '"+ve+"' method"),Se=1);De=b}else if((_=(nt=lt.n<0)?de:Ae.call(Oe,lt))!==G)break}catch(xe){De=b,Se=1,de=xe}finally{Xe=1}}return{value:_,done:nt}}}(Q,ie,W),!0),se}var G={};function q(){}function K(){}function ue(){}_=Object.getPrototypeOf;var te=[][R]?_(_([][R]())):(y(_={},R,function(){return this}),_),D=ue.prototype=q.prototype=Object.create(te);function J(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,ue):(Q.__proto__=ue,y(Q,j,"GeneratorFunction")),Q.prototype=Object.create(D),Q}return K.prototype=ue,y(D,"constructor",ue),y(ue,"constructor",K),K.displayName="GeneratorFunction",y(ue,j,"GeneratorFunction"),y(D),y(D,j,"Generator"),y(D,R,function(){return this}),y(D,"toString",function(){return"[object Generator]"}),(v=function(){return{w:H,m:J}})()}function y(b,_,E,R){var j=Object.defineProperty;try{j({},"",{})}catch(H){j=0}y=function(H,G,q,K){function ue(te,D){y(H,te,function(J){return this._invoke(te,D,J)})}G?j?j(H,G,{value:q,enumerable:!K,configurable:!K,writable:!K}):H[G]=q:(ue("next",0),ue("throw",1),ue("return",2))},y(b,_,E,R)}var w=v().m(g),k=v().m(m);function A(b,_){var E=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!E){if(Array.isArray(b)||(E=function(K,ue){if(K){if(typeof K=="string")return C(K,ue);var te={}.toString.call(K).slice(8,-1);return te==="Object"&&K.constructor&&(te=K.constructor.name),te==="Map"||te==="Set"?Array.from(K):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?C(K,ue):void 0}}(b))||_&&b&&typeof b.length=="number"){E&&(b=E);var R=0,j=function(){};return{s:j,n:function(){return R>=b.length?{done:!0}:{done:!1,value:b[R++]}},e:function(K){throw K},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,G=!0,q=!1;return{s:function(){E=E.call(b)},n:function(){var K=E.next();return G=K.done,K},e:function(K){q=!0,H=K},f:function(){try{G||E.return==null||E.return()}finally{if(q)throw H}}}}function C(b,_){(_==null||_>b.length)&&(_=b.length);for(var E=0,R=Array(_);E<_;E++)R[E]=b[E];return R}function x(b,_){for(var E=0;E<_.length;E++){var R=_[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(b,s(R.key),R)}}function S(b,_,E){return(_=s(_))in b?Object.defineProperty(b,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[_]=E,b}function s(b){var _=function(E){if(f(E)!="object"||!E)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var j=R.call(E,"string");if(f(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(b);return f(_)=="symbol"?_:_+""}var h=function(){return b=function E(R,j,H,G){var q=this,K=H.selectionElement;(function(ue,te){if(!(ue instanceof te))throw new TypeError("Cannot call a class as a function")})(this,E),S(this,"options",{maxProtectedWords:200}),S(this,"_onSelectionChange",function(ue,te){if(ue==="started")q.textSelectingMode(te);else{if(ue!=="cleared")throw new Error("Unknown type ".concat(ue));q.defaultMode(te)}}),S(this,"_limitSelection",function(){var ue=window.getSelection();if(ue.rangeCount){var te=ue.getRangeAt(0),D=!!te.startContainer.parentElement.closest(".BRcontainer"),J=!!te.endContainer.parentElement.closest(".BRcontainer");if(D||J)if(D&&J){var Q=function(ie,W){var V,se=0,Ae=A(ie);try{for(Ae.s();!(V=Ae.n()).done;){var Oe=V.value;if(se==W)return Oe;se++}}catch(je){Ae.e(je)}finally{Ae.f()}}(g(m(te.startContainer,te.endContainer),function(ie){var W;return(W=ie.classList)===null||W===void 0?void 0:W.contains(q.selectionElement[0].replace(".",""))}),q.options.maxProtectedWords-1);if(Q&&te.endContainer.parentNode!=Q){var ne=document.createRange();ne.setStart(te.startContainer,te.startOffset),ne.setEnd(Q.firstChild,Q.textContent.length),ue.removeAllRanges(),ue.addRange(ne)}}else ue.removeAllRanges()}}),this.layer=R,this.br=j,this.selectionElement=K,this.selectionObserver=new c(this.layer,this._onSelectionChange),this.options.maxProtectedWords=G||200},_=[{key:"init",value:function(){var E=this;this.attach(),new c(this.layer,function(R){var j;R=="started"&&((j=E.br.plugins.archiveAnalytics)===null||j===void 0||j.sendEvent("BookReader","SelectStart"),E.br.refs.$br.find(".BRpagecontainer--hasSelection").removeClass("BRpagecontainer--hasSelection"),d(window.getSelection().anchorNode).closest(".BRpagecontainer").addClass("BRpagecontainer--hasSelection"))}).attach()}},{key:"attach",value:function(){var E=this;this.selectionObserver.attach(),this.br.protected&&(document.addEventListener("selectionchange",this._limitSelection),d(document.body).on("contextmenu dragstart copy",function(R){var j=document.getSelection();if(j!=null&&j.toString()&&d(E.layer).toArray().some(function(H){return j.containsNode(H,!0)}))return R.preventDefault(),!1}))}},{key:"detach",value:function(){this.selectionObserver.detach(),this.br.protected&&document.removeEventListener("selectionchange",this._limitSelection)}},{key:"interceptCopy",value:function(E){E[0].addEventListener("copy",function(R){var j=document.getSelection();R.clipboardData.setData("text/plain",j.toString()),R.preventDefault()})}},{key:"stopPageFlip",value:function(E){var R=this,j=E.find(this.layer);j.length&&(j.each(function(H,G){return R.defaultMode(G)}),this.br.protected||this.interceptCopy(E))}},{key:"defaultMode",value:function(E){var R=this,j=d(E).closest(".BRpagecontainer");E.style.pointerEvents="none",j.find("img").css("pointer-events","auto"),d(E).off(".textSelectPluginHandler");var H=this.mouseIsDown,G=this.mouseIsDown;H&&(E.style.pointerEvents="auto"),d(E).on("mousedown.textSelectPluginHandler",function(q){R.mouseIsDown=!0,d(q.target).is(R.selectionElement.join(", "))&&q.stopPropagation()}),d(E).on("mouseup.textSelectPluginHandler",function(q){R.mouseIsDown=!1,E.style.pointerEvents="none",G&&(G=!1,q.stopPropagation())})}},{key:"textSelectingMode",value:function(E){var R=this,j=d(E).closest(".BRpagecontainer");E.style.pointerEvents="all",j.find("img").css("pointer-events","none"),d(E).off(".textSelectPluginHandler"),d(E).on("mousedown.textSelectPluginHandler",function(H){R.mouseIsDown=!0,H.stopPropagation()}),d(E).on("mouseup.textSelectPluginHandler",function(H){R.mouseIsDown=!1,H.stopPropagation()})}}],_&&x(b.prototype,_),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,_}();function g(b,_){var E,R,j,H;return v().w(function(G){for(;;)switch(G.p=G.n){case 0:E=A(b),G.p=1,E.s();case 2:if((R=E.n()).done){G.n=4;break}if(j=R.value,!_(j)){G.n=3;break}return G.n=3,j;case 3:G.n=2;break;case 4:G.n=6;break;case 5:G.p=5,H=G.v,E.e(H);case 6:return G.p=6,E.f(),G.f(6);case 7:return G.a(2)}},w,null,[[1,5,6,7]])}function m(b,_){var E,R;return v().w(function(j){for(;;)switch(j.n){case 0:return R=function(H){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=G.children,K=q===void 0||q,ue=G.parents,te=ue===void 0||ue,D=G.siblings,J=D===void 0||D;return v().m(function Q(){var ne;return v().w(function(ie){for(;;)switch(ie.n){case 0:if(H!==_){ie.n=2;break}return E=!0,ie.n=1,H;case 1:return ie.a(2);case 2:return ie.n=3,H;case 3:if(!K||!H.firstChild){ie.n=5;break}return ie.d(p(R(H.firstChild,{children:!0,parents:!1,siblings:!0})),4);case 4:if(!E){ie.n=5;break}return ie.a(2);case 5:if(!J){ie.n=9;break}ne=H.nextSibling;case 6:if(!ne){ie.n=9;break}return ie.d(p(R(ne,{children:!0,parents:!1,siblings:!1})),7);case 7:if(!E){ie.n=8;break}return ie.a(2);case 8:ne=ne.nextSibling,ie.n=6;break;case 9:if(!te||!H.parentNode){ie.n=11;break}return ie.d(p(R(H.parentNode,{children:!1,parents:!0,siblings:!0})),10);case 10:if(!E){ie.n=11;break}return ie.a(2);case 11:return ie.a(2)}},Q)})()},E=!1,j.d(p(R(b)),1);case 1:return j.a(2)}},k)}},1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{S:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var u=function(){return n=function d(f){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.br=f,this.options},(c=[{key:"setup",value:function(d){this.options=Object.assign({},this.options,d)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(d){}},{key:"_configureToolbar",value:function(d){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(d){}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},4160:function(e,t,r){r.d(t,{$x:function(){return C},EF:function(){return f},ND:function(){return A},m0:function(){return p},YH:function(){return y},_4:function(){return w}}),r(2675),r(9463),r(2259),r(3418),r(4423),r(3792),r(4782),r(2010),r(875),r(6099),r(3362),r(7495),r(8781),r(1699),r(7764),r(1761),r(2953);var a=[],l={},o={},u={};[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u0623\u06C7\u0632\u0628\u06D0\u0643","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, ","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]].forEach(x=>{var S={name:x[0],nativeName:x[1],iso639_1:x[2],iso639_2T:x[3],iso639_2B:x[4]};l[x[2]]=o[x[3]]=u[x[4]]=S,a.push(S)});var n=a;function c(x,S){var s=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!s){if(Array.isArray(x)||(s=function(E,R){if(E){if(typeof E=="string")return d(E,R);var j={}.toString.call(E).slice(8,-1);return j==="Object"&&E.constructor&&(j=E.constructor.name),j==="Map"||j==="Set"?Array.from(E):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?d(E,R):void 0}}(x))||S&&x&&typeof x.length=="number"){s&&(x=s);var h=0,g=function(){};return{s:g,n:function(){return h>=x.length?{done:!0}:{done:!1,value:x[h++]}},e:function(E){throw E},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,b=!0,_=!1;return{s:function(){s=s.call(x)},n:function(){var E=s.next();return b=E.done,E},e:function(E){_=!0,m=E},f:function(){try{b||s.return==null||s.return()}finally{if(_)throw m}}}}function d(x,S){(S==null||S>x.length)&&(S=x.length);for(var s=0,h=Array(S);s<S;s++)h[s]=x[s];return h}function f(x){var S=x.match(/\S+/g);return S?S.length:0}function p(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(x)}var v={"zh-hans":"\u4E2D\u6587 (Zh\u014Dngw\xE9n)"};function y(x){if(!x)return null;if(x=x.toLocaleLowerCase(),v[x])return x;var S=k(x,["iso639_1"])||k(x,["iso639_2T"])||k(x,["iso639_2B","name","nativeName"]);return S?S.iso639_1:null}function w(x){if(!x)return null;if(x=x.toLocaleLowerCase(),v[x])return v[x];var S=k(x,["iso639_1"])||k(x,["iso639_2T"])||k(x,["iso639_2B","name","nativeName"]);return S!=null&&S.nativeName?S.nativeName.split(", ")[0]:null}function k(x,S){if(!x)return null;x=x.toLowerCase();var s,h=c(n);try{for(h.s();!(s=h.n()).done;){var g,m=s.value,b=c(S);try{for(b.s();!(g=b.n()).done;){var _;if((_=m[g.value])!==null&&_!==void 0&&_.toLowerCase().split(", ").includes(x))return m}}catch(E){b.e(E)}finally{b.f()}}}catch(E){h.e(E)}finally{h.f()}return null}function A(){try{return!!window.localStorage}catch(x){return!1}}var C=location.toString().indexOf("_debugReadAloud=true")!=-1},4360:function(e,t,r){var a=r(420);let l=Object.freeze({processing:"processing",complete:"complete"});class o extends a.WF{static get properties(){return{mode:{type:String}}}constructor(){super(),this.mode=l.processing}render(){return a.qy`
      <div class="${this.mode}">
        <svg
          viewBox="0 0 120 120"
          preserveAspectRatio="none"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-labelledby="indicatorTitle indicatorDescription"
        >
          <title id="indicatorTitle">Activity Indicator</title>
          <desc id="indicatorDescription">
            A rotating activity indicator with three dots in the middle.
          </desc>
          <g
            id="icons/check-ring---squared"
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
          >
            <path
              id="completed-ring"
              class="loaded-indicator"
              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <polygon
              id="check"
              class="loaded-indicator"
              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "
              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"
            ></polygon>
            <path
              id="activity-ring"
              class="activity-indicator"
              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <g
              id="activity-dots"
              class="activity-indicator"
              transform="translate(40.000000, 55.000000)"
            >
              <circle id="left-dot" cx="5" cy="5" r="5"></circle>
              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>
              <circle id="right-dot" cx="35" cy="5" r="5"></circle>
            </g>
          </g>
        </svg>
      </div>
    `}static get styles(){let n=a.AH`var(--activityIndicatorCheckmarkColor, #31A481)`,c=a.AH`var(--activityIndicatorCompletedRingColor, #31A481)`,d=a.AH`var(--activityIndicatorLoadingRingColor, #333333)`,f=a.AH`var(--activityIndicatorLoadingDotColor, #333333)`;return a.AH`
      #completed-ring {
        fill: ${c};
      }

      #check {
        fill: ${n};
      }

      #activity-ring {
        fill: ${d};
      }

      #activity-dots {
        fill: ${f};
      }

      .activity-indicator {
        opacity: 0;
        transition: opacity 0.25s ease-out;
      }

      .processing .activity-indicator {
        opacity: 1;
      }

      .loaded-indicator {
        opacity: 1;
        transition: opacity 0.25s ease-out;
      }

      .processing .loaded-indicator {
        opacity: 0;
      }

      .image {
        border: 1px solid red;
        display: inline-block;
      }

      .processing #activity-ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
      }

      .processing #left-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.2s;
      }

      .processing #middle-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.4s;
      }

      .processing #right-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.6s;
      }

      @keyframes rotate {
        0% {
          transform: rotate(-360deg);
        }
        100% {
          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */
          transform: rotate(0deg);
        }
      }

      @keyframes dot {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    `}}window.customElements.define("ia-activity-indicator",o)},4565:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{l:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(6099),r(7764),r(2953);var u=function(){return n=function d(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.maxSize=f,this.entries=[]},(c=[{key:"add",value:function(d){this.entries.length>=this.maxSize&&this.entries.shift(),this.entries.push(d)}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},6735:function(e,t,r){var Ot,Ft;r(2675),r(9463),r(2259),r(8125),r(4782),r(4554),r(4731),r(479),r(9085),r(2811),r(3851),r(875),r(825),r(888),r(8781),r(5700),r(8706),r(2008),r(113),r(3418),r(3792),r(2062),r(9572),r(2010),r(8130),r(6099),r(8459),r(8940),r(3362),r(7495),r(7764),r(5440),r(3500),r(2953);var a=r(420),l=r(1041),o=r(9696),u=(r(739),r(6034),r(4565));typeof window<"u"&&window.Worker||(globalThis.Worker=(Ft=class{constructor(rt){Mv(this,Ot,void 0);Iv(this,Ot,new Promise(oe=>Vt(this,null,function*(){let{Worker:Pe}=yield Promise.resolve().then(()=>(t_(),e_));oe(new Pe(rt))})))}addEventListener(rt,oe){Ed(this,Ot).then(Pe=>Pe.on(rt,Ze=>oe({data:Ze})))}postMessage(rt){Ed(this,Ot).then(oe=>oe.postMessage(rt))}terminate(){Ed(this,Ot).then(rt=>rt.terminate())}},Ot=new WeakMap,Ft));class n extends Error{}class c{constructor(oe){this.options=oe||{},this.registryUrl=this.options.registryUrl||"https://bergamot.s3.amazonaws.com/models/index.json",this.downloadTimeout="downloadTimeout"in this.options?parseInt(this.options.downloadTimeout):6e4,this.registry=this.loadModelRegistery(),this.buffers=new Map,this.pivotLanguage="pivotLanguage"in this.options?oe.pivotLanguage:"en",this.models=new Map,this.onerror=this.options.onerror||(Pe=>console.error("WASM Translation Worker error:",Pe))}loadWorker(){return Vt(this,null,function*(){let oe=this.options.workerUrl?new Worker(this.options.workerUrl):new Worker(new URL(r.p+r.u(474),r.b)),Pe=0,Ze=new Map,Je=(qe,...M)=>new Promise((be,he)=>{let Ge=++Pe;Ze.set(Ge,{accept:be,reject:he,callsite:{message:`${qe}(${M.map(vt=>String(vt)).join(", ")})`,stack:new Error().stack}}),oe.postMessage({id:Ge,name:qe,args:M})});return oe.addEventListener("message",function({data:{id:qe,result:M,error:be}}){if(!Ze.has(qe))throw console.debug("Received message with unknown id:",arguments[0]),new Error(`BergamotTranslator received response from worker to unknown call '${qe}'`);let{accept:he,reject:Ge,callsite:vt}=Ze.get(qe);Ze.delete(qe),be!==void 0?Ge(Object.assign(new Error,be,{message:be.message+` (response to ${vt.message})`,stack:be.stack?`${be.stack}
${vt.stack}`:vt.stack})):he(M)}),oe.addEventListener("error",this.onerror.bind(this)),yield Je("initialize",this.options),{worker:oe,exports:new Proxy({},{get(qe,M,be){if(M!=="then")return(...he)=>Je(M,...he)}})}})}loadModelRegistery(){return Vt(this,null,function*(){let oe=yield fetch(this.registryUrl,{credentials:"omit"}),Pe=yield oe.json();return Array.from(Object.entries(Pe),([Ze,Je])=>{let qe=Ze.match(/^([a-z]{2}(-[a-z]+)?)([a-z]{2}(-[a-z]+)?)/i);return{from:qe[1],to:qe[3],files:Je}})})}getTranslationModel({from:oe,to:Pe},Ze){let Je=JSON.stringify({from:oe,to:Pe});if(!this.buffers.has(Je)){let qe=this.loadTranslationModel({from:oe,to:Pe},Ze);this.buffers.set(Je,qe),qe.catch(M=>this.buffers.delete(Je))}return this.buffers.get(Je)}loadTranslationModel(Je,qe){return Vt(this,arguments,function*({from:oe,to:Pe},Ze){performance.mark(`loadTranslationModule.${JSON.stringify({from:oe,to:Pe})}`);let M=(yield this.registry).filter(_e=>_e.from==oe&&_e.to==Pe);if(!M)throw new Error(`No model for '${oe}' -> '${Pe}'`);let be=M[0].files,he=()=>reject(new n("abort signal")),Ge=new Promise((_e,Re)=>{Ze!=null&&Ze.signal&&Ze.signal.addEventListener("abort",he)}),vt=Object.fromEntries(yield Promise.race([Promise.all(Object.entries(be).map(st=>Vt(this,[st],function*([_e,Re]){if(Re===void 0||Re.name===void 0)return[_e,null];try{return[_e,yield this.fetch(Re.name,Re.expectedSha256Hash,Ze)]}catch(xt){throw new Error(`Could not fetch ${Re.name} for ${oe}->${Pe} model`,{cause:xt})}}))),Ge]));Ze!=null&&Ze.signal&&Ze.signal.removeEventListener("abort",he),performance.measure("loadTranslationModel",`loadTranslationModule.${JSON.stringify({from:oe,to:Pe})}`);let kt=[];if(vt.vocab)kt=[vt.vocab];else{if(!vt.trgvocab||!vt.srcvocab)throw new Error(`Could not identify vocab files for ${oe}->${Pe} model among: ${Array.from(Object.keys(be)).join(" ")}`);kt=[vt.srcvocab,vt.trgvocab]}let ce={};return be.model.name.endsWith("intgemm8.bin")&&(ce["gemm-precision"]="int8shiftAll"),be.qualityModel&&(ce["skip-cost"]=!1),be.config&&Object.assign(ce,be.config),{model:vt.model,shortlist:vt.lex,vocabs:kt,qualityModel:vt.qualityModel,config:ce}})}fetch(oe,Pe,Ze){return Vt(this,null,function*(){let Je=new AbortController,qe=()=>Je.abort(),M=this.downloadTimeout?setTimeout(qe,this.downloadTimeout):null;try{Ze!=null&&Ze.signal&&Ze.signal.addEventListener("abort",qe);let be={credentials:"omit",signal:Je.signal};return Pe&&(be.integrity=`sha256-${this.hexToBase64(Pe)}`),typeof window>"u"&&delete be.integrity,yield(yield fetch(oe,be)).arrayBuffer()}finally{M&&clearTimeout(M),Ze!=null&&Ze.signal&&Ze.signal.removeEventListener("abort",qe)}})}hexToBase64(oe){return btoa(oe.match(/\w{2}/g).map(function(Pe){return String.fromCharCode(parseInt(Pe,16))}).join(""))}getModels({from:oe,to:Pe}){let Ze=JSON.stringify({from:oe,to:Pe});return this.models.has(Ze)||this.models.set(Ze,this.findModels(oe,Pe)),this.models.get(Ze)}findModels(oe,Pe){return Vt(this,null,function*(){let Ze=yield this.registry,Je=[],qe=[],M=[];if(Ze.forEach(be=>{be.from===oe&&be.to===Pe?Je.push(be):be.from===oe&&be.to===this.pivotLanguage?qe.push(be):be.to===Pe&&be.from===this.pivotLanguage&&M.push(be)}),Je.length)return[Je[0]];if(qe.length&&M.length)return[qe[0],M[0]];throw new Error(`No model available to translate from '${oe}' to '${Pe}'`)})}}class d{constructor(oe,Pe){Pe||(Pe=new c(oe)),this.backing=Pe,this.workers=[],this.workerLimit=Math.max((oe==null?void 0:oe.workers)||0,1),this.queue=[],this.batchSerial=0,this.batchSize=Math.max((oe==null?void 0:oe.batchSize)||8,1),this.onerror=(oe==null?void 0:oe.onerror)||(Ze=>console.error("WASM Translation Worker error:",Ze))}delete(){return Vt(this,null,function*(){this.remove(()=>!0),this.workers.forEach(({worker:oe})=>oe.terminate())})}notify(){setTimeout(()=>Vt(this,null,function*(){if(!this.queue.length)return;let oe=this.workers.find(Ze=>Ze.idle);if(!oe&&this.workers.length<this.workerLimit)try{let Ze={idle:!1};this.workers.push(Ze),Object.assign(Ze,yield this.backing.loadWorker()),oe=Ze}catch(Ze){this.onerror(new Error(`Could not initialise translation worker: ${Ze.message}`))}if(!oe)return;let Pe=this.queue.shift();oe.idle=!1;try{yield this.consumeBatch(Pe,oe.exports)}catch(Ze){Pe.requests.forEach(({reject:Je})=>Je(Ze))}oe.idle=!0,this.queue.length&&this.notify()}))}translate(oe){let{from:Pe,to:Ze,priority:Je}=oe;return new Promise((qe,M)=>Vt(this,null,function*(){try{let be=JSON.stringify({from:Pe,to:Ze}),he=yield this.backing.getModels(oe);this.enqueue({key:be,models:he,request:oe,resolve:qe,reject:M,priority:Je}),this.notify()}catch(be){M(be)}}))}remove(oe){let Pe=this.queue;this.queue=[],Pe.forEach(Ze=>{Ze.requests.forEach(({request:Je,resolve:qe,reject:M})=>{oe(Je)?M(Object.assign(new n("removed by filter"),{request:Je})):this.enqueue({key:Ze.key,priority:Ze.priority,models:Ze.models,request:Je,resolve:qe,reject:M})})})}enqueue({key:oe,models:Pe,request:Ze,resolve:Je,reject:qe,priority:M}){M===void 0&&(M=0);let be=this.queue.find(he=>he.key===oe&&he.priority===M&&he.requests.length<this.batchSize);be||(be={id:++this.batchSerial,key:oe,priority:M,models:Pe,requests:[]},this.queue.push(be),this.queue.sort((he,Ge)=>he.priority-Ge.priority)),be.requests.push({request:Ze,resolve:Je,reject:qe})}consumeBatch(oe,Pe){return Vt(this,null,function*(){performance.mark("BergamotBatchTranslator.start"),yield Promise.all(oe.models.map(M=>Vt(this,[M],function*({from:Je,to:qe}){if(!(yield Pe.hasTranslationModel({from:Je,to:qe}))){let be=yield this.backing.getTranslationModel({from:Je,to:qe});yield Pe.loadTranslationModel({from:Je,to:qe},be)}})));let Ze=yield Pe.translate({models:oe.models.map(({from:Je,to:qe})=>({from:Je,to:qe})),texts:oe.requests.map(({request:{text:Je,html:qe,qualityScores:M}})=>({text:Je.toString(),html:!!qe,qualityScores:!!M}))});oe.requests.forEach(({request:Je,resolve:qe,reject:M},be)=>{qe(ur({request:Je},Ze[be]))}),performance.measure("BergamotBatchTranslator","BergamotBatchTranslator.start")})}}var f=r(4160);function p(rt){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},p(rt)}function v(){var rt,oe,Pe=typeof Symbol=="function"?Symbol:{},Ze=Pe.iterator||"@@iterator",Je=Pe.toStringTag||"@@toStringTag";function qe(_e,Re,st,xt){var Mt=Re&&Re.prototype instanceof be?Re:be,Bt=Object.create(Mt.prototype);return y(Bt,"_invoke",function(Rt,qt,Be){var me,ze,Ye,ut=0,ft=Be||[],dt=!1,at={p:0,n:0,v:rt,a:Fe,f:Fe.bind(rt,4),d:function(pt,Ct){return me=pt,ze=0,Ye=rt,at.n=Ct,M}};function Fe(pt,Ct){for(ze=pt,Ye=Ct,oe=0;!dt&&ut&&!Nt&&oe<ft.length;oe++){var Nt,ke=ft[oe],It=at.p,Dt=ke[2];pt>3?(Nt=Dt===Ct)&&(Ye=ke[(ze=ke[4])?5:(ze=3,3)],ke[4]=ke[5]=rt):ke[0]<=It&&((Nt=pt<2&&It<ke[1])?(ze=0,at.v=Ct,at.n=ke[1]):It<Dt&&(Nt=pt<3||ke[0]>Ct||Ct>Dt)&&(ke[4]=pt,ke[5]=Ct,at.n=Dt,ze=0))}if(Nt||pt>1)return M;throw dt=!0,Ct}return function(pt,Ct,Nt){if(ut>1)throw TypeError("Generator is already running");for(dt&&Ct===1&&Fe(Ct,Nt),ze=Ct,Ye=Nt;(oe=ze<2?rt:Ye)||!dt;){me||(ze?ze<3?(ze>1&&(at.n=-1),Fe(ze,Ye)):at.n=Ye:at.v=Ye);try{if(ut=2,me){if(ze||(pt="next"),oe=me[pt]){if(!(oe=oe.call(me,Ye)))throw TypeError("iterator result is not an object");if(!oe.done)return oe;Ye=oe.value,ze<2&&(ze=0)}else ze===1&&(oe=me.return)&&oe.call(me),ze<2&&(Ye=TypeError("The iterator does not provide a '"+pt+"' method"),ze=1);me=rt}else if((oe=(dt=at.n<0)?Ye:Rt.call(qt,at))!==M)break}catch(ke){me=rt,ze=1,Ye=ke}finally{ut=1}}return{value:oe,done:dt}}}(_e,st,xt),!0),Bt}var M={};function be(){}function he(){}function Ge(){}oe=Object.getPrototypeOf;var vt=[][Ze]?oe(oe([][Ze]())):(y(oe={},Ze,function(){return this}),oe),kt=Ge.prototype=be.prototype=Object.create(vt);function ce(_e){return Object.setPrototypeOf?Object.setPrototypeOf(_e,Ge):(_e.__proto__=Ge,y(_e,Je,"GeneratorFunction")),_e.prototype=Object.create(kt),_e}return he.prototype=Ge,y(kt,"constructor",Ge),y(Ge,"constructor",he),he.displayName="GeneratorFunction",y(Ge,Je,"GeneratorFunction"),y(kt),y(kt,Je,"Generator"),y(kt,Ze,function(){return this}),y(kt,"toString",function(){return"[object Generator]"}),(v=function(){return{w:qe,m:ce}})()}function y(rt,oe,Pe,Ze){var Je=Object.defineProperty;try{Je({},"",{})}catch(qe){Je=0}y=function(qe,M,be,he){function Ge(vt,kt){y(qe,vt,function(ce){return this._invoke(vt,kt,ce)})}M?Je?Je(qe,M,{value:be,enumerable:!he,configurable:!he,writable:!he}):qe[M]=be:(Ge("next",0),Ge("throw",1),Ge("return",2))},y(rt,oe,Pe,Ze)}function w(rt,oe,Pe,Ze,Je,qe,M){try{var be=rt[qe](M),he=be.value}catch(Ge){return void Pe(Ge)}be.done?oe(he):Promise.resolve(he).then(Ze,Je)}function k(rt){return function(){var oe=this,Pe=arguments;return new Promise(function(Ze,Je){var qe=rt.apply(oe,Pe);function M(he){w(qe,Ze,Je,M,be,"next",he)}function be(he){w(qe,Ze,Je,M,be,"throw",he)}M(void 0)})}}function A(rt,oe){for(var Pe=0;Pe<oe.length;Pe++){var Ze=oe[Pe];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(rt,x(Ze.key),Ze)}}function C(rt,oe,Pe){return(oe=x(oe))in rt?Object.defineProperty(rt,oe,{value:Pe,enumerable:!0,configurable:!0,writable:!0}):rt[oe]=Pe,rt}function x(rt){var oe=function(Pe){if(p(Pe)!="object"||!Pe)return Pe;var Ze=Pe[Symbol.toPrimitive];if(Ze!==void 0){var Je=Ze.call(Pe,"string");if(p(Je)!="object")return Je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Pe)}(rt);return p(oe)=="symbol"?oe:oe+""}var S,s,h,g,m,b,_,E=function(){return rt=function Ze(){var Je=this;(function(M,be){if(!(M instanceof be))throw new TypeError("Cannot call a class as a function")})(this,Ze),C(this,"alreadyTranslated",new u.l(100)),C(this,"modelRegistry",{}),C(this,"currentlyTranslating",{}),C(this,"fromLanguages",[]),C(this,"toLanguages",[]),C(this,"active",!1),C(this,"publicPath",""),C(this,"getTranslation",function(){var M=k(v().m(function be(he,Ge,vt,kt,ce,_e){var Re,st,xt,Mt,Bt;return v().w(function(Rt){for(;;)switch(Rt.n){case 0:if(Je.active=!0,he!=Ge&&he&&Ge){Rt.n=1;break}return Rt.a(2);case 1:if(Re="".concat(he).concat(Ge,"-").concat(vt,":").concat(kt),!(st=Je.alreadyTranslated.entries.find(function(qt){return qt.index==Re}))){Rt.n=2;break}return Rt.a(2,st.response);case 2:if(!(Re in Je.currentlyTranslating)){Rt.n=3;break}return Rt.a(2,Je.currentlyTranslating[Re].promise);case 3:if(xt=null,Mt=null,Bt=new Promise(function(qt,Be){xt=qt,Mt=Be}),Je.currentlyTranslating[Re]={promise:Bt,resolve:xt,reject:Mt},ce){Rt.n=4;break}return Je.currentlyTranslating[Re].reject("No text was provided"),Rt.a(2,Bt);case 4:return Je.translator.translate({to:Ge,from:he,text:ce,html:!1,priority:_e}).then(function(qt){var Be=qt;Je.currentlyTranslating[Re].resolve(Be.target.text),Je.alreadyTranslated.add({index:Re,response:Be.target.text}),delete Je.currentlyTranslating[Re]}),Rt.a(2,Bt)}},be)}));return function(be,he,Ge,vt,kt,ce){return M.apply(this,arguments)}}()),C(this,"getTranslationModel",function(){var M=k(v().m(function be(he,Ge){return v().w(function(vt){for(;;)if(vt.n===0)return vt.a(2,Je.translator.backing.getTranslationModel({from:he,to:Ge}).catch(function(kt){console.error("An error occurred while trying to retreive the ".concat(he,"-").concat(Ge," model"))}))},be)}));return function(be,he){return M.apply(this,arguments)}}());var qe={code:"en",name:"English (en)",type:"prod"};this.fromLanguages.push(qe),this.toLanguages.push(qe)},oe=[{key:"initWorker",value:(Pe=k(v().m(function Ze(){var Je,qe,M,be,he,Ge,vt,kt,ce,_e,Re,st,xt,Mt,Bt,Rt,qt,Be,me=this;return v().w(function(ze){for(;;)switch(ze.n){case 0:if(!this.initPromise){ze.n=1;break}return ze.a(2,this.initPromise);case 1:return this.initPromise=new Promise(function(Ye,ut){me._initResolve=Ye,me._initReject=ut}),Je="https://cors.archive.org/cors/mozilla-translate-models/firefox_models/",ze.n=2,fetch(Je+"registry.json").then(function(Ye){return Ye.json()});case 2:for(qe=ze.v,M=0,be=Object.values(qe);M<be.length;M++)for(he=be[M],Ge=0,vt=Object.values(he);Ge<vt.length;Ge++)(kt=vt[Ge]).name=Je+kt.name;return this.translator=new d({registryUrl:"data:application/json,".concat(encodeURIComponent(JSON.stringify(qe))),workers:2,batchSize:4,workerUrl:this.publicPath+"/translator-worker.js"}),ze.n=3,this.translator.backing.registry;case 3:for(ce=ze.v,_e={},Re=0,st=Object.values(ce);Re<st.length;Re++)xt=st[Re],Mt=xt.from,Bt=xt.to,Rt=xt.files,_e["".concat(Mt).concat(Bt)]=Rt,Mt!=="en"&&(qt="".concat((0,f._4)(Mt)," (").concat((0,f.YH)(Mt),")"),this.fromLanguages.push({code:Mt,name:qt,type:"prod"})),Bt!=="en"&&(Be="".concat((0,f._4)(Bt)," (").concat((0,f.YH)(Bt),")"),this.toLanguages.push({code:Bt,name:Be,type:"prod"}));return this._initResolve([this.modelRegistry]),ze.a(2,this.initPromise)}},Ze,this)})),function(){return Pe.apply(this,arguments)})}],oe&&A(rt.prototype,oe),Object.defineProperty(rt,"prototype",{writable:!1}),rt;var rt,oe,Pe}(),R=r(8004),j=r(593),H=(r(4360),r(1669));function G(rt){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},G(rt)}function q(rt){return function(oe){if(Array.isArray(oe))return Ae(oe)}(rt)||ne(rt)||se(rt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function K(){K=function(){return rt};var rt={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(oe,Pe){["method","field"].forEach(function(Ze){Pe.forEach(function(Je){Je.kind===Ze&&Je.placement==="own"&&this.defineClassElement(oe,Je)},this)},this)},initializeClassElements:function(oe,Pe){var Ze=oe.prototype;["method","field"].forEach(function(Je){Pe.forEach(function(qe){var M=qe.placement;if(qe.kind===Je&&(M==="static"||M==="prototype")){var be=M==="static"?oe:Ze;this.defineClassElement(be,qe)}},this)},this)},defineClassElement:function(oe,Pe){var Ze=Pe.descriptor;if(Pe.kind==="field"){var Je=Pe.initializer;Ze={enumerable:Ze.enumerable,writable:Ze.writable,configurable:Ze.configurable,value:Je===void 0?void 0:Je.call(oe)}}Object.defineProperty(oe,Pe.key,Ze)},decorateClass:function(oe,Pe){var Ze=[],Je=[],qe={static:[],prototype:[],own:[]};if(oe.forEach(function(be){this.addElementPlacement(be,qe)},this),oe.forEach(function(be){if(!D(be))return Ze.push(be);var he=this.decorateElement(be,qe);Ze.push(he.element),Ze.push.apply(Ze,he.extras),Je.push.apply(Je,he.finishers)},this),!Pe)return{elements:Ze,finishers:Je};var M=this.decorateConstructor(Ze,Pe);return Je.push.apply(Je,M.finishers),M.finishers=Je,M},addElementPlacement:function(oe,Pe,Ze){var Je=Pe[oe.placement];if(!Ze&&Je.indexOf(oe.key)!==-1)throw new TypeError("Duplicated element ("+oe.key+")");Je.push(oe.key)},decorateElement:function(oe,Pe){for(var Ze=[],Je=[],qe=oe.decorators,M=qe.length-1;M>=0;M--){var be=Pe[oe.placement];be.splice(be.indexOf(oe.key),1);var he=this.fromElementDescriptor(oe),Ge=this.toElementFinisherExtras((0,qe[M])(he)||he);oe=Ge.element,this.addElementPlacement(oe,Pe),Ge.finisher&&Je.push(Ge.finisher);var vt=Ge.extras;if(vt){for(var kt=0;kt<vt.length;kt++)this.addElementPlacement(vt[kt],Pe);Ze.push.apply(Ze,vt)}}return{element:oe,finishers:Je,extras:Ze}},decorateConstructor:function(oe,Pe){for(var Ze=[],Je=Pe.length-1;Je>=0;Je--){var qe=this.fromClassDescriptor(oe),M=this.toClassDescriptor((0,Pe[Je])(qe)||qe);if(M.finisher!==void 0&&Ze.push(M.finisher),M.elements!==void 0){oe=M.elements;for(var be=0;be<oe.length-1;be++)for(var he=be+1;he<oe.length;he++)if(oe[be].key===oe[he].key&&oe[be].placement===oe[he].placement)throw new TypeError("Duplicated element ("+oe[be].key+")")}}return{elements:oe,finishers:Ze}},fromElementDescriptor:function(oe){var Pe={kind:oe.kind,key:oe.key,placement:oe.placement,descriptor:oe.descriptor};return Object.defineProperty(Pe,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),oe.kind==="field"&&(Pe.initializer=oe.initializer),Pe},toElementDescriptors:function(oe){if(oe!==void 0)return(Pe=oe,function(Ze){if(Array.isArray(Ze))return Ze}(Pe)||ne(Pe)||se(Pe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(Ze){var Je=this.toElementDescriptor(Ze);return this.disallowProperty(Ze,"finisher","An element descriptor"),this.disallowProperty(Ze,"extras","An element descriptor"),Je},this);var Pe},toElementDescriptor:function(oe){var Pe=oe.kind+"";if(Pe!=="method"&&Pe!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+Pe+'"');var Ze=xe(oe.key),Je=oe.placement+"";if(Je!=="static"&&Je!=="prototype"&&Je!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+Je+'"');var qe=oe.descriptor;this.disallowProperty(oe,"elements","An element descriptor");var M={kind:Pe,key:Ze,placement:Je,descriptor:Object.assign({},qe)};return Pe!=="field"?this.disallowProperty(oe,"initializer","A method descriptor"):(this.disallowProperty(qe,"get","The property descriptor of a field descriptor"),this.disallowProperty(qe,"set","The property descriptor of a field descriptor"),this.disallowProperty(qe,"value","The property descriptor of a field descriptor"),M.initializer=oe.initializer),M},toElementFinisherExtras:function(oe){return{element:this.toElementDescriptor(oe),finisher:Q(oe,"finisher"),extras:this.toElementDescriptors(oe.extras)}},fromClassDescriptor:function(oe){var Pe={kind:"class",elements:oe.map(this.fromElementDescriptor,this)};return Object.defineProperty(Pe,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Pe},toClassDescriptor:function(oe){var Pe=oe.kind+"";if(Pe!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+Pe+'"');this.disallowProperty(oe,"key","A class descriptor"),this.disallowProperty(oe,"placement","A class descriptor"),this.disallowProperty(oe,"descriptor","A class descriptor"),this.disallowProperty(oe,"initializer","A class descriptor"),this.disallowProperty(oe,"extras","A class descriptor");var Ze=Q(oe,"finisher");return{elements:this.toElementDescriptors(oe.elements),finisher:Ze}},runClassFinishers:function(oe,Pe){for(var Ze=0;Ze<Pe.length;Ze++){var Je=(0,Pe[Ze])(oe);if(Je!==void 0){if(typeof Je!="function")throw new TypeError("Finishers must return a constructor.");oe=Je}}return oe},disallowProperty:function(oe,Pe,Ze){if(oe[Pe]!==void 0)throw new TypeError(Ze+" can't have a ."+Pe+" property.")}};return rt}function ue(rt){var oe,Pe=xe(rt.key);rt.kind==="method"?oe={value:rt.value,writable:!0,configurable:!0,enumerable:!1}:rt.kind==="get"?oe={get:rt.value,configurable:!0,enumerable:!1}:rt.kind==="set"?oe={set:rt.value,configurable:!0,enumerable:!1}:rt.kind==="field"&&(oe={configurable:!0,writable:!0,enumerable:!0});var Ze={kind:rt.kind==="field"?"field":"method",key:Pe,placement:rt.static?"static":rt.kind==="field"?"own":"prototype",descriptor:oe};return rt.decorators&&(Ze.decorators=rt.decorators),rt.kind==="field"&&(Ze.initializer=rt.value),Ze}function te(rt,oe){rt.descriptor.get!==void 0?oe.descriptor.get=rt.descriptor.get:oe.descriptor.set=rt.descriptor.set}function D(rt){return rt.decorators&&rt.decorators.length}function J(rt){return rt!==void 0&&!(rt.value===void 0&&rt.writable===void 0)}function Q(rt,oe){var Pe=rt[oe];if(Pe!==void 0&&typeof Pe!="function")throw new TypeError("Expected '"+oe+"' to be a function");return Pe}function ne(rt){if(typeof Symbol<"u"&&rt[Symbol.iterator]!=null||rt["@@iterator"]!=null)return Array.from(rt)}function ie(){return ie=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(rt,oe,Pe){var Ze=function(qe,M){for(;!{}.hasOwnProperty.call(qe,M)&&(qe=ot(qe))!==null;);return qe}(rt,oe);if(Ze){var Je=Object.getOwnPropertyDescriptor(Ze,oe);return Je.get?Je.get.call(arguments.length<3?rt:Pe):Je.value}},ie.apply(null,arguments)}function W(rt,oe){return oe||(oe=rt.slice(0)),Object.freeze(Object.defineProperties(rt,{raw:{value:Object.freeze(oe)}}))}function V(rt,oe){var Pe=typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(!Pe){if(Array.isArray(rt)||(Pe=se(rt))||oe&&rt&&typeof rt.length=="number"){Pe&&(rt=Pe);var Ze=0,Je=function(){};return{s:Je,n:function(){return Ze>=rt.length?{done:!0}:{done:!1,value:rt[Ze++]}},e:function(he){throw he},f:Je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qe,M=!0,be=!1;return{s:function(){Pe=Pe.call(rt)},n:function(){var he=Pe.next();return M=he.done,he},e:function(he){be=!0,qe=he},f:function(){try{M||Pe.return==null||Pe.return()}finally{if(be)throw qe}}}}function se(rt,oe){if(rt){if(typeof rt=="string")return Ae(rt,oe);var Pe={}.toString.call(rt).slice(8,-1);return Pe==="Object"&&rt.constructor&&(Pe=rt.constructor.name),Pe==="Map"||Pe==="Set"?Array.from(rt):Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe)?Ae(rt,oe):void 0}}function Ae(rt,oe){(oe==null||oe>rt.length)&&(oe=rt.length);for(var Pe=0,Ze=Array(oe);Pe<oe;Pe++)Ze[Pe]=rt[Pe];return Ze}function Oe(){var rt,oe,Pe=typeof Symbol=="function"?Symbol:{},Ze=Pe.iterator||"@@iterator",Je=Pe.toStringTag||"@@toStringTag";function qe(_e,Re,st,xt){var Mt=Re&&Re.prototype instanceof be?Re:be,Bt=Object.create(Mt.prototype);return je(Bt,"_invoke",function(Rt,qt,Be){var me,ze,Ye,ut=0,ft=Be||[],dt=!1,at={p:0,n:0,v:rt,a:Fe,f:Fe.bind(rt,4),d:function(pt,Ct){return me=pt,ze=0,Ye=rt,at.n=Ct,M}};function Fe(pt,Ct){for(ze=pt,Ye=Ct,oe=0;!dt&&ut&&!Nt&&oe<ft.length;oe++){var Nt,ke=ft[oe],It=at.p,Dt=ke[2];pt>3?(Nt=Dt===Ct)&&(Ye=ke[(ze=ke[4])?5:(ze=3,3)],ke[4]=ke[5]=rt):ke[0]<=It&&((Nt=pt<2&&It<ke[1])?(ze=0,at.v=Ct,at.n=ke[1]):It<Dt&&(Nt=pt<3||ke[0]>Ct||Ct>Dt)&&(ke[4]=pt,ke[5]=Ct,at.n=Dt,ze=0))}if(Nt||pt>1)return M;throw dt=!0,Ct}return function(pt,Ct,Nt){if(ut>1)throw TypeError("Generator is already running");for(dt&&Ct===1&&Fe(Ct,Nt),ze=Ct,Ye=Nt;(oe=ze<2?rt:Ye)||!dt;){me||(ze?ze<3?(ze>1&&(at.n=-1),Fe(ze,Ye)):at.n=Ye:at.v=Ye);try{if(ut=2,me){if(ze||(pt="next"),oe=me[pt]){if(!(oe=oe.call(me,Ye)))throw TypeError("iterator result is not an object");if(!oe.done)return oe;Ye=oe.value,ze<2&&(ze=0)}else ze===1&&(oe=me.return)&&oe.call(me),ze<2&&(Ye=TypeError("The iterator does not provide a '"+pt+"' method"),ze=1);me=rt}else if((oe=(dt=at.n<0)?Ye:Rt.call(qt,at))!==M)break}catch(ke){me=rt,ze=1,Ye=ke}finally{ut=1}}return{value:oe,done:dt}}}(_e,st,xt),!0),Bt}var M={};function be(){}function he(){}function Ge(){}oe=Object.getPrototypeOf;var vt=[][Ze]?oe(oe([][Ze]())):(je(oe={},Ze,function(){return this}),oe),kt=Ge.prototype=be.prototype=Object.create(vt);function ce(_e){return Object.setPrototypeOf?Object.setPrototypeOf(_e,Ge):(_e.__proto__=Ge,je(_e,Je,"GeneratorFunction")),_e.prototype=Object.create(kt),_e}return he.prototype=Ge,je(kt,"constructor",Ge),je(Ge,"constructor",he),he.displayName="GeneratorFunction",je(Ge,Je,"GeneratorFunction"),je(kt),je(kt,Je,"Generator"),je(kt,Ze,function(){return this}),je(kt,"toString",function(){return"[object Generator]"}),(Oe=function(){return{w:qe,m:ce}})()}function je(rt,oe,Pe,Ze){var Je=Object.defineProperty;try{Je({},"",{})}catch(qe){Je=0}je=function(qe,M,be,he){function Ge(vt,kt){je(qe,vt,function(ce){return this._invoke(vt,kt,ce)})}M?Je?Je(qe,M,{value:be,enumerable:!he,configurable:!he,writable:!he}):qe[M]=be:(Ge("next",0),Ge("throw",1),Ge("return",2))},je(rt,oe,Pe,Ze)}function De(rt,oe,Pe,Ze,Je,qe,M){try{var be=rt[qe](M),he=be.value}catch(Ge){return void Pe(Ge)}be.done?oe(he):Promise.resolve(he).then(Ze,Je)}function Se(rt){return function(){var oe=this,Pe=arguments;return new Promise(function(Ze,Je){var qe=rt.apply(oe,Pe);function M(he){De(qe,Ze,Je,M,be,"next",he)}function be(he){De(qe,Ze,Je,M,be,"throw",he)}M(void 0)})}}function de(rt,oe){if(!(rt instanceof oe))throw new TypeError("Cannot call a class as a function")}function Xe(rt,oe){for(var Pe=0;Pe<oe.length;Pe++){var Ze=oe[Pe];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(rt,xe(Ze.key),Ze)}}function ht(rt,oe,Pe){return oe&&Xe(rt.prototype,oe),Pe&&Xe(rt,Pe),Object.defineProperty(rt,"prototype",{writable:!1}),rt}function nt(rt,oe,Pe){return oe=ot(oe),function(Ze,Je){if(Je&&(G(Je)=="object"||typeof Je=="function"))return Je;if(Je!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(qe){if(qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qe}(Ze)}(rt,lt()?Reflect.construct(oe,Pe||[],ot(rt).constructor):oe.apply(rt,Pe))}function lt(){try{var rt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(oe){}return(lt=function(){return!!rt})()}function ot(rt){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},ot(rt)}function ve(rt,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(oe&&oe.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),Object.defineProperty(rt,"prototype",{writable:!1}),oe&&pe(rt,oe)}function pe(rt,oe){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Pe,Ze){return Pe.__proto__=Ze,Pe},pe(rt,oe)}function tt(rt,oe,Pe){return(oe=xe(oe))in rt?Object.defineProperty(rt,oe,{value:Pe,enumerable:!0,configurable:!0,writable:!0}):rt[oe]=Pe,rt}function xe(rt){var oe=function(Pe){if(G(Pe)!="object"||!Pe)return Pe;var Ze=Pe[Symbol.toPrimitive];if(Ze!==void 0){var Je=Ze.call(Pe,"string");if(G(Je)!="object")return Je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Pe)}(rt);return G(oe)=="symbol"?oe:oe+""}var Ce,Ue,Te,it,Me,mt,He,We=window.BookReader,yt=function(rt){function oe(){var qe;de(this,oe);for(var M=arguments.length,be=new Array(M),he=0;he<M;he++)be[he]=arguments[he];return tt(qe=nt(this,oe,[].concat(be)),"options",{enabled:!0,panelDisclaimerText:"Translations are in alpha"}),tt(qe,"translationManager",new E),tt(qe,"worker",void 0),tt(qe,"toLanguages",[]),tt(qe,"langFromCode",void 0),tt(qe,"langToCode",void 0),tt(qe,"_panel",void 0),tt(qe,"userToggleTranslate",void 0),tt(qe,"loadingModel",!0),tt(qe,"textSelectionManager",new j.bg(".BRtranslateLayer",qe.br,{selectionElement:[".BRlineElement"]},1)),tt(qe,"getParagraphsOnPage",function(Ge){return Ge?Array.from(Ge.querySelectorAll(".BRtextLayer > .BRparagraphElement")):[]}),tt(qe,"handleFromLangChange",function(){var Ge=Se(Oe().m(function vt(kt){var ce;return Oe().w(function(_e){for(;;)switch(_e.n){case 0:qe.clearAllTranslations(),ce=kt.detail.value,qe.langFromCode=ce,qe._panel.requestUpdate(),qe.translationManager.toLanguages.some(function(Re){return Re.code===ce})||qe.translationManager.toLanguages.push({code:ce,name:qe.translationManager.fromLanguages.find(function(Re){return Re.code==ce}).name}),qe._panel.toLanguages=qe.translationManager.toLanguages,console.log(qe.langFromCode,qe.langToCode),qe._render(),qe.langFromCode!==qe.langToCode&&qe.translateActivePageContainerElements();case 1:return _e.a(2)}},vt)}));return function(vt){return Ge.apply(this,arguments)}}()),tt(qe,"handleToLangChange",function(){var Ge=Se(Oe().m(function vt(kt){return Oe().w(function(ce){for(;;)switch(ce.n){case 0:qe.clearAllTranslations(),qe.langToCode=kt.detail.value,qe._render(),qe.translateActivePageContainerElements();case 1:return ce.a(2)}},vt)}));return function(vt){return Ge.apply(this,arguments)}}()),tt(qe,"handleToggleTranslation",Se(Oe().m(function Ge(){return Oe().w(function(vt){for(;;)switch(vt.n){case 0:qe.userToggleTranslate=!qe.userToggleTranslate,qe.translationManager.active=qe.userToggleTranslate,qe._render(),qe.userToggleTranslate?(qe.br.trigger("translationEnabled",{}),qe.translateActivePageContainerElements(),qe.textSelectionManager.attach()):(qe.clearAllTranslations(),qe.br.trigger("translationDisabled",{}),qe.textSelectionManager.detach());case 1:return vt.a(2)}},Ge)}))),qe}return ve(oe,rt),ht(oe,[{key:"init",value:(Je=Se(Oe().m(function qe(){var M,be=this;return Oe().w(function(he){for(;;)switch(he.n){case 0:if(M=(0,f.YH)(this.br.options.bookLanguage.replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"")),this.langFromCode=M!=null?M:"en",this.textSelectionManager.init(),this.options.enabled){he.n=1;break}return he.a(2);case 1:return this.translationManager.publicPath=this.br.options.imagesBaseURL.replace(/\/+$/,"")+"/..",this.br.on("textLayerRendered",function(){var Ge=Se(Oe().m(function vt(kt,ce){var _e,Re;return Oe().w(function(st){for(;;)switch(st.n){case 0:if(ce.pageIndex,_e=ce.pageContainer,be.translationManager){st.n=1;break}return st.a(2);case 1:be.translationManager.active&&(Re=_e.$container[0],be.translateRenderedLayer(Re));case 2:return st.a(2)}},vt)}));return function(vt,kt){return Ge.apply(this,arguments)}}()),this.br.on("pageVisible",function(Ge,vt){var kt=vt.pageContainerEl;if(be.translationManager.active){var ce,_e=V(kt.querySelectorAll(".BRtranslateLayer > .BRparagraphElement"));try{for(_e.s();!(ce=_e.n()).done;){var Re=ce.value;Re.textContent&&be.fitVisiblePage(Re)}}catch(st){_e.e(st)}finally{_e.f()}}}),he.n=2,this.translationManager.initWorker();case 2:this.langToCode=this.translationManager.toLanguages[0].code,this._render();case 3:return he.a(2)}},qe,this)})),function(){return Je.apply(this,arguments)})},{key:"translateActivePageContainerElements",value:function(){var qe,M=this.br.getActivePageContainerElements(),be=M.filter(function(Re){return Re.classList.contains("BRpage-visible")}),he=M.filter(function(Re){return!Re.classList.contains("BRpage-visible")}),Ge=V(be);try{for(Ge.s();!(qe=Ge.n()).done;){var vt=qe.value;this.translateRenderedLayer(vt,0)}}catch(Re){Ge.e(Re)}finally{Ge.f()}var kt,ce=V(he);try{for(ce.s();!(kt=ce.n()).done;){var _e=kt.value;this.translateRenderedLayer(_e,1e3)}}catch(Re){ce.e(Re)}finally{ce.f()}}},{key:"translateRenderedLayer",value:(Ze=Se(Oe().m(function qe(M,be){var he,Ge,vt,kt,ce,_e,Re=this;return Oe().w(function(st){for(;;)switch(st.n){case 0:if(this.br.mode!=this.br.constModeThumb&&this.userToggleTranslate&&this.langFromCode!=this.langToCode){st.n=1;break}return st.a(2);case 1:return Ge=M.dataset.index,M.querySelector(".BRPageLayer.BRtranslateLayer")?vt=M.querySelector(".BRPageLayer.BRtranslateLayer"):((vt=document.createElement("div")).classList.add("BRPageLayer","BRtranslateLayer","BRtranslateLayerLoading"),vt.setAttribute("lang","".concat(this.langToCode)),M.prepend(vt)),kt=M.querySelector(".BRtextLayer"),H(vt).css({width:kt.style.width,height:kt.style.height,transform:kt.style.transform,"pointer-events":kt.style.pointerEvents,"z-index":3}),kt.classList.add("showingTranslation"),ce=this.getParagraphsOnPage(M),_e=ce.map(function(){var xt=Se(Oe().m(function Mt(Bt,Rt){var qt,Be,me,ze,Ye,ut,ft,dt,at;return Oe().w(function(Fe){for(;;)switch(Fe.n){case 0:if((qt=M.querySelector("[data-translate-index='".concat(Ge,"-").concat(Rt,"']")))||((qt=document.createElement("p")).setAttribute("data-translate-index","".concat(Ge,"-").concat(Rt)),qt.className="BRparagraphElement",Be=ce[Rt],Bt.classList.contains("ocr-role-header-footer")&&(qt.ariaHidden="true",qt.classList.add("ocr-role-header-footer")),me="".concat(parseInt(H(Be).css("font-size")),"px"),H(qt).css({"margin-left":H(Be).css("margin-left"),"margin-top":H(Be).css("margin-top"),top:H(Be).css("top"),height:H(Be).css("height"),width:H(Be).css("width"),"font-size":me}),vt.append(qt)),Bt.textContent.length===0){Fe.n=2;break}return ut=parseFloat(Ge)+be+Rt,Re.translationManager.getTranslationModel(Re.langFromCode,Re.langToCode).then(function(){Re._panel.loadingModel=!1,Re.loadingModel=!1}),Fe.n=1,Re.translationManager.getTranslation(Re.langFromCode,Re.langToCode,Ge,Rt,Bt.textContent,ut);case 1:ft=Fe.v,(ze=qt.firstElementChild)===null||ze===void 0||ze.remove(),dt=(Ye=ce[Rt])===null||Ye===void 0||(Ye=Ye.firstChild)===null||Ye===void 0?void 0:Ye.firstChild,(at=document.createElement("span")).className="BRlineElement",at.textContent=ft,qt.appendChild(at),H(at).css({"text-indent":H(dt).css("padding-left")}),M.classList.contains("BRpage-visible")&&Re.fitVisiblePage(qt);case 2:return Fe.a(2)}},Mt)}));return function(Mt,Bt){return xt.apply(this,arguments)}}()),(he=this.textSelectionManager)===null||he===void 0||he.stopPageFlip(this.br.refs.$brContainer),st.n=2,Promise.all(_e);case 2:this.br.trigger("translateLayerRendered",{leafIndex:Ge,translateLayer:vt});case 3:return st.a(2)}},qe,this)})),function(qe,M){return Ze.apply(this,arguments)})},{key:"getTranslateLayers",value:(Pe=Se(Oe().m(function qe(M){var be,he,Ge=this;return Oe().w(function(vt){for(;;)switch(vt.n){case 0:if(be=this.br.getActivePageContainerElementsForIndex(M),!(he=H(be).filter("[data-index='".concat(M,"']")).find(".BRtranslateLayer")).length){vt.n=1;break}return vt.a(2,he.toArray());case 1:return vt.a(2,new Promise(function(kt,ce){var _e=function(){var Re=Se(Oe().m(function st(xt,Mt){return Oe().w(function(Bt){for(;;)switch(Bt.n){case 0:Mt.leafIndex==M&&(Ge.br.off("translateLayerRendered",_e),kt([Mt.translateLayer]));case 1:return Bt.a(2)}},st)}));return function(st,xt){return Re.apply(this,arguments)}}();Ge.br.on("translateLayerRendered",_e)}))}},qe,this)})),function(qe){return Pe.apply(this,arguments)})},{key:"clearAllTranslations",value:function(){document.querySelectorAll(".BRtranslateLayer").forEach(function(qe){return qe.remove()}),document.querySelectorAll(".showingTranslation").forEach(function(qe){return qe.classList.remove("showingTranslation")})}},{key:"fitVisiblePage",value:function(qe){for(var M=parseInt(H(qe).css("font-size"));qe.clientHeight<qe.scrollHeight&&M>0;)M--,H(qe).css({"font-size":"".concat(M,"px")});var be=qe.firstElementChild.clientHeight,he=qe.scrollHeight;if(be<he){var Ge=he/(be/M);H(qe).css({"line-height":"".concat(Ge,"px"),overflow:"visible"})}}},{key:"_render",value:function(){var qe=this;this.br.shell.menuProviders.translate={id:"translate",icon:(0,a.qy)(S||(S=W(["<img src='",`/translate.svg' width="26"/>`])),this.br.options.imagesBaseURL),label:"Translate",component:(0,a.qy)(s||(s=W([`<br-translate-panel
        @connected="`,`"
        @langFromChanged="`,`"
        @langToChanged="`,`"
        @toggleTranslation="`,`"
        .fromLanguages="`,`"
        .toLanguages="`,`"
        .disclaimerMessage="`,`"
        .userTranslationActive=`,`
        .detectedFromLang=`,`
        .detectedToLang=`,`
        .loadingModel=`,`
        class="translate-panel"
      />`])),function(M){qe._panel=M.target,qe._panel.fromLanguages=qe.translationManager.fromLanguages,qe._panel.toLanguages=qe.translationManager.toLanguages,qe._panel.userTranslationActive=qe.userToggleTranslate,qe._panel.detectedToLang=qe.langToCode,qe._panel.detectedFromLang=qe.langFromCode,qe._panel.loadingModel=qe.loadingModel},this.handleFromLangChange,this.handleToLangChange,this.handleToggleTranslation,this.translationManager.fromLanguages,this.translationManager.toLanguages,this.options.panelDisclaimerText,this.userToggleTranslate,this.langFromCode,this.langToCode,this.loadingModel)},this.br.shell.updateMenuContents()}}]);var Pe,Ze,Je}(l.S);We==null||We.registerPlugin("translate",yt),Ce=[(0,o.EM)("br-translate-panel")],Ue=a.WF,Me=K(),Te=function(rt){Me.initializeInstanceElements(rt,He.elements)},it=function(rt){function oe(){var Pe;de(this,oe);for(var Ze=arguments.length,Je=new Array(Ze),qe=0;qe<Ze;qe++)Je[qe]=arguments[qe];return Pe=nt(this,oe,[].concat(Je)),Te(Pe),Pe}return ve(oe,rt),ht(oe)}(Ue),mt={F:it,d:[{kind:"field",decorators:[(0,o.MZ)({type:Array})],key:"fromLanguages",value:function(){return[]}},{kind:"field",decorators:[(0,o.MZ)({type:Array})],key:"toLanguages",value:function(){return[]}},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"prevSelectedLang",value:function(){return""}},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"disclaimerMessage",value:function(){return""}},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"userTranslationActive",value:function(){return!1}},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"detectedFromLang",value:function(){return""}},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"detectedToLang",value:function(){return""}},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"loadingModel",value:void 0},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"connectedCallback",value:function(){var rt,oe,Pe,Ze,Je;(rt=it,oe="connectedCallback",Pe=this,Je=ie(ot(1&(Ze=3)?rt.prototype:rt),oe,Pe),2&Ze&&typeof Je=="function"?function(qe){return Je.apply(Pe,qe)}:Je)([]),this.dispatchEvent(new CustomEvent("connected"))}},{kind:"method",key:"render",value:function(){var rt=this;return(0,a.qy)(h||(h=W([`<div class="app" style="margin-top: 5%;padding-right: 5px;">
      <div
        class="disclaimer"
        id="disclaimerMessage"
        style="background-color: rgba(255,255,255,0.1);padding: 10px;border-radius: 8px;font-size: 12px;margin-bottom: 10px;color: rgba(255,255,255, 0.9);"
      >`,`</div>

      <div class="panel panel--to" style="padding: 0 10px;">
        <label>
          <span style="font-size: 12px;color: #ccc;">Translate To</span>
          <select id="lang-to" name="to" class="lang-select" style="display:block; width:100%;" @change="`,`">
          `,`
          </select>
        </label>
      </div>

      <div class="panel panel--start" style="text-align: right;padding: 0 10px;/*! font-size: 18px; */margin-top: 10px;">
            <button class="start-translation-brn" @click="`,`">
              `,`
            </button>
      </div>

      <div class="panel panel--from" style="font-size: 12px;color: #ccc;text-align: center;padding: 8px 10px;">
        <details style="display: contents">
          <summary style="text-decoration: underline white; cursor:pointer; display:inline-block"> 
            <i>
              Source: `," ",` 
            </i> Change 
          </summary>
          <select id="lang-from" name="from" class="lang-select" value=`,' @change="',`" style="width:65%; margin-top: 3%; margin-bottom: 3%">
          `,`
          </select>
      </details>
      <div class="footer" id="status" style="margin-top:5%">
      `,`
      </div>

      <div class="lang-models-loading"> 
      `,`
      </div>
    </div>`])),this.disclaimerMessage,this._onLangToChange,(0,R.sortBy)(this.toLanguages,function(oe){return oe.name.toLowerCase()}).map(function(oe){return(0,a.qy)(g||(g=W(['<option value="',`" 
                        ?selected=`,`
                        > `," </option>"])),oe.code,oe.code==rt.detectedToLang,oe.name?oe.name:oe.code)}),this._toggleTranslation,this.userTranslationActive?"Stop Translating":"Translate",this._getLangName(this.detectedFromLang),this.prevSelectedLang?"":"(detected)",this.detectedFromLang,this._onLangFromChange,(0,R.sortBy)(this.fromLanguages,function(oe){return oe.name.toLowerCase()}).map(function(oe){return(0,a.qy)(m||(m=W(['<option value="',`"
                      ?selected=`,`
                      >`," </option>"])),oe.code,oe.code==rt.detectedFromLang,oe.name?oe.name:oe.code)}),this._statusWarning(),this._languageModelStatus())}},{kind:"method",key:"_onLangFromChange",value:function(rt){var oe=new CustomEvent("langFromChanged",{detail:{value:rt.target.value},bubbles:!0,composed:!0});this.dispatchEvent(oe),this._getSelectedLang("to")!==this._getSelectedLang("from")&&(this.prevSelectedLang=this._getSelectedLang("from")),this.loadingModel=!0,this.detectedFromLang=rt.target.value}},{kind:"method",key:"_onLangToChange",value:function(rt){var oe=new CustomEvent("langToChanged",{detail:{value:rt.target.value},bubbles:!0,composed:!0});this.dispatchEvent(oe),this._getSelectedLang("from")!==rt.target.value&&(this.prevSelectedLang=this._getSelectedLang("from")),this.loadingModel=!0,this.detectedToLang=rt.target.value}},{kind:"method",key:"_getSelectedLang",value:function(rt){var oe=this.querySelector("#lang-".concat(rt));return oe?oe.value:""}},{kind:"method",key:"_getLangName",value:function(rt){var oe=[].concat(q(this.fromLanguages),q(this.toLanguages)).find(function(Pe){return Pe.code===rt});return oe?oe.name:""}},{kind:"method",key:"_toggleTranslation",value:function(rt){var oe=new CustomEvent("toggleTranslation",{detail:{value:rt.target.value},bubbles:!0,composed:!0});this.userTranslationActive=!this.userTranslationActive,this.dispatchEvent(oe)}},{kind:"method",key:"_statusWarning",value:function(){return this.detectedFromLang==this.detectedToLang?"Translate To language is the same as the Source language":""}},{kind:"method",key:"_languageModelStatus",value:function(){return this.userTranslationActive?this.loadingModel?(0,a.qy)(b||(b=W([`
        <ia-activity-indicator mode="processing" style="display:block; width: 40px; height: 40px; margin: 0 auto;"></ia-activity-indicator>
        <p>Downloading language model</p>
        `]))):(0,a.qy)(_||(_=W(["<p>Language model loaded</p>"]))):""}}]},He=Me.decorateClass(function(rt){for(var oe=[],Pe=function(M){return M.kind==="method"&&M.key===qe.key&&M.placement===qe.placement},Ze=0;Ze<rt.length;Ze++){var Je,qe=rt[Ze];if(qe.kind==="method"&&(Je=oe.find(Pe)))if(J(qe.descriptor)||J(Je.descriptor)){if(D(qe)||D(Je))throw new ReferenceError("Duplicated methods ("+qe.key+") can't be decorated.");Je.descriptor=qe.descriptor}else{if(D(qe)){if(D(Je))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+qe.key+").");Je.decorators=qe.decorators}te(qe,Je)}else oe.push(qe)}return oe}(mt.d.map(ue)),Ce),Me.initializeClassElements(mt.F,He.elements),Me.runClassFinishers(mt.F,He.finishers)}},function(e){e(e.s=6735)}]);i_=bC,{default:r_}=i_,yC=en(i_,["default"]),n_=r_!==void 0?r_:yC;});var o_={};On(o_,{default:()=>n_});var a_=Wt(()=>{xg();xg()});var wC,s_,l_,_C,u_,Sg=Wt(()=>{wC={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[830],{1041:function(e,t,r){function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(n)}function l(n,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,o(f.key),f)}}function o(n){var c=function(d){if(a(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var p=f.call(d,"string");if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(n);return a(c)=="symbol"?c:c+""}r.d(t,{S:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var u=function(){return n=function d(f){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.br=f,this.options},(c=[{key:"setup",value:function(d){this.options=Object.assign({},this.options,d)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(d){}},{key:"_configureToolbar",value:function(d){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(d){}}])&&l(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}()},3921:function(e,t,r){var a=r(6518),l=r(2652),o=r(4659);a({target:"Object",stat:!0},{fromEntries:function(u){var n={};return l(u,function(c,d){o(n,c,d)},{AS_ENTRIES:!0}),n}})},6732:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8125),r(8706),r(2008),r(113),r(3418),r(4423),r(3792),r(2062),r(4782),r(4554),r(739),r(9572),r(2010),r(4731),r(479),r(8130),r(9085),r(2811),r(3921),r(3851),r(875),r(9432),r(6099),r(3362),r(825),r(888),r(7495),r(8781),r(1699),r(7764),r(5440),r(3500),r(2953);var a,l,o,u,n,c,d,f=r(420),p=r(1041),v=r(9696),y=r(8004);function w(Se){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},w(Se)}function k(Se,de,Xe,ht){var nt=A();if(ht)for(var lt=0;lt<ht.length;lt++)nt=ht[lt](nt);var ot=de(function(pe){nt.initializeInstanceElements(pe,ve.elements)},Xe),ve=nt.decorateClass(function(pe){for(var tt=[],xe=function(it){return it.kind==="method"&&it.key===Te.key&&it.placement===Te.placement},Ce=0;Ce<pe.length;Ce++){var Ue,Te=pe[Ce];if(Te.kind==="method"&&(Ue=tt.find(xe)))if(s(Te.descriptor)||s(Ue.descriptor)){if(S(Te)||S(Ue))throw new ReferenceError("Duplicated methods ("+Te.key+") can't be decorated.");Ue.descriptor=Te.descriptor}else{if(S(Te)){if(S(Ue))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+Te.key+").");Ue.decorators=Te.decorators}x(Te,Ue)}else tt.push(Te)}return tt}(ot.d.map(C)),Se);return nt.initializeClassElements(ot.F,ve.elements),nt.runClassFinishers(ot.F,ve.finishers)}function A(){A=function(){return Se};var Se={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(de,Xe){["method","field"].forEach(function(ht){Xe.forEach(function(nt){nt.kind===ht&&nt.placement==="own"&&this.defineClassElement(de,nt)},this)},this)},initializeClassElements:function(de,Xe){var ht=de.prototype;["method","field"].forEach(function(nt){Xe.forEach(function(lt){var ot=lt.placement;if(lt.kind===nt&&(ot==="static"||ot==="prototype")){var ve=ot==="static"?de:ht;this.defineClassElement(ve,lt)}},this)},this)},defineClassElement:function(de,Xe){var ht=Xe.descriptor;if(Xe.kind==="field"){var nt=Xe.initializer;ht={enumerable:ht.enumerable,writable:ht.writable,configurable:ht.configurable,value:nt===void 0?void 0:nt.call(de)}}Object.defineProperty(de,Xe.key,ht)},decorateClass:function(de,Xe){var ht=[],nt=[],lt={static:[],prototype:[],own:[]};if(de.forEach(function(ve){this.addElementPlacement(ve,lt)},this),de.forEach(function(ve){if(!S(ve))return ht.push(ve);var pe=this.decorateElement(ve,lt);ht.push(pe.element),ht.push.apply(ht,pe.extras),nt.push.apply(nt,pe.finishers)},this),!Xe)return{elements:ht,finishers:nt};var ot=this.decorateConstructor(ht,Xe);return nt.push.apply(nt,ot.finishers),ot.finishers=nt,ot},addElementPlacement:function(de,Xe,ht){var nt=Xe[de.placement];if(!ht&&nt.indexOf(de.key)!==-1)throw new TypeError("Duplicated element ("+de.key+")");nt.push(de.key)},decorateElement:function(de,Xe){for(var ht=[],nt=[],lt=de.decorators,ot=lt.length-1;ot>=0;ot--){var ve=Xe[de.placement];ve.splice(ve.indexOf(de.key),1);var pe=this.fromElementDescriptor(de),tt=this.toElementFinisherExtras((0,lt[ot])(pe)||pe);de=tt.element,this.addElementPlacement(de,Xe),tt.finisher&&nt.push(tt.finisher);var xe=tt.extras;if(xe){for(var Ce=0;Ce<xe.length;Ce++)this.addElementPlacement(xe[Ce],Xe);ht.push.apply(ht,xe)}}return{element:de,finishers:nt,extras:ht}},decorateConstructor:function(de,Xe){for(var ht=[],nt=Xe.length-1;nt>=0;nt--){var lt=this.fromClassDescriptor(de),ot=this.toClassDescriptor((0,Xe[nt])(lt)||lt);if(ot.finisher!==void 0&&ht.push(ot.finisher),ot.elements!==void 0){de=ot.elements;for(var ve=0;ve<de.length-1;ve++)for(var pe=ve+1;pe<de.length;pe++)if(de[ve].key===de[pe].key&&de[ve].placement===de[pe].placement)throw new TypeError("Duplicated element ("+de[ve].key+")")}}return{elements:de,finishers:ht}},fromElementDescriptor:function(de){var Xe={kind:de.kind,key:de.key,placement:de.placement,descriptor:de.descriptor};return Object.defineProperty(Xe,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),de.kind==="field"&&(Xe.initializer=de.initializer),Xe},toElementDescriptors:function(de){if(de!==void 0)return(Xe=de,function(ht){if(Array.isArray(ht))return ht}(Xe)||function(ht){if(typeof Symbol<"u"&&ht[Symbol.iterator]!=null||ht["@@iterator"]!=null)return Array.from(ht)}(Xe)||E(Xe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(ht){var nt=this.toElementDescriptor(ht);return this.disallowProperty(ht,"finisher","An element descriptor"),this.disallowProperty(ht,"extras","An element descriptor"),nt},this);var Xe},toElementDescriptor:function(de){var Xe=de.kind+"";if(Xe!=="method"&&Xe!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+Xe+'"');var ht=V(de.key),nt=de.placement+"";if(nt!=="static"&&nt!=="prototype"&&nt!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+nt+'"');var lt=de.descriptor;this.disallowProperty(de,"elements","An element descriptor");var ot={kind:Xe,key:ht,placement:nt,descriptor:Object.assign({},lt)};return Xe!=="field"?this.disallowProperty(de,"initializer","A method descriptor"):(this.disallowProperty(lt,"get","The property descriptor of a field descriptor"),this.disallowProperty(lt,"set","The property descriptor of a field descriptor"),this.disallowProperty(lt,"value","The property descriptor of a field descriptor"),ot.initializer=de.initializer),ot},toElementFinisherExtras:function(de){return{element:this.toElementDescriptor(de),finisher:h(de,"finisher"),extras:this.toElementDescriptors(de.extras)}},fromClassDescriptor:function(de){var Xe={kind:"class",elements:de.map(this.fromElementDescriptor,this)};return Object.defineProperty(Xe,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Xe},toClassDescriptor:function(de){var Xe=de.kind+"";if(Xe!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+Xe+'"');this.disallowProperty(de,"key","A class descriptor"),this.disallowProperty(de,"placement","A class descriptor"),this.disallowProperty(de,"descriptor","A class descriptor"),this.disallowProperty(de,"initializer","A class descriptor"),this.disallowProperty(de,"extras","A class descriptor");var ht=h(de,"finisher");return{elements:this.toElementDescriptors(de.elements),finisher:ht}},runClassFinishers:function(de,Xe){for(var ht=0;ht<Xe.length;ht++){var nt=(0,Xe[ht])(de);if(nt!==void 0){if(typeof nt!="function")throw new TypeError("Finishers must return a constructor.");de=nt}}return de},disallowProperty:function(de,Xe,ht){if(de[Xe]!==void 0)throw new TypeError(ht+" can't have a ."+Xe+" property.")}};return Se}function C(Se){var de,Xe=V(Se.key);Se.kind==="method"?de={value:Se.value,writable:!0,configurable:!0,enumerable:!1}:Se.kind==="get"?de={get:Se.value,configurable:!0,enumerable:!1}:Se.kind==="set"?de={set:Se.value,configurable:!0,enumerable:!1}:Se.kind==="field"&&(de={configurable:!0,writable:!0,enumerable:!0});var ht={kind:Se.kind==="field"?"field":"method",key:Xe,placement:Se.static?"static":Se.kind==="field"?"own":"prototype",descriptor:de};return Se.decorators&&(ht.decorators=Se.decorators),Se.kind==="field"&&(ht.initializer=Se.value),ht}function x(Se,de){Se.descriptor.get!==void 0?de.descriptor.get=Se.descriptor.get:de.descriptor.set=Se.descriptor.set}function S(Se){return Se.decorators&&Se.decorators.length}function s(Se){return Se!==void 0&&!(Se.value===void 0&&Se.writable===void 0)}function h(Se,de){var Xe=Se[de];if(Xe!==void 0&&typeof Xe!="function")throw new TypeError("Expected '"+de+"' to be a function");return Xe}function g(Se,de,Xe,ht){var nt=m(G(1&ht?Se.prototype:Se),de,Xe);return 2&ht&&typeof nt=="function"?function(lt){return nt.apply(Xe,lt)}:nt}function m(){return m=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Se,de,Xe){var ht=function(lt,ot){for(;!{}.hasOwnProperty.call(lt,ot)&&(lt=G(lt))!==null;);return lt}(Se,de);if(ht){var nt=Object.getOwnPropertyDescriptor(ht,de);return nt.get?nt.get.call(arguments.length<3?Se:Xe):nt.value}},m.apply(null,arguments)}function b(Se,de){return de||(de=Se.slice(0)),Object.freeze(Object.defineProperties(Se,{raw:{value:Object.freeze(de)}}))}function _(Se,de){var Xe=typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(!Xe){if(Array.isArray(Se)||(Xe=E(Se))||de&&Se&&typeof Se.length=="number"){Xe&&(Se=Xe);var ht=0,nt=function(){};return{s:nt,n:function(){return ht>=Se.length?{done:!0}:{done:!1,value:Se[ht++]}},e:function(pe){throw pe},f:nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var lt,ot=!0,ve=!1;return{s:function(){Xe=Xe.call(Se)},n:function(){var pe=Xe.next();return ot=pe.done,pe},e:function(pe){ve=!0,lt=pe},f:function(){try{ot||Xe.return==null||Xe.return()}finally{if(ve)throw lt}}}}function E(Se,de){if(Se){if(typeof Se=="string")return R(Se,de);var Xe={}.toString.call(Se).slice(8,-1);return Xe==="Object"&&Se.constructor&&(Xe=Se.constructor.name),Xe==="Map"||Xe==="Set"?Array.from(Se):Xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xe)?R(Se,de):void 0}}function R(Se,de){(de==null||de>Se.length)&&(de=Se.length);for(var Xe=0,ht=Array(de);Xe<de;Xe++)ht[Xe]=Se[Xe];return ht}function j(Se,de,Xe){return de=G(de),function(ht,nt){if(nt&&(w(nt)=="object"||typeof nt=="function"))return nt;if(nt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(lt){if(lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt}(ht)}(Se,H()?Reflect.construct(de,Xe||[],G(Se).constructor):de.apply(Se,Xe))}function H(){try{var Se=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(de){}return(H=function(){return!!Se})()}function G(Se){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(de){return de.__proto__||Object.getPrototypeOf(de)},G(Se)}function q(Se,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function");Se.prototype=Object.create(de&&de.prototype,{constructor:{value:Se,writable:!0,configurable:!0}}),Object.defineProperty(Se,"prototype",{writable:!1}),de&&K(Se,de)}function K(Se,de){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Xe,ht){return Xe.__proto__=ht,Xe},K(Se,de)}function ue(){var Se,de,Xe=typeof Symbol=="function"?Symbol:{},ht=Xe.iterator||"@@iterator",nt=Xe.toStringTag||"@@toStringTag";function lt(Te,it,Me,mt){var He=it&&it.prototype instanceof ve?it:ve,We=Object.create(He.prototype);return te(We,"_invoke",function(yt,Ot,Ft){var rt,oe,Pe,Ze=0,Je=Ft||[],qe=!1,M={p:0,n:0,v:Se,a:be,f:be.bind(Se,4),d:function(he,Ge){return rt=he,oe=0,Pe=Se,M.n=Ge,ot}};function be(he,Ge){for(oe=he,Pe=Ge,de=0;!qe&&Ze&&!vt&&de<Je.length;de++){var vt,kt=Je[de],ce=M.p,_e=kt[2];he>3?(vt=_e===Ge)&&(Pe=kt[(oe=kt[4])?5:(oe=3,3)],kt[4]=kt[5]=Se):kt[0]<=ce&&((vt=he<2&&ce<kt[1])?(oe=0,M.v=Ge,M.n=kt[1]):ce<_e&&(vt=he<3||kt[0]>Ge||Ge>_e)&&(kt[4]=he,kt[5]=Ge,M.n=_e,oe=0))}if(vt||he>1)return ot;throw qe=!0,Ge}return function(he,Ge,vt){if(Ze>1)throw TypeError("Generator is already running");for(qe&&Ge===1&&be(Ge,vt),oe=Ge,Pe=vt;(de=oe<2?Se:Pe)||!qe;){rt||(oe?oe<3?(oe>1&&(M.n=-1),be(oe,Pe)):M.n=Pe:M.v=Pe);try{if(Ze=2,rt){if(oe||(he="next"),de=rt[he]){if(!(de=de.call(rt,Pe)))throw TypeError("iterator result is not an object");if(!de.done)return de;Pe=de.value,oe<2&&(oe=0)}else oe===1&&(de=rt.return)&&de.call(rt),oe<2&&(Pe=TypeError("The iterator does not provide a '"+he+"' method"),oe=1);rt=Se}else if((de=(qe=M.n<0)?Pe:yt.call(Ot,M))!==ot)break}catch(kt){rt=Se,oe=1,Pe=kt}finally{Ze=1}}return{value:de,done:qe}}}(Te,Me,mt),!0),We}var ot={};function ve(){}function pe(){}function tt(){}de=Object.getPrototypeOf;var xe=[][ht]?de(de([][ht]())):(te(de={},ht,function(){return this}),de),Ce=tt.prototype=ve.prototype=Object.create(xe);function Ue(Te){return Object.setPrototypeOf?Object.setPrototypeOf(Te,tt):(Te.__proto__=tt,te(Te,nt,"GeneratorFunction")),Te.prototype=Object.create(Ce),Te}return pe.prototype=tt,te(Ce,"constructor",tt),te(tt,"constructor",pe),pe.displayName="GeneratorFunction",te(tt,nt,"GeneratorFunction"),te(Ce),te(Ce,nt,"Generator"),te(Ce,ht,function(){return this}),te(Ce,"toString",function(){return"[object Generator]"}),(ue=function(){return{w:lt,m:Ue}})()}function te(Se,de,Xe,ht){var nt=Object.defineProperty;try{nt({},"",{})}catch(lt){nt=0}te=function(lt,ot,ve,pe){function tt(xe,Ce){te(lt,xe,function(Ue){return this._invoke(xe,Ce,Ue)})}ot?nt?nt(lt,ot,{value:ve,enumerable:!pe,configurable:!pe,writable:!pe}):lt[ot]=ve:(tt("next",0),tt("throw",1),tt("return",2))},te(Se,de,Xe,ht)}function D(Se,de,Xe,ht,nt,lt,ot){try{var ve=Se[lt](ot),pe=ve.value}catch(tt){return void Xe(tt)}ve.done?de(pe):Promise.resolve(pe).then(ht,nt)}function J(Se){return function(){var de=this,Xe=arguments;return new Promise(function(ht,nt){var lt=Se.apply(de,Xe);function ot(pe){D(lt,ht,nt,ot,ve,"next",pe)}function ve(pe){D(lt,ht,nt,ot,ve,"throw",pe)}ot(void 0)})}}function Q(Se,de){if(!(Se instanceof de))throw new TypeError("Cannot call a class as a function")}function ne(Se,de){for(var Xe=0;Xe<de.length;Xe++){var ht=de[Xe];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(Se,V(ht.key),ht)}}function ie(Se,de,Xe){return de&&ne(Se.prototype,de),Xe&&ne(Se,Xe),Object.defineProperty(Se,"prototype",{writable:!1}),Se}function W(Se,de,Xe){return(de=V(de))in Se?Object.defineProperty(Se,de,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):Se[de]=Xe,Se}function V(Se){var de=function(Xe){if(w(Xe)!="object"||!Xe)return Xe;var ht=Xe[Symbol.toPrimitive];if(ht!==void 0){var nt=ht.call(Xe,"string");if(w(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Xe)}(Se);return w(de)=="symbol"?de:de+""}var se=window.BookReader,Ae=function(){return ie(function Xe(){Q(this,Xe),W(this,"name",void 0),W(this,"title",void 0),W(this,"description",void 0),W(this,"icon",void 0),W(this,"enabled",void 0),W(this,"learnMore",void 0),W(this,"br",void 0),W(this,"assetRoot","/BookReader/"),W(this,"enabledLoading",!1)},[{key:"buildAssetPath",value:function(Xe){return"".concat(this.assetRoot).concat(Xe)}},{key:"enable",value:(de=J(ue().m(function Xe(ht){return ue().w(function(nt){for(;;)switch(nt.n){case 0:ht.manual;case 1:return nt.a(2)}},Xe)})),function(Xe){return de.apply(this,arguments)})},{key:"disable",value:(Se=J(ue().m(function Xe(){return ue().w(function(ht){for(;;)if(ht.n===0)return ht.a(2)},Xe)})),function(){return Se.apply(this,arguments)})}]);var Se,de}(),Oe=function(Se){function de(){var nt;Q(this,de);for(var lt=arguments.length,ot=new Array(lt),ve=0;ve<lt;ve++)ot[ve]=arguments[ve];return W(nt=j(this,de,[].concat(ot)),"options",{enabled:!0,localStorageKey:"BrExperiments",enabledExperiments:["translate"]}),W(nt,"allExperiments",[new(function(pe){function tt(){var Ue;Q(this,tt);for(var Te=arguments.length,it=new Array(Te),Me=0;Me<Te;Me++)it[Me]=arguments[Me];return W(Ue=j(this,tt,[].concat(it)),"name","translate"),W(Ue,"title","Translate Plugin"),W(Ue,"description","Translate books directly in your browser."),W(Ue,"learnMore","https://mozilla.github.io/translations/"),W(Ue,"icon","images/translate.svg"),W(Ue,"enabled",!1),Ue}return q(tt,pe),ie(tt,[{key:"enable",value:(Ce=J(ue().m(function Ue(Te){return ue().w(function(it){for(;;)switch(it.n){case 0:if(Te.manual,!se.PLUGINS.translate){it.n=1;break}return it.a(2);case 1:return it.n=2,je(this.buildAssetPath("plugins/plugin.translate.js"));case 2:this.br.initializePlugin("translate");case 3:return it.a(2)}},Ue,this)})),function(Ue){return Ce.apply(this,arguments)})},{key:"disable",value:(xe=J(ue().m(function Ue(){return ue().w(function(Te){for(;;)switch(Te.n){case 0:(0,y.sleep)(0).then(function(){window.location.reload()});case 1:return Te.a(2)}},Ue)})),function(){return xe.apply(this,arguments)})}]);var xe,Ce}(Ae)),new(function(pe){function tt(){var Ue;Q(this,tt);for(var Te=arguments.length,it=new Array(Te),Me=0;Me<Te;Me++)it[Me]=arguments[Me];return W(Ue=j(this,tt,[].concat(it)),"name","hypothesis"),W(Ue,"title","Hypothes.is"),W(Ue,"description","Create public, collaborative, or fully private annotations on books and the web."),W(Ue,"learnMore","https://web.hypothes.is/about/"),W(Ue,"icon","images/hypothesis.ico"),W(Ue,"enabled",!1),Ue}return q(tt,pe),ie(tt,[{key:"enable",value:(Ce=J(ue().m(function Ue(Te){var it,Me,mt;return ue().w(function(He){for(;;)if(He.n===0)return it=Te.manual,Me=it!==void 0&&it,(mt=document.createElement("script")).type="application/json",mt.className="js-hypothesis-config",mt.textContent=JSON.stringify({openSidebar:Me,assetRoot:this.buildAssetPath("hypothesis/")}),document.head.appendChild(mt),He.a(2,je(this.buildAssetPath("hypothesis/build/boot.js")))},Ue,this)})),function(Ue){return Ce.apply(this,arguments)})},{key:"disable",value:(xe=J(ue().m(function Ue(){return ue().w(function(Te){for(;;)switch(Te.n){case 0:(0,y.sleep)(0).then(function(){window.location.reload()});case 1:return Te.a(2)}},Ue)})),function(){return xe.apply(this,arguments)})}]);var xe,Ce}(Ae))]),W(nt,"_panel",void 0),nt}return q(de,Se),ie(de,[{key:"init",value:(ht=J(ue().m(function nt(){var lt,ot,ve;return ue().w(function(pe){for(;;)switch(pe.n){case 0:if(this.options.enabled){pe.n=1;break}return pe.a(2);case 1:lt=_(this.allExperiments);try{for(lt.s();!(ot=lt.n()).done;)(ve=ot.value).assetRoot=this.br.options.imagesBaseURL.replace(/images\/$/,""),ve.icon=ve.buildAssetPath(ve.icon),ve.br=this.br}catch(tt){lt.e(tt)}finally{lt.f()}return this._loadExperimentStates(),pe.n=2,Promise.resolve();case 2:this._render();case 3:return pe.a(2)}},nt,this)})),function(){return ht.apply(this,arguments)})},{key:"_loadExperimentStates",value:function(){var nt=JSON.parse(localStorage.getItem(this.options.localStorageKey)||"{}");this.allExperiments.forEach(function(lt){nt[lt.name]!==void 0&&(lt.enabled=nt[lt.name],lt.enabled&&lt.enable({manual:!1}))})}},{key:"_saveExperimentStates",value:function(){var nt=Object.fromEntries(this.allExperiments.map(function(lt){return[lt.name,lt.enabled]}));localStorage.setItem(this.options.localStorageKey,JSON.stringify(nt))}},{key:"_toggleExperiment",value:(Xe=J(ue().m(function nt(lt,ot){var ve;return ue().w(function(pe){for(;;)switch(pe.n){case 0:if(lt.enabledLoading=!0,(ve=this.br.plugins.archiveAnalytics)===null||ve===void 0||ve.sendEvent("BRExperiment-".concat(lt.name),ot?"Enable":"Disable"),this._panel.requestUpdate(),!ot){pe.n=2;break}return pe.n=1,lt.enable({manual:!0});case 1:pe.n=3;break;case 2:return pe.n=3,lt.disable();case 3:lt.enabledLoading=!1,lt.enabled=ot,this._panel.requestUpdate();case 4:return pe.a(2)}},nt,this)})),function(nt,lt){return Xe.apply(this,arguments)})},{key:"_render",value:function(){var nt=this;this.br.shell.menuProviders.experiments={id:"experiments",icon:(0,f.qy)(a||(a=b([`
        <img src="`,`/icon_experiment.svg" alt="" width="26"/>
      `])),this.br.options.imagesBaseURL),label:"Experiments",component:(0,f.qy)(l||(l=b([`<br-experiments-panel
        .experiments="`,`"
        @connected="`,`"
        @toggle="`,`"
      />`])),this.allExperiments.filter(function(lt){return nt.options.enabledExperiments.includes(lt.name)}),function(lt){return nt._panel=lt.target},function(){var lt=J(ue().m(function ot(ve){return ue().w(function(pe){for(;;)switch(pe.n){case 0:return pe.n=1,nt._toggleExperiment(ve.detail.experiment,ve.detail.enabled);case 1:nt._saveExperimentStates();case 2:return pe.a(2)}},ot)}));return function(ot){return lt.apply(this,arguments)}}())},this.br.shell.updateMenuContents()}}]);var Xe,ht}(p.S);function je(Se){return De.apply(this,arguments)}function De(){return(De=J(ue().m(function Se(de){return ue().w(function(Xe){for(;;)if(Xe.n===0)return Xe.a(2,new Promise(function(ht,nt){var lt=document.createElement("script");lt.src=de,lt.onload=function(){return ht()},lt.onerror=function(){return nt(new Error("Failed to load script: ".concat(de)))},document.head.appendChild(lt)}))},Se)}))).apply(this,arguments)}se==null||se.registerPlugin("experiments",Oe),k([(0,v.EM)("br-experiments-panel")],function(Se,de){var Xe,ht=function(nt){function lt(){var ot;Q(this,lt);for(var ve=arguments.length,pe=new Array(ve),tt=0;tt<ve;tt++)pe[tt]=arguments[tt];return ot=j(this,lt,[].concat(pe)),Se(ot),ot}return q(lt,nt),ie(lt)}(de);return{F:ht,d:[{kind:"field",decorators:[(0,v.MZ)({type:Array})],key:"experiments",value:function(){return[]}},{kind:"method",key:"render",value:function(){var nt=this;return(0,f.qy)(o||(o=b([`
      <div style="padding: 10px">
        `,`
      </div>
    `])),this.experiments.map(function(lt){return(0,f.qy)(u||(u=b([`
        <br-experiment-toggle
          .icon="`,`"
          .title="`,`"
          .description="`,`"
          .enabled="`,`"
          .loading="`,`"
          .learnMore="`,`"
          @toggle="`,`"
        ></br-experiment-toggle>
      `])),lt.icon,lt.title,lt.description,lt.enabled,lt.enabledLoading,lt.learnMore,function(ot){return nt._dispatchToggle(lt,ot.detail.enabled)})}))}},{kind:"method",key:"_dispatchToggle",value:(Xe=J(ue().m(function nt(lt,ot){return ue().w(function(ve){for(;;)switch(ve.n){case 0:this.dispatchEvent(new CustomEvent("toggle",{detail:{experiment:lt,enabled:ot}}));case 1:return ve.a(2)}},nt,this)})),function(nt,lt){return Xe.apply(this,arguments)})},{kind:"method",key:"connectedCallback",value:function(){g(ht,"connectedCallback",this,3)([]),this.dispatchEvent(new CustomEvent("connected"))}}]}},f.WF),k([(0,v.EM)("br-experiment-toggle")],function(Se,de){var Xe=function(ht){function nt(){var lt;Q(this,nt);for(var ot=arguments.length,ve=new Array(ot),pe=0;pe<ot;pe++)ve[pe]=arguments[pe];return lt=j(this,nt,[].concat(ve)),Se(lt),lt}return q(nt,ht),ie(nt)}(de);return{F:Xe,d:[{kind:"field",decorators:[(0,v.MZ)({type:String})],key:"icon",value:function(){return""}},{kind:"field",decorators:[(0,v.MZ)({type:String})],key:"title",value:function(){return""}},{kind:"field",decorators:[(0,v.MZ)({type:String})],key:"description",value:function(){return""}},{kind:"field",decorators:[(0,v.MZ)({type:Boolean})],key:"enabled",value:function(){return!1}},{kind:"field",decorators:[(0,v.MZ)({type:Boolean})],key:"loading",value:function(){return!1}},{kind:"field",decorators:[(0,v.MZ)({type:String})],key:"learnMore",value:function(){return""}},{kind:"field",decorators:[(0,v.wk)()],key:"_longLoading",value:function(){return!1}},{kind:"method",key:"update",value:function(ht){var nt=this;g(Xe,"update",this,3)([ht]),ht.has("loading")&&(this.loading?(0,y.sleep)(500).then(function(){nt.loading&&(nt._longLoading=!0,nt.requestUpdate())}):this._longLoading=!1)}},{kind:"method",key:"render",value:function(){return(0,f.qy)(n||(n=b([`
      <div class="experiment-card" style="margin-bottom: 10px;">
        <div style="display: flex; align-items: center; gap: 10px;">
          <img src="`,`" style="width: 20px; height: 20px;" alt="" />
          <div style="flex-grow: 1; font-weight: bold;">`,`</div>
        </div>
        <p style="opacity: 0.9">
          `,`
          `,`
        </p>
        <div style="display: flex">
          <div style="flex-grow: 1;"></div>
          <button @click="`,'" .disabled="',`">
            `,`
          </button>
        </div>
      </div>
    `])),this.icon,this.title,this.description,this.learnMore?(0,f.qy)(c||(c=b(['<a href="','" target="_blank">Learn more</a>.'])),this.learnMore):"",this._dispatchToggle,this.loading,this._longLoading?"Loading\u2026":this.enabled?"Disable":"Enable")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,f.AH)(d||(d=b([`
      .experiment-card {
        border-radius: 8px;
        background-color: #fff2;
        padding: 10px;
        display: flex;
        flex-direction: column;
      }

      .experiment-card p {
        margin: 6px 0;
      }
    `])))}},{kind:"method",key:"_dispatchToggle",value:function(){this.dispatchEvent(new CustomEvent("toggle",{detail:{enabled:!this.enabled}}))}}]}},f.WF)}},function(e){e(e.s=6732)}]);s_=wC,{default:l_}=s_,_C=en(s_,["default"]),u_=l_!==void 0?l_:_C;});var c_={};On(c_,{default:()=>u_});var d_=Wt(()=>{Sg();Sg()});var xC={};function kC(e,t,r){if(typeof window.archive_analytics!="undefined"){var a={bookreader:"error",description:e,page:t,line:r};document.referrer==""?a.referrer="-":a.referrer=document.referrer,typeof br!="undefined"&&(a.itemid=br.bookId,a.subPrefix=br.subPrefix,a.server=br.server,a.bookPath=br.bookPath),archive_analytics.send_ping(a)}return!1}var h_=Wt(()=>{typeof Object.assign!="function"&&function(){Object.assign=function(e){"use strict";if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var a=arguments[r];if(a!=null)for(var l in a)a.hasOwnProperty(l)&&(t[l]=a[l])}return t}}();window.logError=kC});var SC,AC,p_=Wt(()=>{ti();ti();SC=we`
<svg
  viewBox="0 0 40 40"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="ellipsesTitleID ellipsesDescID"
>
  <title id="ellipsesTitleID">Ellipses icon</title>
  <desc id="ellipsesDescID">An illustration of text ellipses.</desc>
  <path class="fill-color" d="m10.5 17.5c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5c-1.38071187 0-2.5-1.1192881-2.5-2.5s1.11928813-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5z" fill-rule="evenodd"/>
</svg>
`,AC=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return SC}};customElements.define("ia-icon-ellipses",AC)});var CC,EC,f_=Wt(()=>{ti();ti();CC=we`
<svg
  viewBox="0 0 18 18"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="collapseSidebarTitleID collapseSidebarDescID"
>
  <title id="collapseSidebarTitleID">Collapse sidebar</title>
  <desc id="collapseSidebarDescID">A circle with a left pointing chevron</desc>
  <path d="m9 0c4.9705627 0 9 4.02943725 9 9 0 4.9705627-4.0294373 9-9 9-4.97056275 0-9-4.0294373-9-9 0-4.97056275 4.02943725-9 9-9zm1.6976167 5.28352881c-.365258-.3556459-.9328083-.37581056-1.32099801-.06558269l-.09308988.0844372-3 3.08108108-.08194436.09533317c-.27484337.36339327-.26799482.87009349.01656959 1.22592581l.084491.09308363 3 2.91891889.09533796.0818904c.3633964.2746544.8699472.2677153 1.2256839-.0167901l.093059-.0844712.0818904-.095338c.2746544-.3633964.2677153-.8699472-.0167901-1.2256839l-.0844712-.093059-2.283355-2.2222741 2.3024712-2.36338332.0819252-.09530804c.2997677-.39632298.2644782-.96313393-.1007797-1.31877983z" fill-rule="evenodd" class="fill-color" />
</svg>
`,EC=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return CC}};customElements.define("ia-icon-collapse-sidebar",EC)});var TC,$C,Ag=Wt(()=>{ti();ti();TC=we`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="shareTitleID shareDescID"
>
  <title id="shareTitleID">Share icon</title>
  <desc id="shareDescID">A square with an arrow arcing out from the center of the square</desc>
  <g class="fill-color">
    <path d="M70.6784759,10 L70.6784759,21.3240186 C64.5020053,21.66334 58.9104278,22.5826126 53.9037433,24.0818363 C48.8970588,25.5810601 44.8495989,27.4085163 41.7613636,29.5642049 C38.6731283,31.7198935 35.9982175,34.0552229 33.736631,36.5701929 C31.4750446,39.085163 29.8217469,41.5657574 28.776738,44.011976 C27.7317291,46.4581947 26.9173351,48.6848525 26.3335561,50.6919494 C25.7497772,52.6990464 25.4088681,54.3324462 25.3108289,55.592149 L25.2372995,57.4085163 C29.0296346,54.1661122 33.1751337,51.5524507 37.6737968,49.5675316 C42.1724599,47.5826126 46.2934492,46.3118208 50.0367647,45.7551564 C53.7800802,45.1984919 57.2571301,44.8713684 60.4679144,44.7737858 C63.6786988,44.6762031 66.1831551,44.7726769 67.9812834,45.0632069 L70.6784759,45.499002 L70.6784759,57.4051896 L100,33.3765802 L70.6784759,10 Z M76.4438503,62.4883566 L82.8609626,57.1157685 C82.9099822,57.0669772 82.9946524,57.0303837 83.1149733,57.005988 C83.2352941,56.9815924 83.4536542,56.9571967 83.7700535,56.9328011 C84.0864528,56.9084054 84.3905971,56.9449989 84.6824866,57.0425815 C84.9743761,57.1401641 85.217246,57.2854291 85.4110963,57.4783766 C85.6049465,57.671324 85.7263815,57.8409847 85.7754011,57.9873586 L85.8489305,58.2035928 L85.8489305,90 L0,90 L0,17.910845 L43.1784759,17.910845 C43.2765152,17.9596363 43.410205,18.0317143 43.5795455,18.1270792 C43.7488859,18.222444 43.9438503,18.4519849 44.1644385,18.8157019 C44.3850267,19.1794189 44.469697,19.5542249 44.4184492,19.9401198 C44.4184492,20.2794411 44.3092692,20.582169 44.0909091,20.8483034 C43.872549,21.1144378 43.6664439,21.3206919 43.4725936,21.4670659 L43.1818182,21.6134398 C40.557041,23.06609 38.2954545,24.396762 36.3970588,25.6054558 L30.7820856,29.8170326 L11.5274064,29.8170326 L11.5274064,78.1669993 L74.1811497,78.1669993 L74.1811497,65.5355955 C74.1811497,65.1009093 74.3995098,64.6407186 74.8362299,64.1550233 L76.4438503,62.4883566 Z" id="Shape"></path>
  </g>
</svg>
`,$C=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return TC}};customElements.define("ia-icon-share",$C)});var PC,OC,Cg=Wt(()=>{ti();ti();PC=we`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="twitterTitleID twitterDescID">
  <title id="twitterTitleID">Twitter icon</title>
  <desc id="twitterDescID">The Twitter logo, a cartoon bird</desc>
  <path d="m31.5297453 8.76273313c-.3135031.40766104-.7447036.83083673-1.2936015 1.26952707-.5488979.4386904-.9169698.7837578-1.1042157 1.0352022.1562166 2.319709-.1417719 4.5297454-.8939653 6.6301092-.7521935 2.1003638-1.8023754 3.9182538-3.1505457 5.45367-1.3481704 1.5354162-2.9627648 2.8284828-4.8437835 3.8791996-1.8810186 1.0507169-3.8321207 1.7483416-5.8533062 2.092874s-4.1215493.2894286-6.30109136-.1653114c-2.17954205-.45474-4.2092874-1.3401455-6.08923604-2.6562165 2.72737.4697196 5.67408517-.2514445 8.8401455-2.1634924-3.0719024-.7521935-4.88979241-2.2881447-5.45367-4.6078537 1.12882516.0631287 1.86550396.0631287 2.21003638 0-2.91568586-1.2850417-4.38904344-3.3693558-4.42007276-6.2529424.21934517.0310293.53284828.1487267.94050931.3530922s.78375775.3060133 1.12829017.3049433c-.81532206-.7211641-1.41076396-1.9045581-1.7863257-3.5501819-.37556173-1.64562376-.17173122-3.17355015.61149155-4.58377912 1.81789001 1.88101862 3.6908838 3.36989086 5.61898138 4.46661672 1.92809757 1.0967259 4.22426707 1.7547614 6.88850847 1.9741066-.2503745-1.1908838-.1722662-2.32719882.2343248-3.40894502.4065911-1.0817462 1.0416221-1.93612241 1.9050931-2.56312861.863471-.62700621 1.8114702-1.0817462 2.8439975-1.36421999 1.0325272-.28247378 2.0827091-.27444896 3.1505456.02407447s1.9767815.87042585 2.726835 1.71570726c1.3791997-.37663172 2.6802911-.87845068 3.9032742-1.50545688-.0310293.37663171-.1407019.74470361-.3290178 1.1042157-.1883158.35951209-.3530922.62593623-.4943291.79927242s-.3841216.4317355-.728654.77519795c-.3445324.34346244-.5638776.57832227-.6580355.70457949.2193452-.09415792.6895998-.23539482 1.410764-.42371067.7211641-.18831586 1.2069334-.39214638 1.4573079-.61149155 0 .44350524-.1567516.86668093-.4702547 1.27434196z" class="fill-color" />
</svg>
`,OC=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return PC}};customElements.define("ia-icon-twitter",OC)});var MC,IC,Eg=Wt(()=>{ti();ti();MC=we`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="facebookTitleID facebookDescID">
  <title id="facebookTitleID">Facebook icon</title>
  <desc id="facebookDescID">A lowercase f</desc>
  <path d="m30.91057 19.2442068.2670004-5.3339402h-5.7329237c-.0890001-3.4962895.25183-5.42243459 1.0224903-5.77843514.3560005-.17800028.8004955-.28925046 1.333485-.33375053s1.0442346-.0520853 1.5337353-.02275571c.4895008.02932959 1.045246.01466479 1.6672356-.04399439.0890001-1.59997977.1335002-3.24445961.1335002-4.93343953-2.1633102-.20732987-3.6742898-.28115953-4.5329389-.22148898-2.8146294.17800028-4.7847688 1.25965538-5.9104183 3.2449653-.1780003.3256596-.3261653.68873971-.444495 1.08924034-.1183298.40050062-.2144095.76358074-.2882391 1.08924034-.0738297.32565959-.125915.7848194-.1562559 1.37747942-.030341.59266002-.052591 1.04474028-.0667501 1.35624078-.0141592.3115005-.0217444.8449956-.0227558 1.6004854v1.5777298h-3.8229605v5.3339401h3.8669549v14.622824h5.8224296c0-.3560006-.0146648-1.6819003-.0439944-3.9776994-.0293296-2.295799-.0515796-4.2957737-.0667501-5.9999241s-.0075853-3.2525506.0227557-4.6452005h5.4219289z" class="fill-color" />
</svg>
`,IC=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return MC}};customElements.define("ia-icon-facebook",IC)});var LC,DC,Tg=Wt(()=>{ti();ti();LC=we`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="tumblrTitleID tumblrDescID">
  <title id="tumblrTitleID">Tumblr icon</title>
  <desc id="tumblrDescID">A lowercase letter t</desc>
  <path d="m8.50321407 8.54544475v5.32088575c.15641786.0310693.6819176.0310693 1.57649923 0 .8945816-.0310693 1.3574071.0160703 1.3884764.1414189.0942792 1.5695354.1333837 3.2253149.1173133 4.9673385-.0160703 1.7420236-.0316049 3.3426283-.0466039 4.8018141s.2046288 2.824628.6588835 4.0963267c.4542546 1.2716986 1.1999178 2.2209194 2.2369897 2.8476622 1.2556283.784232 2.9896167 1.207953 5.2019653 1.271163 2.2123485.0632099 4.1659648-.2506972 5.8608487-.9417213-.0310693-.3449764-.0230341-1.4045467.0241055-3.1787109.0471397-1.7741643-.0080351-2.75499-.1655244-2.9424772-3.5472571 1.0360005-5.697467.6904885-6.4506298-1.0365361-.7220934-1.6638147-.8635123-4.9909084-.4242566-9.981281v-.046604h6.7318605v-5.32088568h-6.7318605v-6.54383772h-4.0497228c-.2828378 1.28669763-.6122795 2.35376743-.9883252 3.20120941-.3760457.84744199-.98029 1.60060471-1.812733 2.25948817-.832443.65888347-1.87594303 1.01993018-3.1305 1.08314014z" class="fill-color" />
</svg>
`,DC=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return LC}};customElements.define("ia-icon-tumblr",DC)});var RC,jC,$g=Wt(()=>{ti();ti();RC=we`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="pinterestTitleID pinterestDescID">
  <title id="pinterestTitleID">Pinterest icon</title>
  <desc id="pinterestDescID">A stylized letter p</desc>
  <path d="m11.9051049 30.5873434.653491-1.0742755.4207845-.839975c.2805229-.591861.5371377-1.2533214.7698443-1.9843813.2327065-.7310599.4659444-1.6029125.6997135-2.6155579.2337692-1.0126455.4128151-1.752206.5371377-2.2186817.0308151.030815.0775689.0855382.1402615.1641697.0626927.0786314.1094465.1333547.1402615.1641697.1243227.1870153.2178304.311338.280523.372968 1.1210293.964829 2.3817888 1.4631823 3.7822785 1.4950599 1.4939973 0 2.8790795-.3426843 4.1552465-1.0280529 2.1166733-1.1826593 3.6733633-3.1128487 4.6700699-5.7905679.4048457-1.1518444.6848374-2.5996192.8399751-4.3433245.1243226-1.587505-.0781002-3.0974411-.6072685-4.5298084-.903199-2.36638128-2.5528653-4.20306294-4.948999-5.51004497-1.276167-.65349101-2.5990879-1.05833667-3.9687625-1.21453696-1.525875-.21783034-3.1293188-.17107651-4.8103315.14026149-2.7701643.52916833-5.02709913 1.743174-6.77080442 3.64201699-1.99235065 2.14748836-2.98852598 4.62225355-2.98852598 7.42429545 0 2.9571797.9494215 5.0584455 2.84826449 6.3037975l.83997504.4207845c.12432268 0 .22526845.0154075.3028373.0462225s.1551377.0074381.23270656-.0701308c.07756885-.0775688.13229208-.1243226.16416969-.1402614s.07066204-.0860696.11635328-.2103923c.04569124-.1243226.07703756-.2098609.09403895-.2566147.01700139-.0467539.04834771-.1476996.09403895-.3028373s.06906816-.2486454.07013074-.280523l.14026149-.5132295c.06269263-.311338.09403895-.5291684.09403895-.653491-.03081502-.1243227-.12432268-.2799917-.28052297-.467007-.15620029-.1870154-.23376915-.2959305-.23270656-.3267455-.62267599-.8096914-.9494215-1.7904592-.98023652-2.9423035-.03081502-1.55669.28052297-2.9731185.93401399-4.24928547 1.18265932-2.45882635 3.17501002-3.93741618 5.97705192-4.43576949 1.6183201-.311338 3.1356943-.25661476 4.5521228.16416969 1.4164285.42078446 2.5135496 1.09765239 3.2913633 2.03060379.8405063 1.02752164 1.3229208 2.28828114 1.4472435 3.78227848.1243227 1.4004897-.0313463 2.9725872-.467007 4.7162925-.3740306 1.3696746-.9186065 2.5528653-1.6337275 3.5495719-.9967066 1.245352-2.0863896 1.8834355-3.269049 1.9142505-1.7118277.0626926-2.7547568-.6375522-3.1287874-2.1007345-.0935077-.4664757 0-1.2134744.2805229-2.240996.7469987-2.5842117 1.1359055-3.9384788 1.1667206-4.0628015.1870153-1.0275216.2024228-1.7904591.0462225-2.2888124-.1870153-.65349104-.5759222-1.15928246-1.1667205-1.51737429-.5907984-.35809182-1.2756357-.39687625-2.054512-.11635327-1.1826594.43566067-1.9610044 1.40048968-2.335035 2.89448706-.311338 1.306982-.2491767 2.6299028.186484 3.9687625 0 .0626926.0313463.1402615.094039.2327065.0626926.0924451.0940389.1700139.0940389.2327066 0 .0935076-.0313463.2491766-.0940389.467007-.0626927.2178303-.094039.3580918-.094039.4207844-.0935076.4356607-.3038999 1.3308903-.6311767 2.6856887-.3272768 1.3547985-.5838915 2.3897582-.7698443 3.1048793-.7778136 3.2068876-1.12049796 5.5881451-1.02805289 7.1437725l.37296809 2.7558194c.653491-.591861 1.2294131-1.2299445 1.7277664-1.9142505z" class="fill-color" />
</svg>
`,jC=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return RC}};customElements.define("ia-icon-pinterest",jC)});var BC,NC,Pg=Wt(()=>{ti();ti();BC=we`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="emailTitleID emailDescID">
  <title id="emailTitleID">Email icon</title>
  <desc id="emailDescID">An illustration of an envelope</desc>
  <path d="m32 7.04156803v19.91686397c0 .5752421-.4763773 1.041568-1.0640184 1.041568h-27.87196316c-.58764116 0-1.06401844-.4663259-1.06401844-1.041568v-19.91686397c0-.57524214.47637728-1.04156803 1.06401844-1.04156803h27.87196316c.5876411 0 1.0640184.46632589 1.0640184 1.04156803zm-26.25039901 1.19676167 10.04327011 10.1323738c.5135662.4194048.8817166.6291071 1.1044511.6291071.1198794 0 .2695514-.0503424.4490158-.1510273.1794644-.100685.3291364-.2013699.4490158-.3020548l.1798191-.1510273 10.1198794-10.15841306zm16.77212271 9.7303286 6.8831353 6.7889404v-13.5778809zm-17.92871075-6.6379131v13.350819l6.78098955-6.6629107zm22.09008685 14.2059464-5.9074304-5.8588202-.9757049.9551179-.3594018.3295984c-.0342324.0304241-.0665646.0587822-.0969964.0850743l-.1597867.1329606c-.0684912.0540844-.1198794.0895749-.1541644.1064714-.6674943.3687151-1.3523675.5530727-2.0546196.5530727-.65047 0-1.3782586-.218035-2.1833659-.6541048l-.6682036-.4520405-1.0278418-1.0311524-5.95850326 5.832781z" class="fill-color" />
</svg>
`,NC=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return BC}};customElements.define("ia-icon-email",NC)});var FC,zC,Og=Wt(()=>{ti();ti();FC=we`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="linkTitleID linkDescID">
  <title id="linkTitleID">Link icon</title>
  <desc id="linkDescID">Two chain links linked together</desc>
  <path d="m7.80511706 12.3659763c1.2669254-2.2579539 4.09819784-2.9949938 6.41200864-1.7733458l.2295791.12871 1.6067188.9559859 3.5467013-6.31849361c1.2682451-2.26030597 4.104098-2.99652769 6.4192376-1.76952182l.2223501.12488594 3.2168204 1.91103915c2.2770002 1.3527136 3.1866331 4.21502324 2.0564431 6.51290984l-.1198433.2278304-5.2002499 9.2680474c-1.2669254 2.2579539-4.0981978 2.9949938-6.4120086 1.7733458l-.2295791-.12871-1.6096554-.9558482-3.5437647 6.3183559c-1.2682451 2.260306-4.104098 2.9965277-6.41923761 1.7695218l-.22235013-.1248859-3.21682032-1.9110392c-2.27700024-1.3527136-3.18663314-4.2150232-2.05644312-6.5129098l.11984332-.2278304zm13.93955474-5.73311741-3.563271 6.35055051c1.889633 1.4530595 2.5776248 4.0429866 1.5410255 6.156875l-.1223014.2328355-.4183304.7430134 1.6096554.9558483c1.1431442.6791157 2.5155496.3977368 3.1667361-.5628389l.0921501-.1491451 5.2002498-9.2680474c.5752467-1.0252226.2110342-2.4011579-.8559335-3.14755806l-.1742742-.11247814-3.2168203-1.91103915c-1.1402863-.67741793-2.5086889-.39913772-3.1618387.55564729zm-11.79500786 7.00714351-5.20024982 9.2680474c-.57524673 1.0252226-.21103426 2.4011579.85593348 3.1475581l.17427416.1124781 3.21682032 1.9110392c1.14028632.6774179 2.50868892.3991377 3.16183872-.5556473l.0970474-.1563368 3.5622708-6.3513198c-1.8888875-1.4532134-2.5764504-4.042623-1.5400057-6.1561456l.1222818-.2327956.4153938-.7428758-1.6067188-.9559859c-1.1431442-.6791157-2.5155496-.3977368-3.1667361.5628389zm6.97653866 1.5796652-.3817806.6812386c-.5117123.9119895-.2800268 2.1014993.528439 2.8785267l.382717-.6803391c.5119098-.9123415.2798478-2.1024176-.5293754-2.8794262z" class="fill-color" />
</svg>
`,zC=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return FC}};customElements.define("ia-icon-link",zC)});function C_(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return m_!==void 0?m_.createHTML(t):t}function kl(e,t,r=e,a){var l,o,u,n;if(t===Jc)return t;let c=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,d=Zc(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==d&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),d===void 0?c=void 0:(c=new d(e),c._$AT(e,r,a)),a!==void 0?((u=(n=r)._$Co)!==null&&u!==void 0?u:n._$Co=[])[a]=c:r._$Cl=c),c!==void 0&&(t=kl(e,c._$AS(e,t.values),c,a)),t}var Mg,Wh,Iu,m_,Vh,es,Rg,HC,_l,qh,Zc,k_,x_,Ig,Kc,g_,v_,yl,b_,y_,S_,A_,OU,MU,Jc,so,w_,wl,E_,Dg,$_,jg,Xc,O_,UC,M_,I_,L_,WC,Lg,VC,Bg,D_,__,ts,Ps,qC,Qc,ed,Gh,R_,Ng=Wt(()=>{Wh=window,Iu=Wh.trustedTypes,m_=Iu?Iu.createPolicy("lit-html",{createHTML:e=>e}):void 0,Vh="$lit$",es=`lit$${(Math.random()+"").slice(9)}$`,Rg="?"+es,HC=`<${Rg}>`,_l=document,qh=()=>_l.createComment(""),Zc=e=>e===null||typeof e!="object"&&typeof e!="function",k_=Array.isArray,x_=e=>k_(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Ig=`[ 	
\f\r]`,Kc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,g_=/-->/g,v_=/>/g,yl=RegExp(`>|${Ig}(?:([^\\s"'>=/]+)(${Ig}*=${Ig}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),b_=/'/g,y_=/"/g,S_=/^(?:script|style|textarea|title)$/i,A_=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),OU=A_(1),MU=A_(2),Jc=Symbol.for("lit-noChange"),so=Symbol.for("lit-nothing"),w_=new WeakMap,wl=_l.createTreeWalker(_l,129,null,!1);E_=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",u=Kc;for(let n=0;n<r;n++){let c=e[n],d,f,p=-1,v=0;for(;v<c.length&&(u.lastIndex=v,f=u.exec(c),f!==null);)v=u.lastIndex,u===Kc?f[1]==="!--"?u=g_:f[1]!==void 0?u=v_:f[2]!==void 0?(S_.test(f[2])&&(l=RegExp("</"+f[2],"g")),u=yl):f[3]!==void 0&&(u=yl):u===yl?f[0]===">"?(u=l!=null?l:Kc,p=-1):f[1]===void 0?p=-2:(p=u.lastIndex-f[2].length,d=f[1],u=f[3]===void 0?yl:f[3]==='"'?y_:b_):u===y_||u===b_?u=yl:u===g_||u===v_?u=Kc:(u=yl,l=void 0);let y=u===yl&&e[n+1].startsWith("/>")?" ":"";o+=u===Kc?c+HC:p>=0?(a.push(d),c.slice(0,p)+Vh+c.slice(p)+es+y):c+es+(p===-2?(a.push(void 0),n):y)}return[C_(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Dg=class T_{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,u=0,n=t.length-1,c=this.parts,[d,f]=E_(t,r);if(this.el=T_.createElement(d,a),wl.currentNode=this.el.content,r===2){let p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(l=wl.nextNode())!==null&&c.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let p=[];for(let v of l.getAttributeNames())if(v.endsWith(Vh)||v.startsWith(es)){let y=f[u++];if(p.push(v),y!==void 0){let w=l.getAttribute(y.toLowerCase()+Vh).split(es),k=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?O_:k[1]==="?"?M_:k[1]==="@"?I_:Xc})}else c.push({type:6,index:o})}for(let v of p)l.removeAttribute(v)}if(S_.test(l.tagName)){let p=l.textContent.split(es),v=p.length-1;if(v>0){l.textContent=Iu?Iu.emptyScript:"";for(let y=0;y<v;y++)l.append(p[y],qh()),wl.nextNode(),c.push({type:2,index:++o});l.append(p[v],qh())}}}else if(l.nodeType===8)if(l.data===Rg)c.push({type:2,index:o});else{let p=-1;for(;(p=l.data.indexOf(es,p+1))!==-1;)c.push({type:7,index:o}),p+=es.length-1}o++}}static createElement(t,r){let a=_l.createElement("template");return a.innerHTML=t,a}};$_=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:_l).importNode(r,!0);wl.currentNode=l;let o=wl.nextNode(),u=0,n=0,c=a[0];for(;c!==void 0;){if(u===c.index){let d;c.type===2?d=new jg(o,o.nextSibling,this,e):c.type===1?d=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(d=new L_(o,this,e)),this._$AV.push(d),c=a[++n]}u!==(c==null?void 0:c.index)&&(o=wl.nextNode(),u++)}return wl.currentNode=_l,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},jg=class P_{constructor(t,r,a,l){var o;this.type=2,this._$AH=so,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=kl(this,t,r),Zc(t)?t===so||t==null||t===""?(this._$AH!==so&&this._$AR(),this._$AH=so):t!==this._$AH&&t!==Jc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):x_(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==so&&Zc(this._$AH)?this._$AA.nextSibling.data=t:this.$(_l.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Dg.createElement(C_(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let u=new $_(o,this),n=u.u(this.options);u.v(a),this.$(n),this._$AH=u}}_$AC(t){let r=w_.get(t.strings);return r===void 0&&w_.set(t.strings,r=new Dg(t)),r}T(t){k_(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new P_(this.k(qh()),this.k(qh()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Xc=class{constructor(e,t,r,a,l){this.type=1,this._$AH=so,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=so}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=kl(this,e,t,0),o=!Zc(e)||e!==this._$AH&&e!==Jc,o&&(this._$AH=e);else{let u=e,n,c;for(e=l[0],n=0;n<l.length-1;n++)c=kl(this,u[r+n],t,n),c===Jc&&(c=this._$AH[n]),o||(o=!Zc(c)||c!==this._$AH[n]),c===so?e=so:e!==so&&(e+=(c!=null?c:"")+l[n+1]),this._$AH[n]=c}o&&!a&&this.j(e)}j(e){e===so?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},O_=class extends Xc{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===so?void 0:e}},UC=Iu?Iu.emptyScript:"",M_=class extends Xc{constructor(){super(...arguments),this.type=4}j(e){e&&e!==so?this.element.setAttribute(this.name,UC):this.element.removeAttribute(this.name)}},I_=class extends Xc{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=kl(this,e,t,0))!==null&&r!==void 0?r:so)===Jc)return;let a=this._$AH,l=e===so&&a!==so||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==so&&(a===so||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},L_=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){kl(this,e)}},WC={O:Vh,P:es,A:Rg,C:1,M:E_,L:$_,R:x_,D:kl,I:jg,V:Xc,H:M_,N:I_,U:O_,F:L_},Lg=Wh.litHtmlPolyfillSupport;Lg==null||Lg(Dg,jg),((Mg=Wh.litHtmlVersions)!==null&&Mg!==void 0?Mg:Wh.litHtmlVersions=[]).push("2.8.0");({I:VC}=WC),Bg=(e,t)=>t===void 0?(e==null?void 0:e._$litType$)!==void 0:(e==null?void 0:e._$litType$)===t,D_=e=>{var t;return((t=e==null?void 0:e._$litType$)===null||t===void 0?void 0:t.h)!=null},__=()=>document.createComment(""),ts=(e,t,r)=>{var a;let l=e._$AA.parentNode,o=t===void 0?e._$AB:t._$AA;if(r===void 0){let u=l.insertBefore(__(),o),n=l.insertBefore(__(),o);r=new VC(u,n,e,e.options)}else{let u=r._$AB.nextSibling,n=r._$AM,c=n!==e;if(c){let d;(a=r._$AQ)===null||a===void 0||a.call(r,e),r._$AM=e,r._$AP!==void 0&&(d=e._$AU)!==n._$AU&&r._$AP(d)}if(u!==o||c){let d=r._$AA;for(;d!==u;){let f=d.nextSibling;l.insertBefore(d,o),d=f}}}return r},Ps=(e,t,r=e)=>(e._$AI(t,r),e),qC={},Qc=(e,t=qC)=>e._$AH=t,ed=e=>e._$AH,Gh=e=>{var t;(t=e._$AP)===null||t===void 0||t.call(e,!1,!0);let r=e._$AA,a=e._$AB.nextSibling;for(;r!==a;){let l=r.nextSibling;r.remove(),r=l}},R_=e=>{e._$AR()};});function Y_(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return j_!==void 0?j_.createHTML(t):t}function Ru(e,t,r=e,a){var l,o,u,n;if(t===Du)return t;let c=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,d=id(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==d&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),d===void 0?c=void 0:(c=new d(e),c._$AT(e,r,a)),a!==void 0?((u=(n=r)._$Co)!==null&&u!==void 0?u:n._$Co=[])[a]=c:r._$Cl=c),c!==void 0&&(t=Ru(e,c._$AS(e,t.values),c,a)),t}var Fg,Yh,Lu,j_,Ug,Os,W_,GC,Al,Kh,id,V_,YC,zg,td,B_,N_,xl,F_,z_,q_,G_,FU,zU,Du,lo,H_,Sl,KC,Wg,ZC,Z_,Zh,JC,XC,QC,e9,t9,Hg,U_,ja,X_=Wt(()=>{ou();Ng();Yh=window,Lu=Yh.trustedTypes,j_=Lu?Lu.createPolicy("lit-html",{createHTML:e=>e}):void 0,Ug="$lit$",Os=`lit$${(Math.random()+"").slice(9)}$`,W_="?"+Os,GC=`<${W_}>`,Al=document,Kh=()=>Al.createComment(""),id=e=>e===null||typeof e!="object"&&typeof e!="function",V_=Array.isArray,YC=e=>V_(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",zg=`[ 	
\f\r]`,td=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,B_=/-->/g,N_=/>/g,xl=RegExp(`>|${zg}(?:([^\\s"'>=/]+)(${zg}*=${zg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),F_=/'/g,z_=/"/g,q_=/^(?:script|style|textarea|title)$/i,G_=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),FU=G_(1),zU=G_(2),Du=Symbol.for("lit-noChange"),lo=Symbol.for("lit-nothing"),H_=new WeakMap,Sl=Al.createTreeWalker(Al,129,null,!1);KC=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",u=td;for(let n=0;n<r;n++){let c=e[n],d,f,p=-1,v=0;for(;v<c.length&&(u.lastIndex=v,f=u.exec(c),f!==null);)v=u.lastIndex,u===td?f[1]==="!--"?u=B_:f[1]!==void 0?u=N_:f[2]!==void 0?(q_.test(f[2])&&(l=RegExp("</"+f[2],"g")),u=xl):f[3]!==void 0&&(u=xl):u===xl?f[0]===">"?(u=l!=null?l:td,p=-1):f[1]===void 0?p=-2:(p=u.lastIndex-f[2].length,d=f[1],u=f[3]===void 0?xl:f[3]==='"'?z_:F_):u===z_||u===F_?u=xl:u===B_||u===N_?u=td:(u=xl,l=void 0);let y=u===xl&&e[n+1].startsWith("/>")?" ":"";o+=u===td?c+GC:p>=0?(a.push(d),c.slice(0,p)+Ug+c.slice(p)+Os+y):c+Os+(p===-2?(a.push(void 0),n):y)}return[Y_(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},Wg=class K_{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,u=0,n=t.length-1,c=this.parts,[d,f]=KC(t,r);if(this.el=K_.createElement(d,a),Sl.currentNode=this.el.content,r===2){let p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(l=Sl.nextNode())!==null&&c.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let p=[];for(let v of l.getAttributeNames())if(v.endsWith(Ug)||v.startsWith(Os)){let y=f[u++];if(p.push(v),y!==void 0){let w=l.getAttribute(y.toLowerCase()+Ug).split(Os),k=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?JC:k[1]==="?"?QC:k[1]==="@"?e9:Zh})}else c.push({type:6,index:o})}for(let v of p)l.removeAttribute(v)}if(q_.test(l.tagName)){let p=l.textContent.split(Os),v=p.length-1;if(v>0){l.textContent=Lu?Lu.emptyScript:"";for(let y=0;y<v;y++)l.append(p[y],Kh()),Sl.nextNode(),c.push({type:2,index:++o});l.append(p[v],Kh())}}}else if(l.nodeType===8)if(l.data===W_)c.push({type:2,index:o});else{let p=-1;for(;(p=l.data.indexOf(Os,p+1))!==-1;)c.push({type:7,index:o}),p+=Os.length-1}o++}}static createElement(t,r){let a=Al.createElement("template");return a.innerHTML=t,a}};ZC=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Al).importNode(r,!0);Sl.currentNode=l;let o=Sl.nextNode(),u=0,n=0,c=a[0];for(;c!==void 0;){if(u===c.index){let d;c.type===2?d=new Z_(o,o.nextSibling,this,e):c.type===1?d=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(d=new t9(o,this,e)),this._$AV.push(d),c=a[++n]}u!==(c==null?void 0:c.index)&&(o=Sl.nextNode(),u++)}return Sl.currentNode=Al,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Z_=class J_{constructor(t,r,a,l){var o;this.type=2,this._$AH=lo,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Ru(this,t,r),id(t)?t===lo||t==null||t===""?(this._$AH!==lo&&this._$AR(),this._$AH=lo):t!==this._$AH&&t!==Du&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):YC(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==lo&&id(this._$AH)?this._$AA.nextSibling.data=t:this.$(Al.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Wg.createElement(Y_(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let u=new ZC(o,this),n=u.u(this.options);u.v(a),this.$(n),this._$AH=u}}_$AC(t){let r=H_.get(t.strings);return r===void 0&&H_.set(t.strings,r=new Wg(t)),r}T(t){V_(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new J_(this.k(Kh()),this.k(Kh()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Zh=class{constructor(e,t,r,a,l){this.type=1,this._$AH=lo,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=lo}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=Ru(this,e,t,0),o=!id(e)||e!==this._$AH&&e!==Du,o&&(this._$AH=e);else{let u=e,n,c;for(e=l[0],n=0;n<l.length-1;n++)c=Ru(this,u[r+n],t,n),c===Du&&(c=this._$AH[n]),o||(o=!id(c)||c!==this._$AH[n]),c===lo?e=lo:e!==lo&&(e+=(c!=null?c:"")+l[n+1]),this._$AH[n]=c}o&&!a&&this.j(e)}j(e){e===lo?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},JC=class extends Zh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===lo?void 0:e}},XC=Lu?Lu.emptyScript:"",QC=class extends Zh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==lo?this.element.setAttribute(this.name,XC):this.element.removeAttribute(this.name)}},e9=class extends Zh{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Ru(this,e,t,0))!==null&&r!==void 0?r:lo)===Du)return;let a=this._$AH,l=e===lo&&a!==lo||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==lo&&(a===lo||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},t9=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Ru(this,e)}},Hg=Yh.litHtmlPolyfillSupport;Hg==null||Hg(Wg,Z_),((Fg=Yh.litHtmlVersions)!==null&&Fg!==void 0?Fg:Yh.litHtmlVersions=[]).push("2.8.0");U_=(e,t,r)=>{let a=new Map;for(let l=t;l<=r;l++)a.set(e[l],l);return a},ja=Aa(class extends Ca{constructor(e){if(super(e),e.type!==ws.CHILD)throw Error("repeat() can only be used in text expressions")}ct(e,t,r){let a;r===void 0?r=t:t!==void 0&&(a=t);let l=[],o=[],u=0;for(let n of e)l[u]=a?a(n,u):u,o[u]=r(n,u),u++;return{values:o,keys:l}}render(e,t,r){return this.ct(e,t,r).values}update(e,[t,r,a]){var l;let o=ed(e),{values:u,keys:n}=this.ct(t,r,a);if(!Array.isArray(o))return this.ut=n,u;let c=(l=this.ut)!==null&&l!==void 0?l:this.ut=[],d=[],f,p,v=0,y=o.length-1,w=0,k=u.length-1;for(;v<=y&&w<=k;)if(o[v]===null)v++;else if(o[y]===null)y--;else if(c[v]===n[w])d[w]=Ps(o[v],u[w]),v++,w++;else if(c[y]===n[k])d[k]=Ps(o[y],u[k]),y--,k--;else if(c[v]===n[k])d[k]=Ps(o[v],u[k]),ts(e,d[k+1],o[v]),v++,k--;else if(c[y]===n[w])d[w]=Ps(o[y],u[w]),ts(e,o[v],o[y]),y--,w++;else if(f===void 0&&(f=U_(n,w,k),p=U_(c,v,y)),f.has(c[v]))if(f.has(c[y])){let A=p.get(n[w]),C=A!==void 0?o[A]:null;if(C===null){let x=ts(e,o[v]);Ps(x,u[w]),d[w]=x}else d[w]=Ps(C,u[w]),ts(e,o[v],C),o[A]=null;w++}else Gh(o[y]),y--;else Gh(o[v]),v++;for(;w<=k;){let A=ts(e,d[k+1]);Ps(A,u[w]),d[w++]=A}for(;v<=y;){let A=o[v++];A!==null&&Gh(A)}return this.ut=n,Qc(e,d),Du}});});var Cl=Wt(()=>{X_()});var i9,Vg,Q_,r9,n9,Ba,o9,Na,qg,Gg,Kn,ek,OW,ga,a9,s9,l9,RW,rd,El,Yg=Wt(()=>{Zi();ti();Ar();Ea();kh();p_();Zi();ti();Ar();ti();f_();Zi();ti();Ar();ti();Zi();ti();Ar();Zi();ti();Ar();Zi();ti();Ar();Ag();Cg();Eg();Tg();$g();Pg();Og();Zi();ti();Ar();Cl();i9=Le`42px`,Vg=Le`var(--menuWidth, 320px)`,Q_=Le`var(--animationTiming, 200ms)`,r9=Le`
  .main {
    overflow: hidden;
    width: 100%;
    height: 100%;
  }

  .animate {
    transition: transform ${Q_} ease-out;
  }

  .menu {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: ${Vg};
    padding: 0.5rem 0.5rem 0 0;
    box-sizing: border-box;
    font-size: 1.4rem;
    color: var(--primaryTextColor);
    background: var(--menuSliderBg);
    transform: translateX(calc(${Vg} * -1));
  }

  button {
    cursor: pointer;
  }

  header {
    margin: 0 0 0.5rem 0;
  }

  header * {
    margin: 0;
    display: inline-block;
  }
  header button {
    cursor: pointer;
  }

  header.with-secondary-action .details {
    width: 80%;
  }

  header .details {
    font-weight: bold;
    width: 88%;
  }

  header .custom-action > *,
  button.close {
    padding: 0;
    background-color: transparent;
    border: 0;
    --iconWidth: var(--menuSliderHeaderIconWidth);
    --iconHeight: var(--menuSliderHeaderIconHeight);
  }

  header .custom-action,
  button.close {
    position: absolute;
  }
  button.close {
    min-width: 38px;
    min-height: 38px;
    display: flex;
    justify-content: center;
    align-items: center;
    right: 0;
    top: 0;
  }

  .content {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: ${i9};
    z-index: 1;
    transform: translateX(calc(${Vg} * -1));
    transition: transform ${Q_} ease-out;
    background: var(--activeButtonBg);
    border-right: 0.2rem solid;
    border-color: var(--subpanelRightBorderColor);
    padding: 0.5rem 0 0 0.5rem;
    display: flex;
    flex-direction: column;
  }

  .open {
    transform: translateX(0);
  }

  .menu-list {
    padding: 0;
    margin: 0;
    list-style: none;
    background: var(--menuSliderBg);
  }
  .menu-list li {
    margin-bottom: 0.2rem;
  }

  .content > section {
    overflow: auto;
    overscroll-behavior: contain;
  }
`,n9=Le`
  a {
    display: inline-block;
    text-decoration: none;
  }

  button.menu-item {
    -webkit-appearance: none;
    appearance: none;
  }

  .menu-item {
    display: inline-flex;
    width: 100%;
    padding: 0;
    font-size: 1.6rem;
    text-align: left;
    background: transparent;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    border: none;
    cursor: pointer;
    transition: background-color 0.2s;
    border-radius: 6px;
  }

  .menu-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
  }

  .label {
    display: var(--menuButtonLabelDisplay, none);
    padding: 0;
    font-weight: 400;
    color: var(--primaryTextColor);
    text-align: left;
    vertical-align: middle;
    margin-left: 1rem;
  }

  .menu-details {
    color: var(--primaryTextColor);
    display: inline-block;
    margin-left: 0.5rem;
    font-style: italic;
    font-size: 1.5rem;
  }

  .menu-item > .icon {
    position: relative;
    display: inline-flex;
    z-index: 2;
    min-width: 4.2rem;
    max-width: 4.2rem;
    height: 4.2rem;
    vertical-align: middle;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
  }

  .menu-item > .icon > * {
    /* Prevent tooltip containing icon literal description */
    pointer-events: none;
  }

  .menu-item[aria-expanded='true'] .icon {
    background-color: var(--activeButtonBg);
    border-radius: 1rem 0 0 1rem;
  }

  .icon .fill-color {
    fill: #999;
  }

  .icon.active .fill-color {
    fill: #fff;
  }
`,Ba=class extends Yt{constructor(){super(...arguments),this.icon="",this.href="",this.label="",this.menuDetails="",this.buttonId="",this.selected=!1,this.followable=!1}static get styles(){return n9}onClick(e){e.preventDefault(),this.dispatchMenuTypeSelectedEvent()}dispatchMenuTypeSelectedEvent(){this.dispatchEvent(new CustomEvent("menuTypeSelected",{bubbles:!0,composed:!0,detail:{id:this.buttonId}}))}get iconClass(){return this.selected?"active":""}get menuItem(){return we`
      <span
        class="icon ${this.iconClass}"
        aria-hidden="true"
        title="${this.label}"
        >${this.icon}</span
      >
      <span class="label">${this.label}</span>
      <span class="menu-details">${this.menuDetails}</span>
    `}get linkButton(){return we`
      <a
        href="${this.href}"
        class="menu-item"
        aria-expanded="${this.selected}"
        @click=${this.followable?void 0:this.onClick}
        >${this.menuItem}</a
      >
    `}get clickButton(){return we`
      <button
        class="menu-item"
        aria-expanded="${this.selected}"
        @click=${this.onClick}
      >
        ${this.menuItem}
      </button>
    `}render(){return this.href?this.linkButton:this.clickButton}};Ba.shadowRootOptions=Ir(ur({},Yt.shadowRootOptions),{delegatesFocus:!0});Y([St({type:Object})],Ba.prototype,"icon",void 0);Y([St({type:String})],Ba.prototype,"href",void 0);Y([St({type:String})],Ba.prototype,"label",void 0);Y([St({type:Object})],Ba.prototype,"menuDetails",void 0);Y([St({type:String})],Ba.prototype,"buttonId",void 0);Y([St({type:Boolean})],Ba.prototype,"selected",void 0);Y([St({type:Boolean})],Ba.prototype,"followable",void 0);Ba=Y([Fi("menu-button")],Ba);o9={closeDrawer:"menuSliderClosed"},Na=class extends Yt{constructor(){super(...arguments),this.menus=[],this.open=!1,this.manuallyHandleClose=!1,this.selectedMenu="",this.selectedMenuAction=ei,this.animateMenuOpen=!1}static get styles(){return r9}updated(){var e;let t=((e=this.selectedMenuDetails)===null||e===void 0?void 0:e.actionButton)||ei;t!==this.selectedMenuAction&&(this.selectedMenuAction=t)}setSelectedMenu({detail:e}){var t;let{id:r}=e;this.selectedMenu=this.selectedMenu===r?"":r,this.selectedMenuAction=((t=this.selectedMenuDetails)===null||t===void 0?void 0:t.actionButton)||ei,this.updateComplete.then(()=>{var a;(a=this.contentCloseButton)===null||a===void 0||a.focus()})}closeMenu(){this.manuallyHandleClose||(this.open=!1);let{closeDrawer:e}=o9,t=new CustomEvent(e,{detail:this.selectedMenuDetails});this.dispatchEvent(t)}closePanel(){let e=this.selectedMenu;this.selectedMenu="",this.selectedMenuAction=ei,e&&this.updateComplete.then(()=>{let t=this.menus.findIndex(r=>r.id===e);if(t!==-1){let r=this.menuList.querySelector(`li:nth-child(${t+1}) menu-button`);r==null||r.focus()}})}handleKeyDown(e){e.key==="Escape"&&(e.preventDefault(),this.selectedMenu?this.closePanel():this.closeMenu())}get selectedMenuDetails(){return this.menus.find(e=>e.id===this.selectedMenu)}get sliderDetailsClass(){let e=this.animateMenuOpen?"animate":"",t=this.open?"open":"";return`${e} ${t}`}get selectedMenuClass(){return this.selectedMenu?"open":""}get menuItems(){return this.menus.map(e=>we`
        <li>
          <menu-button
            @menuTypeSelected=${this.setSelectedMenu}
            .icon=${e.icon}
            .label=${e.label}
            .menuDetails=${e.menuDetails||""}
            .buttonId=${e.id}
            .selected=${e.id===this.selectedMenu}
            .followable=${e.followable||!1}
            .href=${e.href||""}
          ></menu-button>
        </li>
      `)}get renderMenuHeader(){let{label:e="",menuDetails:t=""}=this.selectedMenuDetails||{},r=this.selectedMenuAction?"with-secondary-action":"",a=this.selectedMenuAction?we`<span class="custom-action">${this.selectedMenuAction}</span>`:ei;return we`
      <header class="${r}">
        <div class="details">
          <h3>${e}</h3>
          <span class="extra-details">${t}</span>
        </div>
        ${a}
        <button
          class="close"
          aria-label="Close this menu"
          title="Close this menu"
          @click=${this.closePanel}
        >
          <ia-icon-collapse-sidebar></ia-icon-collapse-sidebar>
        </button>
      </header>
    `}get closeButton(){return we`
      <button
        class="close"
        aria-label="Close this menu"
        title="Close this menu"
        @click=${this.closeMenu}
      >
        <ia-icon-collapse-sidebar></ia-icon-collapse-sidebar>
      </button>
    `}render(){var e;return we`
      <div class="main" @keydown=${this.handleKeyDown}>
        <div class="menu ${this.sliderDetailsClass}">
          ${this.closeButton}
          <ul class="menu-list">
            ${this.menuItems}
          </ul>
          <div
            class="content ${this.selectedMenuClass}"
            @menuTypeSelected=${this.setSelectedMenu}
          >
            ${this.renderMenuHeader}
            <section>
              <div class="selected-menu">
                ${((e=this.selectedMenuDetails)===null||e===void 0?void 0:e.component)||ei}
              </div>
            </section>
          </div>
        </div>
      </div>
    `}};Y([St({type:Array})],Na.prototype,"menus",void 0);Y([St({type:Boolean})],Na.prototype,"open",void 0);Y([St({type:Boolean})],Na.prototype,"manuallyHandleClose",void 0);Y([St({type:String})],Na.prototype,"selectedMenu",void 0);Y([St({type:Object})],Na.prototype,"selectedMenuAction",void 0);Y([St({type:Boolean})],Na.prototype,"animateMenuOpen",void 0);Y([wr(".content.open button.close")],Na.prototype,"contentCloseButton",void 0);Y([wr(".menu-list")],Na.prototype,"menuList",void 0);Na=Y([Fi("ia-menu-slider")],Na);qg=class extends Yt{constructor(){super(...arguments),this.loaderMessage=""}get bookIconSvg(){return ln`
      <g class="bookIcon" transform="matrix(1 0 0 -1 28 67.362264)">
        <path d="m44.71698 31.6981124v-29.99320678s-18.0956599.30735848-18.6322637-.7171698c-.0633962-.12226414-1.890566-.59207545-2.9745282-.59207545-1.3228302 0-3.5122641 0-4.1286791.74547168-.9707547 1.17452827-18.82811278.71660375-18.82811278.71660375v30.040754l1.83849052.7867924.29094339-28.48188608s15.94981097.15339622 17.09094297-1.10716978c.8145283-.90056602 4.997547-.91641507 5.3450942-.3526415.9611321 1.55716977 14.7101883 1.31716978 17.6077354 1.45981128l.3266038 28.22830118z"/>
        <path d="m40.1129424 33.5957539h-12.8337733c-1.8690565 0-3.1098112-.7545283-3.9299999-1.6279245v-26.70452764l1.2362264-.00792453c.4584906.72962262 3.0922641 1.39415091 3.0922641 1.39415091h10.1298111s1.0381131.01754717 1.5141509.47377357c.5643396.54056602.7913207 1.36981129.7913207 1.36981129z"/>
        <path d="m17.3354713 33.5957539h-12.8337733v-25.37660316s0-.75283017.49358489-1.14113205c.52867924-.41433961 1.3415094-.42849055 1.3415094-.42849055h10.59905631s2.2075471-.52698112 3.0928301-1.39415091l1.2.00792453v26.74245214c-.8201886.8581132-2.0530188 1.59-3.8932074 1.59"/>
      </g>
    `}get icon(){return this.bookIconSvg}get loader(){return ln`
    <svg
      height="100"
      viewBox="0 0 100 100"
      width="100"
      xmlns="http://www.w3.org/2000/svg"
      aria-labelledby="item-loading"
    >
      <title id="item-loading">Currently loading viewer.</title>
      <desc>Please wait while we load theater.</desc>
      <g fill="#333" fill-rule="evenodd" class="book-icon">
        ${this.icon}
        <path
          class="ring"
          d="m17.8618849 11.6970233c18.5864635-15.59603144 45.6875867-15.59603102 64.2740497.000001 1.9271446 1.6170806 2.1785128 4.4902567.5614466 6.4174186-1.6170661 1.9271618-4.4902166 2.1785323-6.4173612.5614517-15.1996922-12.75416882-37.3625282-12.75416916-52.5622206-.000001-15.19969387 12.7541707-19.04823077 34.5805019-9.1273354 51.7641499 9.9208955 17.183646 30.7471499 24.7638499 49.3923323 17.9774983 18.6451823-6.7863521 29.7266014-25.9801026 26.2811129-45.5206248-.436848-2.4775114 1.2174186-4.8400696 3.6949079-5.2769215 2.4774893-.4368518 4.8400264 1.2174296 5.2768744 3.694941 4.2132065 23.8945096-9.3373563 47.3649806-32.137028 55.6634567-22.799672 8.2984758-48.2663986-.9707372-60.39785211-21.9832155-12.1314534-21.012481-7.42539173-47.7021198 11.16107351-63.2981544z"
          fill-rule="nonzero"
        />
      </g>
    </svg>
    `}render(){let e=this.loaderMessage?we`<h2>${this.loaderMessage}</h2>`:ei;return we`
      <div class="place-holder">
        ${e} ${this.loader}
        <h3>Loading viewer</h3>
      </div>
    `}static get styles(){return Le`
      .place-holder {
        width: 30%;
        margin: auto;
        text-align: center;
        color: var(--primaryTextColor);
      }

      .place-holder {
        position: relative;
      }

      .place-holder svg {
        display: block;
        width: 60%;
        max-width: 100px;
        height: auto;
        margin: auto;
      }

      svg * {
        fill: var(--primaryTextColor);
      }

      svg .ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
        display: block; // transform won't work on inline style
      }

      @keyframes rotate {
        0% {
          -moz-transform: rotate(-360deg);
          -webkit-transform: rotate(-360deg);
          transform: rotate(-360deg);
        }
      }
    `}};Y([St({type:String})],qg.prototype,"loaderMessage",void 0);qg=Y([Fi("ia-itemnav-loader")],qg);Gg=class extends Yt{constructor(){super(...arguments),this.identifier=""}emitLoaded(){this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:!0}}))}updated(e){e.has("identifier")&&this.emitLoaded()}get downloadUrl(){return`/download/${this.identifier}`}render(){return we`
      <section>
        <h2>THERE IS NO PREVIEW AVAILABLE FOR THIS ITEM</h2>
        <p>
          This item does not appear to have any files that can be experienced on
          Archive.org. <br />
          Please download files in this item to interact with them on your
          computer.
        </p>
        <a href=${this.downloadUrl}>Show all files</a>
      </section>
    `}static get styles(){return Le`
      :host {
        color: var(--primaryTextColor, #fff);
        text-align: center;
      }
      section {
        width: 100%;
        margin: 5%;
        padding: 0 5%;
      }
      p {
        font-size: 1.4rem;
      }
      a {
        color: var(--primaryTextColor, #fff);
        background-color: rgb(25, 72, 128);
        min-height: 35px;
        cursor: pointer;
        line-height: normal;
        border-radius: 0.4rem;
        text-align: center;
        vertical-align: middle;
        font-size: 1.4rem;
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        display: inline-block;
        padding: 0.85rem 1.2rem;
        border: 1px solid rgb(197, 209, 223);
        white-space: nowrap;
        appearance: auto;
        box-sizing: border-box;
        user-select: none;
        text-decoration: none;
      }
    `}};Y([St({type:String})],Gg.prototype,"identifier",void 0);Gg=Y([Fi("ia-no-theater-available")],Gg);Kn=class extends Yt{constructor(){super(...arguments),this.viewAvailable=!0,this.baseHost="archive.org",this.signedIn=!1,this.menuContents=[],this.menuShortcuts=[],this.viewportInFullscreen=null,this.menuOpened=!1,this.loaded=!1,this.openMenuState="shift"}disconnectedCallback(){super.disconnectedCallback(),this.removeResizeObserver()}updated(e){if(e.has("sharedObserver")){let t=e.get("sharedObserver");t==null||t.removeObserver(this.resizeObserverConfig),this.setResizeObserver()}}handleResize(e){let{width:t}=e.contentRect;if(t<=600){this.openMenuState="overlay";return}this.openMenuState="shift"}setResizeObserver(){var e,t;(e=this.sharedObserver)===null||e===void 0||e.addObserver(this.resizeObserverConfig),(t=this.sharedObserver)===null||t===void 0||t.addObserver({target:this.headerSlot,handler:{handleResize:({contentRect:r})=>{r.height&&this.requestUpdate()}}})}removeResizeObserver(){var e;(e=this.sharedObserver)===null||e===void 0||e.removeObserver(this.resizeObserverConfig)}get resizeObserverConfig(){return{handler:this,target:this.frame}}get loaderTitle(){return this.viewportInFullscreen?"Internet Archive":""}get loadingArea(){return we`
      <div class="loading-area">
        <div class="loading-view">
          <ia-itemnav-loader
            .loaderMessage=${this.loaderTitle}
          ></ia-itemnav-loader>
        </div>
      </div>
    `}slotChange(e,t){var r;let a=(r=e.target.assignedNodes())===null||r===void 0?void 0:r[0];this.dispatchEvent(new CustomEvent("slotChange",{detail:{slot:a,type:t}})),this.requestUpdate()}render(){var e,t;let r=this.loaded?"":"hidden",a=((t=(e=this.headerSlot)===null||e===void 0?void 0:e.assignedNodes()[0])===null||t===void 0?void 0:t.offsetHeight)||0;return we`
      <div id="frame" class=${this.menuClass}>
        <slot
          name="header"
          style=${`height: ${a}px`}
          @slotchange=${l=>this.slotChange(l,"header")}
        ></slot>
        <div class="menu-and-reader">
          ${this.shouldRenderMenu?this.renderSideMenu:ei}
          <div id="reader" class=${r}>
            ${this.renderViewport}
          </div>
          ${this.loaded?ei:this.loadingArea}
        </div>
      </div>
    `}get noTheaterView(){var e,t;return we`<ia-no-theater-available
      .identifier=${(t=(e=this.item)===null||e===void 0?void 0:e.metadata)===null||t===void 0?void 0:t.identifier}
      @loadingStateUpdated=${this.loadingStateUpdated}
    ></ia-no-theater-available>`}get renderViewport(){if(!this.viewAvailable)return this.noTheaterView;let e=this.loaded?"opacity: 1;":"opacity: 0;";return we`
      <div slot="main" style=${e}>
        <slot
          name="main"
          @slotchange=${t=>this.slotChange(t,"main")}
        ></slot>
      </div>
    `}loadingStateUpdated(e){let{loaded:t}=e.detail;this.loaded=t!=null?t:!1}manageViewportFullscreen(e){let t=!!e.detail.isFullScreen;this.viewportInFullscreen=t||null;let r=new CustomEvent("fullscreenToggled",{detail:e.detail});this.dispatchEvent(r)}get shouldRenderMenu(){var e;return!!(!((e=this.menuContents)===null||e===void 0)&&e.length)}toggleMenu(e=void 0){this.menuOpened=e!==void 0?e:!this.menuOpened,this.menuOpened?this.updateComplete.then(()=>{var t,r;let a=(r=(t=this.menuSlider)===null||t===void 0?void 0:t.shadowRoot)===null||r===void 0?void 0:r.querySelector("button.close");a==null||a.focus()}):this.updateComplete.then(()=>{var t;(t=this.toggleMenuButton)===null||t===void 0||t.focus()})}closeMenu(){this.toggleMenu(!1)}setOpenMenu(e){let{id:t}=e.detail;this.openMenu=t!==this.openMenu?t:void 0}setMenuContents(e){let t=[...e.detail];this.menuContents=t}setMenuShortcuts(e){this.menuShortcuts=[...e.detail]}manageSideMenuEvents(e){let{menuId:t,action:r}=e.detail;t&&(r==="open"?this.openShortcut(t):r==="toggle"&&(this.openMenu=t,this.toggleMenu()))}get menuToggleButton(){return we`
      <button
        class="toggle-menu"
        @click=${this.toggleMenu}
        title="Open side panel"
        aria-label="Open side panel"
        aria-expanded="false"
      >
        <ia-icon-ellipses aria-hidden="true"></ia-icon-ellipses>
      </button>
    `}get selectedMenuId(){return this.openMenu||""}get renderSideMenu(){return we`
      <nav>
        <div class="minimized ${yo({hidden:this.menuOpened})}">
          ${this.shortcuts} ${this.menuToggleButton}
        </div>
        <div id="menu" class=${yo({hidden:!this.menuOpened})}>
          <ia-menu-slider
            .menus=${this.menuContents}
            .selectedMenu=${this.selectedMenuId}
            @menuTypeSelected=${this.setOpenMenu}
            @menuSliderClosed=${this.closeMenu}
            manuallyHandleClose
            open
          ></ia-menu-slider>
        </div>
      </nav>
    `}openShortcut(e=""){this.openMenu=e,this.menuOpened=!0}get shortcuts(){let e=this.menuShortcuts.map(({icon:t,id:r,label:a})=>r==="fullscreen"?we`${t}`:we`
        <button
          class="shortcut ${r}"
          @click="${()=>this.openShortcut(r)}"
          title=${a}
          aria-label=${a}
          aria-expanded="false"
        >
          ${t}
        </button>
      `);return we`<div class="shortcuts">${e}</div>`}get menuClass(){var e,t;let r=((e=this.menuContents)===null||e===void 0?void 0:e.length)||((t=this.menuShortcuts)===null||t===void 0?void 0:t.length),a=this.menuOpened&&r?"open":"",l=this.viewportInFullscreen?"fullscreen":"";return`${a} ${l} ${this.openMenuState}`}static get styles(){let e=Le`var(--menuWidth, 320px)`,t=Le`var(--animationTiming, 200ms)`,r=Le`transform ${t} ease-out`,a=Le`var(--theaterMenuMargin, 42px)`,l=Le`var(--theaterBgColor, #000)`;return Le`
      :host,
      #frame,
      .menu-and-reader {
        position: relative;
        overflow: hidden;
        display: block;
      }

      :host,
      #frame,
      .loading-area,
      .loading-view {
        min-height: inherit;
        height: inherit;
      }

      slot {
        display: block;
        width: 100%;
      }

      slot * {
        display: block;
        height: inherit;
      }

      #frame {
        background-color: ${l};
        color-scheme: dark;
        display: flex;
        flex-direction: column;
      }

      #frame.fullscreen {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 9;
      }

      .loading-view {
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .loading-area {
        width: 100%;
      }

      ia-itemnav-loader {
        display: block;
        width: 100%;
      }

      .hidden {
        display: none !important;
      }

      button {
        cursor: pointer;
        padding: 0;
        border: 0;
      }

      .menu-and-reader {
        position: relative;
        display: flex;
        flex: 1;
      }

      nav button {
        background: none;
      }

      nav .minimized {
        background: rgba(0, 0, 0, 0.7);
        padding-top: 6px;
        position: absolute;
        width: ${a};
        z-index: 2;
        left: 0;
        border-bottom-right-radius: 5%;
      }

      nav .minimized button {
        width: var(--iconWidth);
        height: var(--iconHeight);
        margin-bottom: 0.2rem;
        margin: auto;
        display: inline-flex;
        vertical-align: middle;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: center;
        justify-content: center;
        width: ${a};
        height: ${a};
      }

      nav .minimized button > * {
        /** Prevent the icon's SVG description from stealing tooltip message */
        pointer-events: none;
      }

      nav .minimized button.toggle-menu > * {
        border: 2px solid var(--iconStrokeColor);
        border-radius: var(--iconWidth);
        width: var(--iconWidth);
        height: var(--iconHeight);
        margin: auto;
      }

      ia-icon-ellipses {
        width: var(--iconWidth);
        height: var(--iconHeight);
      }

      #menu {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        z-index: 3;
        overflow: hidden;
        transform: translateX(-${e});
        width: ${e};
        transform: translateX(calc(${e} * -1));
        transition: ${r};
      }

      #reader {
        position: relative;
        z-index: 1;
        transform: translateX(0);
        width: 100%;
        display: flex;
      }

      #reader > * {
        width: 100%;
        display: flex;
        flex: 1;
      }

      .open.overlay #reader {
        transition: none;
      }

      .open #menu {
        width: ${e};
        transform: translateX(0);
        transition: ${r};
      }

      .open.shift #reader {
        width: calc(100% - ${e});
        margin-left: ${e};
        transition: ${r};
      }
    `}};Y([St({type:Object,converter:e=>e&&typeof e=="string"?new Am(JSON.parse(atob(e))):e})],Kn.prototype,"item",void 0);Y([St({type:Boolean,reflect:!0})],Kn.prototype,"viewAvailable",void 0);Y([St({type:String})],Kn.prototype,"baseHost",void 0);Y([St({type:Boolean})],Kn.prototype,"signedIn",void 0);Y([St({type:Array})],Kn.prototype,"menuContents",void 0);Y([St({type:Array})],Kn.prototype,"menuShortcuts",void 0);Y([St({type:Boolean,reflect:!0,attribute:!0})],Kn.prototype,"viewportInFullscreen",void 0);Y([St({type:Boolean,reflect:!0})],Kn.prototype,"menuOpened",void 0);Y([St({type:String,reflect:!0})],Kn.prototype,"openMenu",void 0);Y([St({attribute:!1})],Kn.prototype,"modal",void 0);Y([St({attribute:!1})],Kn.prototype,"sharedObserver",void 0);Y([St({type:Boolean,reflect:!0,attribute:!0})],Kn.prototype,"loaded",void 0);Y([Er()],Kn.prototype,"openMenuState",void 0);Y([wr("#frame")],Kn.prototype,"frame",void 0);Y([wr('slot[name="header"]')],Kn.prototype,"headerSlot",void 0);Y([wr('slot[name="main"]')],Kn.prototype,"mainSlot",void 0);Y([wr("ia-menu-slider")],Kn.prototype,"menuSlider",void 0);Y([wr("button.toggle-menu")],Kn.prototype,"toggleMenuButton",void 0);Kn=Y([Fi("iaux-item-navigator")],Kn);ek=e=>{let t=e.currentTarget,r=t.querySelector("textarea"),a=t.querySelector("small");r.select(),document.execCommand("copy"),r.blur(),a.classList.add("visible"),clearTimeout(a.timeout),a.timeout=setTimeout(()=>a.classList.remove("visible"),4e3)},OW=we`<ia-icon-share
  style="width: var(--iconWidth); height: var(--iconHeight);"
></ia-icon-share>`,ga=class extends Yt{constructor(){super(...arguments),this.baseHost="archive.org",this.creator="",this.description="",this.embedOptionsVisible=!1,this.identifier="",this.sharingOptions=[],this.type="",this.renderHeader=!1,this.fileSubPrefix=""}updated(e){e.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}loadProviders(){let e=`https://${this.baseHost}/details/${this.identifier}`;this.fileSubPrefix&&(e+=`/${this.fileSubPrefix}`);let t=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:we`<ia-icon-twitter aria-hidden="true"></ia-icon-twitter>`,url:`https://twitter.com/intent/tweet?${new URLSearchParams({url:e,text:t,via:"internetarchive"})}`},{name:"Facebook",icon:we`<ia-icon-facebook aria-hidden="true"></ia-icon-facebook>`,url:`https://www.facebook.com/sharer/sharer.php?${new URLSearchParams({u:e})}`},{name:"Tumblr",icon:we`<ia-icon-tumblr aria-hidden="true"></ia-icon-tumblr>`,url:`https://www.tumblr.com/widgets/share/tool/preview?${new URLSearchParams({posttype:"link",canonicalUrl:e,title:t})}`},{name:"Pinterest",icon:we`<ia-icon-pinterest aria-hidden="true"></ia-icon-pinterest>`,url:`http://www.pinterest.com/pin/create/button/?${new URLSearchParams({url:e,description:t})}`},{name:"Email",icon:we`<ia-icon-email aria-hidden="true"></ia-icon-email>`,url:`mailto:?${new URLSearchParams({subject:t,body:e})}`}]}get iframeEmbed(){return`<iframe
      src="https://${this.baseHost}/embed/${this.identifier}"
      width="560" height="384" frameborder="0"
      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen
    ></iframe>`}get bbcodeEmbed(){return`[archiveorg ${this.identifier} width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`}get helpURL(){return`https://${this.baseHost}/help/audio.php?identifier=${this.identifier}`}get header(){let e=we`<header><h3>Share this ${this.type}</h3></header>`;return this.renderHeader?e:ei}render(){return we`
      ${this.header}
      <div>
        ${this.sharingOptions.map(e=>we` <a class="share-option" href="${e.url}" target="_blank">
              ${e.icon} ${e.name}
            </a>`)}
        <details>
          <summary class="share-option">
            <ia-icon-link aria-hidden="true"></ia-icon-link>
            Get an embeddable link
          </summary>
          <div class="embed">
            <h4>Embed</h4>
            <div class="code" @click=${ek}>
              <textarea readonly>${this.iframeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <h4>
              Embed for wordpress.com hosted blogs and archive.org item
              &lt;description&gt; tags
            </h4>
            <div class="code" @click=${ek}>
              <textarea readonly>${this.bbcodeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <p>
              Want more?
              <a href=${this.helpURL}
                >Advanced embedding details, examples, and help</a
              >!
            </p>
          </div>
        </details>
      </div>
    `}get providerIcon(){return we`<ia-icon-share
      style="width: var(--iconWidth); height: var(--iconHeight);"
    ></ia-icon-share>`}static get styles(){return Le`
      :host {
        display: block;
        height: 100%;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      header {
        display: flex;
        align-items: baseline;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.6rem;
      }

      h4 {
        font-size: 1.4rem;
      }

      :host > div {
        padding: 1rem 0;
      }

      .share-option {
        display: block;
        padding: 0.5rem 0;
        font-size: 1.6rem;
        text-decoration: none;
        color: var(--shareLinkColor);
        cursor: pointer;
        transition: background-color 0.2s;
        border-radius: 6px;
      }

      .share-option:hover {
        background-color: rgba(255, 255, 255, 0.05);
      }

      .share-option > * {
        display: inline-block;
        padding: 0.2rem;
        margin-right: 1rem;
        vertical-align: middle;
        border: 1px solid var(--shareIconBorder);
        border-radius: 7px;
        background: var(--shareIconBg);
      }

      /* Hide the triangle that appears on details tags */
      summary::marker {
        content: '';
      }

      summary::-webkit-details-marker {
        display: none;
      }

      .embed {
        padding-right: 5px;
      }

      .embed a {
        color: var(--shareLinkColor);
      }

      .code {
        position: relative;
      }

      textarea {
        display: block;
        width: 100%;
        height: 120px;
        padding: 0.8rem 1rem;
        box-sizing: border-box;
        resize: none;
        cursor: pointer;
        font:
          normal 1.4rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaColor, #fff);
        background: var(--textareaBg, #151515);
      }

      small {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3rem;
        padding: 0.5rem 1rem;
        box-sizing: border-box;
        font:
          normal 1.2rem/2rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaBg, #151515);
        background: var(--textareaColor, #fff);
        opacity: 0;
        transition: opacity 300ms linear;
      }
      small.visible {
        opacity: 1;
      }
    `}};Y([St({type:String})],ga.prototype,"baseHost",void 0);Y([St({type:String})],ga.prototype,"creator",void 0);Y([St({type:String})],ga.prototype,"description",void 0);Y([St({type:Boolean})],ga.prototype,"embedOptionsVisible",void 0);Y([St({type:String})],ga.prototype,"identifier",void 0);Y([St({type:Array})],ga.prototype,"sharingOptions",void 0);Y([St({type:String})],ga.prototype,"type",void 0);Y([St({type:Boolean})],ga.prototype,"renderHeader",void 0);Y([St({type:String})],ga.prototype,"fileSubPrefix",void 0);ga=Y([Fi("iaux-in-share-panel")],ga);a9=we`
  <svg
    name="sort-asc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
        transform="matrix(1 0 0 -1 0 18.692308)"
      />
    </g>
  </svg>
`,s9=we`
  <svg
    name="sort-desc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
      />
    </g>
  </svg>
`,l9=we`
  <svg
    name="sort-neutral"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="#fff" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill-rule="nonzero"
      />
      <circle cx="13" cy="9" r="2" />
    </g>
  </svg>
`,RW=we`
  <svg
    height="24"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="volumesTitleID volumesDescID"
  >
    <title id="volumesTitleID">Viewable Files</title>
    <g fill="#ffffff">
      <path
        fill="#ffffff"
        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"
      />
    </g>
  </svg>
`,rd=class extends Yt{constructor(){super(...arguments),this.fileListRaw=[],this.fileListSorted=[],this.sortOrderBy="default"}render(){return we`<div class="sort-multi-file-list">${this.sortButton}</div>`}get sortButton(){return{default:we`
        <button
          class="sort-by neutral-icon"
          aria-label="Sort volumes in initial order"
          @click=${()=>this.sortVolumes("title_asc")}
        >
          ${l9}
        </button>
      `,title_asc:we`
        <button
          class="sort-by asc-icon"
          aria-label="Sort volumes in ascending order"
          @click=${()=>this.sortVolumes("title_desc")}
        >
          ${a9}
        </button>
      `,title_desc:we`
        <button
          class="sort-by desc-icon"
          aria-label="Sort volumes in descending order"
          @click=${()=>this.sortVolumes("default")}
        >
          ${s9}
        </button>
      `}[this.sortOrderBy]}sortVolumes(e){this.sortOrderBy=e;let t=[];t=this.fileListRaw.sort((r,a)=>e==="title_asc"?r.title.localeCompare(a.title):e==="title_desc"?a.title.localeCompare(r.title):r.orig_sort-a.orig_sort),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:e,sortedFiles:t},bubbles:!0,composed:!0})),this.fileListSorted=t}static get styles(){return Le`
      button.sort-by {
        padding: 0px;
        background-color: transparent;
        border: 0px;
        --iconWidth: var(--menuSliderHeaderIconWidth);
        --iconHeight: var(--menuSliderHeaderIconHeight);
      }
    `}};Y([St({type:Array})],rd.prototype,"fileListRaw",void 0);Y([St({type:Array})],rd.prototype,"fileListSorted",void 0);Y([St({type:String,reflect:!0})],rd.prototype,"sortOrderBy",void 0);rd=Y([Fi("iaux-in-sort-files-button")],rd);El=class extends Yt{constructor(){super(...arguments),this.baseHost="archive.org",this.sortOrderBy="default",this.subPrefix="",this.fileList=[],this.addSortToUrl=!1}firstUpdated(){let e=this.shadowRoot.querySelector(".content.active");setTimeout(()=>{e!=null&&e.scrollIntoViewIfNeeded?e==null||e.scrollIntoViewIfNeeded(!0):e==null||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}volumeItemWithImageTitle(e){let t=this.fileUrl(e);return we`
      <li class="content active">
        <div class="separator"></div>
        <a class="container" href="${t}">
          <div class="image">
            <img src="${e.image}" alt="preview" />
          </div>
          <div class="text">
            <p class="item-title">${e.title}</p>
            <small>by: ${e.author}</small>
          </div>
        </a>
      </li>
    `}fileUrl(e){let t=`//${this.baseHost}${e.url_path}`,r=t;return this.addSortToUrl&&(r=this.sortOrderBy==="default"?`${t}`:`${t}?sort=${this.sortOrderBy}`),r}get pdfLabel(){return we`<span class="pdf-label"
      ><span class="sr-only">view this</span> PDF</span
    >`}fileLi(e){var t;let r=this.subPrefix===e.file_subprefix?" active":"",a=this.fileUrl(e),l=((t=e.file_source)!==null&&t!==void 0?t:"").match(/^[^+]+\.pdf$/i);return we`
      <li>
        <div class="separator"></div>
        <div class="content${r}">
          <a href=${a}>
            <p class="item-title">
              ${e.title}${l?this.pdfLabel:ei}
            </p>
          </a>
        </div>
      </li>
    `}get fileListTemplate(){let e=ja(this.fileList,t=>t==null?void 0:t.file_prefix,this.fileLi.bind(this));return we`
      <ul>
        ${e}
        <div class="separator"></div>
      </ul>
    `}render(){return we` ${this.fileList.length?this.fileListTemplate:ei} `}static get styles(){return Le`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-top: 14px;
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      a {
        color: #ffffff;
        text-decoration: none;
      }

      img {
        width: 35px;
        height: 45px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }

      ul > li:first-child .separator {
        display: none;
      }

      li {
        cursor: pointer;
        position: relative;
      }

      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: 0.2rem 0 0.4rem 0.2rem;
      }

      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }

      li.content a {
        display: flex;
      }

      small {
        font-style: italic;
        white-space: initial;
      }

      .container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .item-title {
        margin-block-start: 0em;
        margin-block-end: 0em;
        font-size: 14px;
        font-weight: bold;
        word-wrap: break-word;
        padding-left: 5px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      .text {
        padding-left: 10px;
      }

      .icon {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: 0.7rem;
        border: 1px solid var(--primaryTextColor);
        border-radius: 2px;
        background: var(--activeButtonBg) 50% 50% no-repeat;
      }

      .pdf-label {
        border: 1px solid;
        padding: 2px 5px;
        border-radius: 20px;
        display: inline-block;
        margin-left: 5px;
        font-size: 0.9rem;
      }

      .pdf-label .sr-only {
        position: absolute;
        clip: rect(1px, 1px, 1px, 1px);
        padding: 0;
        border: 0;
        height: 1px;
        width: 1px;
        overflow: hidden;
      }
    `}};Y([St({type:String})],El.prototype,"baseHost",void 0);Y([St({type:String})],El.prototype,"sortOrderBy",void 0);Y([St({type:String})],El.prototype,"subPrefix",void 0);Y([St({type:Array})],El.prototype,"fileList",void 0);Y([St({type:Boolean,reflect:!0})],El.prototype,"addSortToUrl",void 0);El=Y([Fi("iaux-in-viewable-files-panel")],El)});var u9,c9,nd=Wt(()=>{ti();u9=Object.freeze({processing:"processing",complete:"complete"}),c9=class extends Yt{static get properties(){return{mode:{type:String}}}constructor(){super(),this.mode=u9.processing}render(){return we`
      <div class="${this.mode}">
        <svg
          viewBox="0 0 120 120"
          preserveAspectRatio="none"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-labelledby="indicatorTitle indicatorDescription"
        >
          <title id="indicatorTitle">Activity Indicator</title>
          <desc id="indicatorDescription">
            A rotating activity indicator with three dots in the middle.
          </desc>
          <g
            id="icons/check-ring---squared"
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
          >
            <path
              id="completed-ring"
              class="loaded-indicator"
              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <polygon
              id="check"
              class="loaded-indicator"
              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "
              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"
            ></polygon>
            <path
              id="activity-ring"
              class="activity-indicator"
              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <g
              id="activity-dots"
              class="activity-indicator"
              transform="translate(40.000000, 55.000000)"
            >
              <circle id="left-dot" cx="5" cy="5" r="5"></circle>
              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>
              <circle id="right-dot" cx="35" cy="5" r="5"></circle>
            </g>
          </g>
        </svg>
      </div>
    `}static get styles(){let e=Le`var(--activityIndicatorCheckmarkColor, #31A481)`,t=Le`var(--activityIndicatorCompletedRingColor, #31A481)`,r=Le`var(--activityIndicatorLoadingRingColor, #333333)`,a=Le`var(--activityIndicatorLoadingDotColor, #333333)`;return Le`
      #completed-ring {
        fill: ${t};
      }

      #check {
        fill: ${e};
      }

      #activity-ring {
        fill: ${r};
      }

      #activity-dots {
        fill: ${a};
      }

      .activity-indicator {
        opacity: 0;
        transition: opacity 0.25s ease-out;
      }

      .processing .activity-indicator {
        opacity: 1;
      }

      .loaded-indicator {
        opacity: 1;
        transition: opacity 0.25s ease-out;
      }

      .processing .loaded-indicator {
        opacity: 0;
      }

      .image {
        border: 1px solid red;
        display: inline-block;
      }

      .processing #activity-ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
      }

      .processing #left-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.2s;
      }

      .processing #middle-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.4s;
      }

      .processing #right-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.6s;
      }

      @keyframes rotate {
        0% {
          transform: rotate(-360deg);
        }
        100% {
          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */
          transform: rotate(0deg);
        }
      }

      @keyframes dot {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    `}};window.customElements.define("ia-activity-indicator",c9)});var d9,tk,ik,rk=Wt(()=>{ti();ti();d9=we`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="closeTitleID closeDescID"
>
  <title id="closeTitleID">Close icon</title>
  <desc id="closeDescID">A line drawing of an X</desc>
  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>
</svg>
`,tk=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return d9}};customElements.define("ia-icon-close",tk);ik=tk});var h9,nk,ok,ak=Wt(()=>{ti();ti();h9=we`
<svg
  class="ia-logo"
  viewBox="0 0 27 30"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="logoTitleID logoDescID"
>
  <title id="logoTitleID">Internet Archive logo</title>
  <desc id="logoDescID">A line drawing of the Internet Archive headquarters building faade.</desc>
  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <mask id="mask-2" class="fill-color">
      <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>
    </mask>
    <use class="fill-color" xlink:href="#path-1"></use>
    <g mask="url(#mask-2)" class="fill-color">
      <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>
    </g>
  </g>
</svg>
`,nk=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return h9}};customElements.define("ia-icon-ia-logo",nk);ok=nk});var Zg,Kg,Tl,p9,ju,Bu=Wt(()=>{Zi();ti();Ar();Zi();ti();Ar();nd();rk();ak();ec();Zg=class{constructor(e){var t,r,a,l,o,u,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(a=e==null?void 0:e.showProcessingIndicator)!==null&&a!==void 0?a:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(u=e==null?void 0:e.showHeaderLogo)!==null&&u!==void 0?u:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}},Kg=class extends Yt{constructor(){super(...arguments),this.config=new Zg}render(){return we`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?we`<div class="logo-icon">${ok}</div>`:ei}
            ${this.config.title?we`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?we`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?we` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?we` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(){let e=new Event("closeButtonPressed");this.dispatchEvent(e)}get closeButtonTemplate(){return we`
      <button
        type="button"
        class="close-button"
        tabindex="0"
        @click=${this.handleCloseButton}
      >
        ${ik}
      </button>
    `}static get styles(){let e=Le`var(--modalLogoSize, 6.5rem)`,t=Le`var(--processingImageSize, 7.5rem)`,r=Le`var(--modalCornerRadius, 1rem)`,a=Le`var(--modalBorder, 2px solid black)`,l=Le`var(--modalBottomMargin, 2.5rem)`,o=Le`var(--modalTopMargin, 5rem)`,u=Le`var(--modalHeaderBottomPadding, 0.5em)`,n=Le`var(--modalBottomPadding, 2rem)`,c=Le`var(--modalScrollOffset, 5px)`,d=Le`var(--modalTitleFontSize, 1.8rem)`,f=Le`var(--modalSubtitleFontSize, 1.4rem)`,p=Le`var(--modalHeadlineFontSize, 1.6rem)`,v=Le`var(--modalMessageFontSize, 1.4rem)`,y=Le`var(--modalTitleLineHeight, normal)`,w=Le`var(--modalSubtitleLineHeight, normal)`,k=Le`var(--modalHeadlineLineHeight, normal)`,A=Le`var(--modalMessageLineHeight, normal)`;return Le`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${a};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${u};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${d};
        font-weight: bold;
        line-height: ${y};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${f};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${a};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${c}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${c}) 0;
      }

      .headline {
        font-size: ${p};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${v};
        line-height: ${A};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};Y([St({type:Object})],Kg.prototype,"config",void 0);Kg=Y([Fi("modal-template")],Kg);(function(e){e.Open="open",e.Closed="closed"})(Tl||(Tl={}));p9=class{constructor(e){this.windowResizeThrottler=eu(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case Tl.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Tl.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},ju=class extends Yt{constructor(){super(...arguments),this.mode=Tl.Closed,this.hostBridge=new p9(this),this.closeOnBackdropClick=!0}render(){return we`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="0"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=Tl.Closed}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return jo(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=Tl.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=Le`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=Le`var(--modalBackdropZindex, 1000)`,r=Le`var(--modalWidth, 32rem)`,a=Le`var(--modalMaxWidth, 95%)`,l=Le`var(--modalZindex, 2000)`;return Le`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${a};
      }
    `}};Y([St({type:String,reflect:!0})],ju.prototype,"mode",void 0);Y([St({type:Object})],ju.prototype,"customModalContent",void 0);Y([St({type:Object})],ju.prototype,"hostBridge",void 0);Y([wr("modal-template")],ju.prototype,"modalTemplate",void 0);ju=Y([Fi("modal-manager")],ju)});var f9,m9,Jg=Wt(()=>{ti();ti();f9=we`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="downloadTitleID downloadDescID"
>
  <title id="downloadTitleID">Download icon</title>
  <desc id="downloadDescID">An arrow pointing downward at an empty document tray</desc>
  <g class="fill-color">

    <path d="m50 80 33.3333333-43.3333333h-20v-36.6666667h-26.6666666v36.6666667h-20zm50 20v-13.3333333h-100v13.3333333z"/>
  </g>
</svg>
`,m9=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return f9}};customElements.define("ia-icon-dl",m9)});var sk,lk,va,Jh=Wt(()=>{Zi();ti();Ar();Ag();Cg();Eg();Tg();$g();Pg();Og();sk=e=>{let t=e.currentTarget,r=t.querySelector("textarea"),a=t.querySelector("small");r.select(),document.execCommand("copy"),r.blur(),a.classList.add("visible"),clearTimeout(a.timeout),a.timeout=setTimeout(()=>a.classList.remove("visible"),4e3)},lk=we`<ia-icon-share
  style="width: var(--iconWidth); height: var(--iconHeight);"
></ia-icon-share>`,va=class extends Yt{constructor(){super(...arguments),this.baseHost="archive.org",this.creator="",this.description="",this.embedOptionsVisible=!1,this.identifier="",this.sharingOptions=[],this.type="",this.renderHeader=!1,this.fileSubPrefix=""}updated(e){e.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}loadProviders(){let e=`https://${this.baseHost}/details/${this.identifier}`;this.fileSubPrefix&&(e+=`/${this.fileSubPrefix}`);let t=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:we`<ia-icon-twitter aria-hidden="true"></ia-icon-twitter>`,url:`https://twitter.com/intent/tweet?${new URLSearchParams({url:e,text:t,via:"internetarchive"})}`},{name:"Facebook",icon:we`<ia-icon-facebook aria-hidden="true"></ia-icon-facebook>`,url:`https://www.facebook.com/sharer/sharer.php?${new URLSearchParams({u:e})}`},{name:"Tumblr",icon:we`<ia-icon-tumblr aria-hidden="true"></ia-icon-tumblr>`,url:`https://www.tumblr.com/widgets/share/tool/preview?${new URLSearchParams({posttype:"link",canonicalUrl:e,title:t})}`},{name:"Pinterest",icon:we`<ia-icon-pinterest aria-hidden="true"></ia-icon-pinterest>`,url:`http://www.pinterest.com/pin/create/button/?${new URLSearchParams({url:e,description:t})}`},{name:"Email",icon:we`<ia-icon-email aria-hidden="true"></ia-icon-email>`,url:`mailto:?${new URLSearchParams({subject:t,body:e})}`}]}get iframeEmbed(){return`<iframe
      src="https://${this.baseHost}/embed/${this.identifier}"
      width="560" height="384" frameborder="0"
      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen
    ></iframe>`}get bbcodeEmbed(){return`[archiveorg ${this.identifier} width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`}get helpURL(){return`https://${this.baseHost}/help/audio.php?identifier=${this.identifier}`}get header(){let e=we`<header><h3>Share this ${this.type}</h3></header>`;return this.renderHeader?e:ei}render(){return we`
      ${this.header}
      <div>
        ${this.sharingOptions.map(e=>we` <a class="share-option" href="${e.url}" target="_blank">
              ${e.icon} ${e.name}
            </a>`)}
        <details>
          <summary class="share-option">
            <ia-icon-link aria-hidden="true"></ia-icon-link>
            Get an embeddable link
          </summary>
          <div class="embed">
            <h4>Embed</h4>
            <div class="code" @click=${sk}>
              <textarea readonly>${this.iframeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <h4>
              Embed for wordpress.com hosted blogs and archive.org item
              &lt;description&gt; tags
            </h4>
            <div class="code" @click=${sk}>
              <textarea readonly>${this.bbcodeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <p>
              Want more?
              <a href=${this.helpURL}
                >Advanced embedding details, examples, and help</a
              >!
            </p>
          </div>
        </details>
      </div>
    `}get providerIcon(){return we`<ia-icon-share
      style="width: var(--iconWidth); height: var(--iconHeight);"
    ></ia-icon-share>`}static get styles(){return Le`
      :host {
        display: block;
        height: 100%;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      header {
        display: flex;
        align-items: baseline;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.6rem;
      }

      h4 {
        font-size: 1.4rem;
      }

      :host > div {
        padding: 1rem 0;
      }

      .share-option {
        display: block;
        padding: 0.5rem 0;
        font-size: 1.6rem;
        text-decoration: none;
        color: var(--shareLinkColor);
        cursor: pointer;
        transition: background-color 0.2s;
        border-radius: 6px;
      }

      .share-option:hover {
        background-color: rgba(255, 255, 255, 0.05);
      }

      .share-option > * {
        display: inline-block;
        padding: 0.2rem;
        margin-right: 1rem;
        vertical-align: middle;
        border: 1px solid var(--shareIconBorder);
        border-radius: 7px;
        background: var(--shareIconBg);
      }

      /* Hide the triangle that appears on details tags */
      summary::marker {
        content: '';
      }

      summary::-webkit-details-marker {
        display: none;
      }

      .embed {
        padding-right: 5px;
      }

      .embed a {
        color: var(--shareLinkColor);
      }

      .code {
        position: relative;
      }

      textarea {
        display: block;
        width: 100%;
        height: 120px;
        padding: 0.8rem 1rem;
        box-sizing: border-box;
        resize: none;
        cursor: pointer;
        font:
          normal 1.4rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaColor, #fff);
        background: var(--textareaBg, #151515);
      }

      small {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3rem;
        padding: 0.5rem 1rem;
        box-sizing: border-box;
        font:
          normal 1.2rem/2rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaBg, #151515);
        background: var(--textareaColor, #fff);
        opacity: 0;
        transition: opacity 300ms linear;
      }
      small.visible {
        opacity: 1;
      }
    `}};Y([St({type:String})],va.prototype,"baseHost",void 0);Y([St({type:String})],va.prototype,"creator",void 0);Y([St({type:String})],va.prototype,"description",void 0);Y([St({type:Boolean})],va.prototype,"embedOptionsVisible",void 0);Y([St({type:String})],va.prototype,"identifier",void 0);Y([St({type:Array})],va.prototype,"sharingOptions",void 0);Y([St({type:String})],va.prototype,"type",void 0);Y([St({type:Boolean})],va.prototype,"renderHeader",void 0);Y([St({type:String})],va.prototype,"fileSubPrefix",void 0);va=Y([Fi("iaux-in-share-panel")],va)});var g9,v9,b9,uk,od,$l,Xh=Wt(()=>{Zi();ti();Ar();Cl();g9=we`
  <svg
    name="sort-asc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
        transform="matrix(1 0 0 -1 0 18.692308)"
      />
    </g>
  </svg>
`,v9=we`
  <svg
    name="sort-desc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
      />
    </g>
  </svg>
`,b9=we`
  <svg
    name="sort-neutral"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="#fff" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill-rule="nonzero"
      />
      <circle cx="13" cy="9" r="2" />
    </g>
  </svg>
`,uk=we`
  <svg
    height="24"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="volumesTitleID volumesDescID"
  >
    <title id="volumesTitleID">Viewable Files</title>
    <g fill="#ffffff">
      <path
        fill="#ffffff"
        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"
      />
    </g>
  </svg>
`,od=class extends Yt{constructor(){super(...arguments),this.fileListRaw=[],this.fileListSorted=[],this.sortOrderBy="default"}render(){return we`<div class="sort-multi-file-list">${this.sortButton}</div>`}get sortButton(){return{default:we`
        <button
          class="sort-by neutral-icon"
          aria-label="Sort volumes in initial order"
          @click=${()=>this.sortVolumes("title_asc")}
        >
          ${b9}
        </button>
      `,title_asc:we`
        <button
          class="sort-by asc-icon"
          aria-label="Sort volumes in ascending order"
          @click=${()=>this.sortVolumes("title_desc")}
        >
          ${g9}
        </button>
      `,title_desc:we`
        <button
          class="sort-by desc-icon"
          aria-label="Sort volumes in descending order"
          @click=${()=>this.sortVolumes("default")}
        >
          ${v9}
        </button>
      `}[this.sortOrderBy]}sortVolumes(e){this.sortOrderBy=e;let t=[];t=this.fileListRaw.sort((r,a)=>e==="title_asc"?r.title.localeCompare(a.title):e==="title_desc"?a.title.localeCompare(r.title):r.orig_sort-a.orig_sort),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:e,sortedFiles:t},bubbles:!0,composed:!0})),this.fileListSorted=t}static get styles(){return Le`
      button.sort-by {
        padding: 0px;
        background-color: transparent;
        border: 0px;
        --iconWidth: var(--menuSliderHeaderIconWidth);
        --iconHeight: var(--menuSliderHeaderIconHeight);
      }
    `}};Y([St({type:Array})],od.prototype,"fileListRaw",void 0);Y([St({type:Array})],od.prototype,"fileListSorted",void 0);Y([St({type:String,reflect:!0})],od.prototype,"sortOrderBy",void 0);od=Y([Fi("iaux-in-sort-files-button")],od);$l=class extends Yt{constructor(){super(...arguments),this.baseHost="archive.org",this.sortOrderBy="default",this.subPrefix="",this.fileList=[],this.addSortToUrl=!1}firstUpdated(){let e=this.shadowRoot.querySelector(".content.active");setTimeout(()=>{e!=null&&e.scrollIntoViewIfNeeded?e==null||e.scrollIntoViewIfNeeded(!0):e==null||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}volumeItemWithImageTitle(e){let t=this.fileUrl(e);return we`
      <li class="content active">
        <div class="separator"></div>
        <a class="container" href="${t}">
          <div class="image">
            <img src="${e.image}" alt="preview" />
          </div>
          <div class="text">
            <p class="item-title">${e.title}</p>
            <small>by: ${e.author}</small>
          </div>
        </a>
      </li>
    `}fileUrl(e){let t=`//${this.baseHost}${e.url_path}`,r=t;return this.addSortToUrl&&(r=this.sortOrderBy==="default"?`${t}`:`${t}?sort=${this.sortOrderBy}`),r}get pdfLabel(){return we`<span class="pdf-label"
      ><span class="sr-only">view this</span> PDF</span
    >`}fileLi(e){var t;let r=this.subPrefix===e.file_subprefix?" active":"",a=this.fileUrl(e),l=((t=e.file_source)!==null&&t!==void 0?t:"").match(/^[^+]+\.pdf$/i);return we`
      <li>
        <div class="separator"></div>
        <div class="content${r}">
          <a href=${a}>
            <p class="item-title">
              ${e.title}${l?this.pdfLabel:ei}
            </p>
          </a>
        </div>
      </li>
    `}get fileListTemplate(){let e=ja(this.fileList,t=>t==null?void 0:t.file_prefix,this.fileLi.bind(this));return we`
      <ul>
        ${e}
        <div class="separator"></div>
      </ul>
    `}render(){return we` ${this.fileList.length?this.fileListTemplate:ei} `}static get styles(){return Le`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-top: 14px;
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      a {
        color: #ffffff;
        text-decoration: none;
      }

      img {
        width: 35px;
        height: 45px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }

      ul > li:first-child .separator {
        display: none;
      }

      li {
        cursor: pointer;
        position: relative;
      }

      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: 0.2rem 0 0.4rem 0.2rem;
      }

      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }

      li.content a {
        display: flex;
      }

      small {
        font-style: italic;
        white-space: initial;
      }

      .container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .item-title {
        margin-block-start: 0em;
        margin-block-end: 0em;
        font-size: 14px;
        font-weight: bold;
        word-wrap: break-word;
        padding-left: 5px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      .text {
        padding-left: 10px;
      }

      .icon {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: 0.7rem;
        border: 1px solid var(--primaryTextColor);
        border-radius: 2px;
        background: var(--activeButtonBg) 50% 50% no-repeat;
      }

      .pdf-label {
        border: 1px solid;
        padding: 2px 5px;
        border-radius: 20px;
        display: inline-block;
        margin-left: 5px;
        font-size: 0.9rem;
      }

      .pdf-label .sr-only {
        position: absolute;
        clip: rect(1px, 1px, 1px, 1px);
        padding: 0;
        border: 0;
        height: 1px;
        width: 1px;
        overflow: hidden;
      }
    `}};Y([St({type:String})],$l.prototype,"baseHost",void 0);Y([St({type:String})],$l.prototype,"sortOrderBy",void 0);Y([St({type:String})],$l.prototype,"subPrefix",void 0);Y([St({type:Array})],$l.prototype,"fileList",void 0);Y([St({type:Boolean,reflect:!0})],$l.prototype,"addSortToUrl",void 0);$l=Y([Fi("iaux-in-viewable-files-panel")],$l)});var y9,w9,Xg=Wt(()=>{ti();ti();y9=we`
<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="visualAdjustmentTitleID visualAdjustmentDescID"
>
  <title id="visualAdjustmentTitleID">Visual adjustment</title>
  <desc id="visualAdjustmentDescID">A circle with its left hemisphere filled</desc>
  <path class="fill-color" d="m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2v20l.2664041-.0034797c5.399703-.1412166 9.7335959-4.562751 9.7335959-9.9965203 0-5.5228475-4.4771525-10-10-10z" fill-rule="evenodd" />
</svg>
`,w9=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return y9}};customElements.define("ia-icon-visual-adjustment",w9)});var _9,Qg=Wt(()=>{ti();_9=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      #hollow,
      #plus,
      #minus {
        display: none;
      }

      .hollow #filled,
      .plus #filled,
      .minus #filled {
        display: none;
      }

      .hollow #hollow,
      .plus #hollow,
      .minus #hollow {
        display: block;
      }

      .plus #plus {
        display: block;
      }

      .minus #minus {
        display: block;
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}static get properties(){return{state:{type:String}}}render(){return we`
      <div class=${this.state}>
        <svg
          height="24"
          viewBox="0 0 16 24"
          width="16"
          xmlns="http://www.w3.org/2000/svg"
          aria-labelledby="bookmarkTitleID bookmarDescID"
        >
          <title id="bookmarkTitleID">Bookmark icon</title>
          <desc id="bookmarkDescID">An outline of the shape of a bookmark</desc>
          <path
            id="filled"
            d="m1 0h14c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1z"
            class="fill-color"
            fill-rule="evenodd"
          />
          <g class="fill-color" fill-rule="evenodd">
            <path
              id="hollow"
              d="m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z"
            />
            <path
              id="plus"
              d="m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z"
              fill-rule="nonzero"
            />
            <path id="minus" d="m11 8.25v1.5h-6v-1.5z" fill-rule="nonzero" />
          </g>
        </svg>
      </div>
    `}};window.customElements.define("icon-bookmark",_9)});var k9,x9,e0=Wt(()=>{ti();ti();k9=we`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="searchTitleID searchDescID"
>
  <title id="searchTitleID">Search icon</title>
  <desc id="searchDescID">Search for something.</desc>
  <path
    class="fill-color"
    fill="none"
    d="m17.0555551 41.3194459c0-12.7430552 10.3541664-23.1027772 23.0847216-23.1027772 12.7166664 0 23.0777773 10.359722 23.0777773 23.1027772 0 12.7361108-10.3611109 23.0986106-23.0777773 23.0986106-12.7305552 0-23.0847216-10.3624998-23.0847216-23.0986106zm-17.24305512 0c0 22.2916661 18.04583292 40.3472213 40.32777672 40.3472213 8.9208332 0 17.145833-2.9319449 23.8194439-7.8527776l24.1513883 24.0777771c1.2125 1.1402778 2.8430555 1.8430556 4.6374999 1.8430556 3.7444443 0 6.7805554-3.0361111 6.7805554-6.7791665 0-2.0652778-.9222222-3.9069444-2.3736111-5.1499999l-23.718055-23.7458328c4.4152777-6.4791665 7.0152776-14.3055552 7.0152776-22.7402772 0-22.2791661-18.0458328-40.34861006-40.312499-40.34861006-22.2819438 0-40.32777672 18.06944396-40.32777672 40.34861006z" />
</svg>
`,x9=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return k9}};customElements.define("ia-icon-search",x9)});var S9,A9,t0=Wt(()=>{ti();ti();S9=we`
<svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg" aria-labelledby="editPencilTitleID editPencilDescID"><title id="editPencilTitleID">Pencil icon</title><desc id="editPencilDescID">An illustration of a pencil, used to represent an edit action</desc><path class="fill-color" d="m15.6111048 9.3708338-9.52237183 9.5222966-5.14363353 1.0897111c-.42296707.0896082-.83849202-.1806298-.92810097-.6035935-.02266463-.1069795-.02266463-.2175207 0-.3245001l1.08971974-5.1435929 9.52237189-9.52229656zm-10.89310224 5.9110366-2.78094924-.5403869-.67567462 3.166657.83033407.8303275 3.16668096-.6756703zm14.82724244-12.05935921c.6114418.61143705.6055516 1.6086709-.0131615 2.22737904l-2.2405581 2.24054036-4.9820147-4.98197536 2.2405581-2.24054036c.618713-.61870814 1.6159506-.62460252 2.2273925-.01316547z" fill-rule="evenodd"/></svg>
`,A9=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return S9}};customElements.define("ia-icon-edit-pencil",A9)});var C9,E9,i0=Wt(()=>{ti();ti();C9=we`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="magnify-minusTitleID magnify-minusDescID"
>
  <title id="magnify-minusTitleID">Zoom out</title>
  <desc id="magnify-minusDescID">Take a look further.</desc>
  <g
    class="fill-color"
    fill="none"
    fill-rule="nonzero"
  >
    <path d="m2.3239824 87.3815869 25.8938394-23.8143095c-4.5929593-6.6937643-6.889439-14.1059452-6.889439-22.2365428 0-7.1360431 1.7567382-13.7186647 5.2702146-19.7478649 3.5134763-6.0292002 8.2852035-10.8003118 14.3151815-14.31333499 6.029978-3.51302314 12.6134488-5.26953471 19.7504125-5.26953471s13.7204346 1.75651157 19.7504126 5.26953471c6.029978 3.51302319 10.8017051 8.28413479 14.3151815 14.31333499 3.5134763 6.0292002 5.2702145 12.6118218 5.2702145 19.7478649s-1.7567382 13.7324143-5.2702145 19.7891137c-3.5134764 6.0566994-8.2852035 10.8415607-14.3151815 14.3545838-6.029978 3.5130232-12.6134489 5.2695347-19.7504126 5.2695347-8.5762743 0-16.3217363-2.5723212-23.2363861-7.7169637l-26.3063807 24.2302349c-1.27200216 1.1618413-2.76631826 1.742762-4.48294825 1.742762-1.826641 0-3.38971397-.6496687-4.68921892-1.949006s-1.94925743-2.8622087-1.94925743-4.688614c0-1.9364022.7746608-3.5955208 2.3239824-4.9773557zm58.3436469-19.9162976c7.1919692 0 13.3331041-2.5585716 18.4234048-7.6757149s7.635451-11.2712357 7.635451-18.4622772-2.5451503-13.3313843-7.635451-18.4210284-11.2314356-7.6344661-18.4234048-7.6344661-13.3331042 2.544822-18.4234049 7.6344661-7.635451 11.2299869-7.635451 18.4210284 2.5451503 13.3451339 7.635451 18.4622772 11.2314357 7.6757149 18.4234049 7.6757149zm-14.9374313-21.3256316h31.2878163v-9.5422233h-31.2878163z"/>
  </g>
</svg>
`,E9=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return C9}};customElements.define("ia-icon-magnify-minus",E9)});var T9,$9,r0=Wt(()=>{ti();ti();T9=we`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="magnify-plusTitleID magnify-plusDescID"
>
  <title id="magnify-plusTitleID">Zoom in</title>
  <desc id="magnify-plusDescID">Take a look closer.</desc>
  <g
    class="fill-color"
    fill="none"
    fill-rule="nonzero"
  >
    <path d="m2.40305276 87.4017263 25.81133064-23.7730295c-4.5356618-6.5723551-6.8034928-14.000283-6.8034928-22.2837838 0-7.1236734 1.7429868-13.6948847 5.2289603-19.7136338 3.4859736-6.0187491 8.2577006-10.7953163 14.3151813-14.32970144 6.0574806-3.53438517 12.6547027-5.30157776 19.7916662-5.30157776 10.8429591 0 20.0964884 3.85236545 27.760588 11.5570964 7.6640996 7.7047309 11.4950036 16.9684802 11.4927136 27.791248 0 10.8799585-3.8309059 20.1574336-11.4927136 27.8324254-7.6618077 7.6749917-16.915337 11.5124876-27.760588 11.5124876-8.6312796 0-16.431747-2.5678624-23.4014021-7.7035871l-26.1413636 24.188234c-1.21699671 1.2147305-2.73881553 1.8220957-4.56545649 1.8220957s-3.3897139-.6485425-4.68921882-1.9456276c-1.29950493-1.297085-1.94925739-2.8572473-1.94925739-4.6804867 0-1.8781426.80216353-3.5343852 2.4064906-4.9687279zm58.34020784-19.878343c7.1369635 0 13.264347-2.5678623 18.3821503-7.7035871 5.1178034-5.1357247 7.676705-11.2928753 7.676705-18.4714518s-2.5589016-13.3082755-7.676705-18.3890972c-5.1178033-5.0808217-11.2451868-7.6212325-18.3821503-7.6212325-7.2469746 0-13.4156121 2.5404108-18.5059127 7.6212325s-7.6354509 11.2105207-7.6354509 18.3890972 2.5589016 13.3357271 7.676705 18.4714518c5.1178033 5.1357248 11.2726895 7.7035871 18.4646586 7.7035871zm-13.3594607-21.8685793h10.206958v10.1879511h7.2194718v-10.1879511h10.206958v-7.206028h-10.206958v-10.187951h-7.2194718v10.187951h-10.206958z"/>
  </g>
</svg>
`,$9=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return T9}};customElements.define("ia-icon-magnify-plus",$9)});function hk(e,t){return e.sort((r,a)=>{let l=t?t(r):r,o=t?t(a):a;return l<o?-1:l>o?1:0})}var P9,ck,ad,O9,to,M9,I9,dk,L9,D9,n0,o0,R9,j9,B9,N9,F9,z9,H9,U9,fk,W9,V9,q9,G9,Qh,Y9,K9,ep,Z9,gk,vk=Wt(()=>{ti();Yg();al();Bu();ti();ti();e0();Cs();ti();nd();ti();ti();ti();Oh();ti();Jg();ti();ti();Xg();ti();Ea();Cl();i0();r0();ti();ti();ti();ti();Bu();ti();Cl();ti();ti();Cl();ti();t0();Qg();ti();Jh();Jh();ti();Xh();Xh();ti();Bu();Bu();al();P9=Le`data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgMTMgMTAiIHdpZHRoPSIxMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNC4zMzMzMzMzMyAxMC00LjMzMzMzMzMzLTQuMTY2NjY2NjcgMS43MzMzMzMzMy0xLjY2NjY2NjY2IDIuNiAyLjUgNi45MzMzMzMzNy02LjY2NjY2NjY3IDEuNzMzMzMzMyAxLjY2NjY2NjY3eiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+`,ck=Le`data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDAgNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1sYWJlbGxlZGJ5PSJjbG9zZVRpdGxlSUQgY2xvc2VEZXNjSUQiPjxwYXRoIGQ9Ik0yOS4xOTIgMTAuODA4YTEuNSAxLjUgMCAwMTAgMi4xMkwyMi4xMjIgMjBsNy4wNyA3LjA3MmExLjUgMS41IDAgMDEtMi4xMiAyLjEyMWwtNy4wNzMtNy4wNy03LjA3IDcuMDdhMS41IDEuNSAwIDAxLTIuMTIxLTIuMTJsNy4wNy03LjA3My03LjA3LTcuMDdhMS41IDEuNSAwIDAxMi4xMi0yLjEyMUwyMCAxNy44NzhsNy4wNzItNy4wN2ExLjUgMS41IDAgMDEyLjEyMSAweiIgY2xhc3M9ImZpbGwtY29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==`,ad=Le`
  .ia-button {
    min-height: 3rem;
    border: none;
    cursor: pointer;
    color: var(--primaryTextColor);
    line-height: normal;
    border-radius: .4rem;
    text-align: center;
    vertical-align: middle;
    font-size: 1.4rem;
    font-family: inherit;
    display: inline-block;
    padding: .6rem 1.2rem;
    border: 1px solid transparent;

    white-space: nowrap;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
    user-select: none;
  }

  .ia-button.link,
  .ia-button.external {
    min-height: unset;
    text-decoration: none;
  }

  .ia-button:disabled,
  .ia-button.disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

  .ia-button.transparent {
    background-color: transparent;
  }
  
  .ia-button.slim {
    padding: 0;
  }

  .ia-button.primary {
    background-color: var(--primaryCTAFill);
    border-color: var(--primaryCTABorder);
  }

  .ia-button.cancel {
    background-color: var(--primaryErrorCTAFill);
    border-color: var(--primaryErrorCTABorder);
  }

  .ia-button.external {
    background: var(--secondaryCTAFill);
    border-color: var(--secondaryCTABorder);
  }
`,O9=class extends Yt{static get properties(){return{results:{type:Array},query:{type:String},queryInProgress:{type:Boolean},renderHeader:{type:Boolean},renderSearchAllFiles:{type:Boolean},errorMessage:{type:String}}}constructor(){super(),this.results=[],this.query="",this.queryInProgress=!1,this.renderHeader=!1,this.renderSearchAllFiles=!1,this.errorMessage="",this.bindBookReaderListeners()}updated(){this.focusOnInputIfNecessary()}bindBookReaderListeners(){document.addEventListener("BookReader:SearchCallback",this.setResults.bind(this))}focusOnInputIfNecessary(){this.results.length||this.shadowRoot.querySelector("input[type='search']").focus()}setResults({detail:e}){this.results=e.results}setQuery(e){this.query=e.currentTarget.value,this.query||this.cancelSearch()}performSearch(e){e.preventDefault();let t=e.currentTarget.querySelector('input[type="search"]');!t||!t.value||this.dispatchEvent(new CustomEvent("bookSearchInitiated",{bubbles:!0,composed:!0,detail:{query:this.query}}))}selectResult(e){this.dispatchEvent(new CustomEvent("resultSelected",{bubbles:!0,composed:!0,detail:{match:e}})),this.dispatchEvent(new CustomEvent("closeMenu",{bubbles:!0,composed:!0}))}cancelSearch(){this.queryInProgress=!1,this.dispatchSearchCanceled()}dispatchSearchCanceled(){this.dispatchEvent(new Event("bookSearchCanceled"))}get resultsCount(){let e=this.results.length;return e?`${e} result${e>1?"s":""}`:ei}get headerSection(){let e=we`<header>
      <h3>Search inside</h3>
      ${this.resultsCount?we`(${this.resultsCount})`:ei}
    </header>`;return this.renderHeader?e:ei}get searchMultipleControls(){let e=we`
      <input name="all_files" id="all_files" type="checkbox" />
      <label class="checkbox" for="all_files">Search all files</label>
    `;return this.renderSearchAllFiles?e:ei}get loadingIndicator(){return we`
      <div class="loading">
        <ia-activity-indicator mode="processing" aria-hidden="true" role="presentation"></ia-activity-indicator>
        <p>Searching</p>
        <button class="ia-button external cancel-search" @click=${this.cancelSearch}>Cancel</button>
      </div>
    `}get resultsSet(){return we`
    <nav aria-label="Search results">
      <div>
        ${this.resultsCount}
        <a
          href="#"
          class="skip-link"
          @click=${e=>{e.preventDefault(),this.shadowRoot.querySelector(".results li:last-child .result-item").focus()}}
        >Skip to last result</a>
      </div>
      <ul class="results">
        ${this.results.map(e=>we`
            <li>
              <button class="result-item" @click=${this.selectResult.bind(this,e)}>
                <span class="page-num">Page ${e.displayPageNumber}</span>  <span lang=${Nc(e.lang)}>${As(e.html)}</span>
              </button>
            </li>
          `)}
      </ul>
        <a
          href="#"
          class="skip-link"
          @click=${e=>{e.preventDefault(),this.shadowRoot.querySelector(".results li:first-child .result-item").focus()}}
        >Skip to first result</a>
    </nav>
    `}get setErrorMessage(){return we`
      <p class="error-message">${this.errorMessage}</p>
    `}render(){let e=!this.queryInProgress&&!this.errorMessage&&!this.queryInProgress&&!this.results.length;return we`
      ${this.headerSection}
      <form action="" method="get" @submit=${this.performSearch}>
        ${this.searchMultipleControls}
        <input
          type="search"
          name="query"
          id="br-search-input"
          @keyup=${this.setQuery}
          @search=${this.setQuery}
          .value=${this.query}
        />
        <label class="search-cta ${e?"":"sr-only"}" for="br-search-input">
          Please enter text to search for
        </label>
      </form>
      <div class="results-container" aria-live="polite">
        ${this.queryInProgress?this.loadingIndicator:ei}
        ${this.errorMessage?this.setErrorMessage:ei}
        ${this.results.length?this.resultsSet:ei}
      </div>
    `}static get styles(){let e=Le`var(--searchResultText, #adaedc)`,t=Le`var(--searchResultBg, #272958)`,r=Le`var(--searchResultBorder, #adaedc)`,a=Le`(--tertiaryBGColor, #333)`,l=Le`
      :host {
        display: block;
        height: 100%;
        padding: 1.5rem 1rem 2rem 0;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      .skip-link {
        position: absolute;
        left: -9999px;
      }
      .skip-link:focus {
        position: static;
        left: auto;
      }

      mark {
        padding: 0 .2rem;
        color: ${e};
        background: ${t};
        border: 1px solid ${r};
        border-radius: 2px;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 2rem;
      }

      header {
        display: flex;
        align-items: center;
        padding: 0 2rem 0 0;
      }
      header p {
        padding: 0;
        margin: 0;
        font-size: 1.2rem;
        font-weight: bold;
        font-style: italic;
      }

      form {
        padding: 0 0 1rem 0;
      }

      [type="checkbox"] {
        display: none;
      }

      label {
        display: block;
        text-align: center;
      }

      label.checkbox {
        padding-bottom: .5rem;
        font-size: 1.6rem;
        line-height: 150%;
        vertical-align: middle;
      }

      label.checkbox:after {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: .7rem;
        content: "";
        border-radius: 2px;
      }
      :checked + label.checkbox:after {
        background-image: url('${P9}');
      }

      label.checkbox[for="all_files"]:after {
        background: ${a} 50% 50% no-repeat;
        border: 1px solid var(--primaryTextColor);
      }

      [type="search"] {
        color: var(--primaryTextColor);
        border: 1px solid var(--primaryTextColor);
        -webkit-appearance: textfield;
        width: 100%;
        height: 3rem;
        padding: 0 1.5rem;
        box-sizing: border-box;
        font: normal 1.6rem "Helvetica qNeue", Helvetica, Arial, sans-serif;
        border-radius: 1.5rem;
        background: transparent;
      }
      [type="search"]:focus {
        outline: none;
      }
      [type="search"]::-webkit-search-cancel-button {
        width: 18px;
        height: 18px;
        -webkit-appearance: none;
        appearance: none;
        -webkit-mask: url('${ck}') 0 0 no-repeat;
        mask: url('${ck}') 0 0 no-repeat;
        -webkit-mask-size: 100%;
        mask-size: 100%;
        background: #fff;
      }

      .page-num {
        font-weight: bold;
        padding-bottom: 0;
      }

      .search-cta {
        padding: 10px 0;
        text-align: center;
        font-style: italic;
      }

      .results-container {
        padding-bottom: 2rem;
      }

      ul {
        padding: 0 0 2rem 0;
        margin: 0;
        list-style: none;
      }

      .result-item {
        cursor: pointer;
        margin-top: 8px;
        font-size: 12px;
        padding: 5px;
        border-radius: 4px;
        display: block;
        width: 100%;
        /* Reset button styles */
        background: none;
        border: none;
        text-align: left;
        font-family: inherit;
        transition: background-color 0.2s;
      }

      .result-item:hover {
        background-color: rgba(255, 255, 255, 0.1);
      }

      .loading {
        text-align: center;
      }

      .loading p {
        padding: 0 0 1rem 0;
        margin: 0;
        font-size: 1.2rem;
      }

      ia-activity-indicator {
        display: block;
        width: 40px;
        height: 40px;
        margin: 0 auto;
      }

      .sr-only {
        position: absolute !important;
        width: 1px !important;
        height: 1px !important;
        padding: 0 !important;
        margin: -1px !important;
        overflow: hidden !important;
        clip: rect(0 0 0 0) !important;
        white-space: nowrap !important;
        border: 0 !important;
      }
    `;return[ad,l]}};customElements.define("ia-book-search-results",O9);to={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},M9=class{constructor({onProviderChange:e,bookreader:t}){this.onBookSearchInitiated=this.onBookSearchInitiated.bind(this),this.onSearchStarted=this.onSearchStarted.bind(this),this.onSearchRequestError=this.onSearchRequestError.bind(this),this.onSearchResultsClicked=this.onSearchResultsClicked.bind(this),this.onSearchResultsChange=this.onSearchResultsChange.bind(this),this.onSearchResultsCleared=this.onSearchResultsCleared.bind(this),this.searchCanceledInMenu=this.searchCanceledInMenu.bind(this),this.bindEventListeners=this.bindEventListeners.bind(this),this.getMenuDetails=this.getMenuDetails.bind(this),this.getComponent=this.getComponent.bind(this),this.updateMenu=this.updateMenu.bind(this),this.onProviderChange=e,this.bookreader=t,this.icon=we`
      <ia-icon-search
        aria-hidden="true" role="presentation"
        style="width: var(--iconWidth); height: var(--iconHeight);"
      ></ia-icon-search>`,this.label="Search inside",this.menuDetails=this.getMenuDetails(),this.id="search",this.component=this.getComponent(),this.bindEventListeners()}getMenuDetails(){let{resultsCount:e,query:t,queryInProgress:r}=to;return r||!t?ei:we`(${e} ${e===1?"result":"results"})`}bindEventListeners(){window.addEventListener("BookReader:SearchStarted",this.onSearchStarted),window.addEventListener("BookReader:SearchCallback",this.onSearchResultsChange),window.addEventListener("BookReader:SearchCallbackEmpty",e=>{this.onSearchRequestError(e,"noResults")}),window.addEventListener("BookReader:SearchCallbackNotIndexed",e=>{this.onSearchRequestError(e,"notIndexed")}),window.addEventListener("BookReader:SearchCallbackError",e=>{this.onSearchRequestError(e)}),window.addEventListener("BookReader:SearchResultsCleared",()=>{this.onSearchResultsCleared()}),window.addEventListener("BookReader:SearchCanceled",e=>{this.onSearchCanceled(e)})}onSearchCanceled(){to={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""};let e={searchCanceled:!0};this.updateMenu(e),this.bookreader.urlPlugin&&this.updateSearchInUrl()}onSearchStarted(e){let{term:t="",instance:r}=e.detail.props;r&&(this.bookreader=r),to.query=t,to.results=[],to.resultsCount=0,to.queryInProgress=!0,to.errorMessage="",this.updateMenu()}onBookSearchInitiated({detail:e}){to.query=e.query,this.bookreader.search(to.query)}onSearchRequestError(e,t="default"){var n;let{detail:{props:r}}=e,{instance:a,results:l}=r;a&&(this.bookreader=a);let o={noResults:"0 results",notIndexed:`This book hasn't been indexed for searching yet.  We've just started indexing it,
       so search should be available soon.  Please try again later.  Thanks!`,default:"Sorry, there was an error with your search.  Please try again."},u=(n=o[t])!=null?n:o.default;to.query=(l==null?void 0:l.q)||"",to.results=[],to.resultsCount=0,to.queryInProgress=!1,to.errorMessage=we`<p class="error">${u}</p>`,this.updateMenu()}onSearchResultsChange({detail:{props:e={}}}){let{instance:t=null,results:r=[]}=e;t&&(this.bookreader=t);let a=r.matches||[],l=a.length,o=r.q;to={results:a,resultsCount:l,query:o,queryInProgress:!1,errorMessage:""},this.updateMenu()}searchCanceledInMenu(){this.bookreader.plugins.search.cancelSearchRequest()}onSearchResultsCleared(){to={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},this.updateMenu({openMenu:!1}),this.bookreader.plugins.search.searchView.clearSearchFieldAndResults(!1),this.bookreader.urlPlugin&&this.updateSearchInUrl()}updateSearchInUrl(){this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),to.query?this.bookreader.urlPlugin.setUrlParam("q",to.query):this.bookreader.urlPlugin.removeUrlParam("q"))}updateMenu(e={}){this.menuDetails=this.getMenuDetails(),this.component=this.getComponent(),this.onProviderChange(this.bookreader,e)}getComponent(){let{query:e,results:t,queryInProgress:r,errorMessage:a}=to;return we`
    <ia-book-search-results
      .query=${e}
      .results=${t}
      .errorMessage=${a}
      ?queryInProgress=${r}
      ?renderSearchAllFiles=${!1}
      @resultSelected=${this.onSearchResultsClicked}
      @bookSearchInitiated=${this.onBookSearchInitiated}
      @bookSearchResultsCleared=${this.onSearchResultsCleared}
      @bookSearchCanceled=${this.searchCanceledInMenu}
    ></ia-book-search-results>
  `}onSearchResultsClicked({detail:e}){this.bookreader.plugins.search.jumpToMatch(e.match.matchIndex)}},I9=class extends Yt{static get properties(){return{downloads:{type:Array},expiration:{type:Number},renderHeader:{type:Boolean},isBookProtected:{type:Boolean}}}constructor(){super(),this.downloads=[],this.expiration=0,this.renderHeader=!1,this.isBookProtected=!1}get formatsCount(){let e=this.downloads.length;return e?we`<p>${e} format${e>1?"s":""}</p>`:we``}get loanExpiryMessage(){return this.expiration?we`<h2>These files will expire in ${this.expiration} days.</h2>`:we``}renderDownloadOptions(){return this.downloads.map(e=>we`
        <li>
          <a class="ia-button link primary" href="${e.url}">Get ${e.type}</a>
          ${e.note?we`<p>${e.note}</p>`:we``}
        </li>
      `)}get hasLCPOption(){let e=/^(LCP)/g;return this.downloads.some(t=>{var r;return(r=t.type)==null?void 0:r.match(e)})}get header(){return this.renderHeader?we`
      <header>
        <h3>Downloadable files</h3>
        ${this.formatsCount}
      </header>
    `:ei}get installLCPSoftwareMsg(){return we`
    <p>For LCP downloads, make sure you have LCP software such as <a href="https://thorium.edrlab.org/" rel="noopener noreferrer nofollow" target="_blank">Thorium (desktop)</a>, <a href="https://apps.apple.com/us/app/cantook-by-aldiko/id1476410111" rel="noopener noreferrer nofollow" target="_blank">Cantook (iOS)</a> or <a href="https://play.google.com/store/apps/details?id=com.aldiko.android" rel="noopener noreferrer nofollow" target="_blank">Cantook (Android)</a> installed on your device.</p>
  `}render(){return we`
      ${this.header}
      ${this.loanExpiryMessage}
      <ul>${this.renderDownloadOptions()}</ul>
      ${this.hasLCPOption?this.installLCPSoftwareMsg:ei}
    `}static get styles(){let e=Le`
      :host {
        display: block;
        height: 100%;
        padding: 1.5rem 0;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      a.close ia-icon {
        --iconWidth: 18px;
        --iconHeight: 18px;
      }
      a.close {
        justify-self: end;
      }

      header {
        display: flex;
        align-items: center;
        padding: 0 2rem;
      }
      header p {
        padding: 0;
        margin: 0;
        font-size: 1.2rem;
        font-weight: bold;
        font-style: italic;
      }
      header div {
        display: flex;
        align-items: baseline;
      }      

      h2 {
        font-size: 1.6rem;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.4rem;
      }

      ul {
        padding: 0;
        margin: 0;
        list-style: none;
      }

      p {
        margin: .3rem 0 0 0;
      }

      li,
      ul + p {
        padding-bottom: 1.2rem;
        font-size: 1.2rem;
        line-height: 140%;
      }
    `;return[ad,e]}};customElements.define("ia-book-downloads",I9);dk={pdf:{type:"Encrypted Adobe PDF",url:"#",note:"PDF files contain high quality images of pages."},lcppdf:{type:"Get LCP PDF",url:"#",note:"PDF files contain high quality images of pages."},lcpepub:{type:"Get LCP ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."},epub:{type:"Encrypted Adobe ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."}},L9={pdf:"PDF",epub:"ePub",lcppdf:"LCP PDF",lcpepub:"LCP ePub"},D9=class{constructor({bookreader:e}){var t;this.icon=we`<ia-icon-dl aria-hidden="true" role="presentation" style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-dl>`,this.label="Downloadable files",this.menuDetails="",this.downloads=[],this.id="downloads",this.component="",this.isBookProtected=((t=e==null?void 0:e.options)==null?void 0:t.isProtected)||!1}update(e){this.computeAvailableTypes(e),this.component=this.menu,this.component.isBookProtected=this.isBookProtected;let t=this.downloads.length===1?"":"s";this.menuDetails=`(${this.downloads.length} format${t})`}computeAvailableTypes(e=[]){let t=e.reduce((r,a=[])=>{let[l="",o=""]=a,u=l.toLowerCase(),n=dk[u]||null;if(n){let c=this.isBookProtected?dk[u].type:L9[u],d=Object.assign({},n,{url:o,type:c});r.push(d)}return r},[]);this.downloads=t}get menu(){return we`<ia-book-downloads .downloads=${this.downloads}></ia-book-downloads>`}},n0=e=>`visualAdjustment${e}`,o0={optionChange:n0("OptionChanged"),zoomIn:n0("ZoomIn"),zoomOut:n0("ZoomOut")},R9=class extends Yt{static get properties(){return{activeCount:{type:Number},options:{type:Array},renderHeader:{type:Boolean},showZoomControls:{type:Boolean}}}constructor(){super(),this.activeCount=0,this.options=[],this.renderHeader=!1,this.showZoomControls=!0}firstUpdated(){this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent()}get activeOptions(){return this.options.reduce((e,t)=>t.active?[...e,t.id]:e,[])}prepareEventDetails(e=""){return{options:this.options,activeCount:this.activeCount,changedOptionId:e}}emitOptionChangedEvent(e=""){let t=this.prepareEventDetails(e);this.dispatchEvent(new CustomEvent(o0.optionChange,{bubbles:!0,composed:!0,detail:t}))}emitZoomIn(){this.dispatchEvent(new CustomEvent(o0.zoomIn))}emitZoomOut(){this.dispatchEvent(new CustomEvent(o0.zoomOut))}changeActiveStateFor(e){let t=[...this.options],r=t.find(a=>a.id===e);if(r.active=!r.active,this.options=t,this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent(r.id),r.active&&r.value!==void 0){let a=this.shadowRoot.querySelector(`input[name="${r.id}_range"]`);requestAnimationFrame(()=>{a==null||a.focus()})}}setRangeValue(e,t){let r=[...this.options];r.find(a=>a.id===e).value=t,this.options=[...r]}rangeSlider(e){return we`
      <label class=${`range${e.active?" visible":""}`}>
        <span class="sr-only">${e.name}</span>
        <input
          type="range"
          name="${e.id}_range"
          min=${e.min||0}
          max=${e.max||100}
          step=${e.step||1}
          .value=${e.value}
          aria-valuetext=${`${e.value}%`}
          @input=${t=>this.setRangeValue(e.id,t.target.value)}
          @change=${()=>this.emitOptionChangedEvent()}
        />
        <span aria-hidden="true">${e.value}%</span>
      </label>
    `}adjustmentCheckbox(e){return we`
      <div
        class="adjustment-option ${yo({active:e.active,"has-range":e.value!==void 0})}">
        <label class="checkbox-label">
          ${e.name}
          <input
            type="checkbox"
            @change=${()=>this.changeActiveStateFor(e.id)}
            ?checked=${e.active}
          />
        </label>
        ${e.value!==void 0?this.rangeSlider(e):ei}
      </div>
    `}get headerSection(){let e=this.activeCount?we`<p>(${this.activeCount} active)</p>`:ei,t=we`<header>
      <h3>Visual adjustments</h3>
      ${e}
    </header>`;return this.renderHeader?t:ei}get zoomControls(){return we`
      <h4>Adjust zoom</h4>
      <button class="zoom_out" @click=${this.emitZoomOut} title="Zoom out" aria-label="Zoom out">
        <ia-icon-magnify-minus aria-hidden="true" role="presentation"></ia-icon-magnify-minus>
      </button>
      <button class="zoom_in" @click=${this.emitZoomIn} title="Zoom in" aria-label="Zoom in">
        <ia-icon-magnify-plus aria-hidden="true" role="presentation"></ia-icon-magnify-plus>
      </button>
    `}render(){return we`
      ${this.headerSection}
      ${ja(this.options,e=>e.id,this.adjustmentCheckbox.bind(this))}
      ${this.showZoomControls?this.zoomControls:ei}
    `}static get styles(){return Le`
    :host {
      display: block;
      height: 100%;
      overflow-y: auto;
      font-size: 1.4rem;
      box-sizing: border-box;
      padding: 10px 10px 0 0;
    }

    header {
      display: flex;
      align-items: baseline;
    }

    h3 {
      padding: 0;
      margin: 0 1rem 0 0;
      font-size: 1.6rem;
    }

    header p {
      padding: 0;
      margin: 0;
      font-size: 1.2rem;
      font-weight: bold;
      font-style: italic;
    }

    .adjustment-option {
      border: 2px solid transparent;
      border-radius: 4px;
      margin-bottom: 4px;
    }
    .adjustment-option.has-range.active {
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .checkbox-label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.4rem;
      font-weight: bold;
      cursor: pointer;
      padding: 6px 8px;
      transition: background-color 0.2s;
      border-radius: inherit;
    }
    .checkbox-label:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }
    .adjustment-option.has-range.active > .checkbox-label {
      border-radius: 4px 4px 0 0;
    }

    [type="checkbox"] {
      transform: scale(1.5);
    }

    .range {
      display: none;
      padding: 10px;
      align-items: center;
      gap: 10px;
    }
    .range.visible {
      display: flex;
    }
    .range input[type="range"] {
      flex: 1;
    }

    h4 {
      padding: 1rem 0;
      margin: 0;
      font-size: 1.4rem;
    }

    button {
      -webkit-appearance: none;
      appearance: none;
      border: none;
      background: transparent;
      cursor: pointer;
      --iconFillColor: var(--primaryTextColor);
      --iconStrokeColor: var(--primaryTextColor);
      height: 4rem;
      width: 4rem;
      transition: background-color 0.2s;
      border-radius: 4px;
    }

    button:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    .sr-only {
      position: absolute !important;
      width: 1px !important;
      height: 1px !important;
      padding: 0 !important;
      margin: -1px !important;
      overflow: hidden !important;
      clip: rect(0 0 0 0) !important;
      white-space: nowrap !important;
      border: 0 !important;
    }
`}};customElements.define("ia-book-visual-adjustments",R9);j9=[{id:"brightness",name:"Adjust brightness",active:!1,min:0,max:200,step:1,value:120},{id:"contrast",name:"Adjust contrast",active:!1,min:0,max:200,step:1,value:120},{id:"invert",name:"Invert colors (dark mode)",active:!1},{id:"grayscale",name:"Convert to grayscale",active:!1}],B9=class{constructor(e){let{onProviderChange:t,bookreader:r}=e;this.onProviderChange=t,this.bookContainer=r.refs.$brContainer,this.bookreader=r,this.onAdjustmentChange=this.onAdjustmentChange.bind(this),this.optionUpdateComplete=this.optionUpdateComplete.bind(this),this.updateOptionsCount=this.updateOptionsCount.bind(this),this.onZoomIn=this.onZoomIn.bind(this),this.onZoomOut=this.onZoomOut.bind(this),this.activeCount=0,this.icon=we`<ia-icon-visual-adjustment aria-hidden="true" role="presentation" style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-visual-adjustment>`,this.label="Visual Adjustments",this.menuDetails=this.updateOptionsCount(),this.id="visualAdjustments",this.component=we`
      <ia-book-visual-adjustments
        .options=${j9}
        @visualAdjustmentOptionChanged=${this.onAdjustmentChange}
        @visualAdjustmentZoomIn=${this.onZoomIn}
        @visualAdjustmentZoomOut=${this.onZoomOut}
      ></ia-book-visual-adjustments>
    `}onZoomIn(){this.bookreader.zoom(1)}onZoomOut(){this.bookreader.zoom(-1)}onAdjustmentChange(e){let{detail:t}=e,r={brightness:l=>`brightness(${l}%)`,contrast:l=>`contrast(${l}%)`,grayscale:()=>"grayscale(100%)",invert:()=>"invert(100%)"},a=t.options.reduce((l,o)=>{let u=`${o.active?r[o.id](o.value):""}`;return u?[...l,u]:l},[]).join(" ");this.bookContainer.css("filter",a),this.optionUpdateComplete(e)}optionUpdateComplete(e){this.activeCount=e.detail.activeCount,this.updateOptionsCount(e),this.onProviderChange()}updateOptionsCount(){this.menuDetails=`(${this.activeCount} active)`}},N9=class extends Yt{static get styles(){return Le`
      div {
        display: flex;
        justify-content: center;
        padding-top: 2rem;
      }

      button {
        appearance: none;
        padding: 0.5rem 1rem;
        margin: 0 .5rem;
        box-sizing: border-box;
        font: 1.3rem "Helvetica Neue", Helvetica, Arial, sans-serif;
        color: var(--primaryTextColor);
        border: none;
        border-radius: 4px;
        cursor: pointer;
        background: var(--primaryCTAFill);
      }

      .delete {
        background: var(--primaryErrorCTAFill);
      }
    `}static get properties(){return{cancelAction:{type:Function},deleteAction:{type:Function},pageID:{type:String}}}render(){return we`
      <div>
        <button class="delete" @click=${()=>this.deleteAction({detail:{id:`${this.pageID}`}})}>Delete</button>
        <button @click=${()=>this.cancelAction()}>Cancel</button>
      </div>
    `}};customElements.define("delete-modal-actions",N9);F9=class extends Yt{static get styles(){return Le`
      button {
        -webkit-appearance: none;
        appearance: none;
        outline: 0;
        border: none;
        padding: 0;
        height: 4rem;
        width: 4rem;
        background: transparent;
        cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 16 24' width='16'%3E%3Cg fill='%23333' fill-rule='evenodd'%3E%3Cpath d='m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z'/%3E%3Cpath d='m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E"), pointer;
        position: relative;
      }
      button > * {
        display: block;
        position: absolute;
        top: 0.2rem;
      }
      button.left > * {
        left: 0.2rem;
      }

      button.right > * {
        right: 0.2rem;
      }
    `}static get properties(){return{side:{type:String},state:{type:String}}}constructor(){super(),this.state="hollow",this.side=void 0}handleClick(e){e.preventDefault(),this.dispatchEvent(new CustomEvent("bookmarkButtonClicked"))}get title(){return`${this.state==="hollow"?"Add":"Remove"} bookmark`}render(){let e=this.side||"right";return we`
      <button title=${this.title} @click=${this.handleClick} class=${e}>
        <icon-bookmark state=${this.state}></icon-bookmark>
      </button>
    `}};customElements.define("bookmark-button",F9);z9=class extends Yt{static get properties(){return{url:{type:String}}}static get styles(){return ad}constructor(){super(),this.url="https://archive.org/account/login"}render(){return we`
      <p>A free account is required to save and access bookmarks.</p>
      <a class="ia-button link primary" href="${this.url}">Log in</a>
    `}};customElements.define("bookmarks-login",z9);H9={endpoint:"/services/bookmarks.php",headers:{"Content-Type":"application/json"},delete(e){return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e}`,{credentials:"same-origin",method:"DELETE",headers:this.headers})},get(e){return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e}`,{credentials:"same-origin",method:"GET",headers:this.headers})},getAll(){return fetch(`${this.endpoint}?identifier=${this.identifier}`,{credentials:"same-origin",method:"GET",headers:this.headers})},post(e){return this.sendBookmarkData(e,"POST")},put(e){return this.sendBookmarkData(e,"POST")},sendBookmarkData(e,t){let r={note:e.note,color:e.color};return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e.id}`,{credentials:"same-origin",method:t,headers:this.headers,body:JSON.stringify({notes:r})})}},U9=class pk extends Yt{static get properties(){return{activeBookmarkID:{type:String},bookmarks:{type:Array},bookreader:{type:Object},displayMode:{type:String},editedBookmark:{type:Object},deleteModalConfig:{type:Object},modal:{attribute:!1},loginOptions:{type:Object,attribute:!1}}}static get styles(){let t=Le`
      .bookmarks {
        height: 100%;
        overflow: hidden;
        padding-bottom: 20px;
      }

      .list ia-bookmark-edit {
        display: none;
      }

      .edit ia-bookmarks-list {
        display: none;
      }
    `;return[ad,t]}static formatPage(t){return isNaN(+t)?`(${t.replace(/\D/g,"")})`:t}constructor(){super(),this.bookmarks=[],this.bookreader={},this.editedBookmark={},this.modal=void 0,this.loginOptions={loginClicked:()=>{},loginUrl:""},this.displayMode="bookmarks",this.bookmarkColors=[{id:0,className:"red"},{id:1,className:"blue"},{id:2,className:"green"}],this.defaultColor=this.bookmarkColors[0],this.api=H9,this.deleteModalConfig=new Zg({title:"Delete Bookmark",headline:"This bookmark contains a note. Deleting it will permanently delete the note. Are you sure?",headerColor:"#194880"})}updated(t){t.has("displayMode")&&this.updateDisplay(),this.emitBookmarksChanged()}setup(){this.api.identifier=this.getIdentifier(),this.displayMode!=="login"&&(this.fetchUserBookmarks(),this.setBREventListeners())}getIdentifier(){return this.bookreader.bookId!==this.bookreader.subPrefix?`${this.bookreader.bookId}/${this.bookreader.subPrefix}`:this.bookreader.bookId}updateDisplay(){this.displayMode==="bookmarks"&&this.fetchUserBookmarks()}fetchUserBookmarks(){return Vt(this,null,function*(){this.api.identifier&&(yield this.fetchBookmarks(),this.initializeBookmarks())})}setBREventListeners(){["3PageViewSelected"].forEach(t=>{window.addEventListener(`BookReader:${t}`,r=>{setTimeout(()=>{this.renderBookmarkButtons()},100)})}),["pageChanged","1PageViewSelected","2PageViewSelected"].forEach(t=>{window.addEventListener(`BookReader:${t}`,r=>{setTimeout(()=>{this.renderBookmarkButtons(),this.markActiveBookmark()},100)})}),["zoomOut","zoomIn","resize"].forEach(t=>{window.addEventListener(`BookReader:${t}`,()=>{this.renderBookmarkButtons()})})}initializeBookmarks(){this.renderBookmarkButtons(),this.markActiveBookmark(!0),this.emitBookmarksChanged()}formatBookmark({leafNum:t="",notes:r={}}){let{note:a="",color:l}=r,o={note:a,color:this.getBookmarkColor(l)?l:this.defaultColor.id},u=pk.formatPage(this.bookreader.book.getPageNum(t)),n=this.bookreader.book.getPageURI(`${t}`.replace(/\D/g,""),32);return Ir(ur({},o),{id:t,leafNum:t,page:u,thumbnail:n})}fetchBookmarks(){return Vt(this,null,function*(){let t=yield this.api.getAll().then(n=>n.text()),r;try{r=JSON.parse(t)}catch(n){r={error:n.message}}let{success:a,error:l="Something happened while fetching bookmarks.",value:o=[]}=r;a||(console==null||console.warn("Error fetching bookmarks",l));let u={};return Object.keys(o).forEach(n=>{let c=o[n],d=parseInt(n,10),f=this.formatBookmark(Ir(ur({},c),{leafNum:d}));u[n]=f}),this.bookmarks=u,u})}emitBookmarksChanged(){this.dispatchEvent(new CustomEvent("bookmarksChanged",{bubbles:!0,composed:!0,detail:{bookmarks:this.bookmarks}}))}emitBookmarkButtonClicked(){this.dispatchEvent(new CustomEvent("bookmarkButtonClicked",{bubbles:!0,composed:!0,detail:{editedBookmark:this.editedBookmark}}))}bookmarkButtonClicked(t){this.getBookmark(t)?this.confirmDeletion(t):this.createBookmark(t)}renderBookmarkButtons(){this.bookreader.$(".BRpagecontainer").not(".BRemptypage").get().forEach(t=>{let r=t.querySelector(".bookmark-button");r&&r.remove();let a=+t.classList.value.match(/pagediv\d+/)[0].replace(/\D/g,""),l=this.getBookmark(a),o=l?"filled":"hollow",u=this.bookreader.book.getPage(a),{isViewable:n}=u;if(!n)return;let c=document.createElement("div");["mousedown","mouseup"].forEach(f=>{c.addEventListener(f,p=>p.stopPropagation())}),c.classList.add("bookmark-button",o),l&&c.classList.add(this.getBookmarkColor(l.color));let d=t.getAttribute("data-side")==="L"&&this.bookreader.mode===this.bookreader.constMode2up?"left":"right";Dd(we`
        <bookmark-button
          @bookmarkButtonClicked=${()=>this.bookmarkButtonClicked(a)}
          state=${o}
          side=${d}
        ></bookmark-button>`,c),t.appendChild(c)})}markActiveBookmark(t=!1){let{mode:r,constMode2up:a,constModeThumb:l}=this.bookreader,o=this.bookreader.currentIndex();if(r===l){let u=this.bookmarks[o];t&&u&&(this.activeBookmarkID=o);return}if(!(r===a&&this.bookreader.displayedIndices.includes(+this.activeBookmarkID))){if(this.bookmarks[o]){this.activeBookmarkID=o;return}this.activeBookmarkID=""}}bookmarkEdited({detail:t}){let r=t.bookmark.id===this.editedBookmark.id;this.editedBookmark=r?{}:t.bookmark}getBookmark(t){return this.bookmarks[t]}getBookmarkColor(t){var r;return(r=this.bookmarkColors.find(a=>a.id===t))==null?void 0:r.className}addBookmark(){let t=this.bookreader.currentIndex();if(this.bookreader.mode===this.bookreader.constMode2up){let r=this.bookreader.displayedIndices;t=r[r.length-1]}this.createBookmark(t)}createBookmark(t){let r=this.getBookmark(t);if(r){this.bookmarkEdited({detail:{bookmark:r}}),this.emitBookmarkButtonClicked();return}this.editedBookmark=this.formatBookmark({leafNum:t}),this.api.post(this.editedBookmark),this.bookmarks[t]=this.editedBookmark,this.activeBookmarkID=t,this.disableAddBookmarkButton=!0,this.renderBookmarkButtons(),this.emitBookmarkButtonClicked()}bookmarkSelected({detail:t}){let{leafNum:r}=t.bookmark;this.bookreader.jumpToPage(`${this.bookreader.book.getPageNum(`${r}`.replace(/\D/g,""))}`),this.activeBookmarkID=r}saveBookmark({detail:t}){let r=this.bookmarks[t.bookmark.id];Object.assign(r,t.bookmark),this.api.put(r),this.editedBookmark={},this.renderBookmarkButtons()}confirmDeletion(t){if(this.getBookmark(t).note){this.displayDeletionModal(t);return}this.deleteBookmark({detail:{id:`${t}`}})}displayDeletionModal(t){let r=we`
      <delete-modal-actions
        .deleteAction=${()=>this.deleteBookmark({detail:{id:`${t}`}})}
        .cancelAction=${()=>this.modal.closeModal()}
        .pageID=${t}
      ></delete-modal-actions>
    `;this.modal.showModal({config:this.deleteModalConfig,customModalContent:r})}deleteBookmark({detail:t}){let{id:r}=t,a=this.bookmarks;delete a[r],this.bookmarks=ur({},a),this.api.delete(t.id),this.editedBookmark={},this.modal.closeModal(),this.renderBookmarkButtons()}get shouldEnableAddBookmarkButton(){let t=this.bookreader.mode===this.bookreader.constMode2up?this.bookreader.displayedIndices[this.bookreader.displayedIndices.length-1]:this.bookreader.currentIndex();return!!this.getBookmark(t)}get allowAddingBookmark(){return this.bookreader.mode!==this.bookreader.constModeThumb}get addBookmarkButton(){return we`
      <button
        class="ia-button primary"
        tabindex="-1"
        ?disabled=${this.shouldEnableAddBookmarkButton}
        @click=${this.addBookmark}>
        Add bookmark
      </button>
    `}get bookmarksList(){return we`
      <ia-bookmarks-list
        @bookmarkEdited=${this.bookmarkEdited}
        @bookmarkSelected=${this.bookmarkSelected}
        @saveBookmark=${this.saveBookmark}
        @deleteBookmark=${this.deleteBookmark}
        .editedBookmark=${this.editedBookmark}
        .bookmarks=${ur({},this.bookmarks)}
        .activeBookmarkID=${this.activeBookmarkID}
        .bookmarkColors=${this.bookmarkColors}
        .defaultBookmarkColor=${this.defaultColor}>
      </ia-bookmarks-list>
    `}get bookmarkHelperMessage(){return we`<p>Please use 1up or 2up view modes to add bookmark.</p>`}render(){let t=we`
      ${this.bookmarksList}
      ${this.allowAddingBookmark?this.addBookmarkButton:this.bookmarkHelperMessage}
    `;return we`
      <section class="bookmarks">
      ${this.displayMode==="login"?we`<bookmarks-login
        @click=${()=>this.loginOptions.loginClicked()}
        .url=${this.loginOptions.loginUrl}></bookmarks-login>`:t}
      </section>
    `}};customElements.define("ia-bookmarks",U9);fk=Le`
  .blue {
    --iconFillColor: var(--blueBookmarkColor, #0023f5);
  }

  .red {
    --iconFillColor: var(--redBookmarkColor, #eb3223);
  }

  .green {
    --iconFillColor: var(--greenBookmarkColor, #75ef4c);
  }
`,W9=class mk extends Yt{static get properties(){return{bookmark:{type:Object},bookmarkColors:{type:Array},renderHeader:{type:Boolean},showBookmark:{type:Boolean}}}constructor(){super(),this.bookmark={},this.bookmarkColors=[],this.renderHeader=!1,this.showBookmark=!0}emitSaveEvent(t){t.preventDefault(),this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:this.bookmark}}))}emitDeleteEvent(){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:this.bookmark.id}}))}emitColorChangedEvent(t){this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:this.bookmark.id,colorId:t}}))}changeColorTo(t){this.bookmark.color=t,this.emitColorChangedEvent(t)}updateNote(t){this.bookmark.note=t.currentTarget.value}static get headerSection(){return we`<header>
      <h3>Edit Bookmark</h3>
    </header>`}bookmarkColor(t){return we`
      <li>
        <input type="radio" name="color" id="color_${t.id}" .value=${t.id} @change=${()=>this.changeColorTo(t.id)} ?checked=${this.bookmark.color===t.id}>
        <label for="color_${t.id}">
          <icon-bookmark class=${t.className}></icon-bookmark>
        </label>
      </li>
    `}get bookmarkTemplate(){return we`
      <div class="bookmark">
        <img src=${this.bookmark.thumbnail} />
        <h4>Page ${this.bookmark.page}</h4>
      </div>
    `}render(){return we`
      ${this.renderHeader?mk.headerSection:ei}
      ${this.showBookmark?this.bookmarkTemplate:ei}
      <form action="" method="put" @submit=${this.emitSaveEvent}>
        <fieldset>
          <label for="note">Note <small>(optional)</small></label>
          <textarea rows="4" cols="80" name="note" id="note" @change=${this.updateNote}>${this.bookmark.note}</textarea>
          <label for="color">Bookmark color</label>
          <ul>
            ${ja(this.bookmarkColors,t=>t.id,this.bookmarkColor.bind(this))}
          </ul>
          <div class="actions">
            <button type="button" class="ia-button cancel" @click=${this.emitDeleteEvent}>Delete</button>
            <input class="ia-button" type="submit" value="Save">
          </div>
        </fieldset>
      </form>
    `}static get styles(){let t=Le`
    :host {
      display: block;
      padding: 0 1rem 2rem 1rem;
      color: var(--primaryTextColor);
    }

    small {
      font-style: italic;
    }

    .bookmark {
      display: grid;
      grid-template-columns: 37px 1fr;
      grid-gap: 0 1rem;
      align-items: center;
    }

    h4 {
      margin: 0;
      font-size: 1.4rem;
    }

    fieldset {
      padding: 2rem 0 0 0;
      border: none;
    }

    label {
      display: block;
      font-weight: bold;
    }

    p {
      padding: 0;
      margin: .5rem 0;
      font-size: 1.2rem;
      line-height: 120%;
    }

    textarea {
      width: 100%;
      margin-bottom: 2rem;
      box-sizing: border-box;
      font: normal 1.4rem "Helvetica Neue", Helvetica, Arial, sans-serif;
      resize: vertical;
    }

    ul {
      display: grid;
      grid-template-columns: repeat(3, auto);
      grid-gap: 0 2rem;
      justify-content: start;
      padding: 1rem 0 0 0;
      margin: 0 0 2rem 0;
      list-style: none;
    }

    li input {
      display: none;
    }

    li label {
      display: block;
      min-width: 50px;
      padding-top: .4rem;
      text-align: center;
      border: 1px solid transparent;
      border-radius: 4px;
      cursor: pointer;
    }

    li input:checked + label {
      border-color: var(--primaryTextColor);
    }

    input[type="submit"] {
      background: var(--primaryCTAFill);
      border-color: var(--primaryCTABorder);
    }

    button {
      background: var(--primaryErrorCTAFill);
      border-color: var(--primaryErrorCTABorder);
    }

    .button {
      -webkit-appearance: none;
      appearance: none;
      padding: .5rem 1rem;
      box-sizing: border-box;
      color: var(--primaryTextColor);
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .actions {
      display: grid;
      grid-template-columns: auto auto;
      grid-gap: 0 1rem;
      justify-items: stretch;
    }
    `;return[ad,fk,t]}};customElements.define("ia-bookmark-edit",W9);V9=class extends Yt{static get properties(){return{activeBookmarkID:{type:Number},bookmarkColors:{type:Array},defaultBookmarkColor:{type:Object},bookmarks:{type:Object},editedBookmark:{type:Object},renderHeader:{type:Boolean}}}constructor(){super(),this.activeBookmarkID=void 0,this.bookmarkColors=[],this.defaultBookmarkColor={},this.bookmarks={},this.editedBookmark={},this.renderHeader=!1}emitEditEvent(e,t){this.dispatchEvent(new CustomEvent("bookmarkEdited",{detail:{bookmark:t}}))}emitSelectedEvent(e){this.activeBookmarkID=e.id,this.dispatchEvent(new CustomEvent("bookmarkSelected",{detail:{bookmark:e}}))}emitSaveBookmark(e){this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:e}}))}emitDeleteBookmark(e){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:e}}))}emitBookmarkColorChanged({detail:e}){let{bookmarkId:t,colorId:r}=e;this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:t,colorId:r}}))}emitAddBookmark(){this.dispatchEvent(new CustomEvent("addBookmark"))}editBookmark(e,t){this.emitEditEvent(e,t),this.editedBookmark=this.editedBookmark===t?{}:t}saveBookmark({detail:e}){let{bookmark:t}=e;this.editedBookmark={},this.emitSaveBookmark(t)}deleteBookmark({detail:e}){let{id:t}=e;this.editedBookmark={},this.emitDeleteBookmark(t)}bookmarkColorInfo(e=0){return this.bookmarkColors.find(t=>(t==null?void 0:t.id)===e)}bookmarkItem(e){let t=this.editedBookmark.id===e.id,{className:r}=this.bookmarkColorInfo(e.color),a=e.id===this.activeBookmarkID?"active":"";return we`
      <li
        @click=${()=>this.emitSelectedEvent(e)}
        tabindex="0"
        data-pageIndex=${e.id}
      >
        <div class="separator"></div>
        <div class="content ${a}">
          <button
            class="edit"
            @click=${l=>this.editBookmark(l,e)}
            title="Edit this bookmark"
          >
            <ia-icon-edit-pencil></ia-icon-edit-pencil>
          </button>
          <h4>
            <icon-bookmark class=${r}></icon-bookmark>
            <span> Page ${e.page}</span>
          </h4>
          ${!t&&e.note?we`<p>${e.note}</p>`:ei}
          ${t?this.editBookmarkComponent:ei}
        </div>
      </li>
    `}get editBookmarkComponent(){return we`
      <ia-bookmark-edit
        .bookmark=${this.editedBookmark}
        .bookmarkColors=${this.bookmarkColors}
        .defaultBookmarkColor=${this.defaultBookmarkColor}
        .showBookmark=${!1}
        @saveBookmark=${this.saveBookmark}
        @deleteBookmark=${this.deleteBookmark}
        @bookmarkColorChanged=${this.emitBookmarkColorChanged}
      ></ia-bookmark-edit>
    `}sortBookmarks(){return Object.keys(this.bookmarks).sort((e,t)=>+e>+t?1:+e<+t?-1:0).map(e=>this.bookmarks[e])}get bookmarksCount(){let e=this.bookmarks.length;return we`<small>(${e})</small>`}get headerSection(){return we`<header>
      <h3>
        Bookmarks
        ${this.bookmarks.length?this.bookmarksCount:ei}
      </h3>
    </header>`}get bookmarkslist(){let e=this.sortBookmarks(),t=ja(e,r=>r==null?void 0:r.id,this.bookmarkItem.bind(this));return we`
      <ul>
        ${t}
        <div class="separator"></div>
      </ul>
    `}render(){return we`
      ${this.renderHeader?this.headerSection:ei}
      ${Object.keys(this.bookmarks).length?this.bookmarkslist:ei}
    `}static get styles(){return[Le`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      icon-bookmark {
        width: 16px;
        height: 24px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      small {
        font-style: italic;
      }

      h4 {
        margin: 0;
        font-size: 1.4rem;
      }
      h4 * {
        display: inline-block;
      }
      h4 icon-bookmark {
        vertical-align: bottom;
      }
      h4 span {
        vertical-align: top;
        padding-top: 1%;
      }

      p {
        padding: 0;
        margin: 5px 0 0 0;
        width: 98%;
        overflow-wrap: break-word;
      }

      ia-bookmark-edit {
        margin: 5px 5px 3px 6px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }
      ul > li:first-child .separator {
        display: none;
      }
      li {
        cursor: pointer;
        outline: none;
        position: relative;
      }
      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: .2rem 0 .4rem .2rem;
      }
      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }
      li button.edit {
        padding: 5px 2px 0 0;
        background: transparent;
        cursor: pointer;
        height: 40px;
        width: 40px;
        position: absolute;
        right: 2px;
        top: 2px;
        text-align: right;
        -webkit-appearance: none;
        appearance: none;
        outline: none;
        box-sizing: border-box;
        border: none;
      }
      li button.edit > * {
        display: block;
        height: 100%;
        width: 100%;
      }
    `,fk]}};customElements.define("ia-bookmarks-list",V9);q9=class{constructor(e){let{baseHost:t,signedIn:r,bookreader:a,modal:l,onProviderChange:o}=e,u=`referer=${encodeURIComponent(location.href)}`,n=`https://${t}/account/login?${u}`;this.component=document.createElement("ia-bookmarks"),this.component.bookreader=a,this.component.displayMode=r?"bookmarks":"login",this.component.modal=l,this.component.loginOptions={loginClicked:this.bookmarksLoginClicked,loginUrl:n},this.bindEvents(),this.icon=we`<icon-bookmark aria-hidden="true" role="presentation" state="hollow" style="--iconWidth: 16px; --iconHeight: 24px;"></icon-bookmark>`,this.label="Bookmarks",this.id="bookmarks",this.onProviderChange=o,this.component.setup(),this.updateMenu(this.component.bookmarks.length)}updateMenu(e){this.menuDetails=`(${e})`}bindEvents(){this.component.addEventListener("bookmarksChanged",this.bookmarksChanged.bind(this))}bookmarksChanged({detail:e}){let t=Object.keys(e.bookmarks).length;this.updateMenu(t),this.onProviderChange(e.bookmarks,e.showSidePanel)}bookmarksLoginClicked(){var e;(e=window.archive_analytics)==null||e.send_event_no_sampling("BookReader","BookmarksLogin",window.location.path)}},G9=class{constructor({item:e,baseHost:t,bookreader:r}){let{identifier:a,creator:l,title:o}=e==null?void 0:e.metadata,u=Array.isArray(l)?l[0]:l,n=r.subPrefix||"",c="Share this book";this.icon=we`${lk}`,this.label=c,this.id="share",this.component=we`<iaux-in-share-panel
      .identifier=${a}
      .type=${"book"}
      .creator=${u}
      .description=${o}
      .baseHost=${t}
      .fileSubPrefix=${n}
    ></iaux-in-share-panel>`}},Qh={title_asc:"title_asc",title_desc:"title_desc",default:"default"},Y9=class{constructor({baseHost:e,bookreader:t,onProviderChange:r}){this.bookreader=t,this.onProviderChange=r,this.baseHost=e;let a=t.options.multipleBooksList.by_subprefix;if(this.viewableFiles=Object.keys(a).map(l=>a[l]),this.volumeCount=Object.keys(a).length,this.id="volumes",this.label=`Viewable files (${this.volumeCount})`,this.icon=we`${uk}`,this.sortOrderBy=Qh.default,this.component=document.createElement("iaux-in-viewable-files-panel"),this.component.addSortToUrl=!0,this.component.subPrefix=t.options.subPrefix||"",this.component.baseHost=e,this.component.fileList=[...this.viewableFiles],this.sortFilesComponent=document.createElement("iaux-in-sort-files-button"),this.sortFilesComponent.fileListRaw=this.viewableFiles,this.sortFilesComponent.addEventListener("fileListSorted",l=>this.handleFileListSorted(l)),this.actionButton=this.sortFilesComponent,this.bookreader.urlPlugin){this.bookreader.urlPlugin.pullFromAddressBar();let l=this.bookreader.urlPlugin.getUrlParam("sort");(l===Qh.title_asc||l===Qh.title_desc)&&(this.sortOrderBy=l)}this.sortFilesComponent.sortVolumes(this.sortOrderBy),this.onProviderChange(this.bookreader)}handleFileListSorted(e){return Vt(this,null,function*(){let{sortType:t,sortedFiles:r}=e.detail;this.viewableFiles=r,this.sortOrderBy=t,this.component.fileList=[...this.viewableFiles],yield this.component.updateComplete,this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),this.sortOrderBy!==Qh.default?this.bookreader.urlPlugin.setUrlParam("sort",this.sortOrderBy):this.bookreader.urlPlugin.removeUrlParam("sort")),this.onProviderChange(this.bookreader),this.multipleFilesClicked(this.sortOrderBy)})}multipleFilesClicked(e){var t;(t=window.archive_analytics)==null||t.send_event("BookReader",`VolumesSort|${e}`,window.location.path)}},K9=ln`
  <svg class="ia-logo" width="27" height="30" viewBox="0 0 27 30" xmlns="http://www.w3.org/2000/svg" aria-labelledby="logoTitleID logoDescID">
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">A line drawing of the Internet Archive headquarters building faade.</desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" fill="white">
        <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>
      </mask>
      <use fill="#FFFFFF" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" fill="#FFFFFF">
        <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>
      </g>
    </g>
  </svg>
`;ep={menuUpdated:"menuUpdated",updateSideMenu:"updateSideMenu",PostInit:"PostInit",ViewportInFullScreen:"ViewportInFullScreen"},Z9=class extends Yt{static get properties(){return{itemMD:{type:Object},bookReaderLoaded:{type:Boolean},bookreader:{type:Object},bookIsRestricted:{type:Boolean},downloadableTypes:{type:Array},isAdmin:{type:Boolean},lendingInitialized:{type:Boolean},lendingStatus:{type:Object},menuProviders:{type:Object},menuShortcuts:{type:Array},signedIn:{type:Boolean},loaded:{type:Boolean},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},fullscreenBranding:{type:Object}}}constructor(){super(),this.itemMD=void 0,this.loaded=!1,this.bookReaderCannotLoad=!1,this.bookReaderLoaded=!1,this.bookreader=null,this.bookIsRestricted=!1,this.downloadableTypes=[],this.isAdmin=!1,this.lendingInitialized=!1,this.lendingStatus={},this.menuProviders={bookmarks:null,search:null,downloads:null,visualAdjustments:null,share:null,volumes:null},this.menuShortcuts=[],this.signedIn=!1,this.modal=void 0,this.sharedObserver=void 0,this.fullscreenBranding=K9,this.sharedObserverHandler=void 0,this.brWidth=0,this.brHeight=0,this.shortcutOrder=["fullscreen","volumes","chapters","search","translate","bookmarks","downloads","visualAdjustments","share","experiments"]}disconnectedCallback(){this.sharedObserver.removeObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}firstUpdated(){this.bindEventListeners(),this.emitPostInit(),this.loaded=!0}updated(e){!this.bookreader||!this.itemMD||!this.bookReaderLoaded||((e.has("loaded")&&this.loaded||e.has("itemMD")||e.has("bookreader")||e.has("signedIn")||e.has("isAdmin")||e.has("modal"))&&this.initializeBookSubmenus(),e.has("sharedObserver")&&this.bookreader&&(this.loadSharedObserver(),this.initializeBookSubmenus()),e.has("downloadableTypes")&&this.initializeBookSubmenus())}emitPostInit(){var e;this.dispatchEvent(new CustomEvent(`BrBookNav:${ep.PostInit}`,{detail:{brSelector:(e=this.bookreader)==null?void 0:e.el},bubbles:!0,composed:!0}))}get baseProviderConfig(){return{baseHost:this.baseHost,modal:this.modal,sharedObserver:this.sharedObserver,bookreader:this.bookreader,item:this.itemMD,signedIn:this.signedIn,isAdmin:this.isAdmin,onProviderChange:()=>{}}}get isWideEnoughToOpenMenu(){return this.brWidth>=640}initializeBookSubmenus(){var t,r;let e={visualAdjustments:new B9(Ir(ur({},this.baseProviderConfig),{onProviderChange:()=>{this.updateMenuContents()}}))};this.baseProviderConfig.item&&(e.share=new G9(this.baseProviderConfig)),this.shouldShowDownloadsMenu()&&(e.downloads=new D9(this.baseProviderConfig)),(r=(t=this.bookreader.options.plugins)==null?void 0:t.search)!=null&&r.enabled&&(e.search=new M9(Ir(ur({},this.baseProviderConfig),{onProviderChange:(a=null,l={})=>{a&&(this.bookreader=a),this.updateMenuContents(),l.openMenu!==!1&&this.isWideEnoughToOpenMenu&&!(l!=null&&l.searchCanceled)&&setTimeout(()=>{this.updateSideMenu("search","open")},0)}}))),this.bookreader.options.enableBookmarks&&(e.bookmarks=new q9(Ir(ur({},this.baseProviderConfig),{onProviderChange:a=>{let l=Object.keys(a).length?"add":"remove";this[`${l}MenuShortcut`]("bookmarks"),this.updateMenuContents()}}))),this.bookreader.options.enableMultipleBooks&&(e.volumes=new Y9(Ir(ur({},this.baseProviderConfig),{onProviderChange:(a=null,l={})=>{a&&(this.bookreader=a),this.updateMenuContents(),this.isWideEnoughToOpenMenu&&setTimeout(()=>{this.updateSideMenu("volumes","open")})}}))),Object.assign(this.menuProviders,e),this.addMenuShortcut("search"),this.addMenuShortcut("volumes"),this.updateMenuContents()}get mainBRContainer(){var e;return document.querySelector((e=this.bookreader)==null?void 0:e.el)}addFullscreenShortcut(){let e={icon:this.fullscreenShortcut,id:"fullscreen"};this.menuShortcuts.push(e),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}deleteFullscreenShortcut(){let e=this.menuShortcuts.filter(({id:t})=>t!=="fullscreen");this.menuShortcuts=e,this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}closeFullscreen(){this.bookreader.exitFullScreen()}get fullscreenShortcut(){return we`
      <button
        @click=${()=>this.closeFullscreen()}
        title="Exit fullscreen view"
      >${this.fullscreenBranding}</button>
    `}updateSideMenu(e="",t="open"){if(!e)return;let r=new CustomEvent(ep.updateSideMenu,{detail:{menuId:e,action:t}});this.dispatchEvent(r)}updateMenuContents(){var r;let e=hk(Object.entries(this.menuProviders).filter(([a,l])=>!!l).filter(([a,l])=>a==="downloads"?this.shouldShowDownloadsMenu():!0),([a,l])=>{let o=this.shortcutOrder.indexOf(a);return o===-1?this.shortcutOrder.length:o}).map(([a,l])=>l);this.shouldShowDownloadsMenu()&&((r=this.menuProviders.downloads)==null||r.update(this.downloadableTypes));let t=new CustomEvent(ep.menuUpdated,{detail:e});this.dispatchEvent(t)}shouldShowDownloadsMenu(){if(!this.downloadableTypes.length)return!1;if(this.bookIsRestricted===!1||this.isAdmin)return!0;let{user_loan_record:e={}}=this.lendingStatus;return Array.isArray(e)?!1:e.type&&e.type!=="SESSION_LOAN"}addMenuShortcut(e){this.menuShortcuts.find(t=>t.id===e)||this.menuProviders[e]&&(this.menuShortcuts.push(this.menuProviders[e]),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated())}removeMenuShortcut(e){this.menuShortcuts=this.menuShortcuts.filter(t=>t.id!==e),this.emitMenuShortcutsUpdated()}sortMenuShortcuts(){this.menuShortcuts=hk(this.menuShortcuts,e=>{let t=this.shortcutOrder.indexOf(e.id);return t===-1?this.shortcutOrder.length:t})}emitMenuShortcutsUpdated(){let e=new CustomEvent("menuShortcutsUpdated",{detail:this.menuShortcuts});this.dispatchEvent(e)}emitLoadingStatusUpdate(e){let t=new CustomEvent("loadingStateUpdated",{detail:{loaded:e}});this.dispatchEvent(t)}bindEventListeners(){window.addEventListener("BookReader:PostInit",e=>{this.bookreader=e.detail.props,this.bookreader.shell=this,this.bookReaderLoaded=!0,this.bookReaderCannotLoad=!1,this.emitLoadingStatusUpdate(!0),this.loadSharedObserver(),setTimeout(()=>{this.bookreader.resize()},0)}),window.addEventListener("BookReader:fullscreenToggled",e=>{let{detail:{props:t=null}}=e;t&&(this.bookreader=t),this.manageFullScreenBehavior()},{passive:!0}),window.addEventListener("BookReader:ToggleSearchMenu",e=>{this.dispatchEvent(new CustomEvent(ep.updateSideMenu,{detail:{menuId:"search",action:"toggle"}}))}),window.addEventListener("LendingFlow:PostInit",({detail:e})=>{let{downloadTypesAvailable:t,lendingStatus:r,isAdmin:a,previewType:l}=e;this.lendingInitialized=!0,this.downloadableTypes=t,this.lendingStatus=r,this.isAdmin=a,this.bookReaderCannotLoad=l==="singlePagePreview",this.emitLoadingStatusUpdate(!0)}),window.addEventListener("BRJSIA:PostInit",({detail:e})=>{let{isRestricted:t,downloadURLs:r}=e;this.bookReaderLoaded=!0,this.downloadableTypes=r,this.bookIsRestricted=t}),window.addEventListener("contextmenu",e=>this.manageContextMenuVisibility(e),{capture:!0})}manageContextMenuVisibility(e){var t,r,a;if((a=window.archive_analytics)==null||a.send_event("BookReader",`contextmenu-${this.bookIsRestricted?"restricted":"unrestricted"}`,(r=(t=e.target)==null?void 0:t.classList)==null?void 0:r.value),!(!this.bookIsRestricted||!e.target.classList.value.match(/BRscreen|BRpageimage/g)))return e.preventDefault(),!1}loadSharedObserver(){var e;this.sharedObserverHandler={handleResize:this.handleResize.bind(this)},(e=this.sharedObserver)==null||e.addObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}handleResize({contentRect:e,target:t}){var n;let r=this.brWidth,a=this.brHeight,{animating:l}=this.bookreader;t===this.mainBRContainer&&(this.brWidth=e.width,this.brHeight=e.height),!r&&this.brWidth&&this.initializeBookSubmenus();let o=r!==this.brWidth,u=a!==this.brHeight;!l&&(o||u)&&((n=this.bookreader)==null||n.resize())}manageFullScreenBehavior(){this.emitFullScreenState(),this.bookreader.options.enableFSLogoShortcut&&(this.bookreader.isFullscreen()?this.addFullscreenShortcut():this.deleteFullscreenShortcut())}emitFullScreenState(){let e=this.bookreader.isFullscreen(),t=new CustomEvent("ViewportInFullScreen",{detail:{isFullScreen:e}});this.dispatchEvent(t)}get itemImage(){var r;let e=(r=this.itemMD)==null?void 0:r.metadata.identifier,t=`https://${this.baseHost}/services/img/${e}`;return we`<img class="cover-img" src=${t} alt="cover image for ${e}">`}get placeholder(){return we`<div class="placeholder">${this.itemImage}</div>`}render(){return we`<div id="book-navigator__root">
      ${this.bookReaderCannotLoad?this.placeholder:ei}
      ${this.bookReaderCannotLoad?ei:we`<slot name="main"></slot>`}
    </div>
  `}static get styles(){return Le`
    :host,
    #book-navigator__root,
    slot,
    slot > * {
      display: block;
      height: inherit;
      width: inherit;
    }
    .placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      margin: 5%;
    }
    .cover-img {
      max-height: 300px;
    }
  `}};customElements.define("book-navigator",Z9);gk=class extends Yt{static get properties(){return{item:{type:Object},baseHost:{type:String},signedIn:{type:Boolean},fullscreen:{type:Boolean,reflect:!0,attribute:!0},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},loaded:{type:Boolean},menuShortcuts:{type:Array},menuContents:{type:Array}}}constructor(){super(),this.item=void 0,this.bookreader=void 0,this.baseHost="archive.org",this.fullscreen=!1,this.signedIn=!1,this.modal=void 0,this.sharedObserver=void 0,this.loaded=!1,this.menuShortcuts=[],this.menuContents=[],this.openMenuName=""}updated(){this.modal||this.setModalManager(),this.sharedObserver||(this.sharedObserver=new xo)}get itemNav(){return this.shadowRoot.querySelector("iaux-item-navigator")}setModalManager(){let e=document.querySelector("modal-manager");e||(e=document.createElement("modal-manager"),document.body.appendChild(e)),this.modal=e}manageFullscreen(e){let{detail:t}=e,r=!!t.isFullScreen;this.fullscreen=r,this.dispatchEvent(new CustomEvent("fullscreenStateUpdated",{detail:{fullscreen:r}}))}loadingStateUpdated(e){let{loaded:t}=e.detail;this.loaded=t||null,this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:t}}))}setMenuShortcuts(e){this.menuShortcuts=[...e.detail]}setMenuContents(e){let t=[...e.detail];this.menuContents=t}manageSideMenuEvents(e){var a,l;let{menuId:t,action:r}=e.detail;t&&(this.openMenuName=t,r==="open"?(a=this.itemNav)==null||a.openShortcut(t):r==="toggle"&&((l=this.itemNav)==null||l.toggleMenu()))}render(){return we`
      <div class="main-component">
        <iaux-item-navigator
          ?viewportInFullscreen=${this.fullscreen}
          .basehost=${this.baseHost}
          .item=${this.item}
          .modal=${this.modal}
          .loaded=${this.loaded}
          .sharedObserver=${this.sharedObserver}
          ?signedIn=${this.signedIn}
          .menuShortcuts=${this.menuShortcuts}
          .menuContents=${this.menuContents}
          .openMenu=${this.openMenuName}
        >
          <div slot="header">
            <slot name="header"></slot>
          </div>
          <div slot="main">
            <book-navigator
              .modal=${this.modal}
              .baseHost=${this.baseHost}
              .itemMD=${this.item}
              ?signedIn=${this.signedIn}
              ?sideMenuOpen=${this.menuOpened}
              .sharedObserver=${this.sharedObserver}
              @ViewportInFullScreen=${this.manageFullscreen}
              @loadingStateUpdated=${this.loadingStateUpdated}
              @updateSideMenu=${this.manageSideMenuEvents}
              @menuUpdated=${this.setMenuContents}
              @menuShortcutsUpdated=${this.setMenuShortcuts}
            >
              <div slot="main">
                <slot name="main"></slot>
              </div>
            </book-navigator>
          </div>
        </iaux-item-navigator>
      </div>
    `}static get styles(){return Le`
      :host {
        display: block;
        --primaryBGColor: var(--black, #000);
        --secondaryBGColor: #222;
        --tertiaryBGColor: #333;
        --primaryTextColor: var(--white, #fff);
        --primaryCTAFill: #194880;
        --primaryCTABorder: #c5d1df;
        --secondaryCTAFill: #333;
        --secondaryCTABorder: #999;
        --primaryErrorCTAFill: #e51c26;
        --primaryErrorCTABorder: #f8c6c8;
        background-color: var(--primaryBGColor);
        position: relative;
      }

      :host([fullscreen]),
      iaux-item-navigator[viewportinfullscreen] {
        position: fixed;
        inset: 0;
        height: 100%;
        min-height: unset;
      }

      .main-component {
        height: 100%;
        width: 100%;
        min-height: inherit;
      }

      div[slot="header"],
      div[slot="main"] {
        display: flex;
        width: 100%;
      }

      slot {
        display: block;
        flex: 1;
      }

      iaux-item-navigator {
        min-height: var(--br-height, inherit);
        height: var(--br-height, inherit);
        display: block;
        width: 100%;
        color: var(--primaryTextColor);
        --menuButtonLabelDisplay: block;
        --menuWidth: 320px;
        --menuSliderBg: var(--secondaryBGColor);
        --activeButtonBg: var(--tertiaryBGColor);
        --subpanelRightBorderColor: var(--secondaryCTABorder);
        --animationTiming: 100ms;
        --iconFillColor: var(--primaryTextColor);
        --iconStrokeColor: var(--primaryTextColor);
        --menuSliderHeaderIconHeight: 2rem;
        --menuSliderHeaderIconWidth: 2rem;
        --iconWidth: 2.4rem;
        --iconHeight: 2.4rem;
        --shareLinkColor: var(--primaryTextColor);
        --shareIconBorder: var(--primaryTextColor);
        --shareIconBg: var(--secondaryBGColor);
        --activityIndicatorLoadingDotColor: var(--primaryTextColor);
        --activityIndicatorLoadingRingColor: var(--primaryTextColor);
      }
    `}};window.customElements.define("ia-bookreader",gk)});var bk={};On(bk,{IaBookReader:()=>gk});var yk=Wt(()=>{ti();Yg();Bu();al();Jg();Jh();Xh();Xg();Qg();e0();Cl();Cs();Ea();t0();nd();i0();r0();Oh();vk()});function J9(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}}function X9(e){return Vt(this,null,function*(){return yield new Promise((t,r)=>{let a=new Image;a.onload=()=>t(a),a.onerror=r,a.src=e})})}function Q9(e){return Vt(this,null,function*(){let t=[];return yield Promise.all(e.map(r=>Vt(this,null,function*(){let a;try{a=yield X9(r.uri)}catch(o){a=new Image(300,300)}console.log("^^^^^^^^^^^^^^ FETCH IMAGE ~~~~~~~",a,a.height,a.width);let l=e.indexOf(r);t[l]=Ir(ur({},r),{width:a.width,height:a.height})}))),t})}function wk(l){return Vt(this,arguments,function*({images:e=[],itemIdentifier:t="",itemTitle:r="",baseHost:a="archive.org"}){let o=(yield fetch(`https://${a}/metadata/${t}/metadata`).then(p=>p.json())).result||{},u=e.map((p,v)=>{let y=v%2===1?"L":"R";return console.log("imgPath",p),{uri:`https://${a}/download/${t}${p}`,leafNum:v,pageType:"Normal",pageSide:y}}),n=yield Q9(u),c=[];n.forEach((p,v)=>{if(v===0){c.push([p]);return}if(v%2===1){c.push([p]);return}v%2===0&&c[c.length-1].push(p)});let d=Ir(ur({bookId:t,bookPath:`/download/${t}`,bookTitle:r,defaults:"mode/1up",dfaultStartLeaf:0,ppi:200,data:c},J9()),{enableSearch:!1,plugins:{textSelection:{enabled:!1}}}),f={data:{streamOnly:!1,isRestricted:!1,id:t,subPrefix:t,bookUrl:`/details/${t}`},brOptions:d,metadata:o};return console.log("**** MANIFEST _---",f,d),f})}var _k=Wt(()=>{});var kk=Wt(()=>{_k()});var ba,e8,is,a0,oa,yn,t8,xk,i8,r8,n8,gr,aa,tp,ip,o8,a8,Pl,s0,s8,l8,Sk,Ol=Wt(()=>{Zi();mn();Nn();Zi();mn();Nn();Nn();Nn();Nn();Nn();Nn();Nn();Nn();Zi();mn();Nn();Zi();mn();Nn();ba=class{constructor(e,t){this.parser=e,this.rawValue=t}get values(){return this.parseRawValue()}get value(){return this.values[0]}parseRawValue(){if(this.rawValue===void 0)return[];let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let a=this.parser.parseValue(r);Array.isArray(a)?t.push(...a):a!==void 0&&t.push(a)}),t}};Y([et()],ba.prototype,"values",null);Y([et()],ba.prototype,"value",null);e8=class extends ba{constructor(e){super(Tu.shared,e)}},is=class extends ba{constructor(e){super(Xa.shared,e)}},a0=class extends ba{constructor(e){super($s.shared,e)}},oa=class extends ba{constructor(e){super(Eo.shared,e)}},yn=class extends ba{constructor(e){super(Da.shared,e)}},t8=class extends ba{constructor(e){super(Pu.shared,e)}},xk=class extends ba{constructor(e){super(La.shared,e)}},i8=class extends ba{constructor(e){super($u.shared,e)}},r8=class extends ba{constructor(e,t){super(t,e)}},n8=class extends r8{constructor(e){let t=new Lh(Da.shared);super(e,t)}},gr=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}get addeddate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new is(this.rawMetadata.addeddate):void 0}get audio_codec(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new yn(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new oa(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new oa(this.rawMetadata.avg_rating):void 0}get collection(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new yn(this.rawMetadata.collection):void 0}get collections_raw(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new yn(this.rawMetadata.collections_raw):void 0}get collection_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new xk(this.rawMetadata.collection_size):void 0}get contributor(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new yn(this.rawMetadata.contributor):void 0}get coverage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new yn(this.rawMetadata.coverage):void 0}get creator(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new yn(this.rawMetadata.creator):void 0}get date(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new is(this.rawMetadata.date):void 0}get description(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new yn(this.rawMetadata.description):void 0}get downloads(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new oa(this.rawMetadata.downloads):void 0}get duration(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new a0(this.rawMetadata.duration):void 0}get"external-identifier"(){var e,t;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new yn((t=this.rawMetadata)===null||t===void 0?void 0:t["external-identifier"]):void 0}get files_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new oa(this.rawMetadata.files_count):void 0}get indexdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new is(this.rawMetadata.indexdate):void 0}get isbn(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new yn(this.rawMetadata.isbn):void 0}get issue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new yn(this.rawMetadata.issue):void 0}get item_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new oa(this.rawMetadata.item_count):void 0}get item_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new xk(this.rawMetadata.item_size):void 0}get language(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new yn(this.rawMetadata.language):void 0}get length(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new a0(this.rawMetadata.length):void 0}get lineage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new yn(this.rawMetadata.lineage):void 0}get month(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new oa(this.rawMetadata.month):void 0}get mediatype(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new i8(this.rawMetadata.mediatype):void 0}get noindex(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.noindex?new e8(this.rawMetadata.noindex):void 0}get notes(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new yn(this.rawMetadata.notes):void 0}get num_favorites(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new oa(this.rawMetadata.num_favorites):void 0}get num_reviews(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new oa(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new yn(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new yn(this.rawMetadata.openlibrary_work):void 0}get page_progression(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new t8(this.rawMetadata.page_progression):void 0}get partner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new yn(this.rawMetadata.partner):void 0}get ppi(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new oa(this.rawMetadata.ppi):void 0}get publicdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new is(this.rawMetadata.publicdate):void 0}get publisher(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new yn(this.rawMetadata.publisher):void 0}get reviewdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new is(this.rawMetadata.reviewdate):void 0}get runtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new a0(this.rawMetadata.runtime):void 0}get scanner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new yn(this.rawMetadata.scanner):void 0}get source(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new yn(this.rawMetadata.source):void 0}get start_localtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new is(this.rawMetadata.start_localtime):void 0}get start_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new is(this.rawMetadata.start_time):void 0}get stop_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new is(this.rawMetadata.stop_time):void 0}get subject(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new n8(this.rawMetadata.subject):void 0}get taper(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new yn(this.rawMetadata.taper):void 0}get title(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new yn(this.rawMetadata.title):void 0}get transferer(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new yn(this.rawMetadata.transferer):void 0}get track(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new oa(this.rawMetadata.track):void 0}get type(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new yn(this.rawMetadata.type):void 0}get uploader(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new yn(this.rawMetadata.uploader):void 0}get utc_offset(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new oa(this.rawMetadata.utc_offset):void 0}get venue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new yn(this.rawMetadata.venue):void 0}get volume(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new yn(this.rawMetadata.volume):void 0}get week(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new oa(this.rawMetadata.week):void 0}get year(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new is(this.rawMetadata.year):void 0}};Y([et()],gr.prototype,"addeddate",null);Y([et()],gr.prototype,"audio_codec",null);Y([et()],gr.prototype,"audio_sample_rate",null);Y([et()],gr.prototype,"avg_rating",null);Y([et()],gr.prototype,"collection",null);Y([et()],gr.prototype,"collections_raw",null);Y([et()],gr.prototype,"collection_size",null);Y([et()],gr.prototype,"contributor",null);Y([et()],gr.prototype,"coverage",null);Y([et()],gr.prototype,"creator",null);Y([et()],gr.prototype,"date",null);Y([et()],gr.prototype,"description",null);Y([et()],gr.prototype,"downloads",null);Y([et()],gr.prototype,"duration",null);Y([et()],gr.prototype,"external-identifier",null);Y([et()],gr.prototype,"files_count",null);Y([et()],gr.prototype,"indexdate",null);Y([et()],gr.prototype,"isbn",null);Y([et()],gr.prototype,"issue",null);Y([et()],gr.prototype,"item_count",null);Y([et()],gr.prototype,"item_size",null);Y([et()],gr.prototype,"language",null);Y([et()],gr.prototype,"length",null);Y([et()],gr.prototype,"lineage",null);Y([et()],gr.prototype,"month",null);Y([et()],gr.prototype,"mediatype",null);Y([et()],gr.prototype,"noindex",null);Y([et()],gr.prototype,"notes",null);Y([et()],gr.prototype,"num_favorites",null);Y([et()],gr.prototype,"num_reviews",null);Y([et()],gr.prototype,"openlibrary_edition",null);Y([et()],gr.prototype,"openlibrary_work",null);Y([et()],gr.prototype,"page_progression",null);Y([et()],gr.prototype,"partner",null);Y([et()],gr.prototype,"ppi",null);Y([et()],gr.prototype,"publicdate",null);Y([et()],gr.prototype,"publisher",null);Y([et()],gr.prototype,"reviewdate",null);Y([et()],gr.prototype,"runtime",null);Y([et()],gr.prototype,"scanner",null);Y([et()],gr.prototype,"source",null);Y([et()],gr.prototype,"start_localtime",null);Y([et()],gr.prototype,"start_time",null);Y([et()],gr.prototype,"stop_time",null);Y([et()],gr.prototype,"subject",null);Y([et()],gr.prototype,"taper",null);Y([et()],gr.prototype,"title",null);Y([et()],gr.prototype,"transferer",null);Y([et()],gr.prototype,"track",null);Y([et()],gr.prototype,"type",null);Y([et()],gr.prototype,"uploader",null);Y([et()],gr.prototype,"utc_offset",null);Y([et()],gr.prototype,"venue",null);Y([et()],gr.prototype,"volume",null);Y([et()],gr.prototype,"week",null);Y([et()],gr.prototype,"year",null);aa=class{constructor(e){this.rawValue=e}get name(){return this.rawValue.name}get source(){return this.rawValue.source}get btih(){return this.rawValue.btih}get md5(){return this.rawValue.md5}get format(){return this.rawValue.format}get mtime(){return this.rawValue.mtime}get crc32(){return this.rawValue.crc32}get sha1(){return this.rawValue.sha1}get original(){return this.rawValue.original}get size(){return this.rawValue.size?La.shared.parseValue(this.rawValue.size):void 0}get title(){return this.rawValue.title}get length(){return this.rawValue.length?$s.shared.parseValue(this.rawValue.length):void 0}get height(){return this.rawValue.height?Eo.shared.parseValue(this.rawValue.height):void 0}get width(){return this.rawValue.width?Eo.shared.parseValue(this.rawValue.width):void 0}get track(){return this.rawValue.track?Eo.shared.parseValue(this.rawValue.track):void 0}get external_identifier(){return this.rawValue.external_identifier}get creator(){return this.rawValue.creator}get album(){return this.rawValue.album}};Y([et()],aa.prototype,"size",null);Y([et()],aa.prototype,"length",null);Y([et()],aa.prototype,"height",null);Y([et()],aa.prototype,"width",null);Y([et()],aa.prototype,"track",null);tp=class{constructor(e){this.rawValue=e}get reviewbody(){return this.rawValue.reviewbody}get reviewtitle(){return this.rawValue.reviewtitle}get reviewer(){return this.rawValue.reviewer}get reviewdate(){return this.rawValue.reviewdate?Xa.shared.parseValue(this.rawValue.reviewdate):void 0}get createdate(){return this.rawValue.createdate?Xa.shared.parseValue(this.rawValue.createdate):void 0}get stars(){return this.rawValue.stars?Eo.shared.parseValue(this.rawValue.stars):void 0}};Y([et()],tp.prototype,"reviewdate",null);Y([et()],tp.prototype,"createdate",null);Y([et()],tp.prototype,"stars",null);ip=class{constructor(e){var t,r;this.rawResponse=e,this.created=e.created,this.d1=e.d1,this.d2=e.d2,this.dir=e.dir,this.files=(t=e.files)===null||t===void 0?void 0:t.map(a=>new aa(a)),this.files_count=e.files_count,this.item_last_updated=e.item_last_updated,this.item_size=e.item_size,this.metadata=new gr(e.metadata),this.server=e.server,this.uniq=e.uniq,this.workable_servers=e.workable_servers,this.speech_vs_music_asr=e.speech_vs_music_asr,this.reviews=(r=e.reviews)===null||r===void 0?void 0:r.map(a=>new tp(a))}},o8=class{constructor(e){this.numFound=e.numFound,this.start=e.start,this.docs=e.docs.map(t=>new gr(t)),this.aggregations=e.aggregations}},a8=class{constructor(e){this.rawResponse=e,this.responseHeader=e.responseHeader,this.response=new o8(e.response)}};(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(Pl||(Pl={}));s0=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},s8=class{static aggregateSearchParamsAsString(e){if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field} ${e.direction}`}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("q",e.query),t.append("output","json"),e.rows&&t.append("rows",String(e.rows)),e.page&&t.append("page",String(e.page)),e.fields&&t.append("fl",e.fields.join(",")),e.sort){let a=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",a.join(","))}let r=e.aggregations;if(r){let a=this.aggregateSearchParamsAsString(r);a&&t.append("user_aggs",a)}return t}},l8=class{constructor(e){var t;if(this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(e==null?void 0:e.scope)!==void 0)this.requestScope=e.scope;else{let r=new URL(window.location.href).searchParams.get("scope");r&&(this.requestScope=r)}}performSearch(e){return Vt(this,null,function*(){let t=s8.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}/advancedsearch.php?${t}`;return this.fetchUrl(r)})}fetchMetadata(e,t){return Vt(this,null,function*(){let r=t?`/${t}`:"",a=`https://${this.baseUrl}/metadata/${e}${r}`;return this.fetchUrl(a,{requestOptions:{credentials:"omit"}})})}fetchUrl(e,t){return Vt(this,null,function*(){var r;let a=new URL(e);this.requestScope&&a.searchParams.set("scope",this.requestScope);let l;try{let o=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};l=yield fetch(a.href,o)}catch(o){let u=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(Pl.networkError,u)}try{let o=yield l.json(),u=o.error;if(u){let n=o.forensics;return this.getErrorResult(Pl.searchEngineError,u,n)}else return{success:o}}catch(o){let u=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(Pl.decodingError,u)}})}getErrorResult(e,t,r){return{error:new s0(e,t,r)}}},Sk=class{constructor(e){this.searchBackend=e}search(e){return Vt(this,null,function*(){let t=yield this.searchBackend.performSearch(e);return t.error?t:{success:new a8(t.success)}})}fetchMetadata(e){return Vt(this,null,function*(){var t;let r=yield this.searchBackend.fetchMetadata(e);return r.error?r:((t=r.success)===null||t===void 0?void 0:t.metadata)===void 0?{error:new s0(Pl.itemNotFound)}:{success:new ip(r.success)}})}fetchMetadataValue(e,t){return Vt(this,null,function*(){var r;let a=yield this.searchBackend.fetchMetadata(e,t);return a.error?a:((r=a.success)===null||r===void 0?void 0:r.result)===void 0?{error:new s0(Pl.itemNotFound)}:{success:a.success.result}})}};Sk.default=new Sk(new l8)});var u8,Ak,Ck=Wt(()=>{Ol();Ol();u8=class extends aa{constructor(e,t="archive.org"){super(e),this.isSegmented=!1,this.private=!1,this.details=null,this.orig="",this.image="",this.duration=0,this.sources=[],this._playlistTrack=null,this.details=e.details,this.baseHost=t}setPlaylistInfo(e){this._playlistTrack=e,this.orig=e.orig,this.image=e.image,this.duration=e.duration,this.sources=e.sources}get url(){return`https://${this.baseHost}/${this.name}`}get title(){var e;return((e=this._playlistTrack)===null||e===void 0?void 0:e.title)||(this===null||this===void 0?void 0:this.title)||this.name}get youtubeId(){return this.externalIds.find(e=>e.match(/youtube/gi))||""}get spotifyId(){return this.externalIds.find(e=>e.match(/spotify/gi))||""}get externalIds(){return Array.isArray(this.rawValue["external-identifier"])?this.rawValue["external-identifier"]:[this.rawValue["external-identifier"]||""]}},Ak=class{constructor(e,t){this.tracks=[],this.images=[],this.linerNotes=[],this.tracksAreSegmented=!1,this.baseHost="archive.org",this.relatedFiles=[],this.rawPlaylistTracks=[],this.item=new ip(e),this.rawPlaylistTracks=t,this.tracks=t,this.filterFiles(this.item.files)}get title(){var e,t;return((t=(e=this.item.metadata)===null||e===void 0?void 0:e.title)===null||t===void 0?void 0:t.values.join("; "))||""}get creator(){var e,t,r,a,l,o;return!((t=(e=this.item.metadata)===null||e===void 0?void 0:e.creator)===null||t===void 0)&&t.values?(a=(r=this.item.metadata)===null||r===void 0?void 0:r.creator)===null||a===void 0?void 0:a.values.join("; "):!((l=this.item.metadata.rawMetadata)===null||l===void 0)&&l.artist?(o=this.item.metadata.rawMetadata)===null||o===void 0?void 0:o.artist:""}get youtubeId(){return this.externalIds.find(e=>e.match(/youtube/gi))||""}get spotifyId(){return this.externalIds.find(e=>e.match(/spotify/gi))||""}get externalIds(){var e;if(!this.item.metadata.rawMetadata)return[""];let t=this.item.metadata["external-identifier"];return!((e=t==null?void 0:t.values)===null||e===void 0)&&e.length?t.values:[(t==null?void 0:t.value)||""]}get youtubeTracks(){let e=this.tracks.filter(t=>t.youtubeId);return this.albumTrackOption("yt")!==void 0&&e.unshift(this.albumTrackOption("yt")),e}get spotifyTracks(){let e=this.tracks.filter(t=>t.spotifyId);return this.albumTrackOption("sp")!==void 0&&e.unshift(this.albumTrackOption("sp")),e}get albumImage(){let e=this.images.find(a=>a.format==="Item Image"),t=`https://${this.baseHost}/download/${this.item.metadata.identifier}/`;if(e)return`${t}${e.name}`;let r=this.images.find(a=>{let l=["Item Image","JPEG Thumb"];return a.source==="original"&&!l.includes(a.format)});return r?`${t}${r.name}`:`${t}__ia_thumb.jpg`}albumTrackOption(e){let t={title:"Full Album",orig:"",image:"",duration:"-- : --",track:0,iaTrackNum:-1,sources:[]};if(e==="yt"&&this.youtubeId)return Ir(ur({},t),{youtubeId:this.youtubeId});if(e==="sp"&&this.spotifyId)return Ir(ur({},t),{spotifyId:this.spotifyId})}isAlbumRelatedFile(e){var t,r;return!!(!((t=e.name.match(/.(ffp|md5)$/g))===null||t===void 0)&&t.length)&&!!(!((r=e.original)===null||r===void 0)&&r.length)&&e.source==="derivative"}isValidAudioFile(e=""){var t;return!!(!((t=e.match(/(mp3|ogg|flac|m4a|wma|aiff|aac|aa|ra|ram|shn|wav|wave|opus)$/gi))===null||t===void 0)&&t.length)}isValidImageFile(e=""){var t;return!!(!((t=e.match(/.(png|jpg|jpeg)$/gi))===null||t===void 0)&&t.length)}isValidImageFileFormat(e=""){var t;return!!(!((t=e.match(/(png|jpg|jpeg)/gi))===null||t===void 0)&&t.length)}isValidSegmentFile(e=""){var t;return!!(!((t=e.match(/_segments.(json|xml)$/gi))===null||t===void 0)&&t.length)}isSpectrogram(e=""){var t;return!!(!((t=e.match(/spectrogram/gi))===null||t===void 0)&&t.length)}isSampleMP3(e=""){var t;return!!(!((t=e.match(/_sample\.mp3$/gi))===null||t===void 0)&&t.length)}hasScannedLinerNotes(e=""){var t;return!!(!((t=e.match(/_jp2.(zip|tar)/gi))===null||t===void 0)&&t.length)}filterFiles(e){let t=[],r={};e.forEach(l=>{var o,u;let n=l.rawValue,c=this.isValidAudioFile(n.name);if(this.isAlbumRelatedFile(n)){this.relatedFiles.push(n);return}if(this.isValidSegmentFile(n.name)&&(this.tracksAreSegmented=!0,this.relatedFiles.push(n),n.original&&this.isValidAudioFile(n.name)&&!r[n.original]&&(r[n.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0})),n.source==="original"&&!r[n.name]&&c&&(r[n.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),n.original&&this.isValidAudioFile(n.original)&&!r[n.original]&&(r[n.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),this.hasScannedLinerNotes(n.name)&&this.linerNotes.push(n),this.isValidImageFile(n.name)){n.original&&this.isValidAudioFile(n.original)?r[n.original].spectrogram=n:t.push(n);return}if(n.original&&this.isValidAudioFile(n.original)&&!this.isValidAudioFile(n.name)){r[n.original].related.push(n);return}if(!this.isValidAudioFile(n.name)||!this.isValidImageFile(n.name)&&!this.isValidAudioFile(n.name))return;let d=this.isValidSegmentFile(n.original)&&this.isValidAudioFile(n.name);if(n.source==="original"&&this.isValidAudioFile(n.name)||d){r[n.name]||(r[n.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),r[n.name].primary=n;return}if(!((o=n.name.match(/_sample\.mp3$/))===null||o===void 0)&&o.length&&n.original){r[n.original].sampleMp3=new aa(n);return}this.isValidAudioFile(n.name)&&!this.isSampleMP3(n.name)&&this.isValidAudioFile(n.original)&&n.original&&(!((u=n.name.match(/.mp3$/))===null||u===void 0)&&u.length?r[n.original].fullMp3=n:r[n.original].related.push(n))}),this.images=t;let a=[];this.tracks.forEach((l,o)=>{let u=r[l.orig].primary,n=new u8(Ir(ur(ur({},l),u),{details:r[l.orig]}),"archive.org");n.setPlaylistInfo(l),a[o]=n}),this.tracks=a}}});var Ek=Wt(()=>{Ol();Ck()});function Nk(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Tk!==void 0?Tk.createHTML(t):t}function Fu(e,t,r=e,a){var l,o,u,n;if(t===cd)return t;let c=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,d=ud(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==d&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),d===void 0?c=void 0:(c=new d(e),c._$AT(e,r,a)),a!==void 0?((u=(n=r)._$Co)!==null&&u!==void 0?u:n._$Co=[])[a]=c:r._$Cl=c),c!==void 0&&(t=Fu(e,c._$AS(e,t.values),c,a)),t}var l0,rp,Nu,Tk,d0,Ms,Dk,c8,Ll,ld,ud,Rk,d8,u0,sd,$k,Pk,Ml,Ok,Mk,jk,Bk,FY,zY,cd,io,Ik,Il,h8,h0,p8,p0,np,f8,m8,g8,v8,b8,c0,y8,Lk,Hk,Uk=Wt(()=>{ou();Ng();rp=window,Nu=rp.trustedTypes,Tk=Nu?Nu.createPolicy("lit-html",{createHTML:e=>e}):void 0,d0="$lit$",Ms=`lit$${(Math.random()+"").slice(9)}$`,Dk="?"+Ms,c8=`<${Dk}>`,Ll=document,ld=()=>Ll.createComment(""),ud=e=>e===null||typeof e!="object"&&typeof e!="function",Rk=Array.isArray,d8=e=>Rk(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",u0=`[ 	
\f\r]`,sd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,$k=/-->/g,Pk=/>/g,Ml=RegExp(`>|${u0}(?:([^\\s"'>=/]+)(${u0}*=${u0}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ok=/'/g,Mk=/"/g,jk=/^(?:script|style|textarea|title)$/i,Bk=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),FY=Bk(1),zY=Bk(2),cd=Symbol.for("lit-noChange"),io=Symbol.for("lit-nothing"),Ik=new WeakMap,Il=Ll.createTreeWalker(Ll,129,null,!1);h8=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",u=sd;for(let n=0;n<r;n++){let c=e[n],d,f,p=-1,v=0;for(;v<c.length&&(u.lastIndex=v,f=u.exec(c),f!==null);)v=u.lastIndex,u===sd?f[1]==="!--"?u=$k:f[1]!==void 0?u=Pk:f[2]!==void 0?(jk.test(f[2])&&(l=RegExp("</"+f[2],"g")),u=Ml):f[3]!==void 0&&(u=Ml):u===Ml?f[0]===">"?(u=l!=null?l:sd,p=-1):f[1]===void 0?p=-2:(p=u.lastIndex-f[2].length,d=f[1],u=f[3]===void 0?Ml:f[3]==='"'?Mk:Ok):u===Mk||u===Ok?u=Ml:u===$k||u===Pk?u=sd:(u=Ml,l=void 0);let y=u===Ml&&e[n+1].startsWith("/>")?" ":"";o+=u===sd?c+c8:p>=0?(a.push(d),c.slice(0,p)+d0+c.slice(p)+Ms+y):c+Ms+(p===-2?(a.push(void 0),n):y)}return[Nk(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},h0=class Fk{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,u=0,n=t.length-1,c=this.parts,[d,f]=h8(t,r);if(this.el=Fk.createElement(d,a),Il.currentNode=this.el.content,r===2){let p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(l=Il.nextNode())!==null&&c.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let p=[];for(let v of l.getAttributeNames())if(v.endsWith(d0)||v.startsWith(Ms)){let y=f[u++];if(p.push(v),y!==void 0){let w=l.getAttribute(y.toLowerCase()+d0).split(Ms),k=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?f8:k[1]==="?"?g8:k[1]==="@"?v8:np})}else c.push({type:6,index:o})}for(let v of p)l.removeAttribute(v)}if(jk.test(l.tagName)){let p=l.textContent.split(Ms),v=p.length-1;if(v>0){l.textContent=Nu?Nu.emptyScript:"";for(let y=0;y<v;y++)l.append(p[y],ld()),Il.nextNode(),c.push({type:2,index:++o});l.append(p[v],ld())}}}else if(l.nodeType===8)if(l.data===Dk)c.push({type:2,index:o});else{let p=-1;for(;(p=l.data.indexOf(Ms,p+1))!==-1;)c.push({type:7,index:o}),p+=Ms.length-1}o++}}static createElement(t,r){let a=Ll.createElement("template");return a.innerHTML=t,a}};p8=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Ll).importNode(r,!0);Il.currentNode=l;let o=Il.nextNode(),u=0,n=0,c=a[0];for(;c!==void 0;){if(u===c.index){let d;c.type===2?d=new p0(o,o.nextSibling,this,e):c.type===1?d=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(d=new b8(o,this,e)),this._$AV.push(d),c=a[++n]}u!==(c==null?void 0:c.index)&&(o=Il.nextNode(),u++)}return Il.currentNode=Ll,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},p0=class zk{constructor(t,r,a,l){var o;this.type=2,this._$AH=io,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Fu(this,t,r),ud(t)?t===io||t==null||t===""?(this._$AH!==io&&this._$AR(),this._$AH=io):t!==this._$AH&&t!==cd&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):d8(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==io&&ud(this._$AH)?this._$AA.nextSibling.data=t:this.$(Ll.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=h0.createElement(Nk(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let u=new p8(o,this),n=u.u(this.options);u.v(a),this.$(n),this._$AH=u}}_$AC(t){let r=Ik.get(t.strings);return r===void 0&&Ik.set(t.strings,r=new h0(t)),r}T(t){Rk(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new zk(this.k(ld()),this.k(ld()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},np=class{constructor(e,t,r,a,l){this.type=1,this._$AH=io,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=io}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=Fu(this,e,t,0),o=!ud(e)||e!==this._$AH&&e!==cd,o&&(this._$AH=e);else{let u=e,n,c;for(e=l[0],n=0;n<l.length-1;n++)c=Fu(this,u[r+n],t,n),c===cd&&(c=this._$AH[n]),o||(o=!ud(c)||c!==this._$AH[n]),c===io?e=io:e!==io&&(e+=(c!=null?c:"")+l[n+1]),this._$AH[n]=c}o&&!a&&this.j(e)}j(e){e===io?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},f8=class extends np{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===io?void 0:e}},m8=Nu?Nu.emptyScript:"",g8=class extends np{constructor(){super(...arguments),this.type=4}j(e){e&&e!==io?this.element.setAttribute(this.name,m8):this.element.removeAttribute(this.name)}},v8=class extends np{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Fu(this,e,t,0))!==null&&r!==void 0?r:io)===cd)return;let a=this._$AH,l=e===io&&a!==io||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==io&&(a===io||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},b8=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Fu(this,e)}},c0=rp.litHtmlPolyfillSupport;c0==null||c0(h0,p0),((l0=rp.litHtmlVersions)!==null&&l0!==void 0?l0:rp.litHtmlVersions=[]).push("2.8.0");y8=(e,t,r)=>{var a,l;let o=(a=r==null?void 0:r.renderBefore)!==null&&a!==void 0?a:t,u=o._$litPart$;if(u===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=u=new p0(t.insertBefore(ld(),n),n,void 0,r!=null?r:{})}return u._$AI(e),u},Lk=e=>D_(e)?e._$litType$.h:e.strings,Hk=Aa(class extends Ca{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(e,[t]){let r=Bg(this.et)?Lk(this.et):null,a=Bg(t)?Lk(t):null;if(r!==null&&(a===null||r!==a)){let l=ed(e).pop(),o=this.tt.get(r);if(o===void 0){let u=document.createDocumentFragment();o=y8(io,u),o.setConnected(!1),this.tt.set(r,o)}Qc(o,[l]),ts(o,void 0,l)}if(a!==null){if(r===null||r!==a){let l=this.tt.get(a);if(l!==void 0){let o=ed(l).pop();R_(e),ts(e,void 0,o),Qc(e,[o])}}this.et=t}else this.et=void 0;return this.render(t)}});});var f0=Wt(()=>{Uk()});var rs,m0=Wt(()=>{Zi();ti();Ar();rs=class extends Yt{constructor(){super(...arguments),this.open=!1,this.displayCaret=!1,this.selectedOption="",this.options=[],this.optionGroup="options",this.optionSelected=()=>{}}renderOption(e){let{label:t,url:r=void 0,id:a}=e,l,o=this.selectedOption===a?"selected":"";return r?l=we`<a
        href=${r}
        @click=${()=>this.optionClicked(e)}
        >${t}</a
      >`:l=we`<button
        @click=${()=>this.optionClicked(e)}
      >
        ${t}
      </button>`,we`<li class=${o}>${l}</li>`}optionClicked(e){this.selectedOption=e.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:e}})),e.selectedHandler&&(e==null||e.selectedHandler(e))}toggleOptions(){this.open=!this.open}get caret(){return this.open?this.caretUp:this.caretDown}get dropdownState(){return this.open?"open":"closed"}get caretUp(){return ln`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
      fill=""></path>
  </svg>`}get caretDown(){return ln`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
    fill=""></path>
  </svg>`}get availableOptions(){return this.options.filter(e=>this.selectedOption!==e.id)}render(){return we`
      <div class="ia-dropdown-group">
        <button @click=${this.toggleOptions} class="click-main">
          <span class="cta sr-only">Toggle ${this.optionGroup}</span>
          <slot name="dropdown-label"></slot>
          ${this.displayCaret?we`<span class="caret">${this.caret}</span>`:ei}
        </button>

        <ul class="dropdown-main ${this.dropdownState}">
          ${this.availableOptions.map(e=>this.renderOption(e))}
        </ul>
      </div>
    `}};rs.styles=Le`
    :host {
      display: inline;
      color: var(--dropdownTextColor, #fff);
    }

    svg.caret-up-svg,
    svg.caret-down-svg {
      fill: var(--dropdownCaretColor, #fff);
      vertical-align: middle;
    }

    button.click-main {
      background: transparent;
      color: inherit;
      border: none;
      cursor: pointer;
      outline: inherit;
      display: flex;
      align-items: center;
      justify-content: center;
      align-content: center;
      flex-wrap: nowrap;
      flex-direction: row;
      padding-left: 0;
    }

    button slot {
      padding-right: 5px;
      display: inline-block;
    }

    .ia-dropdown-group {
      width: inherit;
      height: inherit;
      position: relative;
    }

    .sr-only {
      border: 0 !important;
      clip: rect(1px, 1px, 1px, 1px) !important;
      -webkit-clip-path: inset(50%) !important;
      clip-path: inset(50%) !important;
      height: 1px !important;
      margin: -1px !important;
      overflow: hidden !important;
      padding: 0 !important;
      position: absolute !important;
      width: 1px !important;
      white-space: nowrap !important;
    }

    .caret svg {
      height: var(--caretHeight, 10px);
      width: var(--caretWidth, 20px);
    }

    ul {
      z-index: var(--dropdownListZIndex, 1);
    }

    ul.dropdown-main.closed {
      visibility: hidden;
      height: 1px;
      width: 1px;
    }

    ul.dropdown-main {
      position: absolute;
      list-style: none;
      margin: 5px 0 0 0;
      padding: 0;
      color: var(--dropdownTextColor, #fff);
      border-radius: 4px;
      border: 1px solid var(--dropdownBorderColor, #fff);
    }

    ul.dropdown-main {
      background: var(--dropdownBgColor, #333);
    }

    ul.dropdown-main li:hover:first-child {
      border-top-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
    }

    ul.dropdown-main li:hover:last-child {
      border-bottom-color: var(
        --dropdownHoverBgColor,
        rgba(255, 255, 255, 0.3)
      );
    }

    ul.dropdown-main li:hover:not(:first-child) {
      border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
    }
    ul.dropdown-main li:hover:not(:last-child) {
      border-bottom: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
    }

    ul.dropdown-main li.selected:last-child {
      border-bottom-color: var(--dropdownSelectedBgColor, #fff);
    }

    ul.dropdown-main li.selected:first-child {
      border-top-color: var(--dropdownSelectedBgColor, #fff);
    }

    ul.dropdown-main li.selected > * {
      background-color: var(--dropdownSelectedBgColor, #fff);
      color: var(--dropdownSelectedTextColor, #2c2c2c);
    }

    ul.dropdown-main li:hover {
      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
      color: var(--dropdownHoverTextColor, #fff);
      list-style: none;
      cursor: pointer;
    }

    ul.dropdown-main li:hover > * {
      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
      color: var(--dropdownHoverTextColor, #fff);
    }

    ul.dropdown-main li {
      background: var(--dropdownBgColor, #333);
      list-style: none;
      height: 30px;
      cursor: pointer;
      border-bottom: 0.5px solid var(--dropdownBgColor, #333);
      border-top: 0.5px solid var(--dropdownBgColor, #333);
    }

    ul.dropdown-main li button {
      background: none;
      color: inherit;
      border: none;
      font: inherit;
      cursor: pointer;
      outline: inherit;
    }

    ul.dropdown-main li a {
      text-decoration: none;
      display: block;
      box-sizing: border-box;
    }

    ul.dropdown-main li:first-child {
      border-top-left-radius: 4px;
      border-top-right-radius: 4px;
    }

    ul.dropdown-main li:last-child {
      border-bottom-right-radius: 4px;
      border-bottom-left-radius: 4px;
    }

    /* cover the list with the label */
    ul.dropdown-main li > * > :first-child {
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
      padding: 5px 10px;
      box-sizing: border-box;
    }

    ul.dropdown-main li > * {
      width: 100%;
      height: inherit;
      color: var(--dropdownTextColor, #fff);
      background: transparent;
      padding: 0;
    }
  `;Y([St({type:Boolean,attribute:!0})],rs.prototype,"open",void 0);Y([St({type:Boolean,attribute:!0})],rs.prototype,"displayCaret",void 0);Y([St({type:String,attribute:!0})],rs.prototype,"selectedOption",void 0);Y([St({type:Array})],rs.prototype,"options",void 0);Y([St({type:String})],rs.prototype,"optionGroup",void 0);Y([St({type:Function})],rs.prototype,"optionSelected",void 0);rs=Y([Fi("ia-dropdown")],rs)});var w8,_8,g0=Wt(()=>{ti();ti();w8=we`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="audioTitleID audioDescID"
>
  <title id="audioTitleID">Audio icon</title>
  <desc id="audioDescID">An illustration of an audio speaker.</desc>
  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g transform="translate(10, 8)" class="fill-color">
      <path
        d="M19.4264564,11.8585048 L19.4264564,20.7200433 C19.4264564,22.3657576 18.8838179,23.2519114 16.8489237,23.2519114 C12.2364969,23.125318 7.75972977,23.125318 3.14730298,23.2519114 C1.24806842,23.2519114 0.569770368,22.492351 0.569770368,20.7200433 L0.569770368,2.74377955 C0.569770368,1.09806526 1.11240881,0.211911416 3.14730298,0.211911416 C7.75972977,0.338504822 12.2364969,0.338504822 16.8489237,0.211911416 C18.7481583,0.211911416 19.4264564,0.971471855 19.4264564,2.74377955 C19.2907967,5.78202131 19.4264564,8.82026306 19.4264564,11.8585048 L19.4264564,11.8585048 Z M10.0659432,2.74377955 C8.16670861,2.74377955 6.67445288,4.13630702 6.67445288,5.90861471 C6.67445288,7.6809224 8.16670861,9.07344988 10.0659432,9.07344988 C11.9651777,9.07344988 13.4574335,7.6809224 13.4574335,5.90861471 C13.4574335,4.13630702 11.8295181,2.74377955 10.0659432,2.74377955 L10.0659432,2.74377955 Z M10.0659432,11.4787246 C7.21709133,11.4787246 5.04653754,13.6308125 5.04653754,16.1626806 C5.04653754,18.8211422 7.35275094,20.8466367 10.0659432,20.8466367 C12.914795,20.8466367 15.0853488,18.6945488 15.0853488,16.1626806 C15.0853488,13.6308125 12.7791354,11.4787246 10.0659432,11.4787246 L10.0659432,11.4787246 Z"
      ></path>
      <ellipse cx="10.2016028" cy="16.5690777" rx="1.35659611" ry="1.34075134"></ellipse>
    </g>
  </g>
</svg>
`,_8=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return w8}};customElements.define("ia-icon-audio",_8)});var k8,x8,v0=Wt(()=>{ti();ti();k8=we`
  <svg
    height="12"
    viewBox="0 0 12 12"
    width="12"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="closeCircleTitleID closeCircleDescID"
  >
    <title id="closeCircleTitleID">Close circle icon</title>
    <desc id="closeCircleDescID">A line drawing of an X in a circle</desc>
    <path
      d="m6 0c3.3137085 0 6 2.6862915 6 6s-2.6862915 6-6 6-6-2.6862915-6-6 2.6862915-6 6-6zm-2.3406945 2.96359116c-.19486814-.13499605-.46429254-.1157109-.63785889.05785545-.19526215.19526215-.19526215.51184463 0 .70710678l2.27155339 2.27144661-2.20567981 2.20557302-.05785545.06924789c-.13499605.19486814-.1157109.46429254.05785545.6378589.19526215.19526214.51184464.19526214.70710679 0l2.20557302-2.20567981 2.20557302 2.20567981.06924789.05785545c.19486814.13499605.46429254.1157109.6378589-.05785545.19526214-.19526215.19526214-.51184464 0-.70710679l-2.20567981-2.20557302 2.27155339-2.27144661.05785545-.06924789c.13499605-.19486814.1157109-.46429254-.05785545-.63785889-.19526215-.19526215-.51184463-.19526215-.70710678 0l-2.27144661 2.27155339-2.27144661-2.27155339z"
      class="fill-color"
      fill-rule="evenodd"
    />
  </svg>
`,x8=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor, #999);
      }
    `}render(){return k8}};customElements.define("ia-icon-close-circle",x8)});var b0,y0=Wt(()=>{Zi();ti();Ar();b0=class extends Yt{render(){return we`
      <div class="icon-label-container">
        <slot name="icon"></slot>
        <slot></slot>
      </div>
    `}};b0.styles=Le`
    :host {
      display: block;
      width: 100%;
      height: 100%;
      position: relative;
    }

    :host(.invert-icon-at-hover:hover) slot[name='icon'] {
      filter: invert(1);
    }

    :host(.selected) {
      background-color: var(--selectedBgColor, #fff);
      color: var(--selectedTextColor, #2c2c2c);
    }

    :host(.invert-icon-at-selected.selected) slot[name='icon'] {
      filter: invert(1);
    }

    div.icon-label-container {
      display: flex;
      width: 100%;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
    }

    slot[name='icon'] {
      width: var(--iconWidth, 20px);
      margin-right: var(--iconLabelGutterWidth, 10px);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
    }
  `;b0=Y([Fi("ia-icon-label")],b0)});function B8(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}}function N8(e){var t;let r=e.brOptions,a=ur(ur({},B8()),r),l=new window.BookReader(a),o=window.BookReader.prototype.getPageURI;l.getPageURI=(n,c=1,d=0)=>{let f=Math.pow(2,Math.floor(Math.log2(Math.max(1,c)))),p=o.call(l,n,f,d);return p+=p.indexOf("?")>-1?"&":"?",p=`${p}scale=${f}&rotate=${d}`,p},window.br=l;let u=(t=e==null?void 0:e.data)===null||t===void 0?void 0:t.isRestricted;return window.dispatchEvent(new CustomEvent("contextmenu",{detail:{isRestricted:u}})),l}var S8,Lr,Oo,Fa,sp,Wk,Vk,qk,Gk,A8,C8,E8,T8,$8,P8,O8,M8,I8,L8,D8,R8,j8,op,Vo,dd,F8,go,zu,ap,ns,Yk=Wt(()=>{Zi();ti();Ar();f0();m0();ti();ti();y0();cc();Ea();Zi();ti();Ar();v0();Zi();ti();Ar();g0();ti();Zi();ti();Ar();Zi();ti();Ar();Zi();ti();Ar();Ol();Ol();S8=Le`
  section#radio {
    display: flex;
    flex-direction: row;
    align-items: center;
  }

  #radio #selector-title {
    margin-right: 5px;
  }

  #radio ul {
    display: inline-block;
  }

  #radio ul {
    border-radius: 50px;
    display: inline-flex;
    align-content: flex-start;
    flex-wrap: nowrap;
    justify-content: center;
    align-items: center;
  }

  #radio li {
    border: 1px solid #fff;
  }

  #radio li:first-child {
    border-top-left-radius: 50px;
    border-bottom-left-radius: 50px;
    padding-left: 5px;
  }
  #radio li:first-child ia-icon-label {
    margin-left: 5px;
  }

  #radio li:last-child {
    border-top-right-radius: 50px;
    border-bottom-right-radius: 50px;
    padding-right: 10px;
    padding-left: 5px;
  }

  #radio li:last-child ia-icon-label {
    margin-right: 5px;
  }

  #radio li:not(:last-child) {
    border-right: none;
    padding-right: 5px;
    padding-left: 5px;
  }

  /* Demarcate when hovering next to selected channel */
  #radio li > ia-icon-label {
    height: 30px;
    padding: 5px;
    box-sizing: border-box;
  }
  /* End demarcation */
`;(function(e){e.ia="ia",e.beta="beta",e.youtube="youtube",e.spotify="spotify",e.webamp="webamp"})(Lr||(Lr={}));(function(e){e.iaSamples="Samples",e.iaPlayer="Player",e.beta="Beta",e.spotify="Spotify",e.webamp="Webamp",e.youtube="YouTube"})(Oo||(Oo={}));Fa={ia:we`<img
    class="ia"
    src="https://archive.org/images/music-theater/internet-archive.svg"
    alt="Internet Archive logo"
    style="height: 20px; width: 20px;"
  />`,beta:we`<img
    class="ia-beta"
    src="https://archive.org/images/music-theater/streaming.svg"
    alt="Internet Archive beta player logo"
    style="height: 20px; width: 20px;"
  />`,spotify:we`<img
    class="spotify"
    src="https://archive.org/images/music-theater/spotify.svg"
    alt="Spotify logo"
    style="display: block;"
  />`,webamp:we`<img
    class="webamp"
    src="https://archive.org/images/music-theater/webamp.svg"
    alt="webamp logo"
    style="height: 20px;"
  />`,youtube:we`<img
    class="youtube"
    src="https://archive.org/images/music-theater/youtube.svg"
    alt="youtube logo"
    style="height: 20px; width: 20px; display: block;"
  />`},sp=({label:e=Oo.iaPlayer,selected:t})=>{let r=uu({filter:t?"invert(1)":"invert(0)",height:"20px",width:"20px"}),a=yo({selected:t,"invert-icon-at-hover-selected":t});return we`
    <ia-icon-label class=${a}>
      <span slot="icon" style=${r}>${Fa.ia}</span>
      <span>${e}</span>
    </ia-icon-label>
  `},Wk=e=>{let t=uu({filter:e?"invert(1)":"invert(0)",height:"20px",width:"20px"}),r=yo({selected:e,"invert-icon-at-hover-selected":e});return we`
    <ia-icon-label class=${r}>
      <span slot="icon" style=${t}>${Fa.beta}</span>
      <span>${Oo.beta}</span>
    </ia-icon-label>
  `},Vk=e=>we`
  <ia-icon-label class="${e?"selected":""}">
    <span slot="icon">${Fa.spotify}</span>
    <span>${Oo.spotify}</span>
  </ia-icon-label>
`,qk=e=>{let t=uu({filter:e?"invert(1)":"invert(0)",height:"20px",width:"20px"}),r=yo({selected:e,"invert-icon-at-hover-selected":e});return we`
    <ia-icon-label class=${r}>
      <span slot="icon" style=${t}>${Fa.webamp}</span>
      <span>Webamp</span>
    </ia-icon-label>
  `},Gk=e=>we`
  <ia-icon-label class="${e?"selected":""}">
    <span slot="icon">${Fa.youtube}</span>
    <span>${Oo.youtube}</span>
  </ia-icon-label>
`,A8=({samples:e,onClick:t,href:r,selected:a})=>{let l=e?Oo.iaSamples:Oo.iaPlayer;return we`
    <a href=${r} @click=${()=>t()}>${sp({label:l,selected:a})}</button>
  `},C8=({samples:e,onClick:t,selected:r})=>{let a=e?Oo.iaSamples:Oo.iaPlayer;return we`
    <button @click=${l=>t(l)} class="ia">
      ${sp({label:a,selected:r})}
    </button>
  `},E8=({onClick:e,selected:t})=>we`<button
  @click=${r=>e(r)}
  class="ia-beta"
>
  ${Wk(t)}
</button>`,T8=({onClick:e,selected:t})=>we`<button
  @click=${r=>e(r)}
  class="sp"
>
  ${Vk(t)}
</button>`,$8=({onClick:e,href:t,selected:r})=>{let a=`${t}?webamp=default`;return we`
    <a href=${a} @click=${l=>e(l)} class="wa">${qk(r)}</button>
  `},P8=({onClick:e,selected:t})=>we`<button
  @click=${r=>e(r)}
  class="yt"
>
  ${Gk(t)}
</button>`,O8=({samples:e,onClick:t,href:r,selectedOption:a})=>({url:r,selectedHandler:l=>{t(l)},label:sp({label:e?Oo.iaSamples:Oo.iaPlayer,selected:a===Lr.ia}),id:Lr.ia}),M8=({samples:e,onClick:t,selectedOption:r})=>({selectedHandler:a=>{t(a)},label:sp({label:e?Oo.iaSamples:Oo.iaPlayer,selected:r===Lr.ia}),id:Lr.ia}),I8=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:Wk(t===Lr.beta),id:Lr.beta}),L8=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:Vk(t===Lr.spotify),id:Lr.spotify}),D8=({href:e,onClick:t,selectedOption:r})=>{let a=l=>{t(l)};return{url:`${e}?webamp=default`,selectedHandler:a,label:qk(r===Lr.webamp),id:Lr.webamp}},R8=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:Gk(t===Lr.youtube),id:Lr.youtube}),j8=e=>{let{spotify:t,beta:r,youtube:a,selectedOption:l}=e;return[l===Lr.webamp?O8(e):M8(e),r?I8(e):null,t?L8(e):null,a?R8(e):null,D8(e)].filter(Boolean)};(function(e){e.postInit="postInit",e.channelChange="channelChange"})(op||(op={}));Vo=class extends Yt{constructor(){super(...arguments),this.youtube=!1,this.spotify=!1,this.beta=!1,this.webamp=!0,this.samples=!1,this.backgroundTheme="dark",this.selected=Lr.ia,this.displayStyle="radio",this.url=""}firstUpdated(){this.dispatchEvent(new CustomEvent(op.postInit,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}emitChannelChanged(){this.dispatchEvent(new CustomEvent(op.channelChange,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}iaClicked(){this.selected!==Lr.ia&&(this.selected=Lr.ia,this.emitChannelChanged())}betaClicked(){this.selected!==Lr.beta&&(this.selected=Lr.beta,this.emitChannelChanged())}spotifyClicked(){this.selected!==Lr.spotify&&(this.selected=Lr.spotify,this.emitChannelChanged())}webampClicked(){this.selected!==Lr.webamp&&(this.selected=Lr.webamp,this.emitChannelChanged())}youtubeClicked(){this.selected!==Lr.youtube&&(this.selected=Lr.youtube,this.emitChannelChanged())}dropdownOptionSelected(e){this.selected=e.id,this.emitChannelChanged(),this.iaDropdown.open=!1}get iaLinkSelector(){let e=this.selected===Lr.ia?"selected":"";return we`
      <li class=${e}>
        ${A8({samples:this.samples,selected:this.selected===Lr.ia,onClick:()=>this.iaClicked(),href:this.url})}
      </li>
    `}get iaButtonSelector(){let e=this.selected===Lr.ia?"selected":"";return we`
      <li class=${e}>
        ${C8({samples:this.samples,selected:this.selected===Lr.ia,onClick:()=>this.iaClicked()})}
      </li>
    `}get iaBetaSelector(){let e=this.selected===Lr.beta?"selected":"";return we`
      <li class=${e}>
        ${E8({selected:this.selected===Lr.beta,onClick:()=>this.betaClicked()})}
      </li>
    `}get spotifySelector(){let e=this.selected===Lr.spotify?"selected":"";return we`
      <li class=${e}>
        ${T8({selected:this.selected===Lr.spotify,onClick:()=>this.spotifyClicked()})}
      </li>
    `}get webampSelector(){let e=this.selected===Lr.webamp?"selected":"";return we`
      <li class=${e}>
        ${$8({href:this.url||window.location.href,selected:this.selected===Lr.webamp,onClick:()=>this.webampClicked()})}
      </li>
    `}get youtubeSelector(){let e=this.selected===Lr.youtube?"selected":"";return we`
      <li class=${e}>
        ${P8({selected:this.selected===Lr.youtube,onClick:()=>this.youtubeClicked()})}
      </li>
    `}get properIaSelector(){return this.selected===Lr.webamp?this.iaLinkSelector:this.iaButtonSelector}toggleDisplayStyle(){let e=this.displayStyle==="dropdown"?"radio":"dropdown";this.displayStyle=e}shouldShowChannelType(e){let t=this.selected===e;return this.displayStyle==="radio"?!0:!(this.displayStyle==="dropdown"&&t)}get dropdownOptions(){let{samples:e,beta:t,spotify:r,webamp:a,youtube:l,url:o,selected:u}=this;return j8({selectedOption:u,samples:!!e,beta:t,spotify:r,webamp:a,youtube:l,href:o,onClick:this.dropdownOptionSelected.bind(this)})}get currentlySelectedIcon(){switch(this.selected){case Lr.beta:return Fa.beta;case Lr.spotify:return Fa.spotify;case Lr.youtube:return Fa.youtube;case Lr.webamp:return Fa.webamp;default:return Fa.ia}}get dropdown(){return we`
      <ia-dropdown
        displayCaret
        .options=${this.dropdownOptions}
        .selectedOption=${this.selected}
        class=${this.backgroundTheme}
      >
        <span slot="dropdown-label">${this.currentlySelectedIcon}</span>
      </ia-dropdown>
    `}get radioView(){return we`
      <div id="selector-title"><h4>Play from:</h4></div>
      <div>
        <ul>
          ${this.properIaSelector} ${this.beta?this.iaBetaSelector:ei}
          ${this.youtube?this.youtubeSelector:ei}
          ${this.spotify?this.spotifySelector:ei}
          ${this.webamp?this.webampSelector:ei}
        </ul>
      </div>
    `}render(){return we`
      <section
        id=${this.displayStyle}
        class="${this.displayStyle} ${this.backgroundTheme}"
      >
        ${Hk(this.displayStyle==="radio"?this.radioView:this.dropdown)}
      </section>
    `}};Vo.styles=[Le`
      :host {
        display: block;
      }

      :host(:focus) {
        outline: none;
      }

      section.radio ul,
      section.radio h4 {
        color: #fff;
      }

      section.radio.light h4 {
        color: #222;
      }

      ia-dropdown.light {
        --channel-selector-dropdown-text-color: #222;
        color: var(--channel-selector-dropdown-text-color, #222);
        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #222);
      }

      ia-dropdown {
        --dropdownBgColor: #333;
        --dropdownHoverBgColor: #474747;
        color: var(--channel-selector-dropdown-text-color, #fff);
        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #fff);
      }

      ia-dropdown.light img.ia,
      ia-dropdown.light img.ia-beta,
      ia-dropdown.light img.webamp {
        filter: invert(1);
      }

      h4 {
        margin: 0;
      }

      a:link,
      a:visited,
      a:active,
      a {
        color: inherit;
        text-decoration: none;
      }

      button {
        color: inherit;
        background: none;
        border: none;
        padding: 0;
        font: inherit;
        cursor: pointer;
        outline: inherit;
        margin: 0;
      }

      li > *,
      #dropdown .selected-option {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-content: center;
        justify-content: center;
        align-items: center;
        width: 100%;
      }

      li:hover {
        background-color: var(--channel-selector-hover-bg-color, #474747);
      }

      li.selected {
        background-color: #fff;
        color: #2c2c2c;
      }

      ul,
      li {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }

      li {
        display: flex;
        height: 30px;
        background-color: #333;
      }

      #dropdown .close,
      .sr-only {
        width: 1px;
        height: 1px;
        padding: 0px;
        margin: -1px;
        overflow: hidden;
        clip: rect(0px, 0px, 0px, 0px);
        border: 0px;
        display: block;
      }

      #radio .selected-option {
        display: none;
      }

      li a.ia {
        display: flex;
      }

      *[slot='dropdown-label'] img {
        height: 30px !important;
        width: 30px !important;
        display: block;
      }
    `,S8];Y([St({attribute:!0,type:Boolean,reflect:!0})],Vo.prototype,"youtube",void 0);Y([St({attribute:!0,type:Boolean,reflect:!0})],Vo.prototype,"spotify",void 0);Y([St({attribute:!0,type:Boolean,reflect:!0})],Vo.prototype,"beta",void 0);Y([St({attribute:!0,type:Boolean,reflect:!0})],Vo.prototype,"webamp",void 0);Y([St({attribute:!0,type:Boolean,reflect:!0})],Vo.prototype,"samples",void 0);Y([St({attribute:!0,type:String,reflect:!0})],Vo.prototype,"backgroundTheme",void 0);Y([St({type:String,reflect:!0})],Vo.prototype,"selected",void 0);Y([St({type:String,reflect:!0})],Vo.prototype,"displayStyle",void 0);Y([St({type:String})],Vo.prototype,"url",void 0);Y([wr("ia-dropdown")],Vo.prototype,"iaDropdown",void 0);Vo=Y([Fi("channel-selector")],Vo);dd=class extends Yt{constructor(){super(...arguments),this.iaIdentifier="",this.gradType=""}updated(e){e.has("iaIdentifier")&&this.setGradType()}hashStrToInt(e){return e.split("").reduce((t,r)=>t+r.charCodeAt(0),0)}setGradType(){let e=0;this.iaIdentifier?(e=this.hashStrToInt(this.iaIdentifier)%6,this.gradType=`grad${e}`):this.gradType="grad0",this.dispatchEvent(new CustomEvent("iaMusicNoImageAvailable",{detail:{gradient:e,gradType:this.gradType,identifier:this.iaIdentifier},bubbles:!0,composed:!0}))}render(){return we`
      <div class="no-image">
        <ia-icon-audio class=${this.gradType}></ia-icon-audio>
      </div>
    `}};dd.styles=Le`
    ia-icon-audio {
      margin: auto;
      display: block;
      height: var(--imageHeight, 100%);
      width: var(--imageWidth, 100%);
      opacity: 0.8;
    }
    :host {
      height: 100%;
      width: 100%;
    }

    ia-icon-audio {
      border: 1px solid #fff8;
    }

    ia-icon-audio.grad0 {
      background: linear-gradient(
        hsl(300, 80%, 55%),
        hsl(330, 80%, 33%) 35%,
        hsl(330, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad1 {
      background: linear-gradient(
        hsl(200, 80%, 55%),
        hsl(230, 80%, 33%) 35%,
        hsl(230, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad2 {
      background: linear-gradient(
        hsl(160, 80%, 55%),
        hsl(190, 80%, 33%) 35%,
        hsl(190, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad3 {
      background: linear-gradient(
        hsl(250, 80%, 55%),
        hsl(280, 80%, 33%) 35%,
        hsl(280, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad4 {
      background: linear-gradient(
        hsl(280, 80%, 55%),
        hsl(310, 80%, 33%) 35%,
        hsl(310, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad5 {
      background: linear-gradient(
        hsl(340, 80%, 55%),
        hsl(0, 80%, 33%) 35%,
        hsl(0, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }
  `;Y([St({type:String,reflect:!0,attribute:!0})],dd.prototype,"iaIdentifier",void 0);Y([St({type:String,reflect:!0})],dd.prototype,"gradType",void 0);dd=Y([Fi("iamusic-noimage")],dd);F8=we`
  <svg
    id="more-inside-icon"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 100 100"
  >
    <path
      d="m96.8125698 30.0518396-12.4391845 11.1531924c-6.4532715-6.3905169-12.9677985-11.5730208-19.5435809-15.5475116s-12.5677954-6.5813314-17.976039-7.8205218c-5.4082436-1.2391903-10.6069142-1.851437-15.5960116-1.8369986-4.9890974.0149552-9.3415934.6580779-13.0574879 1.9296264-3.7158945 1.2715486-6.9635733 2.5779337-9.74303641 3.9191553-2.77946307 1.3412217-4.90933068 2.5788117-6.38960283 3.7127699l-2.06762666 1.7089107c7.29513996.9354669 14.2472986 2.8747038 20.856476 5.8177108 6.6091773 2.9430069 12.0620941 6.1781707 16.3587501 9.7054913 4.2966561 3.5273205 8.0790367 6.9908189 11.3471418 10.3904951 3.2681052 3.3996761 5.6276868 6.2214567 7.0787448 8.4653416l2.1765871 3.3658274-13.0786842 11.7265792 55.2609844 8.2580923z"
      fill-rule="evenodd"
      class="fill-color"
    />
  </svg>
`,go=class extends Yt{constructor(){super(...arguments),this.showAllPhotos=!1,this.baseHost="archive.org",this.signedIn=!1,this.itemIdentifier="",this.fullscreenActive=!1,this.reInitBrAtFullscreen=!1,this.noImageAvailable=!1,this.backgroundTheme="dark",this.bindBrEvents=()=>{window.addEventListener("BookReader:PostInit",this.handleBrPostInit),window.addEventListener("BookReader:fullscreenToggled",()=>{var e;this.fullscreenActive=((e=this.bookreader)===null||e===void 0?void 0:e.isFullscreen())||!1;let t=this.fullscreenActive?"fullscreenOpened":"fullscreenClosed";this.dispatchEvent(new Event(t))})}}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("BookReader:PostInit",this.handleBrPostInit)}firstUpdated(){this.bindBrEvents()}updated(e){e.has("linerNotesManifest")&&this.linerNotesManifest&&this.loadFreshBookReaderFromManifest(),e.has("showAllPhotos")&&this.showAllPhotos&&this.initBr(500)}render(){if(this.noImageAvailable)return we`
        <div class="no-images">
          <iamusic-noimage .iaIdentifier=${this.itemIdentifier}
            >no image available</iamusic-noimage
          >
        </div>
      `;let e=this.backgroundTheme==="light"?"light":"",t=this.showAllPhotos?"show-back":"",r=this.fullscreenActive?"fullscreenActive":"";return we`
      <div
        class=${`flip-card ${t} ${r} ${e}`}
      >
        <div class="flip-card-inner">
          <div class="flip-card-front">${this.photoAlbumCover}</div>
          <div class="flip-card-back">${this.linerNotesView}</div>
        </div>
      </div>
    `}togglePhotoViewer(){this.showAllPhotos=!this.showAllPhotos,this.showAllPhotos||(this.fullscreenActive=!1,this.dispatchEvent(new Event("fullscreenClosed")))}get imageBaseUrl(){return`https://${this.baseHost}/download/${this.itemIdentifier}`}get primaryImage(){var e;if(this.linerNotesManifest){let t=(e=this.linerNotesManifest.brOptions.data)===null||e===void 0?void 0:e.flat()[0];return(t==null?void 0:t.uri)||void 0}}get linerNotesView(){return we`
      <div class=${"photo-viewer-container"}>
        <button
          id="close-photo-viewer"
          @click=${()=>{var e;(e=this.bookreader)===null||e===void 0||e.exitFullScreen(),this.togglePhotoViewer()}}
        >
          <span class="sr-only">Click to close Photo Viewer.</span>
          <ia-icon-close-circle></ia-icon-close-circle>
        </button>
        <ia-bookreader
          .item=${this.linerNotesManifest}
          .baseHost=${this.baseHost}
          .signedIn=${this.signedIn}
          ><div slot="main"><slot name="main"></slot></div
        ></ia-bookreader>
      </div>
    `}get photoAlbumCover(){var e,t;let r=(t=(e=this.itemMD)===null||e===void 0?void 0:e.title)!==null&&t!==void 0?t:this.itemIdentifier,a=this.primaryImage?this.primaryImage:`//${this.baseHost}/services/img/${this.itemIdentifier}`;return we`
      <div class="cover-art">
        <button
          class="click-for-photos"
          @click=${()=>Vt(this,null,function*(){this.togglePhotoViewer()})}
        >
          <img
            src=${a}
            alt=${`primary image for ${r}`}
            @load=${l=>{let o=l.target,{width:u,height:n}=o.getBoundingClientRect();this.dispatchEvent(new CustomEvent("coverImageLoaded",{detail:{width:u,height:n,target:o}}))}}
          />
          <span class="sr-only">See all photos for ${r}</span>
          <div id="see-more-cta">
            <p><span>See more</span> <span>${F8}</span></p>
          </div>
        </button>
      </div>
    `}handleBrPostInit(e){this.bookreader=e==null?void 0:e.detail.props,window.br=this.bookreader,setTimeout(()=>{var t,r;(t=this.bookreader)===null||t===void 0||t.jumpToIndex(0),(r=this.bookreader)===null||r===void 0||r.resize()},1e3)}prepareLightDomHook(){var e,t;let r=(e=this.lightDomHook)===null||e===void 0?void 0:e.querySelector("div.bookreader-slot");r&&((t=this.lightDomHook)===null||t===void 0||t.removeChild(r))}loadFreshBookReaderFromManifest(){return Vt(this,null,function*(){yield this.mountBookReaderLightDomHook(),yield this.initBr()})}initBr(e=0){return Vt(this,null,function*(){console.log("&&&& INIT BR"),yield new Promise(t=>{setTimeout(()=>{var r,a;this.bookreader=this.linerNotesManifest&&N8(this.linerNotesManifest),console.log("&&&& BR OPTIONS",(r=this.bookreader)===null||r===void 0?void 0:r.options),(a=this.bookreader)===null||a===void 0||a.init(),t()},e)})})}mountBookReaderLightDomHook(){return Vt(this,null,function*(){yield new Promise(e=>{var t,r,a;let l=(t=this.lightDomHook)===null||t===void 0?void 0:t.querySelector("div.bookreader-slot");l&&((r=this.lightDomHook)===null||r===void 0||r.removeChild(l));let o=document.createElement("div");o.setAttribute("slot","main"),o.classList.add("bookreader-slot");let u=document.createElement("div");u.classList.add("liner-notes"),o.append(u),(a=this.lightDomHook)===null||a===void 0||a.append(o),u.setAttribute("id","BookReader"),u.classList.add("BookReader"),e(!0)})})}};go.styles=Le`
    :host {
      display: block;
    }

    :host[fullscreenactive],
    .flip-card.fullscreenActive {
      position: absolute;
      inset: 0;
      height: var(--linerNotesFullscreenHeight, 100vh);
    }

    div.no-images {
      display: flex;
      height: inherit;
    }
    div.no-images * {
      --iconFillColor: white;
      --iconHeight: 250px;
      --iconWidth: 250px;
      margin: auto;
    }

    ia-icon-texts {
      height: 50px;
      width: 50px;
      --iconFillColor: white;
      display: block;
    }

    button {
      cursor: pointer;
      border: 1px solid transparent;
      background-color: transparent;
    }

    .cover-art,
    button.click-for-photos {
      height: inherit;
      position: relative;
      padding: 0;
    }

    button.click-for-photos {
      display: flex;
      margin: auto;
      min-height: 30%;
      min-width: 25%;
    }

    button.click-for-photos img {
      display: block;
      overflow: hidden;
      object-fit: contain;
      object-position: top;
      max-width: 100%;
      margin-top: 18px;
      max-height: calc(var(--linerNotesInTheaterHeight, 100%) - 30px);
    }

    button.click-for-photos ia-icon-texts,
    button#close-photo-viewer {
      position: absolute;
      top: 0;
      right: 0;
    }

    button span.sr-only {
      position: absolute;
      height: 1px;
      width: 1px;
      top: 0;
      left: 0;
      visibility: hidden;
    }

    button#close-photo-viewer {
      border: none;
      z-index: 2;
      padding: 0;
    }

    button#close-photo-viewer ia-icon-close-circle {
      display: block;
      padding: 10px;
      --iconHeight: 20px;
      --iconWidth: 20px;
      --iconFillColor: #fff;
    }

    .flip-card {
      width: 100%;
      height: 100%;
      perspective: 1000px;
    }

    .flip-card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .flip-card.show-back .flip-card-inner {
      transform: rotateY(180deg);
    }

    .flip-card.show-back .flip-card-front .cover-art {
      transition: height 0.5s;
      height: 100%;
      visibility: hidden;
    }

    .flip-card-front,
    .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: transparent;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }

    .flip-card-back {
      transform: rotateY(180deg);
    }

    .photo-viewer-container {
      height: inherit;
    }

    ia-bookreader {
      display: block;
      background-color: transparent;
    }

    /* see more cta */
    .flip-card #see-more-cta {
      font-family: 'Helvetica Neue Bold', Helvetica, Arial, sans-serif;
      font-weight: bold;
      font-size: 14px;
      align-self: end;
      margin: 0;
      position: absolute;
      top: 0;
      right: 0;
    }
    .flip-card #see-more-cta p {
      display: inline-block;
      margin: 0;
      width: 90px;
    }
    .flip-card #see-more-cta svg {
      position: absolute;
      width: 16px;
      margin-left: 0px;
      top: 0;
      right: 0;
      margin-top: -2px;
    }

    .flip-card #see-more-cta {
      color: white;
    }
    .flip-card #see-more-cta .fill-color {
      fill: white;
    }

    .flip-card.light #see-more-cta {
      color: #222;
    }
    .flip-card.light #see-more-cta .fill-color {
      fill: #222;
    }
  `;Y([St({type:Boolean,reflect:!0})],go.prototype,"showAllPhotos",void 0);Y([St({type:String,attribute:!0,reflect:!0})],go.prototype,"baseHost",void 0);Y([St({type:Boolean,reflect:!0})],go.prototype,"signedIn",void 0);Y([St({type:String,reflect:!0,attribute:!0})],go.prototype,"itemIdentifier",void 0);Y([St({type:Object})],go.prototype,"itemMD",void 0);Y([St({type:Object})],go.prototype,"linerNotesManifest",void 0);Y([St({type:Object})],go.prototype,"bookreader",void 0);Y([St({type:Boolean,reflect:!0})],go.prototype,"fullscreenActive",void 0);Y([St({type:Boolean})],go.prototype,"reInitBrAtFullscreen",void 0);Y([St({type:Boolean,reflect:!0})],go.prototype,"noImageAvailable",void 0);Y([St({attribute:!0,type:String,reflect:!0})],go.prototype,"backgroundTheme",void 0);Y([St({type:Object})],go.prototype,"lightDomHook",void 0);Y([wr("button.click-for-photos img")],go.prototype,"coverImage",void 0);go=Y([Fi("iaux-photo-viewer")],go);zu=class extends Yt{constructor(){super(...arguments),this.iaUrn="",this.display=!1,this.baseHost="https://archive.org"}get youTubeUrl(){if(!this.iaUrn||!this.iaUrn.match(/urn:youtube:/g))return"";let e=this.iaUrn.replace(/urn:youtube:/g,"").replace(/:/g,"/"),t=`origin=${this.baseHost}&widgetid=1&autoplay=1&rel=0`;return`https://www.youtube.com/embed/${e}?${t}`}render(){let e=this.youTubeUrl;return e?we`
      <iframe
        id="embed-iframe"
        src="${e}"
        width="100%"
        height="200"
        frameborder="0"
        allowtransparency="true"
        allow="encrypted-media"
        title="YouTube Player"
      ></iframe>
    `:ei}static get styles(){return[Le`
        :host {
          display: block;
          width: 100%;
          height: 100%;
        }
      `]}};Y([St({type:String,reflect:!0})],zu.prototype,"iaUrn",void 0);Y([St({type:Boolean,reflect:!0})],zu.prototype,"display",void 0);Y([St({type:String})],zu.prototype,"baseHost",void 0);Y([wr("iframe")],zu.prototype,"iframe",void 0);zu=Y([Fi("youtube-player")],zu);ap=class extends Yt{constructor(){super(...arguments),this.iaUrn=""}get spotifyUrl(){return!this.iaUrn||!this.iaUrn.match(/urn:spotify:/g)?"":`https://open.spotify.com/embed/${this.iaUrn.replace(/urn:spotify:/g,"").replace(/:/g,"/")}`}render(){let e=this.spotifyUrl;return e?we`
      <iframe
        id="embed-iframe"
        src="${e}"
        width="100%"
        height="80"
        frameborder="0"
        allowtransparency="true"
        allow="encrypted-media"
        title="Spotify Player"
      ></iframe>
    `:we`<h3>Invalid Spotify URI: ${this.iaUrn}</h3>`}static get styles(){return[Le`
        :host {
          display: block;
          width: 100%;
          height: 100%;
        }
      `]}};Y([St({type:String,attribute:!0,reflect:!0})],ap.prototype,"iaUrn",void 0);Y([wr("iframe")],ap.prototype,"iframe",void 0);ap=Y([Fi("spotify-player")],ap);ns=class extends Yt{constructor(){super(...arguments),this.selectedChannel="",this.playerApi=void 0}updated(e){e.has("album")&&this.album&&this.dispatchAlbumInfo(),e.has("selectedChannel")&&this.selectedChannel&&this.album&&this.updateToSelectedChannel(),e.has("selectedTrack")&&this.selectedTrack&&this.dispatchSelectedTrack()}dispatchSelectedTrack(){console.log("externalchannels-player: SELECTED TRACK",this.selectedTrack),this.dispatchEvent(new CustomEvent("externalChannelsSelectedTrack",{detail:{track:this.selectedTrack}}))}dispatchAlbumInfo(){var e,t;console.log("externalchannels-player: ALBUM INFO",this.album),this.dispatchEvent(new CustomEvent("externalChannelsPlayerLoaded",{detail:{album:this.album,spotifyTracks:((e=this.album)===null||e===void 0?void 0:e.spotifyTracks)||[],youtubeTracks:((t=this.album)===null||t===void 0?void 0:t.youtubeTracks)||[]}}))}onTracklistClickCallback(e){var t,r,a,l,o;this.currentTrackNum=e+1;let u=(t=this.album)===null||t===void 0?void 0:t.tracks.find(n=>n.track===this.currentTrackNum);if(this.selectedChannel===Lr.spotify){let n=(r=this.album)===null||r===void 0?void 0:r.spotifyTracks.find(c=>c.track===this.currentTrackNum);u=n!=null?n:(a=this.album)===null||a===void 0?void 0:a.spotifyTracks[0]}else if(this.selectedChannel===Lr.youtube){let n=(l=this.album)===null||l===void 0?void 0:l.youtubeTracks.find(c=>c.track===this.currentTrackNum);u=n!=null?n:(o=this.album)===null||o===void 0?void 0:o.youtubeTracks[0]}this.selectedTrack=u,console.log("*** onTracklistClickCallback ** ",{selectedTrack:u,iaTrackNum:e,currentTrackNum:this.currentTrackNum})}updateToSelectedChannel(){var e,t,r,a,l;if(this.selectedChannel==="youtube"){let o=this.album.youtubeTracks||[],u=[];if(console.log("youtubeTracks",o),o.length){let n=o.reduce((c,d)=>{let f=Number.isInteger(d.track)?`${d.track}`:"n/a";if(c.push(f),f!=="n/a"){let p=Number(f)-1;u.push(p)}return c},[]).join(", ");console.log("ytTrackNums",{ytTrackNums:n,iaYtTracklist:u}),(e=this.playerApi)===null||e===void 0||e.headless(u,c=>this.onTracklistClickCallback(c))}}else if(this.selectedChannel==="spotify"){let o=((t=this.album)===null||t===void 0?void 0:t.spotifyTracks)||[],u=[];if(console.log("spotifyTracks",o),o.length){let n=((r=this.album)===null||r===void 0?void 0:r.spotifyTracks.reduce((c,d)=>{let f=Number.isInteger(d.track)?`${d.track}`:"n/a";if(c.push(f),f!=="n/a"){let p=Number(f)-1;u.push(p)}return c},[])).join(", ");console.log("spTrackNums ------",{spTrackNums:n,iaSpTracklist:u}),(a=this.playerApi)===null||a===void 0||a.headless(u,c=>this.onTracklistClickCallback(c))}}else(l=this.playerApi)===null||l===void 0||l.headless()}render(){var e,t;if(!(this.selectedChannel==="youtube"||this.selectedChannel==="spotify"))return ei;if(this.selectedChannel==="spotify"){let r=(e=this.album)===null||e===void 0?void 0:e.spotifyTracks.find(a=>{var l;return(a==null?void 0:a.track)===((l=this.selectedTrack)===null||l===void 0?void 0:l.track)});if(r)return we`
          <spotify-player .iaUrn=${r==null?void 0:r.spotifyId}></spotify-player>
        `}else if(this.selectedChannel==="youtube"){let r=(t=this.album)===null||t===void 0?void 0:t.youtubeTracks.find(a=>{var l;return a.track===((l=this.selectedTrack)===null||l===void 0?void 0:l.track)});if(console.log("~~~~ trackFound YT ID",r==null?void 0:r.youtubeId,r),r)return we`
          <youtube-player .iaUrn=${r.youtubeId}></youtube-player>
        `}return ei}};Y([St({type:String,attribute:!0,reflect:!0})],ns.prototype,"selectedChannel",void 0);Y([St({type:Object})],ns.prototype,"playerApi",void 0);Y([St({type:Object})],ns.prototype,"album",void 0);Y([St({type:Object})],ns.prototype,"selectedTrack",void 0);Y([Er()],ns.prototype,"currentTrackNum",void 0);Y([wr("spotify-player")],ns.prototype,"spotifyPlayer",void 0);Y([wr("youtube-player")],ns.prototype,"youtubePlayer",void 0);ns=Y([Fi("externalchannels-player")],ns)});var Kk=Wt(()=>{Ol();Zi();ti();Ar();f0();m0();g0();v0();y0();cc();Ea();Yk()});var Hn,lp=Wt(()=>{jd();Hn="jQuery"in window&&"$"in window?window.$:ys;window.jQuery=Hn;window.$=Hn});var hd,Zk=Wt(()=>{hd=class{static LoadingMessage({message:t="Loading"}){return`<small class="loading-message">${t}</small>`}static ErrorMessage({errorMessage:t}){return`<small>${t}</small>`}}});function pd(){Hn(".row .tilebars").find(".results").parents(".row").each((e,t)=>{let r=!1;Hn(t).find(".results").each((a,l)=>{Hn(l).show().css({visibility:"hidden"}),r||(r=Hn(l).offset()),Hn(l).offset().top!==r.top?Hn(l).hide():Hn(l).css({visibility:"visible"})})})}var Jk=Wt(()=>{lp()});var up,Xk=Wt(()=>{up=class{constructor(t,r=250,a=void 0){this.callback=t,this.threshhold=r,this.context=a,this.last=void 0,this.deferTimeout=void 0}execute(){let t=+new Date;this.last&&t<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}executeCallback(){this.last=+new Date,this.callback.apply(this.context)}}});var cp,Qk=Wt(()=>{lp();Xk();cp=class{constructor(t,r,a){this.identifier=t,this.$targetElement=r,this.callback=a,this.$window=Hn(window),this.throttler=new up(this.scrollListener,100,this)}startListener(){this.$window.on(`scroll.${this.identifier}`,this.throttledListener.bind(this)),this.scrollListener()}throttledListener(){return this.throttler.execute()}getTargetScrollOffset(){let t=this.$targetElement.offset().top,r=this.$window.height();return t-r/2}scrollListener(){let t=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=t&&(this.$window.off(`.${this.identifier}`),this.callback())}}});var e3,t3=Wt(()=>{e3=/bot|crawl|spider/i.test(navigator.userAgent)});var Hu,i3=Wt(()=>{lp();Zk();Jk();Qk();t3();Hu=class e{static setup(){let t=Hn("#js-related");if(t.length&&(pd(),Hn(window).on("resize  orientationchange",a=>{clearTimeout(e.also_found_throttler),e.also_found_throttler=setTimeout(pd,250)})),!t.length||e3)return;let r=Hn("#also-found");this.scrollProximityHandler=new cp("related_items",r,()=>{if(!t.text())return r.find(".tilebars").show(),t.html(hd.LoadingMessage({message:"Fetching items"})),e.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}static doWhenScrolledToRelatedSection(){let t=Hn("#also-found").data("identifier"),r=Hn("#js-related");return e.getRelatedItems(t).then(a=>{r.html(a),pd()}).catch(a=>{Hn("#playplayset").hide(),r.html(hd.ErrorMessage({errorMessage:a.message})).show()})}static getRelatedItems(t,r){return new Promise((a,l)=>{let o=`/details/${encodeURIComponent(t)}?RelatedItemsGet=${r?"json":1}`,u="Related items temporarily unavailable. Please try back later.";Hn.get(o,n=>{n===""&&l(new Error("No similar items found.")),n==="service_disabled"&&l(new Error(u)),a(n)}).fail(()=>{l(new Error(u))})})}};Hn(()=>Hu.setup())});function dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}function w0(e,t){function r(l,o,u){if(!(typeof document>"u")){u=dp({},t,u),typeof u.expires=="number"&&(u.expires=new Date(Date.now()+u.expires*864e5)),u.expires&&(u.expires=u.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var c in u)u[c]&&(n+="; "+c,u[c]!==!0&&(n+="="+u[c].split(";")[0]));return document.cookie=l+"="+e.write(o,l)+n}}function a(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var o=document.cookie?document.cookie.split("; "):[],u={},n=0;n<o.length;n++){var c=o[n].split("="),d=c.slice(1).join("=");try{var f=decodeURIComponent(c[0]);if(u[f]=e.read(d,f),l===f)break}catch(p){}}return l?u[l]:u}}return Object.create({set:r,get:a,remove:function(l,o){r(l,"",dp({},o,{expires:-1}))},withAttributes:function(l){return w0(this.converter,dp({},this.attributes,l))},withConverter:function(l){return w0(dp({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var z8,os,_0=Wt(()=>{z8={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};os=w0(z8,{path:"/"});});var k0=Wt(()=>{_0();_0()});var hp,pp,x0,r3,S0,Un,fd,A0,fp,md=Wt(()=>{hp=window,pp=hp.ShadowRoot&&(hp.ShadyCSS===void 0||hp.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,x0=Symbol(),r3=new WeakMap,S0=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==x0)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(pp&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=r3.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&r3.set(t,e))}return e}toString(){return this.cssText}},Un=e=>new S0(typeof e=="string"?e:e+"",void 0,x0),fd=(e,...t)=>{let r=e.length===1?e[0]:t.reduce((a,l,o)=>a+(u=>{if(u._$cssResult$===!0)return u.cssText;if(typeof u=="number")return u;throw Error("Value passed to 'css' function must be a 'css' function result: "+u+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+e[o+1],e[0]);return new S0(r,e,x0)},A0=(e,t)=>{pp?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{let a=document.createElement("style"),l=hp.litNonce;l!==void 0&&a.setAttribute("nonce",l),a.textContent=r.cssText,e.appendChild(a)})},fp=pp?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let a of t.cssRules)r+=a.cssText;return Un(r)})(e):e;});var C0,mp,n3,H8,E0,$0,o3,T0,P0,Dl,O0=Wt(()=>{md();md();mp=window,n3=mp.trustedTypes,H8=n3?n3.emptyScript:"",E0=mp.reactiveElementPolyfillSupport,$0={toAttribute(e,t){switch(t){case Boolean:e=e?H8:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(a){r=null}}return r}},o3=(e,t)=>t!==e&&(t==t||e==e),T0={attribute:!0,type:String,converter:$0,reflect:!1,hasChanged:o3},P0="finalized",Dl=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,r)=>{let a=this._$Ep(r,t);a!==void 0&&(this._$Ev.set(a,r),e.push(a))}),e}static createProperty(e,t=T0){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,a=this.getPropertyDescriptor(e,r,t);a!==void 0&&Object.defineProperty(this.prototype,e,a)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(a){let l=this[e];this[t]=a,this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||T0}static finalize(){if(this.hasOwnProperty(P0))return!1;this[P0]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let a of r)this.createProperty(a,t[a])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let a of r)t.unshift(fp(a))}else e!==void 0&&t.push(fp(e));return t}static _$Ep(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return A0(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostConnected)===null||r===void 0?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostDisconnected)===null||r===void 0?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=T0){var a;let l=this.constructor._$Ep(e,r);if(l!==void 0&&r.reflect===!0){let o=(((a=r.converter)===null||a===void 0?void 0:a.toAttribute)!==void 0?r.converter:$0).toAttribute(t,r.type);this._$El=e,o==null?this.removeAttribute(l):this.setAttribute(l,o),this._$El=null}}_$AK(e,t){var r;let a=this.constructor,l=a._$Ev.get(e);if(l!==void 0&&this._$El!==l){let o=a.getPropertyOptions(l),u=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:$0;this._$El=l,this[l]=u.fromAttribute(t,o.type),this._$El=null}}requestUpdate(e,t,r){let a=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||o3)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):a=!1),!this.isUpdatePending&&a&&(this._$E_=this._$Ej())}_$Ej(){return Vt(this,null,function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((a,l)=>this[l]=a),this._$Ei=void 0);let t=!1,r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(a=>{var l;return(l=a.hostUpdate)===null||l===void 0?void 0:l.call(a)}),this.update(r)):this._$Ek()}catch(a){throw t=!1,this._$Ek(),a}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var a;return(a=r.hostUpdated)===null||a===void 0?void 0:a.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,r)=>this._$EO(r,this[r],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Dl[P0]=!0,Dl.elementProperties=new Map,Dl.elementStyles=[],Dl.shadowRootOptions={mode:"open"},E0==null||E0({ReactiveElement:Dl}),((C0=mp.reactiveElementVersions)!==null&&C0!==void 0?C0:mp.reactiveElementVersions=[]).push("1.6.3");});var M0=Wt(()=>{md();O0()});var gp=Wt(()=>{md();O0()});function g3(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return a3!==void 0?a3.createHTML(t):t}function Wu(e,t,r=e,a){var l,o,u,n;if(t===Nl)return t;let c=a!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[a]:r._$Cl,d=bd(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==d&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),d===void 0?c=void 0:(c=new d(e),c._$AT(e,r,a)),a!==void 0?((u=(n=r)._$Co)!==null&&u!==void 0?u:n._$Co=[])[a]=c:r._$Cl=c),c!==void 0&&(t=Wu(e,c._$AS(e,t.values),c,a)),t}var I0,vp,Uu,a3,R0,Is,h3,U8,Bl,vd,bd,p3,W8,L0,gd,s3,l3,Rl,u3,c3,f3,m3,co,YZ,Nl,uo,d3,jl,V8,j0,q8,B0,bp,G8,Y8,K8,Z8,J8,D0,y3,w3=Wt(()=>{vp=window,Uu=vp.trustedTypes,a3=Uu?Uu.createPolicy("lit-html",{createHTML:e=>e}):void 0,R0="$lit$",Is=`lit$${(Math.random()+"").slice(9)}$`,h3="?"+Is,U8=`<${h3}>`,Bl=document,vd=()=>Bl.createComment(""),bd=e=>e===null||typeof e!="object"&&typeof e!="function",p3=Array.isArray,W8=e=>p3(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",L0=`[ 	
\f\r]`,gd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,s3=/-->/g,l3=/>/g,Rl=RegExp(`>|${L0}(?:([^\\s"'>=/]+)(${L0}*=${L0}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),u3=/'/g,c3=/"/g,f3=/^(?:script|style|textarea|title)$/i,m3=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),co=m3(1),YZ=m3(2),Nl=Symbol.for("lit-noChange"),uo=Symbol.for("lit-nothing"),d3=new WeakMap,jl=Bl.createTreeWalker(Bl,129,null,!1);V8=(e,t)=>{let r=e.length-1,a=[],l,o=t===2?"<svg>":"",u=gd;for(let n=0;n<r;n++){let c=e[n],d,f,p=-1,v=0;for(;v<c.length&&(u.lastIndex=v,f=u.exec(c),f!==null);)v=u.lastIndex,u===gd?f[1]==="!--"?u=s3:f[1]!==void 0?u=l3:f[2]!==void 0?(f3.test(f[2])&&(l=RegExp("</"+f[2],"g")),u=Rl):f[3]!==void 0&&(u=Rl):u===Rl?f[0]===">"?(u=l!=null?l:gd,p=-1):f[1]===void 0?p=-2:(p=u.lastIndex-f[2].length,d=f[1],u=f[3]===void 0?Rl:f[3]==='"'?c3:u3):u===c3||u===u3?u=Rl:u===s3||u===l3?u=gd:(u=Rl,l=void 0);let y=u===Rl&&e[n+1].startsWith("/>")?" ":"";o+=u===gd?c+U8:p>=0?(a.push(d),c.slice(0,p)+R0+c.slice(p)+Is+y):c+Is+(p===-2?(a.push(void 0),n):y)}return[g3(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),a]},j0=class v3{constructor({strings:t,_$litType$:r},a){let l;this.parts=[];let o=0,u=0,n=t.length-1,c=this.parts,[d,f]=V8(t,r);if(this.el=v3.createElement(d,a),jl.currentNode=this.el.content,r===2){let p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(l=jl.nextNode())!==null&&c.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let p=[];for(let v of l.getAttributeNames())if(v.endsWith(R0)||v.startsWith(Is)){let y=f[u++];if(p.push(v),y!==void 0){let w=l.getAttribute(y.toLowerCase()+R0).split(Is),k=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?G8:k[1]==="?"?K8:k[1]==="@"?Z8:bp})}else c.push({type:6,index:o})}for(let v of p)l.removeAttribute(v)}if(f3.test(l.tagName)){let p=l.textContent.split(Is),v=p.length-1;if(v>0){l.textContent=Uu?Uu.emptyScript:"";for(let y=0;y<v;y++)l.append(p[y],vd()),jl.nextNode(),c.push({type:2,index:++o});l.append(p[v],vd())}}}else if(l.nodeType===8)if(l.data===h3)c.push({type:2,index:o});else{let p=-1;for(;(p=l.data.indexOf(Is,p+1))!==-1;)c.push({type:7,index:o}),p+=Is.length-1}o++}}static createElement(t,r){let a=Bl.createElement("template");return a.innerHTML=t,a}};q8=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:a}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Bl).importNode(r,!0);jl.currentNode=l;let o=jl.nextNode(),u=0,n=0,c=a[0];for(;c!==void 0;){if(u===c.index){let d;c.type===2?d=new B0(o,o.nextSibling,this,e):c.type===1?d=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(d=new J8(o,this,e)),this._$AV.push(d),c=a[++n]}u!==(c==null?void 0:c.index)&&(o=jl.nextNode(),u++)}return jl.currentNode=Bl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},B0=class b3{constructor(t,r,a,l){var o;this.type=2,this._$AH=uo,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=a,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Wu(this,t,r),bd(t)?t===uo||t==null||t===""?(this._$AH!==uo&&this._$AR(),this._$AH=uo):t!==this._$AH&&t!==Nl&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):W8(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==uo&&bd(this._$AH)?this._$AA.nextSibling.data=t:this.$(Bl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:a,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=j0.createElement(g3(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(a);else{let u=new q8(o,this),n=u.u(this.options);u.v(a),this.$(n),this._$AH=u}}_$AC(t){let r=d3.get(t.strings);return r===void 0&&d3.set(t.strings,r=new j0(t)),r}T(t){p3(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,a,l=0;for(let o of t)l===r.length?r.push(a=new b3(this.k(vd()),this.k(vd()),this,this.options)):a=r[l],a._$AI(o),l++;l<r.length&&(this._$AR(a&&a._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var a;for((a=this._$AP)===null||a===void 0||a.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},bp=class{constructor(e,t,r,a,l){this.type=1,this._$AH=uo,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=uo}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,a){let l=this.strings,o=!1;if(l===void 0)e=Wu(this,e,t,0),o=!bd(e)||e!==this._$AH&&e!==Nl,o&&(this._$AH=e);else{let u=e,n,c;for(e=l[0],n=0;n<l.length-1;n++)c=Wu(this,u[r+n],t,n),c===Nl&&(c=this._$AH[n]),o||(o=!bd(c)||c!==this._$AH[n]),c===uo?e=uo:e!==uo&&(e+=(c!=null?c:"")+l[n+1]),this._$AH[n]=c}o&&!a&&this.j(e)}j(e){e===uo?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},G8=class extends bp{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===uo?void 0:e}},Y8=Uu?Uu.emptyScript:"",K8=class extends bp{constructor(){super(...arguments),this.type=4}j(e){e&&e!==uo?this.element.setAttribute(this.name,Y8):this.element.removeAttribute(this.name)}},Z8=class extends bp{constructor(e,t,r,a,l){super(e,t,r,a,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Wu(this,e,t,0))!==null&&r!==void 0?r:uo)===Nl)return;let a=this._$AH,l=e===uo&&a!==uo||e.capture!==a.capture||e.once!==a.once||e.passive!==a.passive,o=e!==uo&&(a===uo||l);l&&this.element.removeEventListener(this.name,this,a),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},J8=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Wu(this,e)}},D0=vp.litHtmlPolyfillSupport;D0==null||D0(j0,B0),((I0=vp.litHtmlVersions)!==null&&I0!==void 0?I0:vp.litHtmlVersions=[]).push("2.8.0");y3=(e,t,r)=>{var a,l;let o=(a=r==null?void 0:r.renderBefore)!==null&&a!==void 0?a:t,u=o._$litPart$;if(u===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=u=new B0(t.insertBefore(vd(),n),n,void 0,r!=null?r:{})}return u._$AI(e),u};});var Vu=Wt(()=>{w3()});var N0,F0,za,z0,_3=Wt(()=>{gp();gp();Vu();Vu();za=class extends Dl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let r=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=r.firstChild),r}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=y3(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Nl}};za.finalized=!0,za._$litElement$=!0,(N0=globalThis.litElementHydrateSupport)===null||N0===void 0||N0.call(globalThis,{LitElement:za});z0=globalThis.litElementPolyfillSupport;z0==null||z0({LitElement:za});((F0=globalThis.litElementVersions)!==null&&F0!==void 0?F0:globalThis.litElementVersions=[]).push("3.3.3");});var H0=Wt(()=>{gp();Vu();_3()});var k3=Wt(()=>{});var U0=Wt(()=>{k3()});var x3=Wt(()=>{M0();Vu();H0();U0()});var yp=Wt(()=>{M0();H0();U0();Vu();x3()});function W0(e,t=300,r=!1){let a=[...e];if(a.length<=t)return e;let l=a.slice(0,t).join(""),o=l.lastIndexOf(" ");return o>=0?r?e:`${l.slice(0,o)}...`:`${a.slice(0,t-2).join("")}..`}function S3(e){let t={};return Object.entries(e).map(r=>{t[r[1]]=r[0]}),t}var yd=Wt(()=>{});var A3=Wt(()=>{});var C3=Wt(()=>{yd()});var E3=Wt(()=>{});function wp(){return globalThis.Deno?globalThis.Deno.hostname():location.hostname||location.host}var T3=Wt(()=>{});var $3,Q8,eE,KJ,ZJ,tE,JJ,iE,V0=Wt(()=>{G0();q0();A3();Ga();_p();C3();E3();T3();yd();Q8=($3=wp())!=null&&$3.startsWith("tvnix")?wp().split(".")[0].slice(5).toUpperCase():!1,eE="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",KJ=`identifier ~ '${eE.slice(1).slice(0,-1)}'`,ZJ=S3(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"]),tE=["tracey","jesse.hammons"].map(e=>`${e}@archive.org`),JJ=[...tE,...["tv"].map(e=>`${e}@archive.org`)],iE={BETHDP:"BETW",BLOOMHD:"BLOOMBERG",CCHDP:"COM",EATV27:"LINKTV",FBNHD:"FBC",FNCHD:"FOXNEWSW",WGNAPHD:"WGN",TV3SP:"TV3"};iE[Q8==="SF"?"MSNBC":"MSNOWHD"]="MSNOW"});var q0=Wt(()=>{V0()});var G0=Wt(()=>{q0();Ga()});function wd(e,t=!1){let r;return t&&(r=e.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(r[1])*3600+Number(r[2])*60+Number(r[3])+ +`0.${r[4]}`:(r=e.match(/^(\d+):(\d+):([\d+.]+)$/))?(r=r.map(a=>parseFloat(a)),r[1]*3600+r[2]*60+r[3]):(r=e.match(/^(\d+):([\d+.]+)$/))?(r=r.map(a=>parseFloat(a)),r[1]*60+r[2]):(r=e.match(/^([\d+.]+)$/))?parseFloat(r[1]):!1}var M3,fX,_p=Wt(()=>{Ga();yd();G0();V0();M3={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},fX=Object.keys(M3)});var K0,Fl,oE,aE,sE,Y0,lE,uE,Z0,I3,L3=Wt(()=>{Ga();Bd();_p();yd();K0=!1,Fl=100,oE=(location==null?void 0:location.host)==="av.dev.archive.org",aE="__ia_thumb.jpg",sE=0,Y0=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",K0?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(e=>[e,sE++])),lE=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],uE=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],Z0=class e{constructor(t,r=!1){this.identifier=t.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;let a={},l={},o={},u={},n={},c={},d={},f={},p=Y0.thumbnail2,v={};t.files.forEach(x=>{let[S]=this.filter(x);if(S){if("original"in S){let s=e.val(S.original);S.name!==s&&(a[S.name]=s)}S.name.endsWith(".png")&&!S.name.endsWith("_spectrogram.png")&&(d[S.name]=1)}}),Ni(a),t.files.forEach(x=>{let[S,s,h]=this.filter(x);if(!S)return;let g=S.name,m=Y0[s],b="original"in S,_=g;if(b){_=e.val(S.original);for(let E=10;E&&_ in a;E--)_=a[_];(h==="mp4"||h==="ogv")&&_ in t.files&&t.files[_].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),_="{$m2[1]}{$m2[2]}$origSuffix"),_=e.val(_)}else"artist"in S?v[_]=S.artist:"creatorxxx"in S&&(v[_]=S.creatorxxx);if(!(r&&_!==r)){if(_ in l||(l[_]={}),"title"in S&&(b&&"title"in l[_]||(l[_].title=S.title)),"height"in S&&(this.heights[g]=S.height),"width"in S&&(this.widths[g]=S.width),"autoplay"in S&&(n[g]=S.autoplay),"length"in S){let E=wd(String(e.val(S.length)));this.durations[g]=E,b&&(f[_]=1),(b||!("length"in l[_])||!(_ in f))&&(l[_].length=Math.round(E))}if(m){if(b){if(s==="h.264 720p"){l[_].HD=g;return}}else{let E=S.title;if(s==="h.264 hd"||s==="h.264 mpeg4"&&(E.indexOf("[HD]")>0||E.indexOf(" HD ")>0||E.endsWith(" HD"))){l[_].HD=g;return}if(K0&&s==="h.264 4k"){l[_]["4K"]=g;return}m>1&&(m+=Fl)}m>1&&(lE.indexOf(s)>=0?(o[_]=1,c[g]=1):u[_]=1),_ in l||(l[_]={}),m in l[_]?s==="thumbnail"&&p in l[_]&&(l[_][p]=g):(l[_][m]=g,m<Fl&&m+Fl in l[_]?delete l[_][m+Fl]:m>Fl&&m-Fl in l[_]&&delete l[_][m-Fl])}}}),Ni(l),this.haxLP&&(delete l[`${this.identifier}.flac`],delete l[`${this.identifier}.ogg`],delete l[`${this.identifier}.mp3`],delete l[`${this.identifier}.m4a`]);let y=Object.keys(o).length,w=Object.keys(u).length;w>0&&(w>=y||t.metadata.mediatype==="movies")?this.showing="movies":this.showing=y?"audio":!1;let k=Object.values(v);(k.length<=1||[...new Set(k)].length<=1)&&(v={});let A=this.showing==="movies"?u:o,C=this.showing==="movies"?w:y;for(let[x,S]of Object.entries(l)){if(!(x in A))continue;let s={SRC:[]};if(0 in S)s.POSTER=S[0];else if(1 in S)s.POSTER=S[1];else for(let[h,g]of Object.entries(S))if(parseInt(h,10)){let m=g.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");m!==g&&m in d&&(s.POSTER=m)}x in n&&(s.AUTOPLAY=!1);for(let[h,g]of Object.entries(S))if(parseInt(h,10)&&h>1){if(this.showing==="movies"&&c[g]||this.showing!=="movies"&&!c[g])continue;s.SRC.push(g)}s.SRC.length&&(s.TITLE="title"in S?e.val(S.title):x.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),s.ORIG=x,x in v&&(s.ARTIST=v[x]),"length"in S?s.length=S.length:s.length=this.runtime(t,C,x),"HD"in S&&(s.HD=S.HD),K0&&"4K"in S&&(s["4K"]=S["4K"]),this.groups.push(s))}if(this.captions(),oE&&Ni("player",this),this.showing==="audio")for(let x of this.groups){let S=!1,s=!1;for(let[h,g]of Object.entries(x.SRC))g.endsWith("_sample.mp3")?S=h:g.endsWith(".mp3")&&(s=!0);s&&S!==!1&&x.SRC.splice(S,1)}}static val(t){return typeof t=="object"?t.length?t[0]:"":t}filter(t){let r=t.name,a=r.substr(1+r.lastIndexOf(".")).toLowerCase(),l=t.format.toLowerCase();if(uE.includes(l)||r===aE)return[];if(a==="mp3"&&(t.original===`${this.identifier}_segments.json`||t.original===`${this.identifier}_segments.xml`)&&(this.haxLP=!0,delete t.original,t.source="original"),typeof t.original=="string"&&t.original.endsWith(".torrent")&&(delete t.original,t.source="original"),a==="vtt")return this.vtts[r]=1,[];if(a==="srt")return this.srts[r]=1,[];let o=Y0[l];return a==="mp3"&&!o?[t,"64kbps mp3",a]:[t,l,a]}jwplaylist(t,r=!1,a=[]){let l=[],o=`https://archive.org/download/${this.identifier}/`,u=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?Sa("jest")?u=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:u=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(u=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),u.push("video/x-flv");let n=0;u=Object.fromEntries(u.map(c=>[c,n++]));for(let c of Object.values(this.groups)){let d={sources:[],title:W0(c.TITLE,100,!0)};"ORIG"in c&&(d.orig=c.ORIG,"ARTIST"in c&&(d.artist=c.ARTIST)),"AUTOPLAY"in c&&(d.autoplay=c.AUTOPLAY);let f=Sa("poster");f?d.image=this.url(f.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in c||this.showing==="audio"&&"POSTER"in c)&&(d.image=this.url(o+c.POSTER),a.length||a.push(this.url(o+c.POSTER))),"length"in c&&(d.duration=c.length),"HD"in c&&c.SRC.push(c.HD);let p={};for(let v of c.SRC){let y=((v.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(v.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(v.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(r&&(y==="ogg"||y==="ogv"))continue;let w="",k=[640,480];switch(y){case"mp3":w="mp3";break;case"ogg":w="ogg";break;case"m4a":w="aac";break;case"ogv":w="ogg",k=[400,300];break;case"mp4":w="mp4";break;case"mpeg4":w="mp4";break;case"m4v":w="mp4";break;case"mov":w="mp4";break;case"flv":w="video/x-flv";break;case"swf":w="video/x-flv";break;default:w=""}let A=v in this.widths?this.widths[v]:k[0],C=v in this.heights?this.heights[v]:k[1],x={file:this.url(o+v),width:A,height:C};w!==""&&(x.type=w),this.showing==="movies"&&(x.label=`${C}p${C>=720?" HD":""}`),!(w&&parseInt(C,10)===parseInt(p[w],10))&&(p[w]=C,d.sources.push(x),this.showing==="movies"&&"image"in d&&(d.tracks=[{kind:"thumbnails",file:`${d.image.replace("/download/","/stream/").replace("%2F","/")}?vtt=vtt.vtt`}]),v in this.durations&&(d.duration=Math.max(d.duration,this.durations[v])))}Ni(t.tv),l.push(d)}return l}runtime(t,r,a){return this.xxx=`implement runtime() ${r?typeof t:typeof a}`,-1}captions(){this.xxx="implement captions()"}url(t){return this.xxx="sort me out ",t}},I3=Z0});var cE,D3,R3=Wt(()=>{cE=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,D3=cE});function J0(e,t="",r=!1){return Vt(this,null,function*(){let a=typeof window!="undefined"&&window.navigator.onLine===!1,l=a?`${location.origin}/json/${e}.json`:`https://archive.org/metadata/${e}${t?`/${t}`:""}`;return(yield fetch(l,a||!r?{}:{credentials:"include"})).json()})}var j3=Wt(()=>{});var B3=Wt(()=>{yp();k0();customElements.define("background-play",class extends za{constructor(){super(),this.toggle=!os.get("nohls")}static get properties(){return{toggle:Boolean}}click_on(){this.toggle=!0,os.remove("nohls",{path:"/details"})}click_off(){this.toggle=!1,os.set("nohls",1,{path:"/details",expires:30})}render(){let t="jw-settings-item-active";return co`
      <div class="jw-reset jw-settings-submenu-items">
        <button type="button"
          aria-checked="${this.toggle}"
          class="jw-reset-text jw-settings-content-item ${this.toggle?t:""}"
          role="menuitemradio" dir="auto"
          aria-label="Background Play ON"
          @click=${this.click_on}
          >Background Play ON</button>
        <button type="button"
          aria-checked="${!this.toggle}"
          class="jw-reset-text jw-settings-content-item ${this.toggle?"":t}"
          role="menuitemradio" dir="auto"
          aria-label="Background Play OFF"
          @click=${this.click_off}
          >Background Play OFF</button>
        <div class="jw-reset-text jw-settings-content-item">
          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.
        </div>
      </div>`}createRenderRoot(){return this}})});var N3,X0,zl,Ls,Ha,ya,F3,z3,H3=Wt(()=>{ti();Ar();ti();Ar();ti();Ar();N3=function(e,t,r,a){var l=arguments.length,o=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,a);else for(var n=e.length-1;n>=0;n--)(u=e[n])&&(o=(l<3?u(o):l>3?u(t,r,o):u(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},X0=class extends Yt{constructor(){super(...arguments),this.seconds=0}render(){return we`
      ${this.durationString}
    `}get durationString(){if(typeof this.seconds!="number")return"";let e=Math.floor(this.seconds/3600),t=Math.floor(this.seconds/60)%60,r=Math.floor(this.seconds%60),a=e>0?`${e}`:void 0,l=e>0&&t<10?`0${t}`:`${t}`,o=r<10?`0${r}`:`${r}`,u=`${l}:${o}`;return u=a?`${a}:${u}`:u,u}};N3([St({type:Number})],X0.prototype,"seconds",void 0);X0=N3([Fi("duration-formatter")],X0);zl=function(e,t,r,a){var l=arguments.length,o=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,a);else for(var n=e.length-1;n>=0;n--)(u=e[n])&&(o=(l<3?u(o):l>3?u(t,r,o):u(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},Ls=class extends Yt{constructor(){super(...arguments),this.entry=void 0,this.isActive=!1,this.isSelected=!1,this.isClickable=!1,this.isSearchResult=!1,this.isMusicEntry=!1}render(){return we`
      ${this.entry?this.entry.displayText:""}
    `}};zl([St({type:Object})],Ls.prototype,"entry",void 0);zl([St({type:Boolean,reflect:!0})],Ls.prototype,"isActive",void 0);zl([St({type:Boolean,reflect:!0})],Ls.prototype,"isSelected",void 0);zl([St({type:Boolean,reflect:!0})],Ls.prototype,"isClickable",void 0);zl([St({type:Boolean,reflect:!0})],Ls.prototype,"isSearchResult",void 0);zl([St({type:Boolean,reflect:!0})],Ls.prototype,"isMusicEntry",void 0);Ls=zl([Fi("transcript-entry")],Ls);Ha=function(e,t,r,a){var l=arguments.length,o=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,a);else for(var n=e.length-1;n>=0;n--)(u=e[n])&&(o=(l<3?u(o):l>3?u(t,r,o):u(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},ya=class extends Yt{constructor(){super(...arguments),this.config=void 0,this.currentTime=0,this.topContextHeight=50,this.bottomContextHeight=50,this.autoScroll=!0,this.selectedSearchResultIndex=0,this.showContextZones=!1,this.timeScrollTop=0,this.currentEntries=[],this.scrollTimerDelay=15e3,this.scrollResumeTimerId=-1}render(){return we`
      <div class="container">
        ${this.showContextZones?this.contextZoneDevTemplates:""}

        <div
          class="scroll-container"
          id="scroll-container"
          @wheel=${this.didScroll}
          @touchmove=${this.didScroll}
        >
          <div class="col time">
            ${this.timeDisplayTemplate}
          </div>

          <div class="col">
            ${this.autoScrollButtonTemplate}
            ${this.transcriptEntries.map(e=>this.transcriptEntryTemplate(e))}
          </div>
        </div>
      </div>
    `}scrollToSelectedSearchResult(){let{selectedSearchResult:e}=this;e&&(this.autoScroll=!1,this.scrollToElement(e))}get autoScrollButtonTemplate(){return we`
      <button
        @click=${this.enableAutoScroll}
        class="auto-scroll-button ${this.autoScroll?"hidden":""}"
      >
        Scroll text with audio
      </button>
    `}get timeDisplayTemplate(){return we`
      <div class="time-display" style="top: ${this.timeScrollTop}px">
        <duration-formatter .seconds=${this.currentTime}> </duration-formatter>
      </div>
    `}transcriptEntryTemplate(e){let t=this.currentEntries.find(o=>o.id===e.id)!==void 0,r=e.searchMatchIndex===this.selectedSearchResultIndex,a=e.searchMatchIndex!==void 0,l=e.isMusic;return we`
      <transcript-entry
        .entry=${e}
        ?isSelected=${r}
        ?isActive=${t}
        ?isSearchResult=${a}
        ?isMusicEntry=${l}
        ?isClickable=${!0}
        .data-search-result-index=${e.searchMatchIndex}
        data-identifier=${e.id}
        @click=${this.transcriptEntrySelected}
      >
      </transcript-entry>
    `}get contextZoneDevTemplates(){return we`
      ${this.topContextZoneDevTemplate} ${this.bottomContextZoneDevTemplate}
    `}get topContextZoneDevTemplate(){return we`
      <div class="top context-overlay" style="height: ${this.topContextHeight}px"></div>
    `}get bottomContextZoneDevTemplate(){return we`
      <div class="bottom context-overlay" style="height: ${this.bottomContextHeight}px"></div>
    `}get transcriptEntries(){return this.config?this.config.entries:[]}static get styles(){let e=Le`var(--transcriptHeight, 200px)`,t=Le`var(--timeFontSize, 1em)`,r=Le`var(--timeLineHeight, 1em)`,a=Le`var(--timeColor, white)`,l=Le`var(--timeColumnWidth, 3rem)`,o=Le`var(--timeDisplay, block)`,u=Le`var(--autoScrollButtonFontColor, black)`,n=Le`var(--autoScrollButtonBackgroundColor, white)`,c=Le`var(--autoScrollButtonWidth, 12rem)`,d=Le`var(--autoScrollButtonFontSize, 1em)`,f=Le`var(--transcriptNormalTextColor, gray)`,p=Le`var(--transcriptActiveTextColor, white)`,v=Le`var(--transcriptHoverTextColor, silver)`,y=Le`var(--transcriptMusicNormalTextColor, gray)`,w=Le`var(--transcriptMusicActiveTextColor, white)`,k=Le`var(--transcriptMusicActiveTextColor, silver)`,A=Le`var(--transcriptSearchResultInactiveBorderColor, gray)`,C=Le`var(--transcriptSearchResultActiveBorderColor, green)`;return Le`
      :host {
        color: ${f};
      }

      .container {
        position: relative;
      }

      .auto-scroll-button.hidden {
        display: none;
      }

      .auto-scroll-button {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 1rem;
        margin: auto;
        width: ${c};
        border-radius: 1em;
        border: 0;
        display: inline-block;
        color: ${u};
        background-color: ${n};
        font-size: ${d};
        z-index: 10;
      }

      .context-overlay {
        position: absolute;
        left: 0;
        width: 100%;
        height: 0;
        z-index: -1;
      }

      .context-overlay.top {
        top: 0;
        border-bottom: 1px solid green;
      }

      .context-overlay.bottom {
        bottom: 0;
        border-top: 1px solid green;
      }

      .time {
        display: ${o};
        flex: 0 0 ${l};
        color: ${a};
        position: relative;
      }

      .time-display {
        position: absolute;
        top: 0;
        font-size: ${t};
        line-height: ${r};
        transition: top 1s;
      }

      .scroll-container {
        display: flex;
        overflow-y: auto;
        -ms-overflow-style: none;
        scrollbar-width: none;
        height: ${e};
      }

      .scroll-container::-webkit-scrollbar {
        display: none;
      }

      transcript-entry {
        cursor: pointer;
      }

      transcript-entry:hover {
        color: ${v};
      }

      transcript-entry[ismusicentry] {
        color: ${y};
        display: block;
        font-style: italic;
      }

      transcript-entry[ismusicentry]:hover {
        color: ${k};
      }

      transcript-entry[ismusicentry][isactive] {
        color: ${w};
      }

      transcript-entry[isactive] {
        color: ${p};
      }

      transcript-entry[issearchresult] {
        display: inline-block; /* without this, the outline adds an extra space to the right of the text */
        padding: 0 5px;
        position: relative;
      }

      transcript-entry[issearchresult]:after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 2px solid ${A};
        border-radius: 5px;
      }

      transcript-entry[issearchresult][isselected]:after {
        border: 2px solid ${C};
      }
    `}transcriptEntrySelected(e){let{entry:t}=e.target;if(!t)return;let r=new CustomEvent("transcriptEntrySelected",{detail:{entry:t}});this.dispatchEvent(r),t.searchMatchIndex!==void 0&&(this.selectedSearchResultIndex=t.searchMatchIndex),this.autoScroll=!1}handleCurrentTimeChange(){let e=this.transcriptEntries;if(e.length===0)return;let t=e.filter(r=>this.currentTime>=r.start&&this.currentTime<=r.end);this.entryArraysMatch(t,this.currentEntries)||(this.dispatchEvent(new Event("currentEntriesUpdated")),this.currentEntries=t)}entryArraysMatch(e,t){if(e.length!==t.length)return!1;let r=e.map(o=>o.id).sort(),a=t.map(o=>o.id).sort(),l=!0;return r.forEach((o,u)=>{a[u]!==o&&(l=!1)}),!!l}entryIdentifierClosestToTime(e){if(this.transcriptEntries.length===0)return null;let t=this.transcriptEntries[0],r=Math.abs(e-t.start),a=t.id;return this.transcriptEntries.forEach(l=>{let o=Math.abs(e-l.start);o<r&&(r=o,a=l.id)}),a}elementClosestToTime(e){let t=this.entryIdentifierClosestToTime(e);return t?this.elementForIdentifier(t):null}elementForIdentifier(e){return this.shadowRoot&&this.shadowRoot.querySelector(`transcript-entry[data-identifier="${e}"]`)}didScroll(){this.autoScroll=!1,window.clearTimeout(this.scrollResumeTimerId),this.scrollResumeTimerId=window.setTimeout(()=>{this.autoScroll=!0},this.scrollTimerDelay)}enableAutoScroll(){this.autoScroll=!0,this.scrollToClosestEntry()}updated(e){e.has("currentTime")&&this.handleCurrentTimeChange(),e.has("selectedSearchResultIndex")&&this.scrollToSelectedSearchResult(),e.has("currentEntries")&&(this.scrollToClosestEntry(),this.updateTimePosition()),e.has("autoScroll")&&this.handleAutoScrollChange(),e.has("config")&&(this.selectedSearchResultIndex=0,this.scrollToSelectedSearchResult())}get scrollView(){return this.shadowRoot&&this.shadowRoot.getElementById("scroll-container")}get activeTranscriptEntry(){return this.shadowRoot&&this.shadowRoot.querySelector("transcript-entry[isActive]")}get selectedSearchResult(){return this.shadowRoot&&this.shadowRoot.querySelector(`transcript-entry[data-search-result-index="${this.selectedSearchResultIndex}"]`)}get closestEntryToCurrentTime(){return this.activeTranscriptEntry||this.elementClosestToTime(this.currentTime)}handleAutoScrollChange(){let e=new CustomEvent("autoScrollChanged",{detail:{autoScroll:this.autoScroll}});this.dispatchEvent(e)}scrollToClosestEntry(){if(!this.autoScroll)return;let e=this.closestEntryToCurrentTime;e&&this.scrollToElement(e)}scrollToElement(e){let{scrollView:t}=this;if(!t)return;let r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),l=r.height,{topContextHeight:o}=this,{bottomContextHeight:u}=this,n=l-u;if(a.bottom>r.top+n||a.top<r.top){let c=a.top-r.top+t.scrollTop-o;this.scrollToOffsetWithDuration(c,1)}}updateTimePosition(){let e=this.closestEntryToCurrentTime;if(!e)return;let t=e.parentNode.getBoundingClientRect(),r=e.getBoundingClientRect().top-t.top;this.timeScrollTop=r}scrollToOffsetWithDuration(e,t,r){let{scrollView:a}=this;if(!a)return;let l=a.scrollTop,o=e-l,u=performance.now(),n,c,d;function f(v){return v<.5?2*v*v:-1+(4-2*v)*v}function p(){a&&(n=performance.now(),c=(n-u)/1e3,d=c/t,a.scrollTop=l+o*f(d),d<1?window.requestAnimationFrame(p):r&&r())}p()}};Ha([St({type:Object})],ya.prototype,"config",void 0);Ha([St({type:Number})],ya.prototype,"currentTime",void 0);Ha([St({type:Number})],ya.prototype,"topContextHeight",void 0);Ha([St({type:Number})],ya.prototype,"bottomContextHeight",void 0);Ha([St({type:Boolean})],ya.prototype,"autoScroll",void 0);Ha([St({type:Number})],ya.prototype,"selectedSearchResultIndex",void 0);Ha([St({type:Boolean})],ya.prototype,"showContextZones",void 0);Ha([Er()],ya.prototype,"timeScrollTop",void 0);Ha([Er()],ya.prototype,"currentEntries",void 0);ya=Ha([Fi("transcript-view")],ya);F3=class{constructor(e){this.entries=[],this.entries=e}get searchResults(){return this.entries.filter(e=>e.searchMatchIndex!==void 0)}},z3=class{constructor(e,t,r,a,l,o){this.id=e,this.start=t,this.end=r,this.rawText=a,this.isMusic=l,this.searchMatchIndex=o}get displayText(){return this.isMusic?"[Transcript unavailable]":this.rawText}}});var U3=Wt(()=>{ti();Ar();H3()});var W3=Wt(()=>{yp();U3();_p();Ga();customElements.define("transcript-viewer",class extends za{static get properties(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}render(){return this.tracks_with_captions?co`
    <div class="${this.transcriptConfig?"":"dimmed"}">
      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px"></div>
        <button type="button" @click="${this.transcript_toggled}"
          class="${this.bgTheme==="light"?"light":""}">

        <div>
          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>
        </div>
        <div>
          ${this.kind}
        </div>
        <div style="display:none; ${this.is_open?"margin-top:-12px":""}">${this.is_open?"\uFE3F":"\uFE40"}</div>

        <div>
          ${this.is_open?co`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>`:co`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>`}
        </div>
      </button>

      <div class="transcript-view-wrap  ${this.transcriptConfig&&this.is_open?"":"not-showing"}">
        <transcript-view
          .config=${this.transcriptConfig}
          .currentTime=${this.currentTime}
          @transcriptEntrySelected=${this.transcriptEntrySelected}
        ></transcript-view>
      </div>
    </div>
    `:co``}transcript_toggled(){this.transcriptConfig&&(this.is_open=!this.is_open,this.is_open&&globalThis.archive_analytics&&globalThis.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}static get styles(){return fd`
:host {
  --timeColumnWidth: 4.5rem;
  --transcriptHeight: ${Un(185)}px;
}
:host > div {
  padding: 3px 5px;
  margin: 4px 4px 0 8px;
}
.caret-up-svg, .caret-down-svg {
  width: 25px;
  display: inline-block;
}
.transcript-svg {
  width: 14px;
  display: inline-block;
  margin-top: 6px;
}

transcript-view {
  display: block;
  padding: ${Un(5)}px 10px;
  background-color: #000000cc !important;
  border: ${Un(1)}px solid #ffffff33;
  border-radius: 5px;
  box-sizing: border-box;
}
.transcript-view-wrap {
  height: ${Un(185+2*1+2*5)}px;
  overflow-y: hidden;
  transition: height 0.5s ease;
}
.not-showing {
  height: 0px;
}
.dimmed {
  opacity: 0.4;
}
button {
  background: none;
  color: inherit;
  border: none;
  padding: 0;
  font: inherit;
  cursor: pointer;
  outline: inherit;
}
button div {
  display: inline-block;
  vertical-align: top;
  margin-left: 5px;
  color: white;
}
button svg {
  fill: white;
}
button.light, button.light div {
  color: black;
}
button.light svg {
  fill: black;
}
.dimmed button {
  cursor: default;
}
    `}updated(e){if(Ni("<transcript-viewer> updated()",e),e.has("trackno")&&this.update_transcript_view(),!this.tracking_time){let t=document.querySelector("video");t&&(this.tracking_time=!0,t.addEventListener("timeupdate",()=>{var a;this.currentTime=t.currentTime;let r=(a=this.shadowRoot)==null?void 0:a.querySelector("transcript-view");if(r&&(r.currentTime=this.currentTime,!this.transcript_view_tweaked)){let l=r.shadowRoot.querySelectorAll("transcript-entry");if(l.length){if(this.transcript_view_tweaked=!0,this.kind==="Lyrics (AI)"){let u=()=>l.forEach(n=>n.style.display="block");u(),setTimeout(u,1e3)}let o=r.shadowRoot.querySelector(".col.time");o&&(o.style.top="3px")}}}))}}transcriptEntrySelected(e){let r=(e.detail||{}).entry||{};if(!r.start)return;let a=r.start;this.currentTime=a;let l=document.querySelector("video");Ni({player:l}),l&&(l.currentTime=this.currentTime,l.play())}update_transcript_view(){return Vt(this,null,function*(){delete this.transcript_view_tweaked;let e=this.captions[this.trackno];if(!e){this.transcriptConfig=null;return}if(!this.transcriptConfigCache[this.trackno]){let t=e.replace(/^\/download\//,"https://archive.org/cors/");Ni({srtUrl:t});let a=yield(yield fetch(t)).text(),l=[],o=0;for(let n of a.split(`

`)){o+=1;let[,c,d,f]=n.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""];d&&l.push({id:o,start:wd(c,!0),end:wd(d,!0),text:f,is_music:!1})}Ni({json:l});let u=l.map(n=>new z3(n.id,n.start,n.end,n.text,n.is_music,n.search_match_index));this.transcriptConfigCache[this.trackno]=new F3(u)}this.transcriptConfig=this.transcriptConfigCache[this.trackno]})}firstUpdated(){var t,r;Ni("<transcript-viewer> firstUpdated()"),this.currentTime=0;let e="Lyrics";this.kind=e,this.captions=[],this.transcriptConfigCache=[];for(let[a,l]of Object.entries(JSON.parse(this.playlist))){if(!l.tracks)continue;let o={};for(let u of l.tracks)u.kind==="subtitles"&&((t=u.file)!=null&&t.endsWith(".srt"))&&(o[(r=u.label)!=null?r:"none"]=u.file);this.captions[a]=o.align||o.cc5||o.en||o.asr||o.none,(this.captions[a]===o.align||this.captions[a]===o.asr)&&(this.kind=`${e} (AI)`)}Ni(this.captions),this.tracks_with_captions=Object.values(this.captions).length}})});function Q0(){return globalThis.chrome}function V3(e){!globalThis.chrome||globalThis.chrome.cast||(function(){"use strict";var t=function(){var D=H,J=0;return function(){return J<D.length?{done:!1,value:D[J++]}:{done:!0}}},r=this||self,a=/^[\w+/_-]+[=]{0,2}$/,l=null,o=function(D){return(D=D.querySelector&&D.querySelector("script[nonce]"))&&(D=D.nonce||D.getAttribute("nonce"))&&a.test(D)?D:""},u=function(D,J){function Q(){}Q.prototype=J.prototype,D.i=J.prototype,D.prototype=new Q,D.prototype.constructor=D,D.h=function(ne,ie,W){for(var V=Array(arguments.length-2),se=2;se<arguments.length;se++)V[se-2]=arguments[se];return J.prototype[ie].apply(ne,V)}},n=function(D){return D};function c(D){if(Error.captureStackTrace)Error.captureStackTrace(this,c);else{var J=Error().stack;J&&(this.stack=J)}D&&(this.message=String(D))}u(c,Error),c.prototype.name="CustomError";var d=function(D,J){D=D.split("%s");for(var Q="",ne=D.length-1,ie=0;ie<ne;ie++)Q+=D[ie]+(ie<J.length?J[ie]:"%s");c.call(this,Q+D[ne])};u(d,c),d.prototype.name="AssertionError";var f=function(D,J){throw new d("Failure"+(D?": "+D:""),Array.prototype.slice.call(arguments,1))},p,v=function(D,J){this.g=J===y?D:""};v.prototype.toString=function(){return this.g+""};var y={},w=function(){var D=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);return D?parseInt(D[1],10):0},k=function(D){return!0},A=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},C=function(D){D.length?S(D.shift(),function(){C(D)}):h()},x=function(D){return"chrome-extension://"+D+"/cast_sender.js"},S=function(D,J,Q){var ne=document.createElement("script");if(ne.onerror=J,Q&&(ne.onload=Q),p===void 0)if(J=null,(Q=r.trustedTypes)&&Q.createPolicy){try{J=Q.createPolicy("goog#html",{createHTML:n,createScript:n,createScriptURL:n})}catch(Ae){r.console&&r.console.error(Ae.message)}p=J}else p=J;D=(J=p)?J.createScriptURL(D):D,D=new v(D,y);e:{try{var ie=ne&&ne.ownerDocument,W=ie&&(ie.defaultView||ie.parentWindow);if(W=W||r,W.Element&&W.Location){var V=W;break e}}catch(Ae){}V=null}if(V&&typeof V.HTMLScriptElement!="undefined"&&(!ne||!(ne instanceof V.HTMLScriptElement)&&(ne instanceof V.Location||ne instanceof V.Element))){if(V=typeof ne,V=="object"&&ne!=null||V=="function")try{var se=ne.constructor.displayName||ne.constructor.name||Object.prototype.toString.call(ne)}catch(Ae){se="<object could not be stringified>"}else se=ne===void 0?"undefined":ne===null?"null":typeof ne;f("Argument is not a %s (or a non-Element, non-Location mock); got: %s","HTMLScriptElement",se)}D instanceof v&&D.constructor===v?se=D.g:(se=typeof D,f("expected object of type TrustedResourceUrl, got '"+D+"' of type "+(se!="object"?se:D?Array.isArray(D)?"array":se:"null")),se="type_error:TrustedResourceUrl"),ne.src=se,(se=ne.ownerDocument&&ne.ownerDocument.defaultView)&&se!=r?se=o(se.document):(l===null&&(l=o(r.document)),se=l),se&&ne.setAttribute("nonce",se),(document.head||document.documentElement).appendChild(ne)},s=function(){var D=w(),J=[];if(1<D){var Q=D-1;J.push("//av.archive.org/cast/www.gstatic.com/eureka/clank/"+D+"/cast_sender.js"),J.push("//av.archive.org/cast/www.gstatic.com/eureka/clank/"+Q+"/cast_sender.js")}return J},h=function(){var D=A();D&&D(!1,"No cast extension found")},g=function(){if(m){var D=2,J=A(),Q=function(){D--,D==0&&J&&J(!0)};window.__onGCastApiAvailable=Q,S("//av.archive.org/cast/www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",h,Q)}},m=k("loadCastFramework")||k("loadCastApplicationFramework"),b=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];if(0<=window.navigator.userAgent.indexOf("Android")&&0<=window.navigator.userAgent.indexOf("Chrome/")&&window.navigator.presentation){if(60<=w()){g();var _=s();_.push("//av.archive.org/cast/www.gstatic.com/eureka/clank/cast_sender.js"),C(_)}}else if(!window.chrome||!window.navigator.presentation||0<=window.navigator.userAgent.indexOf("Edge"))h();else if(89<=w()){g();var E=s(),R=E.push,j=R.apply,H=b.map(x),G;if(H instanceof Array)G=H;else{var q,K=typeof Symbol!="undefined"&&Symbol.iterator&&H[Symbol.iterator];q=K?K.call(H):{next:t()};for(var ue,te=[];!(ue=q.next()).done;)te.push(ue.value);G=te}j.call(R,E,G),E.push("//av.archive.org/cast/www.gstatic.com/eureka/clank/cast_sender.js"),C(E)}else g(),C(b.map(x))}.call(window),window.__onGCastApiAvailable=function(r){Ni("onGCastApiAvailable()"),r&&(Ds||(Ds=globalThis.cast.framework.CastContext.getInstance(),Ds.setOptions({receiverApplicationId:globalThis.chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:globalThis.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),Ds.addEventListener(globalThis.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,function(l){var o,u,n;if(Ni("Cast session state changed:",l.sessionState),l.sessionState===globalThis.cast.framework.SessionState.SESSION_STARTED||l.sessionState===globalThis.cast.framework.SessionState.SESSION_RESUMED){let c=Ds.getCurrentSession(),d=(o=e==null?void 0:e.file)==null?void 0:o.replace(/^\/(serve|download)\//,"https://archive.org/$1/"),f="video/mp4";switch((n=(u=d==null?void 0:d.split("?").shift())==null?void 0:u.split(".").pop())==null?void 0:n.toLowerCase()){case"ogv":f="video/ogg";break;case"ogg":f="audio/ogg";break;case"mp3":f="audio/mp3";break;case"aac":f="audio/aac";break;case"m4a":f="audio/aac";break}Ni({source:e,avsrc:d,mimetype:f});let v=new globalThis.chrome.cast.media.MediaInfo(d,f),y=new globalThis.chrome.cast.media.LoadRequest(v);c.loadMedia(y).then(()=>Ni("media load success")).catch(w=>Ni("media load",{error:w}))}})))})}function q3(){Ni("Cast button clicked, requesting session..."),Ds==null||Ds.requestSession()}var Ds,G3=Wt(()=>{Ga()});var kp,Y3,hE,pE,K3,Hl,ev=Wt(()=>{kp=function(e,t){return e<t?-1:e>t?1:0},Y3=function(e){return e.reduce(function(t,r){return t+r},0)},hE=function(){function e(r){this.colors=r}var t=e.prototype;return t.palette=function(){return this.colors},t.map=function(r){return r},e}(),pE=function(){function e(o,u,n){return(o<<10)+(u<<5)+n}function t(o){var u=[],n=!1;function c(){u.sort(o),n=!0}return{push:function(d){u.push(d),n=!1},peek:function(d){return n||c(),d===void 0&&(d=u.length-1),u[d]},pop:function(){return n||c(),u.pop()},size:function(){return u.length},map:function(d){return u.map(d)},debug:function(){return n||c(),u}}}function r(o,u,n,c,d,f,p){var v=this;v.r1=o,v.r2=u,v.g1=n,v.g2=c,v.b1=d,v.b2=f,v.histo=p}function a(){this.vboxes=new t(function(o,u){return kp(o.vbox.count()*o.vbox.volume(),u.vbox.count()*u.vbox.volume())})}function l(o,u){if(u.count()){var n=u.r2-u.r1+1,c=u.g2-u.g1+1,d=Math.max.apply(null,[n,c,u.b2-u.b1+1]);if(u.count()==1)return[u.copy()];var f,p,v,y,w=0,k=[],A=[];if(d==n)for(f=u.r1;f<=u.r2;f++){for(y=0,p=u.g1;p<=u.g2;p++)for(v=u.b1;v<=u.b2;v++)y+=o[e(f,p,v)]||0;k[f]=w+=y}else if(d==c)for(f=u.g1;f<=u.g2;f++){for(y=0,p=u.r1;p<=u.r2;p++)for(v=u.b1;v<=u.b2;v++)y+=o[e(p,f,v)]||0;k[f]=w+=y}else for(f=u.b1;f<=u.b2;f++){for(y=0,p=u.r1;p<=u.r2;p++)for(v=u.g1;v<=u.g2;v++)y+=o[e(p,v,f)]||0;k[f]=w+=y}return k.forEach(function(C,x){A[x]=w-C}),function(C){var x,S,s,h,g,m=C+"1",b=C+"2",_=0;for(f=u[m];f<=u[b];f++)if(k[f]>w/2){for(s=u.copy(),h=u.copy(),g=(x=f-u[m])<=(S=u[b]-f)?Math.min(u[b]-1,~~(f+S/2)):Math.max(u[m],~~(f-1-x/2));!k[g];)g++;for(_=A[g];!_&&k[g-1];)_=A[--g];return s[b]=g,h[m]=s[b]+1,[s,h]}}(d==n?"r":d==c?"g":"b")}}return r.prototype={volume:function(o){var u=this;return u._volume&&!o||(u._volume=(u.r2-u.r1+1)*(u.g2-u.g1+1)*(u.b2-u.b1+1)),u._volume},count:function(o){var u=this,n=u.histo;if(!u._count_set||o){var c,d,f,p=0;for(c=u.r1;c<=u.r2;c++)for(d=u.g1;d<=u.g2;d++)for(f=u.b1;f<=u.b2;f++)p+=n[e(c,d,f)]||0;u._count=p,u._count_set=!0}return u._count},copy:function(){var o=this;return new r(o.r1,o.r2,o.g1,o.g2,o.b1,o.b2,o.histo)},avg:function(o){var u=this,n=u.histo;if(!u._avg||o){var c,d,f,p,v=0,y=0,w=0,k=0;if(u.r1===u.r2&&u.g1===u.g2&&u.b1===u.b2)u._avg=[u.r1<<3,u.g1<<3,u.b1<<3];else{for(d=u.r1;d<=u.r2;d++)for(f=u.g1;f<=u.g2;f++)for(p=u.b1;p<=u.b2;p++)v+=c=n[e(d,f,p)]||0,y+=c*(d+.5)*8,w+=c*(f+.5)*8,k+=c*(p+.5)*8;u._avg=v?[~~(y/v),~~(w/v),~~(k/v)]:[~~(8*(u.r1+u.r2+1)/2),~~(8*(u.g1+u.g2+1)/2),~~(8*(u.b1+u.b2+1)/2)]}}return u._avg},contains:function(o){var u=this,n=o[0]>>3;return gval=o[1]>>3,bval=o[2]>>3,n>=u.r1&&n<=u.r2&&gval>=u.g1&&gval<=u.g2&&bval>=u.b1&&bval<=u.b2}},a.prototype={push:function(o){this.vboxes.push({vbox:o,color:o.avg()})},palette:function(){return this.vboxes.map(function(o){return o.color})},size:function(){return this.vboxes.size()},map:function(o){for(var u=this.vboxes,n=0;n<u.size();n++)if(u.peek(n).vbox.contains(o))return u.peek(n).color;return this.nearest(o)},nearest:function(o){for(var u,n,c,d=this.vboxes,f=0;f<d.size();f++)((n=Math.sqrt(Math.pow(o[0]-d.peek(f).color[0],2)+Math.pow(o[1]-d.peek(f).color[1],2)+Math.pow(o[2]-d.peek(f).color[2],2)))<u||u===void 0)&&(u=n,c=d.peek(f).color);return c},forcebw:function(){var o=this.vboxes;o.sort(function(d,f){return kp(Y3(d.color),Y3(f.color))});var u=o[0].color;u[0]<5&&u[1]<5&&u[2]<5&&(o[0].color=[0,0,0]);var n=o.length-1,c=o[n].color;c[0]>251&&c[1]>251&&c[2]>251&&(o[n].color=[255,255,255])}},{quantize:function(o,u){if(!Number.isInteger(u)||u<1||u>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!o.length||u<2||u>256||!o.length||u<2||u>256)return!1;for(var n=[],c=new Set,d=0;d<o.length;d++){var f=o[d],p=f.join(",");c.has(p)||(c.add(p),n.push(f))}if(n.length<=u)return new hE(n);var v=function(x){var S,s=new Array(32768);return x.forEach(function(h){S=e(h[0]>>3,h[1]>>3,h[2]>>3),s[S]=(s[S]||0)+1}),s}(o);v.forEach(function(){});var y=function(x,S){var s,h,g,m=1e6,b=0,_=1e6,E=0,R=1e6,j=0;return x.forEach(function(H){(s=H[0]>>3)<m?m=s:s>b&&(b=s),(h=H[1]>>3)<_?_=h:h>E&&(E=h),(g=H[2]>>3)<R?R=g:g>j&&(j=g)}),new r(m,b,_,E,R,j,S)}(o,v),w=new t(function(x,S){return kp(x.count(),S.count())});function k(x,S){for(var s,h=x.size(),g=0;g<1e3;){if(h>=S||g++>1e3)return;if((s=x.pop()).count()){var m=l(v,s),b=m[0],_=m[1];if(!b)return;x.push(b),_&&(x.push(_),h++)}else x.push(s),g++}}w.push(y),k(w,.75*u);for(var A=new t(function(x,S){return kp(x.count()*x.volume(),S.count()*S.volume())});w.size();)A.push(w.pop());k(A,u);for(var C=new a;A.size();)C.push(A.pop());return C}}}().quantize,K3=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)};K3.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};Hl=function(){};Hl.prototype.getColor=function(e,t){return t===void 0&&(t=10),this.getPalette(e,5,t)[0]},Hl.prototype.getPalette=function(e,t,r){var a=function(n){var c=n.colorCount,d=n.quality;if(c!==void 0&&Number.isInteger(c)){if(c===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");c=Math.max(c,2),c=Math.min(c,20)}else c=10;return(d===void 0||!Number.isInteger(d)||d<1)&&(d=10),{colorCount:c,quality:d}}({colorCount:t,quality:r}),l=new K3(e),o=function(n,c,d){for(var f,p,v,y,w,k=n,A=[],C=0;C<c;C+=d)p=k[0+(f=4*C)],v=k[f+1],y=k[f+2],((w=k[f+3])===void 0||w>=125)&&(p>250&&v>250&&y>250||A.push([p,v,y]));return A}(l.getImageData().data,l.width*l.height,a.quality),u=pE(o,a.colorCount);return u?u.palette():null},Hl.prototype.getColorFromUrl=function(e,t,r){var a=this,l=document.createElement("img");l.addEventListener("load",function(){var o=a.getPalette(l,5,r);t(o[0],e)}),l.src=e},Hl.prototype.getImageData=function(e,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(this.status==200){var a=new Uint8Array(this.response);i=a.length;for(var l=new Array(i),o=0;o<a.length;o++)l[o]=String.fromCharCode(a[o]);var u=l.join(""),n=window.btoa(u);t("data:image/png;base64,"+n)}},r.send()},Hl.prototype.getColorAsync=function(e,t,r){var a=this;this.getImageData(e,function(l){var o=document.createElement("img");o.addEventListener("load",function(){var u=a.getPalette(o,5,r);t(u[0],this)}),o.src=l})}});var Z3={};On(Z3,{default:()=>Hl});var J3=Wt(()=>{ev();ev()});var tv,Ul,iv=Wt(()=>{tv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(let e in tv)Object.freeze(tv[e]);Ul=Object.freeze(tv)});var rv=Wt(()=>{iv();iv()});function fE(e,t){return xn(e[0]-t[0],2)+xn(e[1]-t[1],2)+xn(e[2]-t[2],2)}function mE(){let e={},t=Object.keys(Wl);for(let{length:r}=t,a=0;a<r;a++)e[t[a]]={distance:-1,parent:null};return e}function gE(e){let t=mE(),r=[e];for(t[e].distance=0;r.length>0;){let a=r.pop(),l=Object.keys(Wl[a]);for(let{length:o}=l,u=0;u<o;u++){let n=l[u],c=t[n];c.distance===-1&&(c.distance=t[a].distance+1,c.parent=a,r.unshift(n))}}return t}function vE(e,t){return function(r){return t(e(r))}}function bE(e,t){let r=[t[e].parent,e],a=Wl[t[e].parent][e],l=t[e].parent;for(;t[l].parent;)r.unshift(t[l].parent),a=vE(Wl[t[l].parent][l],a),l=t[l].parent;return a.conversion=r,a}function yE(e){let t=gE(e),r={},a=Object.keys(t);for(let{length:l}=a,o=0;o<l;o++){let u=a[o];t[u].parent!==null&&(r[u]=bE(u,t))}return r}function kE(e){let t=function(...r){let a=r[0];return a==null?a:(a.length>1&&(r=a),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function xE(e){let t=function(...r){let a=r[0];if(a==null)return a;a.length>1&&(r=a);let l=e(r);if(typeof l=="object")for(let{length:o}=l,u=0;u<o;u++)l[u]=Math.round(l[u]);return l};return"conversion"in e&&(t.conversion=e.conversion),t}var X3,hr,Wl,as,wE,qu,_E,Q3,nv=Wt(()=>{rv();X3={};for(let e of Object.keys(Ul))X3[Ul[e]]=e;hr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Wl=hr,as=xn(6/29,3);for(let e of Object.keys(hr)){if(!("channels"in hr[e]))throw new Error("missing channels property: "+e);if(!("labels"in hr[e]))throw new Error("missing channel labels property: "+e);if(hr[e].labels.length!==hr[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=hr[e];delete hr[e].channels,delete hr[e].labels,Object.defineProperty(hr[e],"channels",{value:t}),Object.defineProperty(hr[e],"labels",{value:r})}hr.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,a=e[2]/255,l=Math.min(t,r,a),o=Math.max(t,r,a),u=o-l,n,c;switch(o){case l:{n=0;break}case t:{n=(r-a)/u;break}case r:{n=2+(a-t)/u;break}case a:{n=4+(t-r)/u;break}}n=Math.min(n*60,360),n<0&&(n+=360);let d=(l+o)/2;return o===l?c=0:d<=.5?c=u/(o+l):c=u/(2-o-l),[n,c*100,d*100]};hr.rgb.hsv=function(e){let t,r,a,l,o,u=e[0]/255,n=e[1]/255,c=e[2]/255,d=Math.max(u,n,c),f=d-Math.min(u,n,c),p=function(v){return(d-v)/6/f+1/2};if(f===0)l=0,o=0;else{switch(o=f/d,t=p(u),r=p(n),a=p(c),d){case u:{l=a-r;break}case n:{l=1/3+t-a;break}case c:{l=2/3+r-t;break}}l<0?l+=1:l>1&&(l-=1)}return[l*360,o*100,d*100]};hr.rgb.hwb=function(e){let t=e[0],r=e[1],a=e[2],l=hr.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,a));return a=1-1/255*Math.max(t,Math.max(r,a)),[l,o*100,a*100]};hr.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,a=e[2]/255,l=Math.min(1-t,1-r,1-a),o=(1-t-l)/(1-l)||0,u=(1-r-l)/(1-l)||0,n=(1-a-l)/(1-l)||0;return[o*100,u*100,n*100,l*100]};hr.rgb.keyword=function(e){let t=X3[e];if(t)return t;let r=Number.POSITIVE_INFINITY,a;for(let l of Object.keys(Ul)){let o=Ul[l],u=fE(e,o);u<r&&(r=u,a=l)}return a};hr.keyword.rgb=function(e){return Ul[e]};hr.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,a=e[2]/255;t=t>.04045?xn((t+.055)/1.055,2.4):t/12.92,r=r>.04045?xn((r+.055)/1.055,2.4):r/12.92,a=a>.04045?xn((a+.055)/1.055,2.4):a/12.92;let l=t*.4124564+r*.3575761+a*.1804375,o=t*.2126729+r*.7151522+a*.072175,u=t*.0193339+r*.119192+a*.9503041;return[l*100,o*100,u*100]};hr.rgb.lab=function(e){let t=hr.rgb.xyz(e),r=t[0],a=t[1],l=t[2];r/=95.047,a/=100,l/=108.883,r=r>as?xn(r,1/3):7.787*r+16/116,a=a>as?xn(a,1/3):7.787*a+16/116,l=l>as?xn(l,1/3):7.787*l+16/116;let o=116*a-16,u=500*(r-a),n=200*(a-l);return[o,u,n]};hr.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,a=e[2]/100,l,o;if(r===0)return o=a*255,[o,o,o];let u=a<.5?a*(1+r):a+r-a*r,n=2*a-u,c=[0,0,0];for(let d=0;d<3;d++)l=t+1/3*-(d-1),l<0&&l++,l>1&&l--,6*l<1?o=n+(u-n)*6*l:2*l<1?o=u:3*l<2?o=n+(u-n)*(2/3-l)*6:o=n,c[d]=o*255;return c};hr.hsl.hsv=function(e){let t=e[0],r=e[1]/100,a=e[2]/100,l=r,o=Math.max(a,.01);a*=2,r*=a<=1?a:2-a,l*=o<=1?o:2-o;let u=(a+r)/2,n=a===0?2*l/(o+l):2*r/(a+r);return[t,n*100,u*100]};hr.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,a=e[2]/100,l=Math.floor(t)%6,o=t-Math.floor(t),u=255*a*(1-r),n=255*a*(1-r*o),c=255*a*(1-r*(1-o));switch(a*=255,l){case 0:return[a,c,u];case 1:return[n,a,u];case 2:return[u,a,c];case 3:return[u,n,a];case 4:return[c,u,a];case 5:return[a,u,n]}};hr.hsv.hsl=function(e){let t=e[0],r=e[1]/100,a=e[2]/100,l=Math.max(a,.01),o,u;u=(2-r)*a;let n=(2-r)*l;return o=r*l,o/=n<=1?n:2-n,o=o||0,u/=2,[t,o*100,u*100]};hr.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,a=e[2]/100,l=r+a,o;l>1&&(r/=l,a/=l);let u=Math.floor(6*t),n=1-a;o=6*t-u,u&1&&(o=1-o);let c=r+o*(n-r),d,f,p;switch(u){default:case 6:case 0:{d=n,f=c,p=r;break}case 1:{d=c,f=n,p=r;break}case 2:{d=r,f=n,p=c;break}case 3:{d=r,f=c,p=n;break}case 4:{d=c,f=r,p=n;break}case 5:{d=n,f=r,p=c;break}}return[d*255,f*255,p*255]};hr.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,a=e[2]/100,l=e[3]/100,o=1-Math.min(1,t*(1-l)+l),u=1-Math.min(1,r*(1-l)+l),n=1-Math.min(1,a*(1-l)+l);return[o*255,u*255,n*255]};hr.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,a=e[2]/100,l,o,u;return l=t*3.2404542+r*-1.5371385+a*-.4985314,o=t*-.969266+r*1.8760108+a*.041556,u=t*.0556434+r*-.2040259+a*1.0572252,l=l>.0031308?1.055*xn(l,1/2.4)-.055:l*12.92,o=o>.0031308?1.055*xn(o,1/2.4)-.055:o*12.92,u=u>.0031308?1.055*xn(u,1/2.4)-.055:u*12.92,l=Math.min(Math.max(0,l),1),o=Math.min(Math.max(0,o),1),u=Math.min(Math.max(0,u),1),[l*255,o*255,u*255]};hr.xyz.lab=function(e){let t=e[0],r=e[1],a=e[2];t/=95.047,r/=100,a/=108.883,t=t>as?xn(t,1/3):7.787*t+16/116,r=r>as?xn(r,1/3):7.787*r+16/116,a=a>as?xn(a,1/3):7.787*a+16/116;let l=116*r-16,o=500*(t-r),u=200*(r-a);return[l,o,u]};hr.lab.xyz=function(e){let t=e[0],r=e[1],a=e[2],l,o,u;o=(t+16)/116,l=r/500+o,u=o-a/200;let n=xn(o,3),c=xn(l,3),d=xn(u,3);return o=n>as?n:(o-16/116)/7.787,l=c>as?c:(l-16/116)/7.787,u=d>as?d:(u-16/116)/7.787,l*=95.047,o*=100,u*=108.883,[l,o,u]};hr.lab.lch=function(e){let t=e[0],r=e[1],a=e[2],l;l=Math.atan2(a,r)*360/2/Math.PI,l<0&&(l+=360);let o=Math.sqrt(r*r+a*a);return[t,o,l]};hr.lch.lab=function(e){let t=e[0],r=e[1],a=e[2]/360*2*Math.PI,l=r*Math.cos(a),o=r*Math.sin(a);return[t,l,o]};hr.rgb.ansi16=function(e,t=null){let[r,a,l]=e,o=t===null?hr.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let u=30+(Math.round(l/255)<<2|Math.round(a/255)<<1|Math.round(r/255));return o===2&&(u+=60),u};hr.hsv.ansi16=function(e){return hr.rgb.ansi16(hr.hsv.rgb(e),e[2])};hr.rgb.ansi256=function(e){let t=e[0],r=e[1],a=e[2];return t>>4===r>>4&&r>>4===a>>4?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(a/255*5)};hr.ansi16.rgb=function(e){e=e[0];let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(Math.trunc(e>50)+1)*.5,a=(t&1)*r*255,l=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[a,l,o]};hr.ansi256.rgb=function(e){if(e=e[0],e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,a=Math.floor((t=e%36)/6)/5*255,l=t%6/5*255;return[r,a,l]};hr.rgb.hex=function(e){let t=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t};hr.hex.rgb=function(e){let t=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=[...r].map(n=>n+n).join(""));let a=Number.parseInt(r,16),l=a>>16&255,o=a>>8&255,u=a&255;return[l,o,u]};hr.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,a=e[2]/255,l=Math.max(Math.max(t,r),a),o=Math.min(Math.min(t,r),a),u=l-o,n,c=u<1?o/(1-u):0;return u<=0?n=0:l===t?n=(r-a)/u%6:l===r?n=2+(a-t)/u:n=4+(t-r)/u,n/=6,n%=1,[n*360,u*100,c*100]};hr.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,a=r<.5?2*t*r:2*t*(1-r),l=0;return a<1&&(l=(r-.5*a)/(1-a)),[e[0],a*100,l*100]};hr.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,a=t*r,l=0;return a<1&&(l=(r-a)/(1-a)),[e[0],a*100,l*100]};hr.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,a=e[2]/100;if(r===0)return[a*255,a*255,a*255];let l=[0,0,0],o=t%1*6,u=o%1,n=1-u,c=0;switch(Math.floor(o)){case 0:{l[0]=1,l[1]=u,l[2]=0;break}case 1:{l[0]=n,l[1]=1,l[2]=0;break}case 2:{l[0]=0,l[1]=1,l[2]=u;break}case 3:{l[0]=0,l[1]=n,l[2]=1;break}case 4:{l[0]=u,l[1]=0,l[2]=1;break}default:l[0]=1,l[1]=0,l[2]=n}return c=(1-r)*a,[(r*l[0]+c)*255,(r*l[1]+c)*255,(r*l[2]+c)*255]};hr.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,a=t+r*(1-t),l=0;return a>0&&(l=t/a),[e[0],l*100,a*100]};hr.hcg.hsl=function(e){let t=e[1]/100,r=e[2]/100*(1-t)+.5*t,a=0;return r>0&&r<.5?a=t/(2*r):r>=.5&&r<1&&(a=t/(2*(1-r))),[e[0],a*100,r*100]};hr.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,a=t+r*(1-t);return[e[0],(a-t)*100,(1-a)*100]};hr.hwb.hcg=function(e){let t=e[1]/100,r=1-e[2]/100,a=r-t,l=0;return a<1&&(l=(r-a)/(1-a)),[e[0],a*100,l*100]};hr.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};hr.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};hr.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};hr.gray.hsl=function(e){return[0,0,e[0]]};hr.gray.hsv=hr.gray.hsl;hr.gray.hwb=function(e){return[0,100,e[0]]};hr.gray.cmyk=function(e){return[0,0,0,e[0]]};hr.gray.lab=function(e){return[e[0],0,0]};hr.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(r.length)+r};hr.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};wE=yE,qu={},_E=Object.keys(Wl);for(let e of _E){qu[e]={},Object.defineProperty(qu[e],"channels",{value:Wl[e].channels}),Object.defineProperty(qu[e],"labels",{value:Wl[e].labels});let t=wE(e),r=Object.keys(t);for(let a of r){let l=t[a];qu[e][a]=xE(l),qu[e][a].raw=kE(l)}}Q3=qu});var e5={};On(e5,{default:()=>Q3});var t5=Wt(()=>{rv();nv();nv()});var ov,i5,SE,AE,qo,Ua,CE,EE,o5,TE,av,r5,$E,PE,n5,OE,sv,xp,rn,Vl,lv,uv,a5=Wt(()=>{i3();k0();yp();gf();Bd();Ga();vf();yf();L3();wf();R3();j3();B3();W3();G3();ov=480,i5=640,SE=10,AE=350,qo=60,Ua=30,CE=140,EE=200,o5=490,TE=o5+55,av=152,r5=800,$E=20,PE=370,n5=100,OE=100,sv=725,xp={jid:"jw6",start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},rn=class rn extends za{constructor(){super(),this.jid="jw6"}setup_component(){var l,o,u;if(Ni("Play.setup_component()"),this.getAttribute("playlist")&&!this.playlist&&(this.playlist=JSON.parse(this.getAttribute("playlist"))),!this.playlist){Ni("no playlist yet");return}if(this.setup_component_ran){Ni("already ran");return}this.setup_component_ran=!0;let t=this.getAttribute("args")?JSON.parse(this.getAttribute("args")):{};Ni("PLAY CONFIG:",t,this.playlist),t.headless?this.jid="headless":t.jid&&t.jid!==this.jid&&(this.jid=t.jid),this.slotted||(this.innerHTML=`<div id="${this.jid}"></div><div id="ia-scrubber" slot="ia-scrubber"></div>`,this.slotted=!0),rn.STASH[this.jid]=this;for(let[n,c]of Object.entries(xp))n==="identifier"&&typeof this.identifier!="undefined"&&this.identifier!==!1||(this[n]=n in t?t[n]==="false"?!1:t[n]:c);if(this.tvTitle=this.tv&&this.playlist.length===1?this.playlist[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel=`#${this.jid}`,this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless,this.onCompleteStop=!1,this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&this.audio&&((l=this.triggers)!=null&&l.length)&&this.playlist.length?new lv(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),this.responsiveResize(!0),ea(".js-play8-speed",rn.get(this.jid).speed),ea(".js-play8-gofullscreen",vn(this.jid).setFullscreen),ea(".js-play8-mute-click",rn.mute_click),ea(".js-play8-seek",n=>rn.seek(n.currentTarget)),globalThis.AJS&&ea(".js-play8-thumbzilla",n=>globalThis.AJS.thumbzilla(mi(n.currentTarget).data().identifier)),this.identifier!==!1&&(this.details=`https://archive.org/details/${this.identifier}`),this.tv&&this.tvEnd&&(this.details+=`/start/${this.tvStart}/end/${this.tvEnd}`),this.tv&&(this.hide_list=!0),this.hide_list||(this.list_height||(this.list_height=this.audio?PE:n5),this.embed&&!this.audio||(this.list_height=Math.min(this.list_height,this.playlist.length*$E))),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){let n=mi(window).width(),c=mi(window).height();this.width=this.audio?Math.min(n,r5):n,this.height=this.audio?Ua+this.list_height:c-this.list_height}else this.aspectratio||(this.width=this.audio?AE:i5,this.height=this.audio?qo+this.list_height:ov);for(let[n,c]of Object.entries(this.playlist))if(typeof c.autoplay!="undefined"&&(this.onCompleteStop||(this.onCompleteStop=[]),this.onCompleteStop[Number(n)-1]=!c.autoplay),typeof c.sources=="undefined"&&typeof c.file!="undefined"&&(c.sources=[{file:c.file,height:480}]),typeof c.sources=="undefined")alert(`${n}: sources undefined!`);else for(let d of c.sources)typeof d.file!="undefined"&&(!Number(n)&&d.file.indexOf("/download")>=0&&(d.file=d.file.replace(/\/download\//,"/serve/")),d.file=rn.filename_char_encoder(d.file));this.tvTitle&&(this.playlist[0].title=this.playlist[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));let r=JSON.parse(JSON.stringify(this.playlist));if(r.forEach(n=>(this.audio&&delete n.tracks,n)),this.jwcfg={playlist:r,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?Ua:this.height,base:bf},this.responsive&&!this.embed?this.jwcfg.displaytitle=!1:this.aspectratio&&(this.jwcfg.width="100%",this.jwcfg.aspectratio=this.aspectratio,document.getElementById("TVX")||delete this.jwcfg.height),this.identifier!==!1){let n=this.tv&&this.tvEnd?`?start=${this.tvStart}&end=${this.tvEnd}`:"",c=`<iframe src="https://archive.org/embed/MEDIAID"
                            width="${this.audio?500:i5}"
                            height="${this.audio?Ua:ov}"
                            frameborder="0"
                            webkitallowfullscreen="true"
                            mozallowfullscreen="true"
                            allowfullscreen></iframe>`.replace(/embed\/MEDIAID/,`embed/${this.identifier}${n}`).replace(/\s+/g," "),d=`[archiveorg ${this.identifier}${n} width=640 height=${this.audio?Ua:ov} frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`;this.jwcfg.mediaid=this.identifier,mi("#embedcodehere").text(c),mi("#embedcodehereWP").text(d)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(this.jwcfg.logo={file:"https://av.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||this.onCompleteStop){let n=this.onComplete;this.onComplete=c=>{let d={done:this.play_just1||this.onCompleteStop[c.getPlaylistIndex()]};d.done&&c.stop(),n&&n(c,d)}}if((o=this.HLS)==null||o.update_playlist(),Ni(this.jwcfg),this.headless){"playN"in this.headless&&this.playN((u=this.headless.playN)!=null?u:0);return}let a=vn(this.jid);try{a.setup(this.jwcfg)}catch(n){Nd(`player setup() ${this.jid} failed`,{error:n});return}a.on("ready",()=>{var n;Ni("IA ",this.jid," is ready"),this.player=a,Ni("NOTE: JW version: ",vn.version);{let c=this.playlist.length,d=a.getConfig().playlist.length;c!==d&&!(this.HLS&&d===1&&c>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",this.playlist.length,"-vs-",a.getConfig().playlist.length)}(n=this.HLS)==null||n.setup(this),Sa("playset")&&a.on("complete",()=>fb.onComplete(a)),this.audio?a.on("firstFrame",()=>rn.track_event("Details-Audio-Beta|AudioStarted")):this.tv||(a.on("firstFrame",()=>rn.track_event("Details-Video|VideoStarted")),a.on("complete",()=>rn.track_event("Details-Video|VideoEnded"))),this.readyIA=!0,this.requestUpdate(),this.right_click_sharing(a),a.once("meta",c=>{Ni("onMeta() fired"),this.embed&&!this.audio&&this.adjust_video_width(c),this.HLS||this.unpreload()}),a.on("playlistItem",c=>{let d=c.index;if(Ni("onPlaylistItem: ",d),this.reloading_playlist_playlist_idx&&!d){Ni(`onPlaylistItem: ignoring since desired index ${this.reloading_playlist_playlist_idx} !== ${d} -- and this is likely an event from reloading the playlist`);let f=this.reloading_playlist_playlist_idx;this.reloading_playlist_playlist_idx=0,vn(this.jid).playlistItem(f);return}this.track_change(a,d),this.seeker_playlist(),this.speed!==1&&setTimeout(()=>this.set_speed,1e3),this.waveformer_setup(a)}),a.on("playlistComplete",()=>{!this.audio&&this.collection&&!this.tv&&this.related_items_click()}),a.on("error",c=>{Ni("err"),Ni(c),mi(this.jidsel).css({"background-color":"black"})})})}url_updater(t,r){if(Ni(`url_updater(${r})`),this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined"||this.playlist.length<=1||!this.playlist[r]||!this.playlist[r].orig&&!this.headless)return;let{orig:a}=this.playlist[r];if(this.update_url_onload){let l=`/details/${this.identifier}`.concat(a===""?"":`/${encodeURIComponent(a).replace(/%2F/g,"/").replace(/%20/g,"+")}`),o=Sa("playset",!0)?"?playset=1&autoplay=1":"";Ni("updating url to",l+o),history.replaceState({},null,l+o)}else Ni(`looks like /details/ page loaded cold-state at #${r}-- leave url AS IS`,this.coldseek),t==null||t.once("play",()=>{Ni("time to start updating urls"),this.update_url_onload=!0,this.url_updater(t,r),!(!this.coldseek||this.coldseek.done)&&(this.coldseek.timer&&(clearTimeout(this.coldseek.timer),delete this.coldseek.timer),this.coldseek.timer=setTimeout(()=>{Ni(`play() current index: ${t.getPlaylistIndex()}} -v- `,this.coldseek),this.coldseek.startPlaylistIdx===t.getPlaylistIndex()&&this.start&&(Ni("play() seek to cold-state",this.coldseek),t.seek(Number(this.start)+(this.HLS?t.getCurrentTime():0))),this.start=0,this.coldseek.done=!0},500))})}waveformer_setup(t){var a;if(!this.audio||this.waveformed)return;this.embed||mi(`#${this.jid}`).css("border-radius",`${qo/2}px 0 0 ${qo/2}px`),this.recolor(),mi(".jw-slider-time").remove(),setTimeout(()=>{mi("#ia-scrubber").html(`
        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"
          style="padding:0" tabindex="0" role="slider" aria-label="Seek">
          <div class="jw-slider-container jw-reset">
            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>
            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>
            <div class="jw-progress jw-reset" style="background-color: #000"></div>
            <div class="jw-knob jw-reset"
              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>
          </div>
        </div>`)},750),mi(".jw-icon-settings svg").html('<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>'),mi(".jw-text-countdown").remove(),this.HLS?(mi(".jw-text-elapsed, .jw-text-duration").remove(),mi(".jw-button-container").append(`
<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"
role="timer">00:00</div>
<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"
role="timer">${rn.sec2hms(Math.round((a=this.playlist[0])==null?void 0:a.duration)||0)}</div>`)):(mi(".jw-icon-settings").after(mi(".jw-text-elapsed")),mi(".jw-text-elapsed").after(mi(".jw-text-duration"))),this.canHLS&&(mi("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before(`
          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"
          role="menuitemradio" tabindex="0"
          aria-label="Background Play"
          name="backgroundPlay"
          type="button"
          aria-haspopup="true"
          aria-controls="jw-settings-submenu-backgroundPlay">
            <img src="//av.archive.org/img/infinity.png"/>
            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">
              <div class="jw-text">Background Play</div>
            </div>
          </div>`),mi("#jw-settings-menu").append(`<background-play id="jw-settings-submenu-backgroundPlay"
        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"
        role="menu"></background-play>`),mi(".jw-settings-backgroundPlay").on("click",()=>{mi(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),mi("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),mi(".jw-settings-backgroundPlay").attr("aria-expanded","true"),mi(".jw-settings-playbackRates").attr("aria-expanded","")}),mi(".jw-settings-playbackRates").on("click",()=>{mi(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),mi("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),mi(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",()=>{mi("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),mi(".jw-settings-playbackRates").attr("aria-expanded","true"),mi(".jw-settings-backgroundPlay").attr("aria-expanded","")})),mi("#ia-scrubber").on("click",l=>this.waveform_clicked(l)),t.on("time",l=>{var n;if(!l.duration)return;this.HLS?this.HLS.on_time():this.jwaudioPercentDone=Math.min(1,l.position/l.duration);let o=`${Number(100*this.jwaudioPercentDone).toFixed(3)}%`,u=this.shadowRoot.getElementById("waveformer");u.style.width=o,this.waveformer_played_color&&(u.style.backgroundColor=this.waveformer_played_color),mi("#ia-scrubber").find(".jw-knob").css("left",o),mi("#ia-scrubber").find(".jw-progress").css({width:o,backgroundColor:(n=this.waveformer_progress_color)!=null?n:"#000"})}),t.on("bufferChange",l=>{this.HLS?Ni("xxx HLS buffering"):mi("#ia-scrubber").find(".jw-buffer").css("width",`${l.bufferPercent}%`)}),this.waveformed=!0}waveform_clicked(t){let r=mi(this.shadowRoot.getElementById("waveformer-wrap")).width(),a=Number(t.offsetX/r).toFixed(2);if(Ni("waveform_clicked",{percent:a}),this.HLS)return this.HLS.waveform_clicked2(a);let l=this.player.getPlaylistItem().duration||0;this.player.seek(l*a)}recolor(){return Vt(this,null,function*(){var u,n,c;if((u=document.querySelector("ia-music-theater"))!=null&&u.hasAttribute("noimageavailable")){this.recolor_generic();return}let t=(n=mi("ia-music-theater img"))==null?void 0:n.get(0);if(!t)return;let[r,a]=(yield Promise.all([Promise.resolve().then(()=>(J3(),Z3)),Promise.resolve().then(()=>(t5(),e5))])).map(d=>d.default),l=()=>{var A;let f=new r().getPalette(t,5);if(Ni({palette:f}),!f)return;let p=f[0];if(Ni({dominantColorRGB:p}),!p)return;let v=a.rgb.hsl(...p);Ni({HSL:v});let y=Math.round(p.reduce((C,x)=>C+x)/p.length),w=y>=128?"black":"white";Ni({avgVal:y});let k=(A=document.getElementById("theatre-ia-wrap"))!=null?A:document.getElementsByTagName("body")[0];k.style.color=w,k.style.backgroundImage=`linear-gradient(rgb(${p.join(",")}), black)`,k.style.backgroundRepeat="no-repeat",w==="black"&&(this.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),this.waveformer_played_color=`hsl(${v[0]},${v[1]}%,${Math.min(100,1.5*v[2])}%)`},o=(c=document.getElementById("theatre-ia-wrap"))!=null?c:document.getElementsByTagName("body")[0];o.style.backgroundImage="linear-gradient(#aaa, black)",o.style.backgroundRepeat="no-repeat",o.style.backgroundColor="black",t.crossOrigin="Anonymous",t.complete?l():t.addEventListener("load",l)})}recolor_generic(){var u;let t=[`linear-gradient(
        hsl(330, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(230, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(190, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(280, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(310, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(360, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`],r=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],a=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],l=rn.hash_string(this.identifier)%6,o=(u=document.getElementById("theatre-ia-wrap"))!=null?u:document.getElementsByTagName("body")[0];o.style.backgroundImage=t[l],this.waveformer_played_color=r[l],this.waveformer_progress_color=a[l]}static hash_string(t){return t.split("").reduce((r,a)=>r+a.charCodeAt(0),0)}adjust_video_width(t){!t.width||!t.height||(t.height&&t.width&&t.height>0&&t.width>0&&parseInt(t.height,10)>0&&(this.DAR=parseInt(t.width,10)/parseInt(t.height,10),Ni("DAR: ",this.DAR,t.width,"x",t.height)),this.embedResize())}embedResize(){if(!vn||!vn(this.jid))return;if(this.audio){vn(this.jid).resize(Math.min(r5,mi(window).width()),Ua);return}let t=mi(window).width(),r=mi(window).height()-this.list_height;vn(this.jid).resize(t,r)}playN(t,r){if(this.headless)return Ni("playN",{idx:t,load_paused:r}),rn.headless_callback(t-(this.headless.has_full_album?1:0)),this.track_change(void 0,t);let a=vn(this.jid);return Ni("playN",{readyIA:this.readyIA,idx:t,load_paused:r,state:a.getState()}),r&&a.once("play",()=>a.pause()),this.HLS?(a.seek(t?this.triggers[t-1]-this.HLS.WIGGLE:0),this.track_change(a,t),!1):(a.playlistItem(t),!1)}track_change(t,r){Ni("track_change",{idx:r}),this.trackno=r,this.url_updater(t,r)}seeker_playlist(){this.first_seeked_playlist||(this.first_seeked_playlist=!0,this.pause_first_seek&&vn(this.jid).once("seek",()=>{this.pause(),Ni("... paused first seek!")}),this.start&&(this.pause(),vn(this.jid).seek(this.start)))}embed_setup(){mi(window).on("resize  orientationchange",()=>{clearTimeout(rn.throttler2),rn.throttler2=setTimeout(()=>{rn.get(this.jid).embedResize()},250)})}unpreload(){let t=vn(this.jid),r=t.getPlaylist(),a=t.getPlaylistIndex();if(Ni("unpreload:",{startPlaylistIdx:a}),r.length&&(typeof r[0].file!="undefined"&&(r[0].file=r[0].file.replace(/\/serve\//,"/download/")),typeof r[0].sources!="undefined"))for(let l of r[0].sources)l.file=l.file.replace(/\/serve\//,"/download/");a?(t.on("playlist",()=>{Ni("unpreload: onplaylist:",{startPlaylistIdx:a}),t.playlistIndex=a,t.playlistItem(a)}),this.reloading_playlist_playlist_idx=a):!this.start&&!this.autoplay&&(this.update_url_onload=!1),t.load(r)}details_setup(){Ni("details_setup");let t=0,r=`^/details/${this.identifier}/([^&?]+)`,a=location.pathname.match(r);if(a){let l=decodeURIComponent(a[1].replace(/\+/g,"%20"));Ni("looking for: ",l);for(let o in this.playlist){let u=Number(o);if(this.playlist[u].orig===l){Ni("player should seek to track #",u),t=u;break}}}!t&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(t||this.start)&&(Ni("seek #",t," to ",this.start),this.HLS?(setTimeout(()=>this.playN(0,!0),500),setTimeout(()=>this.playN(t,!0),1e3)):vn(this.jid).playlistItem(t)),this.coldseek={startPlaylistIdx:t,start:this.start}}pause(){let t=vn(this.jid);this.readyIA&&t&&t.getState&&t.getState()==="playing"&&t.pause()}remove(){this.pause();let t=vn(this.jid);this.readyIA&&t&&t.getConfig()&&t.remove(),delete rn.STASH[this.jid]}set_speed(){var r;let t=mi(`#${this.jid} video`).get(0);t.playbackRate=(r=this.speed)!=null?r:1,Ni(`speed to ${t.playbackRate}`)}add_buttons(t){var u,n,c,d;let r='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',a='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',l='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',o='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){let f=this.tvTitle?`${this.tvTitle.replace(/ : /g,`
`)}

Click above for more information and clips
at the Internet Archive`:"More Formats from Internet Archive";t.addButton("https://archive.org/images/glogo-jw.png",f,()=>{let p=document.createElement("a");p.setAttribute("href",this.details),p.setAttribute("target","_blank"),document.body.appendChild(p),p.click()},"btn-ia")}this.embed&&!this.audio&&!this.noshare&&!this.tv&&(this.identifier!==!1&&t.addButton("https://av.archive.org/jw/embed.png","Embedding Examples and Help",()=>{globalThis.top.location.href=`/help/video.php?identifier=${this.identifier}`},"btn-mbd"),globalThis.AJS&&(t.addButton(l,"share",()=>{let f=mi(".jw-icon[button=btn-shr]").get(0);globalThis.AJS.modal_go(f,{ignore_lnk:1,shown:globalThis.AJS.embed_codes_adjust})},"btn-shr"),mi(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))),this.tv&&this.embed&&this.tvSource!==!1&&t.addButton(`/images/tv/${this.identifier.split("_")[0]}.png`,`Look for this show on ${this.tvContributor} website`,()=>{globalThis.top.location.href=this.tvSource},"btn-tv"),!this.audio&&this.collection&&!this.tv&&t.addButton("https://av.archive.org/jw/related.png","Related Videos",()=>{this.related_items_click()},"btn-rel"),Q0()&&V3((c=(n=(u=this.playlist)==null?void 0:u[0])==null?void 0:n.sources)==null?void 0:c[0]),(Q0()||globalThis.WebKitPlaybackTargetAvailabilityEvent)&&t.addButton(o,"Cast media with AirPlay / Chromecast",()=>{this.cast()},"btn-cast"),mi(".jw-icon-settings").css("display","flex"),this.audio&&(mi(".jw-slider-time").remove(),mi(".jw-icon-settings").on("click",()=>this.settings_opened()),mi(".jw-settings-close").on("click",()=>this.settings_closed()),t.on("playbackRateChanged",()=>this.settings_closed())),mi(".jw-icon-volume").on("mouseover",()=>{mi('div[button="btn-prv"]').hide(),mi('div[button="btn-nxt"]').hide(),mi(".jw-icon-settings").hide()}),mi(`${this.jidsel} .jw-button-container`).on("mouseleave",()=>{mi('div[button="btn-prv"]').show(),mi('div[button="btn-nxt"]').show(),mi(".jw-icon-settings").show()}),!this.tv&&((d=this.playlist)==null?void 0:d.length)>1&&(t.addButton(a,"next",()=>(this.HLS||t).playlistNext(),"btn-nxt"),t.addButton(r,"previous",()=>(this.HLS||t).playlistPrev(),"btn-prv"))}settings_opened(){mi(this.jidsel).css("overflow","visible"),mi(".jw-controls").css("overflow","visible").show(),mi("#jw-settings-menu").css({overflow:"visible",height:EE,top:this.embed?Ua/5:qo/2,bottom:"initial"}),mi(".jw-controlbar").show(),mi(".jw-icon-settings").removeClass("jw-icon-settings");let t=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,r=t-av+7;Ni({kebab_left:t,settings_new_left:r}),document.querySelector("body.jwaudio #jw-settings-menu").style.left=`${r}px`}settings_closed(){mi(this.jidsel).css("overflow","")}cast(){if(globalThis.WebKitPlaybackTargetAvailabilityEvent){mi(`#${this.jid} video`).get(0).webkitShowPlaybackTargetPicker();return}q3()}related_items_click(){let t=()=>{mi(`${this.jidsel} .jw-controlbar`).one("click",r=>{mi("#related-items-bg").hide(),r.preventDefault()})};typeof Hu!="undefined"&&!mi("#related-items").length?(mi(`${this.jidsel}`).prepend(`
<div id="related-items-bg" style="display:none">
  <div id="related-items">
  </div>
</div>
`),Hu.getRelatedItems(this.identifier,!0).then(r=>{let a=Math.floor(r.length/2),l="";for(let[o,u]of Object.entries(r))Number(o)===a&&this.collection==="prelinger"?(rn.track_event("Details-Video|DonationEndrollDisplayed"),l+=`
<a class="related-donate"
   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"
   data-event-click-tracking="Details-Video|DonationEndrollClicked"
   data-event-tracking-options='{ "service": "ao_no_sampling" }'>
  <div>
    <div class="related-ctr related-donate-logo">
      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>
    </div>
    <div class="related-ctr related-donate-msg">
      <div>
        Your donation helps us keep these videos free for everyone
      </div>
    </div>
    <div class="related-ctr related-donate-btn">
      <div>
        CHIP IN
      </div>
    </div>
  </div>
</a>
`):l+=`
<div>
  <a href="/details/${u.identifier}"
    data-event-click-tracking="Details-Video|LastFrameLinkChosen"
    data-event-tracking-options='{ "service": "ao_2" }'>
    <div class="related-ttl">
      ${u.title!==null?u.title:""}
      ${u.creator!==null?`<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;${u.creator}`:""}
      ${u.downloads!==null?`<div>${u.downloads} views</div>`:""}
    </div>
    <img src="/services/img/${u.identifier}"/>
  </a>
</div>
`;mi("#related-items").html(l),mi("#related-items-bg").show(),t()})):mi("#related-items-bg:visible").length?mi("#related-items-bg").hide():(mi("#related-items-bg").show(),setTimeout(t,500)),ea("#related-items-bg",()=>mi("#related-items-bg").hide(),"default")}add_playlist_panel(){return this.hide_list?"":co`
<div class="playlist ${this.embed?"embedded":""} ${this.audio?"":"video"}">
  <button type="button" class="page-left page-arrow iconochive iconochive-left"
    @click="${this.prior_panel}"
    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">
    <span class="sr-only">prior page</span>
  </button>

  <div class="track-list">
    <div class="flexbox-pages column">
      ${this.playlist.map((t,r)=>{var a;return co`
      <button
        @click="${this.playlist_track_click}"
        type="button"
        class="track ${this.trackno===r?"selected":""}"
        data-track-number="${r}"
        data-event-click-tracking="TrackList|Item">
        ${this.headless?"":co`<span class="track-number">${r+1}</span>`}
        <span class="track-title">${(a=t.title)!=null?a:""}
          ${t.artist?co`<i class="track-artist">- ${t.artist}</i>`:""}
        </span>
        <span class="track-length">
          ${""}
          ${t.duration?rn.sec2hms(t.duration):this.headless?"- \u2013:\u2013 -":""}
        </span>
      </button>`})}
    </div>

    <div class="page-buttons">
      ${[...Array(this.panels_count)].map((t,r)=>co`
        <button type="button"
          @click="${this.goto_panel}"
          data-page-number="${r}"
          class="page-button ${Number(r)===this.panelno?"selected":""}"
          data-event-click-tracking="Play-AV|Paginator-Button"
          tabindex="-1">
          <span class="sr-only">${r}</span>
        </button>`)}
    </div>
  </div>

  <button type="button" class="page-right page-arrow iconochive iconochive-right"
    @click="${this.next_panel}"
    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">
    <span class="sr-only">next page</span>
  </button>

</div>
`}playlist_track_click(t){this.playN(Number(t.currentTarget.dataset.trackNumber))}prior_panel(){this.panelno-=1;let t=this.shadowRoot.querySelector(".flexbox-pages");t.scrollBy({top:0,left:-1*t.clientWidth,behavior:"smooth"}),this.requestUpdate()}next_panel(){this.panelno+=1;let t=this.shadowRoot.querySelector(".flexbox-pages");t.scrollBy({top:0,left:t.clientWidth,behavior:"smooth"}),this.requestUpdate()}goto_panel(t){let r=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(t.currentTarget.dataset.pageNumber),r.scrollTo({top:0,left:this.panelno*r.clientWidth,behavior:"smooth"}),this.requestUpdate()}paging_visibility(){setTimeout(()=>{var d;let r=(d=this.shadowRoot)==null?void 0:d.querySelector(".flexbox-pages");if(!r)return;r.getAttribute("scroll_listening")||(r.addEventListener("scroll",this.paging_visibility),r.setAttribute("scroll_listening","yes"));let a=r.parentElement.parentElement.querySelector(".page-left"),l=r.parentElement.parentElement.querySelector(".page-right"),{scrollLeft:o}=r,u=this.panels_count;this.panels_count=Math.ceil(r.scrollWidth/r.clientWidth),console.warn("PANELS COUNT",this.panels_count);let n=r.scrollWidth-r.clientWidth,c=this.panels_count<=1;a.style.visibility=c||o<=0?"hidden":"visible",l.style.visibility=c||o>=n?"hidden":"visible",r.parentElement.querySelector(".page-buttons").style.display=c?"none":"block",u!==this.panels_count&&this.requestUpdate()},1500)}static get styles(){return fd`
:host {
  /* @container queries for our shadow *and* light DOM elements will use the overall web component's
     width  ( https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries )
  */
  container-type: inline-size;
  display: block;

  outline: 0 !important;
  outline-offset: unset !important;
}

.av-pill {
  display: flex;
  flex-shrink: 0;
}

#waveformer-wrap {
  flex-grow: 1;
  position: relative;
  display: inline-block;
  height: ${Un(qo)}px;
  border-radius: 0 ${Un(qo/2)}px ${Un(qo)/2}px 0;
  border-right: ${Un(qo/2)}px solid black;
  cursor: pointer;

  background-color: white; /* would be supercool transparent otherwise... */
}
#waveformer {
  position: absolute;
  height: ${Un(qo)}px;
  width: 0;
  background-color: #ddd; /* fallback in case no imagery or colorthief fails */
}
#waveformer-wrap img {
  position: absolute;
  height: ${Un(qo)}px;
  width: 100%;
  background-color: transparent;
}

::slotted(#ia-scrubber) {
  z-index: 1;
  position: absolute;
  left: 0;
  right: 0;
  height: 17px;
  top: ${Un(qo/2-9)}px;
}

.av-pill.audio {
  margin-top: 5px;
}
.av-pill.audio.embedded {
  margin-top: 0;
}


/* for audio embeds, controlbar is shorter in height */
.av-pill.embedded.audio,
.av-pill.embedded.audio #waveformer-wrap,
.av-pill.embedded.audio #waveformer,
.av-pill.embedded.audio #waveformer-wrap img {
  height: ${Un(Ua)}px;
}
.av-pill.embedded.audio ::slotted(#ia-scrubber) {
  top: ${Un(Ua/2-9)}px;
}
.av-pill.embedded.audio #waveformer-wrap {
  border-radius: initial;
  border-right-width: 5px;
}

.playlist.embedded {
  margin-top: 0;
  background-color: black;
}

@container (max-width: ${Un(sv-1)}px) {
  .media-section {
    margin-bottom: 1rem;
  }
  .playlist {
    max-height: 340px;
    margin: 0;
  }
  .page-buttons,
  .page-arrow {
    display: none;
  }
}


.playlist {
  color: #fff;
  margin-top: 1rem;
  padding-bottom: 4rem;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;

  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxx */
}

.track-list {
  /* split overflow declaration needed for Safari */
  position: relative;
  overflow-x: hidden;
  overflow-y: auto;
  box-sizing: border-box;
  margin: 0 2.5rem; /* space for left & right [<] paging buttons */
}

.track {
  vertical-align: top;
  cursor: pointer;
  border-width: 0.3rem;
  border-style: solid;
  border-color: transparent;
  text-align: left;
  background: transparent;
  color: inherit;
  padding-right: 0;
  padding-left: 0;
  min-height: 4rem;
  margin-left: 0.5%;
  margin-right: 0.5%;
  box-sizing: border-box;
  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */
  font-size: 13.3px; /* safari consistent w/ chrome */
}

.track.selected {
  border-color: #00A1DD;
  border-radius: .5rem;
}
.track.selected:focus {
  outline: none;
}

.track-number,
.track-title,
.track-length {
  display: inline-block;
  box-sizing: border-box;
  border-right: 10px solid transparent;
  vertical-align: top;
}

.track-number {
  text-align: right;
  font-weight: 100;
  width: 9%;
}

.track-title {
  width: 60%;
}

.track-artist {
  font-weight: 200;
}

.track-length {
  text-align: right;
  font-weight: 100;
  float: right;
}



.flexbox-pages {
  display: flex;
  align-items: stretch;
  flex-direction: column;
  flex-wrap: wrap;
  height: inherit; /* must set with parent to wrap columns */
  overflow: hidden;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
}

.flexbox-pages.column > * {
  width: inherit; /* set at parent, for better display control */
}

@container (max-width: 500px) { /* xxx number */
  .flexbox-pages {
    flex-wrap: nowrap;
  }
}

.playlist.embedded.video .flexbox-pages.column {
  height: ${Un(n5)}px;
}
@container (max-width: ${Un(sv-1)}px) {
  .playlist.embedded.video .flexbox-pages.column {
    overflow-y: visible;
    flex-wrap: initial;
  }
}

@container (min-width: ${Un(sv)}px) {
  .flexbox-pages {
    height: 350px; /*calc(400px - 50px);*/
    float: unset;
  }

  .flexbox-pages.column > * {
    width: 49%;
  }
}

.page-buttons {
  width: 100%;
  text-align: center;
}
.page-button {
  border-radius: 50%;
  border-color: inherit;
  border-style: solid;
  border-width: 0.1rem;
  color: white;
  background-color: transparent;
  height: 1.5rem;
  width: 1.5rem;
  margin: 0 .5rem;
}
.page-button.selected {
  background-color: white;
}
.page-button.selected:focus {
  outline: none;
}

.page-arrow {
  background: transparent;
  border: none;
  position: absolute;
  top: 35%;
  font-size: 2.5rem;
  color: white;
  opacity: 0.6;
}
.page-arrow:hover {
  cursor: pointer;
  opacity: 1.0;
}

.page-left {
  left: -1rem;
}
.page-right {
  right: -1rem;
}

.sr-only {
  position: absolute;
  clip: rect(0, 0, 0, 0);
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
`}static _css(){let t=document.getElementsByTagName("head")[0];if(!t)return;let r=document.createElement("style");r.setAttribute("type","text/css"),r.appendChild(document.createTextNode(`

/* switch back to more expected/std. way of measuring things width/height. */
/* make it so borders *add to*, not included *in* a pegged/css width, etc. */
.content-box-sizing,
.content-box-sizing *,
.content-box-sizing *:before,
.content-box-sizing *:after {
  -webkit-box-sizing: content-box !important;
  -moz-box-sizing:    content-box !important;
  box-sizing:         content-box !important;
}


body.jwaudio .jwplayer {
  width: initial !important;
  display: inline-block;
  margin-left: ${SE}px;

  outline: 0 !important;
  outline-offset: unset !important;
}


body.jwaudio.embedded .jwplayer {
  margin-left: 0;
}

body.jwaudio.embedded .maudioEmbed {
  max-width: 800px;
  margin: auto;
  position: relative;
}

body.jwaudio.embedded .jw-tooltip-btn-ia {
  /* for audio embeds' IA logo -- we _want_ the tooltip to show up -- but to the left */
  display: block;
  bottom: -60%;
  left: -200%;
}

/* JW8 changed min height (effectively) to 50px */
body.jwaudio.embedded .jw-flag-audio-player {
  max-height: ${Ua}px;
}
body.jwaudio.embedded .jw-icon {
  height: ${Ua}px;
}


/* even short height controlbar -- we want to see our custom buttons */
.jw-flag-audio-player .jw-icon[button=btn-prv],
.jw-flag-audio-player .jw-icon[button=btn-nxt],
.jw-flag-audio-player .jw-icon[button=btn-ia],
.jw-flag-audio-player .jw-icon[button=btn-cast] {
  display: flex !important;
}

body.jwaudio .jw-preview {
  display: none !important;
}

/* avoid bleed-thru when kebab opened */
body.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {
  background-color: transparent;
  background: none;
}

/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */
body.jwaudio .jw-wrapper,
body.jwaudio .jw-controls {
  position: initial;
}

body.jwaudio .jw-controlbar .jw-icon-inline:first-child {
  margin-left: 15px;
}

body.jwaudio .jw-controlbar .jw-icon-inline {
  width: 35px;
}
body.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {
  width: 55px;
}

@container (min-width: ${o5}px) {
  body.jwaudio .jw-text-elapsed {
    display: flex !important;
  }
}
@container (min-width: ${TE}px) {
  body.jwaudio .jw-text-duration {
    display: flex !important;
  }
}

body.jwaudio .jw-settings-submenu-button {
  margin-left: -5px;
}

body.jwaudio #jw-settings-menu {
  z-index: 1;
  margin-top: 25px;
  border-top: 1px solid #aaa;
  left: 50px;
}

body.jwaudio #jw-settings-menu:before {
  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */
  content: "";
  position:absolute;

  /* position tooltip correctly */
  top: -11px;
  left: ${av}px;
  transform:translateY(-50%);

  /* the arrow */
  border: 10px solid #000;
  border-color: transparent transparent #aaa transparent;
}
body.jwaudio #jw-settings-menu:after {
  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */
  content: "";
  position:absolute;

  /* position tooltip correctly */
  top: -8px;
  left: ${av}px;
  transform:translateY(-50%);

  /* the arrow */
  border: 10px solid #000;
  border-color: transparent transparent black transparent;
}

#waveformer-loader {
  overflow: hidden;
  width: 1px;
  height: 1px;
  max-width: 1px;
  max-height: 1px;
  position: fixed;
  bottom: 0;
  right: 0;
  opacity: 0.01;
}
    `)),t.appendChild(r)}responsiveResize(t){if(!this.responsive)return;let r=mi(this).offset(),a=mi(window).height()-r.top-OE;if(this.audio)a-=qo,a=Math.max(CE,a),this.embed||(Ni("responsiveResize() maxH:",a),this.list_height=a);else{let l=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(l=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,Ni("aspect ratio appears to be: ",l));let o=mi(".container-ia:last").width();Ni("video max rect avail: ",o,"x",a);let u,n;for(n of[960,840,720,600,480,360,240,180])if(u=Math.round(n*l),Ni("video size try fit: ",u,"x",n),u<=o&&n<=a||u<=320)break;this.width=u,this.height=n,globalThis.AJS&&globalThis.AJS.theatre_controls_position(!1,0,this.width,this.height)}t?mi(window).on("resize  orientationchange",()=>{clearTimeout(rn.throttler),rn.throttler=setTimeout(()=>{this.responsiveResize()},250)}):this.audio||vn(this.jid).resize(this.width,this.height),t||this.paging_visibility()}static sec2hms(t,r=!1,a=!1){let l=Math.round(t),o=Math.floor(l/3600),u=Math.floor((l-o*3600)/60);l-=o*3600+u*60;let n="",c="";(r||o>0)&&(c=`00${o}`,n+=c.substr(c.length-2,2),n+=":"),c=`00${u}`,n+=c.substr(c.length-2,2),n+=":",c=`00${l}`,n+=c.substr(c.length-2,2);let d=a?`.${(t%1).toFixed(3).slice(2)}`:"";return`${n}${d}`}static seconds(t){let r=t.replace(",","."),a=r.split(":"),l=0;return r.substr(-1)==="s"?l=Number(r.substr(0,r.length-1)):r.substr(-1)==="m"?l=Number(r.substr(0,r.length-1))*60:r.substr(-1)==="h"?l=Number(r.substr(0,r.length-1))*3600:a.length>1?(l=Number(a[a.length-1]),l+=Number(a[a.length-2])*60,a.length===3&&(l+=Number(a[a.length-3])*3600)):l=Number(r),l}static seek(t){let r=`${t.href}/`.match(/[/#]start\/([\d.]+)\//)||t.href.match(/[?&]start=([\d.]+)/);if(!r)return!0;let a=r[1];return vn().seek(a),typeof history.pushState=="undefined"?location.href=t.href:history.pushState({},null,t.href),!1}static mute_click(){let t=!os.get("unmute"),r=vn("jw6");if(r){let a=r.getVolume();a?(rn.mute_click_prior_volume=a,r.setVolume(0)):r.setVolume(typeof rn.mute_click_prior_volume=="undefined"?100:rn.mute_click_prior_volume)}return mi("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),t?os.set("unmute",1,{path:"/details",expires:30}):os.remove("unmute",{path:"/details"}),!1}static filename_char_encoder(t){let r=t.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i);return r.shift().replace(/#/g,"%23").replace(/\?/g,"%3F")+(r.length?`.${r.shift()}?`:"")+r.join("")}static track_event(t){if(!globalThis.archive_analytics)return;let[r,a]=t.split("|");globalThis.archive_analytics.send_event(r,a,globalThis.location.pathname)}updated(t){Ni("Play.updated()",t);for(let r in["playlist","identifier","mdapi"])!this[r]&&this.getAttribute(r)&&(this[r]=this.getAttribute(r));!this.playlist&&!this.mdapi&&this.identifier&&this.from_attr_identifier(),!this.playlist&&this.mdapi&&this.from_attr_mdapi(),this.setup_component()}static get properties(){return{trackno:Number,identifier:String,mdapi:Object,bgTheme:String}}render(){var a;Ni("Play.render()",this.trackno);let t=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.audio&&this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.responsive&&!this.embed&&this.responsiveResize(!0),this.responsive&&!this.audio&&mi(this.jidsel).css("margin","auto"),this.add_buttons(this.player),this.audio&&(mi(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),this.embed||(mi(".jw-controlbar").css("padding-top","8px"),mi(this.jidsel).css("height",qo))),this.embed?this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup():this.details_setup())),this.playlist&&this.paging_visibility();let r=this.playlist?(a=this.playlist[this.trackno||0])==null?void 0:a.image:"";return co`
      <link rel="stylesheet" href="https://av.archive.org/css/iconochive.css">
      <div class="av-pill ${this.embed?"embedded":""} ${this.audio?"audio":""}">
        <slot></slot>

        ${this.audio&&!this.headless?co`
          <div id="waveformer-wrap">
            <div id="waveformer"></div>
            ${r?co`<img src="${r}" @click="${this.waveform_clicked}">`:co`<img src="https://archive.org/images/black.jpg">`}
            <slot name="ia-scrubber"></slot>
          </div>`:""}
      </div>

      ${this.show_transcripts()?co`
        <transcript-viewer identifier="${this.identifier}" trackno=${this.trackno||0}
          playlist='${JSON.stringify(this.playlist||[])}' bgTheme=${this.bgTheme}>
        </transcript-viewer>
      `:""}

      ${t}
    `}show_transcripts(){var n,c,d,f;if(this.tv||!this.audio)return!1;let t=1600,r=1928,a=["78rpm","edison-recordings","georgeblood"];if(this.headless)return!1;if(!a.filter(p=>{var v;return(v=this.collections)==null?void 0:v.includes(p)}).length)return!0;let l=String((f=(d=(c=JSON.parse((n=mi(".js-ia-metadata").val())!=null?n:"{}"))==null?void 0:c.metadata)==null?void 0:d.date)!=null?f:"6666");if(typeof l!="string")return!1;let o=l.match(/^(\d\d\d\d)$/)||l.match(/^(\d\d\d\d)-\d\d$/)||l.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!o)return!1;let u=Number(o[1]);return u<=r&&u>=t}from_attr_identifier(){Ni(`Play.from_attr_identifier(${this.identifier})`),J0(this.identifier).then(t=>{this.mdapi=t}).catch(t=>Ni("error",t))}from_attr_mdapi(){var r;Ni("Play.from_attr_mdapi()");let t=new I3(this.mdapi);if(t.showing==="movies"||t.showing==="audio"){let a=[].concat(this.mdapi.metadata.collection),l={audio:t.showing==="audio",responsive:!0,identifier:this.id,collections:a,tv:a.includes("tvarchive"),collection:a[0]||""},o=[],u=t.jwplaylist(l,D3,o);if(Ni(u),t.showing==="audio"){let n=document.getElementsByTagName("body")[0];n.setAttribute("class",`${(r=n.getAttribute("class"))!=null?r:""} jwaudio`),l&&!this.embed&&(l.waveformer=!0)}this.setAttribute("playlist",JSON.stringify(u)),this.setAttribute("args",JSON.stringify(l))}}draggable_scrubber(){let t=!1;function r(l){if(!t)return;let o=document.getElementById("ia-scrubber").getBoundingClientRect(),u=Math.min(o.width,Math.max(0,l.clientX-o.left));mi("#ia-scrubber .jw-knob").css({left:`${u}px`})}document.querySelector("play-av").parentElement.addEventListener("mousemove",r);let a=document.getElementById("ia-scrubber");a.addEventListener("mousedown",()=>{this.player.pause(),t=!0}),a.addEventListener("mouseup",()=>{this.player.play(),t=!1})}right_click_sharing(t){document.querySelector(this.jidsel).addEventListener("contextmenu",()=>{let r=document.querySelector(".jw-rightclick-list");if(!r)return;let a=this.audio?"audio":"video";for(let[l,o]of Object.entries({"copy-av-at":`Copy ${a} link at current time`,"copy-av":`Copy ${a} link`})){if(r.querySelector(`#${l}`))continue;let u=document.createElement("li");u.setAttribute("class","jw-reset jw-rightclick-item"),u.innerHTML=`
          <button id="${l}" type="button" class="jw-reset-text jw-rightclick-link" dir="auto">
            ${o}
          </button>`,r.prepend(u),ea(`#${l}`,()=>{let n=Math.round(10*t.getCurrentTime())/10,c=`https://archive.org${location.pathname}${l==="copy-av-at"&&n?`?start=${n}`:""}`;navigator.clipboard.writeText(c).then(()=>{console.log(`copied to clipboard: ${c}`)})})}})}static headless(t=[],r=a=>Ni(`track ${a} clicked`)){Ni("Play.headless()",{callback:r}),rn.headless_callback=r,rn.get(xp.jid).headless_create(t)}headless_create(t=[]){if(!t.length){let n=mi("play-av[jid=headless]"),c=mi("play-av[jid!=headless]"),d=rn.get("headless"),f=rn.get(xp.jid);if(d.remove(),n.remove(),c.show(),Ni("IS AT",d.trackno,d.headless.tracks),d.trackno||d.trackno===0){let p=d.headless.tracks[d.trackno];f.playN(Math.max(0,p),!0)}return}this.pause();let r={jid:"headless",audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:t,has_full_album:!1}},a=[];for(let n of t)Number(n)===-1&&(r.headless.has_full_album=!0),a.push(Number(n)===-1?{title:"[Full Album]",orig:"",sources:[{file:"https://archive.org/download/family-rolled/family-rolled.mp4"}],image:"https://archive.org/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[n]);let l=mi("play-av").parent(),o=xp.jid,u=rn.get(o).trackno;r.headless.playN=Math.max(0,t.indexOf(u)),mi("play-av[jid!=headless]").hide(),mi("play-av[jid=headless]").remove(),delete rn.STASH.headless,l.append(`
      <play-av jid="headless"
        playlist='${JSON.stringify(a).replace(/'/g,"&apos;")}'
        args='${JSON.stringify(r).replace(/'/g,"&apos;")}'></play-av>`)}static on(t,r,a="jw6"){let l=.5;if(!["ready","time","displayClick","playlistItem"].includes(t)){console.error(`Play.on(): bad event name: ${event}`);return}let o=()=>{var n,c,d,f;let u=rn.get(a);if(!u||!((n=u.player)!=null&&n.getConfig)||!((c=u.player)!=null&&c.getConfig())||!((d=u.player.getConfig().abouttext)!=null&&d.includes("Internet Archive"))||!(u!=null&&u.readyIA)){Ni("xxxx NOPE",t,u==null?void 0:u.player,(f=u==null?void 0:u.player)==null?void 0:f.getConfig(),a),l<20?(l+=1,setTimeout(o,1e3*l)):console.warn(`GAVE UP attaching to player ${a}, event ${t}`);return}t==="ready"?r(u.player):u.player.on(t,()=>r(u.player))};setTimeout(o,l)}static get(t){return rn.STASH[t]}};Pv(rn,"STASH",{});Vl=rn,lv=class{constructor(t){this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=t,Ni(t.triggers)}setup(t){this.play=t,this.p.player.on("time",()=>this.on_time()),this.p.player.on("meta",r=>Ni("HLS meta",r))}on_time(){let t=this.p.player.getCurrentTime();if(Math.abs(this.last_time-t)<.25)return;this.last_time=t;let r=this.playlist_index;if(t>=this.p.triggers[r]+this.WIGGLE)for(Ni("on_time >=",t,">=",this.p.triggers[r]+this.WIGGLE);t>=this.p.triggers[r]-this.WIGGLE;)r+=1;else if(t<this.p.triggers[r-1]+this.WIGGLE)for(Ni("on_time <",t,"<",this.p.triggers[r-1]-this.WIGGLE);r&&t<this.p.triggers[r-1]-this.WIGGLE;)r-=1;if(r!==this.playlist_index){if(Ni("HLS switching tracks:",this.playlist_index,"=>",r),this.playlist_index=r,this.play.track_change(this.p.player,this.playlist_index),mi("#play-hls-duration").html(Vl.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){Ni(this.p.playlist[this.playlist_index]);let l=this.p.playlist[this.playlist_index].image;if(l){mi("#waveformer-loader").length||mi("body").append('<img id="waveformer-loader"></img>');let o=mi("#waveformer-loader").get(0);o.onload=()=>mi(".jw-preview").css("background-color","transparent"),o.src=l,mi(".jw-preview").css("background-color","black"),mi(".jw-preview").css("background-image",`url("${l}")`)}}}let a=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&a){let l=t-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);mi("#play-hls-elapsed").html(Vl.sec2hms(Math.round(Math.max(0,l)))),this.p.jwaudioPercentDone=Math.min(1,l/a)}}update_playlist(){Ni("HLS.update_playlist",this.p.jwcfg.playlist),this.p.jwcfg.playlist=this.p.jwcfg.playlist.slice(0,1),this.p.jwcfg.playlist[0].sources[0].file=`/details/${this.p.identifier}&embed=1&HLS=1&hls.m3u8`,delete this.p.jwcfg.playlist[0].sources[0].title,delete this.p.jwcfg.playlist[0].sources[0].duration,Ni("HLS new playlist to jw",this.p.jwcfg.playlist),this.p.jwcfg.hlsjsConfig={p2pConfig:{live:!1}}}playlistPrev(){Ni("HLS.playlistPrev");let t=0;this.playlist_index?this.playlist_index>1&&(t=this.p.triggers[this.playlist_index-2]-this.WIGGLE):t=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(t)}playlistNext(){Ni("HLS.playlistNext");let t=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(t)}waveform_clicked2(t){let r=this.playlist_index,a=r?this.p.triggers[r-1]:0,l=this.p.triggers[r]-a;this.p.player.seek(a+l*t)}};Vl._css();customElements.define("play-av",Vl);uv=Vl});var s5=Wt(()=>{a5()});var l5={};On(l5,{IaMusicTheater:()=>Sp});var Sp,u5=Wt(()=>{kk();Ek();Zd();uh();Kk();No();s5();nm();window.SharedResizeObserver||(window.SharedResizeObserver=xo);ir("** ia-music-player@1.2.0 **");Sp=class extends Yt{static get properties(){return{itemInfo:{type:Object},baseHost:{type:String},identifier:{type:String,reflect:!0},sharedRO:{type:Object},linerNotesFullscreen:{type:Boolean,attribute:!0,reflect:!0},signedIn:{type:Boolean,attribute:!0,reflect:!0},hasFullAudioAccess:{type:Boolean,attribute:!0,reflect:!0},displayStyle:{type:String,attribute:!0,reflect:!0},bgTheme:{type:String,attribute:!0,reflect:!0},selectedChannel:{type:String,attribute:!0,reflect:!0},linerNotesUrl:{type:String,attribute:!0,reflect:!0},linerNotesManifest:{type:Object},looseImageInfo:{type:Array},noImageAvailable:{type:Boolean,attribute:!0,reflect:!0},photoViewerReady:{type:Boolean,attribute:!0,reflect:!0},iaPlaylist:{type:Object},hasYoutubeTracks:{type:Boolean,attribute:!0,reflect:!0},hasSpotifyTracks:{type:Boolean,attribute:!0,reflect:!0},album:{type:Object}}}constructor(){super(),this.baseHost="",this.signedIn=!1,this.hasFullAudioAccess=!0,this.identifier="",this.sharedRO=void 0,this.displayStyle="one-col",this.bgTheme="dark",this.linerNotesUrl="",this.linerNotesManifest=void 0,this.itemInfo=void 0,this.looseImageInfo=[],this.linerNotesFullscreen=!1,this.noImageAvailable=!1,this.photoViewerReady=!1,this.iaPlaylist=void 0,this.hasSpotifyTracks=!1,this.hasYoutubeTracks=!1,this.album=void 0,this.analyticsHandler=new sl,this.selectedChannel="ia",this.currComponentWidth=0}firstUpdated(){var u;this.classList.remove("preload"),this.setupResizeObserver(),this.analyticsHandler.send_event("ia-music-theater","channel-onload",`${this.selectedChannel}`);let t=document.querySelector(".js-ia-metadata").value;this.itemInfo={metadata:JSON.parse(t),rawString:t};let r=document.querySelector(".js-iaux-loose-images").value,a=((u=JSON.parse(r))==null?void 0:u.image_filenames)||[];ir("~~~~ parsedImageInfo: ",a,"~~~~");let l=(a==null?void 0:a.includes("_"))&&(a==null?void 0:a.length)===1;this.looseImageInfo=!l&&(a!=null&&a.length)?a:[];let o=document.querySelector("play-av").getAttribute("playlist");this.iaPlaylist=JSON.parse(o),this.album=new Ak(this.itemInfo.metadata,this.iaPlaylist)}updated(t){var r;t.has("linerNotesUrl")&&this.linerNotesUrl&&this.fetchLinerNotes(),this.fullscreenActive||(t.has("displayStyle")&&this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),t.has("displayStyle")&&this.displayStyle!=="one-col"&&this.removeBookReaderMobileViewClasses()),t.has("looseImageInfo")&&((r=this.looseImageInfo)!=null&&r.length)&&!this.linerNotesUrl&&this.createManifestToLoad()}createManifestToLoad(){return Vt(this,null,function*(){let t=yield wk({itemIdentifier:this.identifier,images:this.looseImageInfo,baseHost:"archive.org"});ir("*** manifest ***",t),this.linerNotesManifest=t})}removeBookReaderMobileViewClasses(){let t=this.querySelector("div#BookReader");t==null||t.classList.remove("iaux-music-theater-mobile-view")}setBookReaderClassesForMobileView(){let t=this.querySelector("div#BookReader");t==null||t.classList.add("iaux-music-theater-mobile-view")}fetchLinerNotes(){return Vt(this,null,function*(){let t;try{t=yield $.ajax({url:`/embed/${this.identifier}?output=json`,type:"GET",dataType:"json",crossDomain:!0}).then(a=>a).catch(()=>[])}catch(a){t=[]}this.jwplayerPlaylist=t,ir("*** jwplayerPlaylist ***",t);let r;try{r=yield $.ajax({url:this.linerNotesUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(a=>a).catch(()=>null)}catch(a){r=void 0}this.linerNotesManifest=r==null?void 0:r.data,this.noImageAvailable=!1,ir("*** linerNotesManifest ***",r)})}get itemUrl(){return`https://${this.baseHost}/details/${this.identifier}`}get iauxPhotoViewer(){return this.shadowRoot.querySelector("iaux-photo-viewer")}get channelSelector(){return this.shadowRoot.querySelector("channel-selector")}setupResizeObserver(){this.sharedRO=new xo,this.sharedRO.addObserver({handler:{handleResize:this.handleResize.bind(this)},target:this.shadowRoot.host})}handleResize(t){var a,l;let{contentRect:r}=t;if(r.width!==this.currComponentWidth){if(this.linerNotesFullscreen&&(this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight",`${Math.round(r.height)}px`)),document.body.style.removeProperty("--linerNotesInTheaterHeight"),r.width<768)this.displayStyle="one-col",this.channelSelector.displayStyle="dropdown";else{this.displayStyle="two-col",this.channelSelector.displayStyle="radio";let o=(l=(a=this.iauxPhotoViewer)==null?void 0:a.coverImage)==null?void 0:l.getBoundingClientRect();if(!o)return;let u=o.height,n=o.width,c=Math.floor(u);if(r.width<950){this.setBookReaderHeight(c);return}let f=Math.floor(u/n),p=Math.floor(this.offsetHeight-u),v=this.offsetHeight>=u&&p>250,y=f===1&&p>170;(p<0||y||v)&&(c=this.offsetHeight-20),this.setBookReaderHeight(c)}ir("music-player handleResize",{width:r.width,displayStyle:this.displayStyle})}}channelChange({detail:t}){let r=(t==null?void 0:t.channel)||"unknown";ir("channel change",r),this.selectedChannel=r,this.analyticsHandler.send_event("ia-music-theater","channel-change",`${this.selectedChannel}`)}setBookReaderHeight(t){let r=Math.floor(t);!t||!r||(document.body.style.removeProperty("--linerNotesInTheaterHeight"),document.body.style.setProperty("--linerNotesInTheaterHeight",`${r}px`))}render(){var r;ir("~~~ render: linerNotesManifest ",this.linerNotesManifest);let t=this.linerNotesFullscreen?"linerNotesFullscreen":"";return we`
      <section
        id="music-theater"
        class=${`${this.displayStyle} ${t} ${this.bgTheme} ${this.noImageAvailable?"noimageavailable":"hasimage"}`}
      >
        <channel-selector
          .backgroundTheme=${this.bgTheme}
          webamp
          .youtube=${this.hasYoutubeTracks}
          .spotify=${this.hasSpotifyTracks}
          .url=${this.itemUrl}
          .selected=${this.selectedChannel}
          @channelChange=${a=>this.channelChange(a)}
          .displayStyle=${this.displayStyle==="one-col"?"dropdown":"radio"}
        ></channel-selector>
        ${this.noImageAvailable?we`<iaux-photo-viewer
            noimageavailable
            .itemIdentifier=${this.identifier}></iaux-photo-viewer>`:we`<iaux-photo-viewer
            ?noimageavailable=${this.noImageAvailable}
            class=${this.linerNotesManifest?"":"hide"}
            .backgroundTheme=${this.bgTheme}
            .baseHost=${this.baseHost}
            .itemIdentifier=${this.identifier}
            .itemMD=${(r=this.itemInfo)==null?void 0:r.metadata}
            .signedIn=${this.signedIn}
            .linerNotesManifest=${this.linerNotesManifest}
            .lightDomHook=${this}
            .sharedRO=${this.sharedRO}
            @fullscreenOpened=${()=>{if(this.displayStyle==="one-col"){let a=window.innerHeight;this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight",`${Math.round(a)}px`)}this.linerNotesFullscreen=!0}}
            @fullscreenClosed=${()=>{this.displayStyle==="one-col"&&this.style.removeProperty("--linerNotesFullScreenHeight"),this.linerNotesFullscreen=!1}}
            @showingAllPhotos=${()=>{this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),this.analyticsHandler.send_event("ia-music-theater","liner-notes-viewed",`${this.displayStyle}`)}}
            @coverImageLoaded=${a=>{var c;if(!this.noImageAvailable&&!((c=this.looseImageInfo)!=null&&c.length)&&!this.linerNotesManifest)return;let{height:o,width:u}=a.detail,n=o;this.displayStyle==="one-col"?n=250:(Math.round(o/u)===1||o>=this.offsetHeight)&&(n=this.offsetHeight-20),this.setBookReaderHeight(n),this.photoViewerReady=!0}}
          >
            <div slot="main" class="main">
              <slot name="main"></slot>
            </div>
          </iaux-photo-viewer>`}
        ${this.photoViewerReady?ei:we`<div class="image"><slot name="image"></slot></div>`}
        <div class="player">
          <div id="ext-channels-section">
            <externalchannels-player
                .album=${this.album}
                selectedChannel=${this.selectedChannel}
                .playerApi=${uv}
                @externalChannelsPlayerLoaded=${a=>{let{youtubeTracks:l,spotifyTracks:o,album:u}=a.detail;this.hasYoutubeTracks=!!l.length,this.hasSpotifyTracks=!!o.length,this.album=u,ir("*** external player loaded",a.detail)}}
                @externalChannelsSelectedTrack=${a=>{ir("*** external player selected track Received",a.detail)}}
              ></external-channels-player>
          </div>
          <slot class="player"></slot>
        </div>
      </section>
    `}static get styles(){return Le`
      :host {
        display: block;
        position: relative;
        overflow: hidden;
        /* petabox styling is very sticky for outlines, let's remove */
        outline: none !important;
        font-size: 16px;
        height: 100%;
        min-height: inherit;
        --imageWidth: 350px;
        --imageHeight: 350px;
      }

      :host[bgtheme="dark"],
      #music-theater.dark {
        color: white;
      }

      .hide {
        display: none;
      }

      .linerNotesFullscreen channel-selector {
        visibility: hidden;
      }

      channel-selector {
        z-index: 1;
        position: relative;
      }

      channel-selector[displaystyle="dropdown"] {
        padding-left: 5px;
        padding-bottom: 10px;
        padding-top: 10px;
        z-index: 3;
        display: inline-block;
        position: absolute;
        top: 0;
      }

      #music-theater.dropdown {
        margin-top: 5px;
      }

      @media(max-width: 768px) {
        #music-theater.one-col.hasimage slot[name="image"],
        #music-theater.one-col.hasimage iaux-photo-viewer {
          overflow: hidden;
          height: 268px;
          margin-top: 20px;
        }

        #music-theater.one-col.noimageavailable channel-selector {
          position: absolute;
        }

        #music-theater.one-col.noimageavailable iaux-photo-viewer {
          overflow: hidden;
          --imageHeight: 190px;
          --imageWidth: 190px;
          --linerNotesHeight: 200px;
          height: 200px !important;
          padding-top: 10px;
        }

        #music-theater.one-col slot.player {
          padding: 0 5px;
        }
      }

      @media(min-width: 1201px) {
        #music-theater.two-col {
          margin: 10px auto;
        }
      }

      #music-theater.two-col {
        display: grid;
        grid-template-columns: 0.7fr 1.3fr;
        grid-template-rows: 0.2fr;
        gap: 0;
        column-gap: 0;
        grid-template-areas: "image channel-selector" "image player";
        column-gap: 20px;
        margin: 10px 30px;
      }

      #music-theater.two-col .image,
      #music-theater.two-col iaux-photo-viewer {
        grid-area: image;
        z-index: 2;
        max-height: var(--linerNotesInTheaterHeight, 100%);
        margin-top: 10px;
        height: auto;
      }
      #music-theater.two-col .player {
        grid-area: player;
      }
      #music-theater.two-col channel-selector[displaystyle="radio"] {
        grid-area: channel-selector;
      }

      @media(min-width: 768px) and (max-width: 1200px) {
        #music-theater.two-col.hasimage {
          grid-template-columns: 1fr 1fr;
        }
      }

      slot {
        display: block;
      }

      slot[name="image"] {
        max-height: 400px;
        display: block;
        max-width: 100%;
        height: inherit;
        object-fit: contain;
        position: relative;
      }

      div#ext-channels-section {
        margin-top: 5px;
      }
    `}};customElements.define("ia-music-theater",Sp)});function*dv(e=document.activeElement){e!=null&&(yield e,"shadowRoot"in e&&e.shadowRoot&&e.shadowRoot.mode!=="closed"&&(yield*Td(dv(e.shadowRoot.activeElement))))}function ME(){return[...dv()].pop()}function h5(e){let t=c5.get(e);return t||(t=window.getComputedStyle(e,null),c5.set(e,t)),t}function IE(e){if("checkVisibility"in e&&typeof e.checkVisibility=="function")return e.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});let t=h5(e);return t.visibility!=="hidden"&&t.display!=="none"}function LE(e){let t=h5(e),{overflowY:r,overflowX:a}=t;return r==="scroll"||a==="scroll"?!0:r!=="auto"||a!=="auto"?!1:e.scrollHeight>e.clientHeight&&r==="auto"||e.scrollWidth>e.clientWidth&&a==="auto"}function DE(e){let t=e.tagName.toLowerCase(),r=Number(e.getAttribute("tabindex"));return e.hasAttribute("tabindex")&&(isNaN(r)||r<=-1)||e.hasAttribute("disabled")||e.closest("[inert]")||t==="input"&&e.getAttribute("type")==="radio"&&!e.hasAttribute("checked")||!IE(e)?!1:(t==="audio"||t==="video")&&e.hasAttribute("controls")||e.hasAttribute("tabindex")||e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(t)?!0:LE(e)}function RE(e,t){var r;return((r=e.getRootNode({composed:!0}))===null||r===void 0?void 0:r.host)!==t}function d5(e){let t=new WeakMap,r=[];function a(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||t.has(l))return;t.set(l,!0),!r.includes(l)&&DE(l)&&r.push(l),l instanceof HTMLSlotElement&&RE(l,e)&&l.assignedElements({flatten:!0}).forEach(o=>{a(o)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&a(l.shadowRoot)}for(let o of Array.from(l.children))a(o)}return a(e),r.sort((l,o)=>{let u=Number(l.getAttribute("tabindex"))||0;return(Number(o.getAttribute("tabindex"))||0)-u})}var Gl,c5,_d,jE,BE,cv,ql,NE,Gu,hv=Wt(()=>{Zi();ti();Ar();Zi();ti();Ar();nd();Rd();ti();ec();Gl=class{constructor(e){var t,r,a,l,o,u,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(a=e==null?void 0:e.showProcessingIndicator)!==null&&a!==void 0?a:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(u=e==null?void 0:e.showHeaderLogo)!==null&&u!==void 0?u:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}};c5=new WeakMap;_d=[],jE=class{constructor(e){this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var r;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;let a=ME();if(this.previousFocus=a,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";let l=d5(this.element),o=l.findIndex(n=>n===a);this.previousFocus=this.currentFocus;let u=this.tabDirection==="forward"?1:-1;for(;;){o+u>=l.length?o=0:o+u<0?o=l.length-1:o+=u,this.previousFocus=this.currentFocus;let n=l[o];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||n&&this.possiblyHasTabbableChildren(n))return;t.preventDefault(),this.currentFocus=n,(r=this.currentFocus)===null||r===void 0||r.focus({preventScroll:!1});let c=[...dv()];if(c.includes(this.currentFocus)||!c.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e,this.elementsWithTabbableControls=["iframe"]}activate(){_d.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){_d=_d.filter(e=>e!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return _d[_d.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){let e=d5(this.element);if(!this.element.matches(":focus-within")){let t=e[0],r=e[e.length-1],a=this.tabDirection==="forward"?t:r;typeof(a==null?void 0:a.focus)=="function"&&(this.currentFocus=a,a.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}},BE=we`
  <svg
    class="ia-logo"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building faade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" class="fill-color">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use class="fill-color" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" class="fill-color">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,cv=class extends Yt{constructor(){super(...arguments),this.config=new Gl}render(){return we`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?we`<div class="logo-icon">${BE}</div>`:ei}
            ${this.config.title?we`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?we`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?we` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?we` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(e){if(e.preventDefault(),e.type==="keydown"&&e.key!==" "&&e.key!=="Enter")return;let t=new Event("closeButtonPressed");this.dispatchEvent(t)}get closeButtonTemplate(){return we`
      <button
        type="button"
        class="close-button"
        @click=${this.handleCloseButton}
        @keydown=${this.handleCloseButton}
      >
        <ia-icon-close></ia-icon-close>
      </button>
    `}static get styles(){let e=Le`var(--modalLogoSize, 6.5rem)`,t=Le`var(--processingImageSize, 7.5rem)`,r=Le`var(--modalCornerRadius, 1rem)`,a=Le`var(--modalBorder, 2px solid black)`,l=Le`var(--modalBottomMargin, 2.5rem)`,o=Le`var(--modalTopMargin, 5rem)`,u=Le`var(--modalHeaderBottomPadding, 0.5em)`,n=Le`var(--modalBottomPadding, 2rem)`,c=Le`var(--modalScrollOffset, 5px)`,d=Le`var(--modalTitleFontSize, 1.8rem)`,f=Le`var(--modalSubtitleFontSize, 1.4rem)`,p=Le`var(--modalHeadlineFontSize, 1.6rem)`,v=Le`var(--modalMessageFontSize, 1.4rem)`,y=Le`var(--modalTitleLineHeight, normal)`,w=Le`var(--modalSubtitleLineHeight, normal)`,k=Le`var(--modalHeadlineLineHeight, normal)`,A=Le`var(--modalMessageLineHeight, normal)`;return Le`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${a};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${u};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${d};
        font-weight: bold;
        line-height: ${y};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${f};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${a};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${c}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${c}) 0;
      }

      .headline {
        font-size: ${p};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${v};
        line-height: ${A};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};Y([St({type:Object})],cv.prototype,"config",void 0);cv=Y([Fi("modal-template")],cv);(function(e){e.Open="open",e.Closed="closed"})(ql||(ql={}));NE=class{constructor(e){this.windowResizeThrottler=eu(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case ql.Open:this.startResizeListener(),this.stopDocumentScroll();break;case ql.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},Gu=class extends Yt{constructor(){super(...arguments),this.mode=ql.Closed,this.hostBridge=new NE(this),this.modal=new jE(this),this.closeOnBackdropClick=!0}firstUpdated(){return jo(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,0)),this.closeOnBackdropClick&&this.addEventListener("keydown",e=>{e.key==="Escape"&&this.backdropClicked()})})}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate()}render(){return we`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="-1"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=ql.Closed,this.customModalContent=void 0,this.modalTemplate.config=new Gl,this.modal.deactivate()}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return jo(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=ql.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus(),this.modal.activate()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=Le`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=Le`var(--modalBackdropZindex, 1000)`,r=Le`var(--modalWidth, 32rem)`,a=Le`var(--modalMaxWidth, 95%)`,l=Le`var(--modalZindex, 2000)`;return Le`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${a};
      }
    `}};Y([St({type:String,reflect:!0})],Gu.prototype,"mode",void 0);Y([St({type:Object})],Gu.prototype,"customModalContent",void 0);Y([St({type:Object})],Gu.prototype,"hostBridge",void 0);Y([wr("modal-template")],Gu.prototype,"modalTemplate",void 0);Gu=Y([Fi("modal-manager")],Gu)});function Yu(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function FE(e,t){let r,a=()=>{if(r)return r;let l=indexedDB.open(e);return l.onupgradeneeded=()=>l.result.createObjectStore(t),r=Yu(l),r.then(o=>{o.onclose=()=>r=void 0},()=>{}),r};return(l,o)=>a().then(u=>o(u.transaction(t,l).objectStore(t)))}function Ap(){return pv||(pv=FE("keyval-store","keyval")),pv}function p5(e,t=Ap()){return t("readonly",r=>Yu(r.get(e)))}function f5(e,t,r=Ap()){return r("readwrite",a=>(a.put(t,e),Yu(a.transaction)))}function m5(e,t=Ap()){return t("readwrite",r=>(r.delete(e),Yu(r.transaction)))}function zE(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Yu(e.transaction)}function g5(e=Ap()){return e("readonly",t=>{if(t.getAllKeys)return Yu(t.getAllKeys());let r=[];return zE(t,a=>r.push(a.key)).then(()=>r)})}var pv,v5=Wt(()=>{});function HE(e,t){return e.setMilliseconds(e.getMilliseconds()+t*1e3),e}var b5,fv=Wt(()=>{v5();b5=class{constructor(e){var t,r,a,l;if(this.namespace=(t=e==null?void 0:e.namespace)!==null&&t!==void 0?t:"LocalCache",this.defaultTTL=(r=e==null?void 0:e.defaultTTL)!==null&&r!==void 0?r:15*60,(!((a=e==null?void 0:e.immediateClean)!==null&&a!==void 0)||a)&&this.cleanExpired(),!(e!=null&&e.disableCleaning)){let o=(l=e==null?void 0:e.cleaningInterval)!==null&&l!==void 0?l:60;setInterval(()=>{this.cleanExpired()},o*1e3)}}set(e){return Vt(this,null,function*(){var t;let r={value:e.value},a=(t=e.ttl)!==null&&t!==void 0?t:this.defaultTTL,l=HE(new Date,a);r.expires=l;let o=this.getNamespacedKey(e.key);try{yield f5(o,r)}catch(u){}})}get(e){return Vt(this,null,function*(){let t=this.getNamespacedKey(e),r;try{r=yield p5(t)}catch(l){}if(!r)return;let a=new Date;if(r.expires&&r.expires<a){yield this.delete(e);return}return r.value})}delete(e){return Vt(this,null,function*(){let t=this.getNamespacedKey(e);try{yield m5(t)}catch(r){}})}cleanExpired(){return Vt(this,null,function*(){let e=yield this.getAllKeys();yield Promise.all(e.map(t=>Vt(this,null,function*(){return this.get(t)})))})}getAllKeys(){return Vt(this,null,function*(){let e=[];try{e=yield g5()}catch(r){}let t=[];for(let r of e)typeof r=="string"&&t.push(r);return t.filter(r=>r.startsWith(this.namespace)).map(r=>this.removeNamespace(r))})}getNamespacedKey(e){return`${this.namespace}-${e}`}removeNamespace(e){return e.replace(`${this.namespace}-`,"")}}});var Cp=Wt(()=>{ru()});var UE,WE,mv=Wt(()=>{ti();ti();UE=we`
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <title id="linkTitleID">Get more information</title>
  <desc id="linkDescID">Informative icon</desc>
    <path d="m0 0h100v100h-100z" fill="#000"/>
    <path d="m49.8315487 0h.1702245c6.7356878 0 13.1853038 1.31117332 19.3488483 3.93351997 6.1635444 2.62234664 11.4854233 6.15778963 15.9656369 10.60632903 4.4802135 4.4485394 8.0478347 9.7522946 10.7028636 15.9112655 2.655029 6.1589709 3.980878 12.6038012 3.9789971 19.3344909.0567419 6.6716279-1.1702933 13.0585776-3.6811042 19.1608491-2.510811 6.1022715-6.106803 11.5206067-10.7879759 16.2550055-9.7027949 9.7522946-21.4884754 14.6851412-35.3570414 14.79854h-.1702244c-6.7333236 0-13.1829397-1.3111733-19.3488483-3.93352-6.1659087-2.6223466-11.4877876-6.1577896-15.9656369-10.606329s-8.04547055-9.7522946-10.7028637-15.9112655c-2.65739314-6.1589709-3.9844243-12.6038012-3.98254337-19.3344909-.05674149-6.6716279 1.17029325-13.0585776 3.68110421-19.1608491 2.51081095-6.1022715 6.10680292-11.5206067 10.78797586-16.2550055 9.7027949-9.75229456 21.4884754-14.68514123 35.3570414-14.79854zm12.6566146 26.4757998c1.6745578-1.6828001 2.5118367-3.6747334 2.5118367-5.9757998 0-2.4126333-.8095238-4.4324583-2.4285714-6.059475s-3.6289796-2.440525-6.0297959-2.440525c-2.4008164 0-4.4107483.8135083-6.029796 2.440525-1.6745578 1.6270167-2.5118367 3.6468417-2.5118367 6.059475 0 2.1871753.8372789 4.1791086 2.5118367 5.9757998 1.6745579 1.6828001 3.6844898 2.5242002 6.029796 2.5242002 2.3453061 0 4.3274829-.8414001 5.9465306-2.5242002zm-12.1370589 52.7776981-1.2815282-.9486968c0-.4588935.398855-1.8938272 1.196565-4.3048011l12.7338588-39-23.0745876 3.6164609.2548896 3.873251c0-.1141289.4554971-.1997256 1.3664914-.2567901.9109942 0 1.623741.1723823 2.1382404.5171468.5121392.2306356.7965299.6039323.8531721 1.1198902 0 .8607225-.6549247 3.2134431-1.9647739 7.0581619l-8.1175252 24.1061729c-1.0242785 3.2716963-1.5080967 5.5388203-1.4514546 6.8013717.0566421 1.6643804.8826732 2.9839963 2.4780932 3.9588477 1.2532071.803658 2.8769482 1.205487 4.8712231 1.205487h.5982825c1.7653464-.0570645 3.8445846-.3875629 6.2377146-.9914952 2.3931299-.6039323 4.3590839-1.3933242 5.8978617-2.3681756 1.3098493-.803658 2.3919499-1.5359853 3.2463021-2.1969821.8543521-.6609968 1.3959925-1.1341564 1.6249211-1.4194788l.3433929-.3459533-2.8214861-3.3596708-2.9914125 2.0650205c-.79771.4588935-1.5104568.7454047-2.1382404.8595337z" class="fill-color" fill-rule="nonzero"/>
</svg>
`,WE=class extends Yt{static get styles(){return Le`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return UE}};customElements.define("ia-icon-info",WE)});function Yl(e){return Vt(this,null,function*(){var p,v;let t=ur({action:null,identifier:"",success(){},error(){}},e),r="/services/loans/loan",a=window==null?void 0:window.location,l="loan token not found. please try again later.",o="This book is not available to borrow at this time. Please try again later.",u=["browse_book","borrow_book","create_token","renew_loan","return_loan"],n=((p=a==null?void 0:a.href)==null?void 0:p.indexOf("?error=true"))!==-1&&(a==null?void 0:a.hostname)!=="archive.org",c=["localhost","internetarchive.github.io"],d=!1;c.includes(a.hostname)&&(d=!0,r=a.href);let f=new FormData;f.append("action",t.action),f.append("identifier",t.identifier);try{yield fetch(r,{method:"POST",body:f}).then(y=>Vt(this,null,function*(){return n&&u.includes(t==null?void 0:t.action)?{success:!1,error:(t==null?void 0:t.action)==="create_token"?l:o}:d?(t==null?void 0:t.action)=="renew_loan"||(t==null?void 0:t.action)=="return_loan"?(yield new Promise(w=>setTimeout(w,5e3)),{success:!0,loan:{renewal:!0}}):{success:!0,message:"operation executed successfully!"}:y.json()})).then(y=>{y!=null&&y.error?t==null||t.error(y):t==null||t.success(y)})}catch(y){(v=window==null?void 0:window.Sentry)==null||v.captureException(`${ss.actionsHandlerService} - Error: ${y}`)}})}function VE(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function Tp(e,t,r,a,l,o){return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+(r?`; expires=${r.toUTCString()}`:"")+(l?`; domain=${l}`:"")+(a?`; path=${a}`:"")+(o?"; secure":""),!0}var Yo,ss,gn,Kl,Zu,Ep,_5,k5,y5,qE,GE,YE,gv,KE,ZE,vv,JE,XE,bv,QE,eT,tT,iT,Ku,w5,rT,nT,oT,aT,yv,sT,lT,uT,cT,dT,hT,pT,vo,fT,mT,gT,vT,Go,bT,_v=Wt(()=>{ti();al();hv();fv();ti();Cp();Ea();ti();Cp();ti();ti();ti();ti();ti();ti();ti();ti();Cs();mv();ti();ti();Yo=class wv{static isInIframe(){var t;try{return window.self!==window.top}catch(r){return(t=window==null?void 0:window.Sentry)==null||t.captureException(r),!0}}static getRedirectUrl(){let t;return wv.isInIframe()?t=window.top.location.href:t=window.location.href,t}static goToUrl(t,r){let a;wv.isInIframe()&&r?a=window.top.location:a=window.location,a.href===t?a.reload():a.href=t}static isOnStreamPage(){return window.location.href.indexOf("/stream/")>-1}static getQueryParam(t){let r=window.location.search.substring(1).split("&"),a="";for(let l=0;l<r.length;l+=1)if(a=r[l].split("="),a[0]===t)return a[1];return ei}static getBackHref(){return window.location.href.replace(/[?&]{1}(?:admin|access)=1/,"")}static formatUrl(t,r){return/^https?:/.test(r)?r:`${t}${r}`}},ss={disconnectedCallback:"IABookActions:disconnectedCallback",bookHasRenewed:"IABookActions:handleLoanAutoRenewed - book has renewed for next one hour",bookRenewFailed:"IABookActions:handleLoanRenewNow - failed to renew",browseHasExpired:"IABookActions:browseHasExpired - one-hour loan has been expired",bookWasExpired:"IABookActions:setupLendingToolbarActions - book was expired at intial, no tokenPoller",clearTokenPoller:"IABookActions:startLoanTokenPoller - clearing token poller interval",clearOneHourTimer:"IABookActions:timerCountdown - one-hour timer interval cleared",bookAccessed:"IABookActions:bookAccessed",handleLoanTokenPoller:"IABookActions:handleLoanTokenPoller",setConsecutiveLoanCounts:"IABookActions:setConsecutiveLoanCounts",actionsHandlerService:"IABookActions:actionsHandlerService"},gn=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)||location.host.match(/^internetarchive/)?console.log.bind(console):()=>{};Kl={borrow:"BookReader-ReadingBorrow",browse:"BookReader-ReadingBrowse",preview:"BookReader-Preview",satisfactionMetric:"DetailsPage-Book",bookReaderHeader:"BookReader-Header",adminAccess:"Admin-Access"},Zu={browse:"Borrow-1Hour",browseAgain:"Borrow-Again",browseRenew:"BookRenew",browseReturn:"BookReturn",borrow:"Borrow-14Days",waitlistJoin:"JoinWaitlist",waitlistLeave:"LeaveWaitlist",doneBorrowing:"ReturnBook",login:"LogIn",purchase:"BWBPurchase",unavailable:"Book-Unavailable",printDisability:"Print-Disability",titleBar:"Book-Title-Bar"},Ep={browseAutoRenew:"BookAutoRenew",browseAutoReturn:"BookAutoReturn",browseManualRenew:"BookManualRenew",browseManualReturn:"BookManualReturn"};_5=class{constructor(){this.identifier=void 0,this.gaStats={}}storeLoanStatsCount(e,t=""){return Vt(this,null,function*(){this.identifier=e;try{yield this.getLoanStatsCount(t),this.sendMatrixStatsEvents(t);let r=new Date;r.setHours(r.getHours()+2),yield Tp(this.getLoanCountStorageKey,JSON.stringify(this.lendingEventCounts),r,"/")}catch(r){gn(r),this.sendEvent("Cookies-Error-Actions",r,this.identifier)}})}getLoanStatsCount(e){return Vt(this,null,function*(){var l,o,u,n,c,d,f;this.lendingEventCounts=JSON.parse(yield VE(this.getLoanCountStorageKey)),this.gaStats=(l=this.lendingEventCounts)!=null?l:{browse:0,renew:0,expire:0};let t=(u=(o=this.lendingEventCounts)==null?void 0:o.browse)!=null?u:0,r=(c=(n=this.lendingEventCounts)==null?void 0:n.renew)!=null?c:0,a=(f=(d=this.lendingEventCounts)==null?void 0:d.expire)!=null?f:0;switch(e){case"browse":t=t?Number(t)+1:1,this.gaStats.browse=t,r=0,a=0;break;case"autorenew":r=r?Number(r)+1:1,this.gaStats.renew=r;break;case"return":a=a?Number(a)+1:1,this.gaStats.expire=a,r=0,a=0;break;default:break}this.lendingEventCounts={browse:t,renew:r,expire:a}})}sendMatrixStatsEvents(e){var a,l;let t=Kl.browse,r=`browse${this.paddedNumber((a=this.gaStats)==null?void 0:a.browse)}-autorenew${this.paddedNumber((l=this.gaStats)==null?void 0:l.renew)}:${e}`;this.sendEvent(t,r,this.identifier)}paddedNumber(e){return e?e.toString().padStart(3,"0"):"000"}get getLoanCountStorageKey(){return`br-browse-${this.identifier}`}sendEvent(e,t,r,a){var l;gn("eventCategory:-",e,"||	eventAction:-",t,"||	label:-",r,"||	extraParams:-",a),(l=window==null?void 0:window.archive_analytics)==null||l.send_event_no_sampling(e,t,r||this.identifier,a)}},k5=class extends Yt{constructor(){super(),this.waitUntillBorrowComplete=6,this.loanAnanlytics=new _5,this.bindEvents()}bindEvents(){this.addEventListener("browseBook",()=>Vt(this,null,function*(){var e;this.handleBrowseIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"browse")})),this.addEventListener("browseBookAgain",()=>Vt(this,null,function*(){var e;this.handleBrowseIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"browseagain")})),this.addEventListener("autoRenew",t=>Vt(this,[t],function*({detail:e}){var a,l;this.handleLoanRenewNow(),yield(a=this.loanAnanlytics)==null?void 0:a.storeLoanStatsCount(this.identifier,"autorenew");let r=(e==null?void 0:e.renewType)==="auto"?Ep.browseAutoRenew:Ep.browseManualRenew;(l=this.loanAnanlytics)==null||l.sendEvent(Kl.browse,Zu.browseRenew,r,this.identifier)})),this.addEventListener("autoReturn",()=>Vt(this,null,function*(){var e,t;this.handleReturnIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"autoreturn"),(t=this.loanAnanlytics)==null||t.sendEvent(Kl.browse,Zu.browseReturn,Ep.browseAutoReturn,this.identifier)})),this.addEventListener("returnNow",({detail:e})=>{var t,r,a;if((e==null?void 0:e.borrowType)==="browse"&&((t=this.loanAnanlytics)==null||t.storeLoanStatsCount(this.identifier,"return"),(r=this.loanAnanlytics)==null||r.sendEvent(Kl.browse,Zu.browseReturn,Ep.browseManualReturn,this.identifier)),this.handleReturnIt("returnNow"),(e==null?void 0:e.borrowType)==="borrow"){let{category:l,action:o}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(l,o,this.identifier)}}),this.addEventListener("borrowBook",({detail:e})=>{var a;this.handleBorrowIt();let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)}),this.addEventListener("loginAndBorrow",({detail:e})=>{var a;this.handleLoginOk();let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)}),this.addEventListener("leaveWaitlist",({detail:e})=>{var a;this.handleRemoveFromWaitingList();let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)}),this.addEventListener("joinWaitlist",({detail:e})=>{var a;this.handleReserveIt();let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)}),this.addEventListener("purchaseBook",({detail:e})=>{var a;let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)}),this.addEventListener("adminAccess",({detail:e})=>{var l;let{category:t,action:r}=e.event;(l=this.loanAnanlytics)==null||l.sendEvent(t,r,this.identifier),this.setStickyAdminAccess(!0);let a=new URL(window.location.href);a.searchParams.append("admin",1),window.location.search=a.search}),this.addEventListener("exitAdminAccess",({detail:e})=>{var a;let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier),this.setStickyAdminAccess(!1)}),this.addEventListener("bookTitleBar",({detail:e})=>{var a;let{category:t,action:r}=e.event;(a=this.loanAnanlytics)==null||a.sendEvent(t,r,this.identifier)})}handleBrowseIt(){let e="browse_book";this.dispatchToggleActionGroup(),Yl({action:e,identifier:this.identifier,success:()=>{this.setBrowseTimeSession(),this.handleReadItNow()},error:t=>{this.dispatchActionError(e,t)}})}handleLoanRenewNow(){let e="renew_loan";Yl({action:e,identifier:this.identifier,success:t=>{var l;gn("RENEW_LOAN --- ",t,e,t.loan,this.identifier);let r=t.loan?t.loan:void 0,a=r.renewal;r&&a?this.setBrowseTimeSession():(gn("RENEW_LOAN ERROR --- ",{action:e,isRenewal:a,activeLoan:r,data:t,id:this.identifier}),(l=window==null?void 0:window.Sentry)==null||l.captureMessage(`${ss.bookRenewFailed} - Error: ${JSON.stringify(t)}`),this.dispatchActionError(e,{data:t,error:!0,message:"Loan renewal failed: no loan active."})),this.dispatchEvent(new CustomEvent("loanAutoRenewed",{detail:{action:e,data:Ir(ur({},t),{loan:r})}}))},error:t=>{this.dispatchActionError(e,t)}})}handleReturnIt(e=""){let t="return_loan";e==="returnNow"&&this.dispatchToggleActionGroup(),Yl({action:t,identifier:this.identifier,success:()=>{this.deleteLoanCookies(),e==="returnNow"&&Yo.goToUrl(this.returnUrl,!0)},error:r=>{this.dispatchActionError(t,r)}})}handleBorrowIt(){let e="borrow_book";this.dispatchToggleActionGroup(),Yl({action:e,identifier:this.identifier,success:()=>{this.handleReadItNow()},error:t=>{this.dispatchActionError(e,t)}})}handleReserveIt(){let e="join_waitlist";this.dispatchToggleActionGroup(),Yl({action:e,identifier:this.identifier,success:()=>{Yo.goToUrl(Yo.getRedirectUrl(),!0)},error:t=>{this.dispatchActionError(e,t)}})}handleRemoveFromWaitingList(){let e="leave_waitlist";this.dispatchToggleActionGroup(),Yl({action:e,identifier:this.identifier,success:()=>{Yo.goToUrl(Yo.getRedirectUrl(),!0)},error:t=>{this.dispatchActionError(e,t)}})}dispatchActionError(e,t={}){var r;(r=this.loanAnanlytics)==null||r.sendEvent("LendingServiceError",e),this.dispatchEvent(new CustomEvent("lendingActionError",{detail:{action:e,data:t}}))}dispatchToggleActionGroup(){this.dispatchEvent(new CustomEvent("toggleActionGroup"))}handleLoginOk(){let e=`/account/login?referer=${encodeURIComponent(Yo.getRedirectUrl())}`;Yo.goToUrl(e,!0)}handleReadItNow(e){let t=new URLSearchParams(window.location.search);if(e){let o=new URLSearchParams(e);for(let[u,n]of o.entries())t.append(u,n)}let r=t.toString(),a=r?`?${r}`:"",l=window.location.origin+window.location.pathname+a;setTimeout(()=>{Yo.goToUrl(l,!0)},this.waitUntillBorrowComplete*1e3)}setBrowseTimeSession(){return Vt(this,null,function*(){try{let e=new Date(new Date().getTime()+this.loanTotalTime*1e3);yield this.localCache.set({key:`${this.identifier}-loanTime`,value:e,ttl:Number(this.loanTotalTime)}),yield this.localCache.delete(`${this.identifier}-pageChangedTime`)}catch(e){gn(e)}})}deleteLoanCookies(){let e=new Date;e.setTime(e.getTime()-24*60*60*1e3),Tp(`loan-${this.identifier}=""`,"",e,"/",".archive.org"),Tp(`br-loan-${this.identifier}=""`,"",e,"/",".archive.org")}setStickyAdminAccess(e){let t=window.location.hostname==="localhost"?"localhost":".archive.org";Tp("sticky-admin-access",e,"","/",t)}},y5=Le`var(--white, #fff)`,qE=Le`var(--primaryDisableCTAFill, #767676)`,GE=Le`var(--secondaryCTABorder, #999)`,YE=Le`var(--primaryCTAFill, #194880)`,gv=Le`var(--primaryCTAFillRGB, 25, 72, 128)`,KE=Le`var(--primaryCTABorder, #c5d1df)`,ZE=Le`var(--primaryErrorCTAFill, #d9534f)`,vv=Le`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,JE=Le`var(--primaryErrorCTABorder, #d43f3a)`,XE=Le`var(--secondaryCTAFill, #333)`,bv=Le`var(--secondaryCTAFillRGB, 51, 51, 51)`,QE=Le`var(--primaryCTABorder, #979797)`,eT=Le`#ee8950`,tT=Le`#ec7939`,iT=Le`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${y5};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 1rem;
    outline-color: ${y5};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${qE};
    border: 1px solid ${GE};
  }
  .ia-button.transparent {
    background-color: transparent;
  }
  .ia-button.warning {
    background-color: ${eT}
    border-color: ${tT};
  }

  .ia-button.primary {
    background-color: ${YE};
    border-color: ${KE};
  }
  .ia-button.primary:hover {
    background-color: rgba(${gv}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${gv}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${gv}, 0.7);
  }

  .ia-button.danger {
    background-color: ${ZE};
    border-color: ${JE};
  }
  .ia-button.danger:hover {
    background-color: rgba(${vv}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${vv}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${vv}, 0.7);
  }

  .ia-button.dark {
    background-color: ${XE};
    border-color: ${QE};
  }
  .ia-button.dark:hover {
    background-color: rgba(${bv}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${bv}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${bv}, 0.7);
  }
`,Ku=Le`var(--white, #fff)`,w5=Le`var(--primaryBGColor, #000)`,rT=Le`var(--iaBookActionsDropdownBGColor, #2d2d2d)`,nT=Le`
  :host {
    display: inline-flex;
    height: 3.5rem;
    padding: 1rem 0;
  }
  .actiongroup {
    display: flex;
    margin-right: 10px;
  }
  .action-buttons {
    display: inline-flex;
    align-items: center;
  }
  .action-buttons .ia-button {
    margin: 0;
    height: 3.5rem;
    padding: 0 2rem;
  }
  .action-buttons .desktop {
    background-color: ${Ku};
    border-radius: 10px;
  }
  .action-buttons .desktop.purchase {
    margin-left: 5px;
  }
  .action-buttons .mobile.purchase.dark {
    padding-left: 0;
  }
  .primary {
    background-color: ${Ku};
    margin-right: 4px;
  }
  .primary,
  .secondary {
    position: relative;
    border-radius: 5px;
  }
  .primary .initial {
    border-radius: 4px 0 0 4px;
    margin-right: 0;
  }
  .primary svg {
    vertical-align: middle;
  }

  .secondary .ia-button.purchase {
    padding: 2px 10px 2px 35px;
    position: relative;
    display: inline-block;
    vertical-align: middle;
  }
  .secondary .ia-button.exit-admin {
    background-color: ${w5};
    border: 1px solid ${Ku};
  }

  .dropdown-content {
    position: absolute;
    min-width: 14rem;
    margin: 0;
    padding: 0;
    background: ${rT};
    border-radius: 4px;
    border: 1px solid var(--primaryCTABorder);
    top: 3.4rem;
    left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
  }
  .dropdown-content li {
    color: ${w5};
    list-style: none;
    height: 3rem;
  }
  .dropdown-content .ia-button {
    background: none;
    color: ${Ku};
    border: none;
    box-sizing: border-box;
    width: 100%;
    text-align: left;
    height: 3rem;
    position: relative;
    padding: 0.6rem 1.2rem;
    margin: 0;
  }
  .dropdown-content .ia-button:is(:focus-visible, :hover) {
    background: unset;
  }
  .dropdown-content li .ia-button {
    border-radius: 0;
  }
  .dropdown-content li .ia-button:hover {
    background: ${Ku};
    color: rgb(45, 45, 45);
  }
  .dropdown-content li:first-child .ia-button {
    border-radius: 0.3rem 0.3rem 0 0;
  }
  .dropdown-content li:last-child .ia-button {
    border-radius: 0;
    border-radius: 0 0 0.3rem 0.3rem;
  }
  .dropdown-content .purchase:hover svg g {
    fill: black;
  }
  .dropdown-content .purchase {
    padding-left: 35px;
    margin: 0;
  }
  .dropdown-content .purchase small {
    display: initial;
    font-size: 1.4rem;
  }

  .ia-button.down-arrow {
    border-radius: 0 0.4rem 0.4rem 0;
    padding: 0 0.6rem;
    margin-left: 0;
  }
  .actionloader {
    vertical-align: middle;
    visibility: hidden;
    padding: 0.9rem 0.2rem;
  }
  .close {
    display: none;
  }
  .open {
    display: block;
    z-index: 2;
  }
  .visible {
    display: inline-block;
  }
  .btn:hover,
  .dropdown:hover .btn {
    background-color: ${Ku};
  }
  a {
    text-decoration: none;
  }
  .purchase small {
    display: block;
    font-size: 1rem;
  }
  .purchase svg {
    position: absolute;
    left: 10px;
    top: 20%;
  }
  .unavailable {
    opacity: 0.7;
    pointer-events: none;
  }
  .disabled {
    opacity: 0.8;
    pointer-events: none;
    visibility: visible;
  }
`,oT=we`<svg
  height="20"
  viewBox="0 0 75 75"
  width="20"
  xmlns="http://www.w3.org/2000/svg"
>
  <g fill="#fff" fill-rule="evenodd" transform="translate(0 13.736264)">
    <path
      d="m22.8463837 18.2119173c6.5756797.1478113 10.585751 1.8020104 13.0298545 3.5887422l3.9291669 17.6234408c-4.8169735 1.3742664-9.2153954 4.1561307-12.6728799 7.9003587-5.9346575-9.1046945-13.627732-14.2752618-26.92576083-19.445829l.0576431-.0724863.08436419-.1026121c1.1105031-1.331793 8.72437099-9.8023542 22.49761204-9.4916143z"
    />
    <path
      d="m74.9439846 1.1046788c-8.1318682 11.7830147-14.8351649 24.4553135-17.2527473 38.4615385-2.8571429-1.0004447-5.9340659-1.5562473-9.1208791-1.5562473-1.3812656 0-2.7625312.1317192-4.0892393.3399693l-2.9788221-18.0144913c6.444022-11.67552841 19.228784-18.40456144 32.9707606-19.20539059z"
    />
    <path
      d="m36.8571258 21.719357 3.6273911-.8052884 2.5793903 17.8073684c-.7020757.1150413-1.4041514.2300825-2.1062271.4601649z"
    />
    <path
      d="m70.1594803.55538282c-13.7069528 2.06173881-23.764449 8.35192747-29.6753948 19.07620888l-.2624906.5200262-3.7425669.8013234c-2.8059684-1.7413364-5.5070193-3.8778459-12.5979079-4.0336896-7.5995702-.1676376-12.2045639 1.9616824-16.46353768 3.7996974l.57415955-.5673312c4.03313533-3.936109 8.45564043-7.3737923 14.98104763-8.4391649 4.9512458-.776666 10.8981852.1535901 14.8163388 6.4911269.6044492-19.13367701 23.3058132-18.5735241 32.3703519-17.64819708z"
    />
  </g>
</svg>`,aT=we`<svg
  height="4"
  viewBox="0 0 8 4"
  width="8"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
    fill="#fff"
  />
</svg>`,yv=we`<svg
  height="4"
  viewBox="0 0 8 4"
  width="8"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
    fill="#fff"
  />
</svg>`,sT=class extends k5{static get properties(){return{userid:{type:String},identifier:{type:String},primaryActions:{type:Array},secondaryActions:{type:Array},primaryColor:{type:String},dropdownState:{type:String},width:{type:Number},hasAdminAccess:{type:Boolean},dropdownArrow:{type:String},disabled:{type:Boolean},returnUrl:{type:String},autoRenew:{type:Boolean},loanRenewType:{type:String},autoReturn:{type:Boolean},returnNow:{type:Boolean}}}constructor(){super(),this.userid="",this.identifier="",this.primaryActions=[],this.secondaryActions=[],this.primaryColor="",this.dropdownState="close",this.width=0,this.hasAdminAccess=!1,this.dropdownArrow=yv,this.initialButton=!1,this.title="",this.loaderIcon="https://archive.org/upload/images/tree/loading.gif",this.disabled=!1,this.returnUrl="",this.autoRenew=!1,this.loanRenewType="",this.autoReturn=!1,this.returnNow=!1}updated(e){(e.has("width")||e.has("disabled"))&&this.isBelowTabletContainer&&this.resetActions(),e.has("autoRenew")&&this.autoRenew&&this.dispatchLoanEvent("autoRenew",{renewType:this.loanRenewType});let t=e.has("autoReturn")&&this.autoReturn;t&&this.dispatchLoanEvent("autoReturn"),e.has("returnNow")&&this.returnNow&&!t&&this.dispatchLoanEvent("returnNow",{borrowType:"browse"})}dispatchLoanEvent(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}resetActions(){this.primaryActions.length&&(this.primaryActions=this.primaryActions.concat(this.secondaryActions),this.primaryColor=this.primaryActions[0].className,this.hasAdminAccess&&this.sortActionButtonOrder(),this.secondaryActions=[])}sortActionButtonOrder(){let e=1,t=0;this.secondaryActions.length===2&&(e=2),e=this.primaryActions.length-e;let r=this.primaryActions[e],a=this.primaryActions;a.splice(e,1),a.splice(t,0,r),this.primaryActions=a}render(){return we`
      <div
        class="${yo({actiongroup:!0,disabled:this.disabled})}"
      >
        ${this.getLoaderIcon}
        <section class="action-buttons primary">
          ${this.renderPrimaryActions}
        </section>
        <section class="action-buttons secondary">
          ${this.renderSecondaryActions}
        </section>
      </div>
    `}get renderPrimaryActions(){return this.primaryActions.length===0?ei:(this.dropdownState==="close"&&(this.primaryColor=this.primaryActions[0].className),this.primaryActions.length===1?this.initialActionTemplate:we`
      ${this.initialActionTemplate}
      <button
        class="ia-button ${this.primaryColor} down-arrow"
        @click=${this.toggleDropdown}
      >
        ${this.dropdownArrow}
      </button>

      <ul class="dropdown-content ${this.dropdownState}">
        ${this.getPrimaryItems}
      </ul>
    `)}get renderSecondaryActions(){return this.secondaryActions.length?this.secondaryActions.map(e=>this.renderActionButton(e)):ei}renderActionLink(e,t=!1){return we`<span class="${this.getDeviceType} ${e.className}">
      <a
        class="ia-button ${e.className} ${t?"initial":""}"
        href="${e.url}"
        target=${e.target}
        @click=${()=>{this.clickHandler(e.id,e.analyticsEvent,e==null?void 0:e.borrowType)}}
      >
        ${e.id==="purchaseBook"?oT:""} ${e.text}
        <small>${e.subText}</small>
      </a>
    </span>`}renderActionButton(e,t=!1){if(e.url)return this.renderActionLink(e,t);let{analyticsEvent:r}=e;return we`<button
      class="ia-button ${e.className} ${t?"initial":""}"
      @click=${()=>{this.clickHandler(e.id,r,e==null?void 0:e.borrowType)}}
    >
      ${e.text}
    </button>`}clickHandler(e,t,r=""){if(this.dropdownState="close",this.dropdownArrow=yv,!t||!e)return;let{category:a,action:l}=t;this.dispatchEvent(new CustomEvent(e,{detail:{event:{category:a,action:l},borrowType:r}}))}get initialActionTemplate(){return this.initialButton=!1,this.primaryActions.length>1&&(this.initialButton=!0),this.renderActionButton(this.primaryActions[0],this.initialButton)}get getPrimaryItems(){return this.primaryActions.slice(1).map(e=>we`<li>${this.renderActionButton(e,this.initialButton)}</li>`)}get getLoaderIcon(){return we`<img
      class="${yo({actionloader:!0,disabled:this.disabled})}"
      alt=""
      src="${this.loaderIcon}"
    />`}get isBelowTabletContainer(){return this.width<=800}get getDeviceType(){return this.isBelowTabletContainer?"mobile":"desktop"}toggleDropdown(){this.dropdownState==="open"?(this.dropdownState="close",this.dropdownArrow=yv,this.primaryColor=this.primaryActions[0].className):(this.dropdownState="open",this.dropdownArrow=aT,this.primaryColor="dark")}static get styles(){return[iT,nT]}};window.customElements.define("collapsible-action-group",sT);lT=we`
  <svg
    class="ia-logo"
    width="26"
    height="26"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building faade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" fill="white">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use fill="#FFFFFF" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" fill="#FFFFFF">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,uT=class extends k5{static get properties(){return{identifier:{type:String},bookTitle:{type:String}}}constructor(){super(),this.identifier="",this.bookTitle="",this.analyticsCategories=Kl,this.analyticsActions=Zu}clickHandler(){let{category:e,action:t}={category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.titleBar};this.dispatchEvent(new CustomEvent("bookTitleBar",{detail:{event:{category:e,action:t}}}))}render(){return we`
      <a
        class="embed-link"
        @click=${()=>{this.clickHandler()}}
        href="/details/${this.identifier}"
      >
        <span>${lT}</span>
        <span class="title">${this.bookTitle}</span>
      </a>
    `}static get styles(){return Le`
      :host {
        padding: 0 10px;
        height: 3.4rem;
        display: flex;
      }
      .embed-link {
        display: inline-flex;
        align-items: center;
        text-decoration: none;
        color: var(--primaryTextColor, #fff);
        font-size: 1.4rem;
      }
      .embed-link .title {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
        text-align: left;
        line-height: initial;
      }
      .embed-link svg {
        margin-right: 0.5rem;
        display: block;
      }
      .embed-link:hover {
        text-decoration: underline;
      }
    `}};window.customElements.define("book-title-bar",uT);cT=class extends Yt{static get properties(){return{texts:{type:String},textClass:{type:String}}}constructor(){super(),this.texts="",this.textClass=""}render(){return we`
      <span class="variable-texts ${this.textClass}">${this.texts}</span>
    `}static get styles(){return Le`
      :host {
        display: inline-block;
      }
      .variable-texts {
        margin-right: 10px;
        vertical-align: middle;
        font-size: 1.7rem;
      }
      .hidden {
        display: none;
      }
      .visible {
        display: inline-block;
      }
    `}};window.customElements.define("text-group",cT);dT=class extends Yt{static get properties(){return{iconClass:{type:String}}}constructor(){super(),this.iconClass="",this.helpURL="https://help.archive.org/help/borrowing-from-the-lending-library"}render(){return we`
      <a
        class="more-info-icon ${this.iconClass}"
        href=${this.helpURL}
        target="_blank"
        title="Get more info on borrowing from The Lending Library"
        data-event-click-tracking="BookReader|BrowsableMoreInfo"
      >
        <ia-icon-info></ia-icon-info>
      </a>
    `}get getInfoIcon(){return ln`${As(this.icon)}`}static get styles(){return Le`
      ia-icon-info {
        display: inline-block;
        width: 18px;
        height: 20px;
        vertical-align: middle;
        --iconFillColor: white;
      }
      .more-info-icon img {
        width: 24px;
        height: 24px;
        vertical-align: middle;
        background: white;
      }
      .hidden {
        display: none;
      }
      .visible {
        display: inline-block;
      }
    `}};window.customElements.define("info-icon",dT);hT=class extends Yt{static get properties(){return{secondsLeftOnLoan:{type:Number},displayTime:{type:Boolean}}}constructor(){super(),this.secondsLeftOnLoan=0,this.displayTime=!1}get minutesLeftOnLoan(){let e=Math.round(this.secondsLeftOnLoan);return e=Math.ceil(e/60),e<10?e=`0:0${e}`:e===60?e="1:00":e=`0:${e}`,e}get remainingTime(){let e="minute",t=this.minutesLeftOnLoan;return t!==1?`${t} ${e}s`:`${t} ${e}`}render(){let e=this.displayTime?"view":"hide";return we`
      <button
        id="timer-counter"
        class=${e}
        @click=${()=>{this.displayTime=!this.displayTime}}
        role="timer"
      >
        <span>${this.minutesLeftOnLoan} - </span>
        <span class="second">${Number(this.secondsLeftOnLoan)}</span>
        <span class="sr-only">${this.remainingTime} left</span>
      </button>
    `}static get styles(){return Le`
      :host {
        right: 0;
        margin-right: 10px;
        position: absolute;
      }

      .sr-only {
        position: absolute;
        left: -9999px;
        width: 1px;
        height: 1px;
        margin: 0;
        padding: 0;
        border: none;
        overflow: hidden;
      }

      button#timer-counter {
        cursor: pointer;
      }

      .hide {
        opacity: 0;
      }

      .show {
        opacity: 1;
      }
    `}};window.customElements.define("timer-countdown",hT);window.IALendingIntervals={tokenPoller:0,timerCountdown:0,browseExpireTimeout:0,clearTokenPoller:()=>{window.clearInterval(window.IALendingIntervals.tokenPoller),window.IALendingIntervals.tokenPoller=0},clearTimerCountdown:()=>{window.clearInterval(window.IALendingIntervals.timerCountdown),window.IALendingIntervals.timerCountdown=0},clearBrowseExpireTimeout:()=>{window.clearTimeout(window.IALendingIntervals.browseExpireTimeout),window.IALendingIntervals.browseExpireTimeout=0},clearAll:()=>{var e,t,r;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller(),(t=window==null?void 0:window.IALendingIntervals)==null||t.clearTimerCountdown(),(r=window==null?void 0:window.IALendingIntervals)==null||r.clearBrowseExpireTimeout()}};pT=class{constructor(e,t,r={},a){this.userid=e,this.identifier=t,this.lendingStatus=r,this.bwbPurchaseUrl=a,this.printDisabilityLink="/details/printdisabled?tab=about",this.analyticsCategories=Kl,this.analyticsActions=Zu}firstBrowseConfig(){return{id:"browseBook",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.browse}}}browseAgainConfig(){return{id:"browseBookAgain",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.browse,action:this.analyticsActions.browseAgain}}}returnBookConfig(){return{id:"returnNow",text:"Return now",className:"danger",analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.borrow,action:this.analyticsActions.doneBorrowing},borrowType:this.lendingStatus.user_has_browsed?"browse":"borrow"}}borrowBookConfig(e=!1){return!this.lendingStatus.available_to_borrow&&!this.lendingStatus.user_is_printdisabled||this.lendingStatus.user_has_borrowed?null:{id:"borrowBook",text:"Borrow for 14 days",className:"primary",disabled:e,analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.preview,action:this.analyticsActions.borrow}}}loginAndBorrowBookConfig(){return{id:"loginAndBorrow",text:"Log In and Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}leaveWaitlistConfig(){return{id:"leaveWaitlist",text:"Leave Waitlist",className:"dark",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistLeave}}}loginAndWaitlistConfig(){return{id:"loginAndWaitlist",text:"Log In and Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}waitlistConfig(){let e=!!this.userid,t=this.lendingStatus||{};return!t.available_to_waitlist||t.available_to_borrow?null:e?{id:"joinWaitlist",text:"Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistJoin}}:this.loginAndWaitlistConfig()}purchaseConfig(){return this.bwbPurchaseUrl?{id:"purchaseBook",text:"Purchase at ",subText:"Better World Books",title:"Purchase",url:this.bwbPurchaseUrl,target:"_blank",className:"purchase dark",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.purchase}}:null}printDisabilityConfig(){return this.lendingStatus.user_is_printdisabled?null:{id:"printDisability",text:"Print Disability Access",title:"Print Disability Access",url:this.printDisabilityLink,target:"_self",className:"print-disability",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.printDisability}}}adminAccessConfig(){return this.lendingStatus.user_has_borrowed||!this.lendingStatus.isAdmin?null:{id:"adminAccess",text:"Admin Access",title:"You have administrative privileges to read this book",className:"danger",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.borrow}}}adminOrPrintDisabledExitConfig(){return{id:"exitAdminAccess",text:`\u2190 Exit ${Yo.getQueryParam("admin")==="1"?"admin":"print-disabled"} access mode`,url:Yo.getBackHref(),target:"_self",className:"exit-admin",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.doneBorrowing}}}unavailableBookConfig(){return{id:"borrowUnavailable",text:"Borrow Unavailable",className:"primary unavailable",disabled:!0,analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.unavailable}}}isEmbed(e){return{primaryTitle:`<img src=/images/glogo-jw.png> <a href=/details/${this.identifier}>${e}</a>`,primaryActions:[],primaryColor:""}}},vo={available_1hr:"Renews automatically with continued use.",available_14d:"This book can be borrowed for 14 days.",available_pd:"Book available to patrons with print disabilities.",available_waitlist:"A waitlist is available.",admin_access:"You have administrative privileges to read this book.",claim_waitlist:"You are at the top of the waitlist for this book.",being_borrowed:"Another patron is using this book. Please check back later.",eligible_pd:"You are eligible for print-disabled access.",on_waitlist:"You are on the waitlist for this book.",session_expired:"Renews automatically with continued use.",unavailable:"This book is not available at this time."},fT=class{constructor(e,t,r,a){this.userid=e,this.identifier=t,this.lendingStatus=r,this.bwbPurchaseUrl=a,this.analyticsCategories=Kl,this.analyticsActions=Zu,this.actionsConfig=new pT(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl)}onlyAdminAction(){return{primaryTitle:vo.admin_access,primaryActions:[],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}adminOrPrintDisabledReadingAction(){return{primaryTitle:"",primaryActions:[],secondaryActions:[this.actionsConfig.adminOrPrintDisabledExitConfig()],borrowType:"adminBorrowed"}}patronIsReadingAction(){let e=this.lendingStatus||{},t=e.loanCount>=e.maxLoans,r="",a=e.user_has_browsed&&!e.browsingExpired;return a?r=vo.available_1hr:r=`Your loan of this book has ${e.daysLeftOnLoan} days left.`,{primaryTitle:r,primaryActions:[this.actionsConfig.returnBookConfig(),this.actionsConfig.borrowBookConfig(t),this.actionsConfig.waitlistConfig(),this.actionsConfig.printDisabilityConfig()],primaryColor:"danger",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()],borrowType:a?"browsed":"borrowed"}}claimWaitlistAction(){let e=this.lendingStatus||{},t=this.actionsConfig.leaveWaitlistConfig(),r=this.actionsConfig.borrowBookConfig(),a=e.available_to_browse?this.actionsConfig.firstBrowseConfig():null,l=[r];return a&&l.push(a),l.push(t),{primaryTitle:vo.claim_waitlist,primaryActions:l,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrowPrintDisabledAction(){return{primaryTitle:vo.eligible_pd,primaryActions:[this.actionsConfig.borrowBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}onlyPrintDisabledAction(){let e=this.lendingStatus.isAdmin?[]:this.actionsConfig.unavailableBookConfig();return{primaryTitle:vo.available_pd,primaryActions:[e],primaryColor:"primary",secondaryActions:[]}}onWaitlistAction(){return{primaryTitle:vo.on_waitlist,primaryActions:[this.actionsConfig.leaveWaitlistConfig(),this.actionsConfig.firstBrowseConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}restrictedAction(){let e=this.lendingStatus||{};return{primaryTitle:e.max_browsable_copies&&!e.available_lendable_copies?vo.being_borrowed:vo.unavailable,primaryActions:[this.actionsConfig.unavailableBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}loggedOutOptions(){let e=this.lendingStatus||{},t=!e.available_to_waitlist&&!e.available_to_borrow,r=this.actionsConfig.waitlistConfig(),a=null;e.available_to_borrow||e.available_to_browse?a=this.actionsConfig.loginAndBorrowBookConfig():t&&(a=this.actionsConfig.unavailableBookConfig());let l=this.actionsConfig.printDisabilityConfig(),o=[a,r,l].filter(u=>u!==null);return{primaryTitle:e.available_to_browse?vo.available_1hr:e.available_to_borrow?vo.available_14d:vo.unavailable,primaryActions:o,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrow1HrAction(){let e=this.lendingStatus||{},t=!e.available_to_browse&&e.browsingExpired,r=e.available_to_browse||t,a=r&&e.available_to_borrow,l=r&&!e.available_to_borrow&&e.available_to_waitlist,o=r&&!e.available_to_borrow&&!e.available_to_waitlist,u=e.available_browsable_copies<1&&e.available_browsable_copies<e.max_browsable_copies,n=t?vo.session_expired:!r&&u?vo.being_borrowed:!r&&e.available_to_waitlist?vo.available_waitlist:vo.available_1hr,c=t?this.actionsConfig.browseAgainConfig():this.actionsConfig.firstBrowseConfig(),d=this.actionsConfig.borrowBookConfig(),f=this.actionsConfig.waitlistConfig(),p=this.actionsConfig.printDisabilityConfig();return{primaryTitle:n,primaryActions:o?[c,p]:a?[c,d,p]:l?[c,f,p]:[],primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrowAction(){let e=this.lendingStatus||{};if(!this.userid)return this.loggedOutOptions();if(e.available_to_browse||e.browsingExpired)return this.borrow1HrAction();let t=null,r=this.actionsConfig.waitlistConfig(),a=this.actionsConfig.printDisabilityConfig(),l=e.loanCount>=e.maxLoans;!e.available_to_borrow&&!r?t=this.actionsConfig.unavailableBookConfig():e.available_to_borrow&&(t=this.actionsConfig.borrowBookConfig(l));let o=[t,r,a].filter(function(u){return u!==null});return{primaryTitle:r?vo.being_borrowed:"",primaryActions:o,primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}getBrowseCountdownTitle(){let e=this.lendingStatus.secondsLeftOnLoan;var t=new Date(+new Date+e*1e3),r=t.getHours()%12,a=(""+t.getMinutes()).replace(/^(\d{1})$/,"0$1"),l=t.getHours()>11?" PM":" AM";return r===0&&(r=12),"Borrow ends at "+r+":"+a+l}getCurrentLendingActions(){let e,t=this.lendingStatus||{},r=Yo.getQueryParam("admin")=="1"&&t.isAdmin,a=Yo.getQueryParam("access")=="1"&&t.user_is_printdisabled,l=t.user_has_borrowed||t.user_has_browsed&&!t.browsingExpired,o=!t.user_has_borrowed&&!t.user_has_browsed,u=!t.available_to_borrow&&!t.available_to_browse,n=t.is_printdisabled&&t.user_is_printdisabled,c=(t.available_to_browse||t.available_to_borrow)&&o&&!t.user_on_waitlist;return r||a?e=this.adminOrPrintDisabledReadingAction():t.isAdmin&&o&&u?e=this.onlyAdminAction():l?e=this.patronIsReadingAction():t.user_can_claim_waitlist?e=this.claimWaitlistAction():n?e=this.borrowPrintDisabledAction():c||t.browsingExpired?e=this.borrowAction():t.isPrintDisabledOnly?e=this.onlyPrintDisabledAction():t.user_on_waitlist?e=this.onWaitlistAction():e=this.restrictedAction(),e}},mT=class{constructor(e,t,r,a,l){this.identifier=e,this.borrowType=t,this.successCallback=r,this.errorCallback=a,this.pollerDelay=l,this.loanTokenInterval=void 0,this.loanAnalytics=new _5,this.bookAccessed()}disconnectedCallback(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller()}bookAccessed(){return Vt(this,null,function*(){var e;this.borrowType?(this.handleLoanTokenPoller(!0),this.borrowType!=="adminBorrowed"&&(window.IALendingIntervals.tokenPoller=setInterval(()=>{this.handleLoanTokenPoller()},this.pollerDelay*1e3))):((e=window==null?void 0:window.Sentry)==null||e.captureMessage(`${ss.bookAccessed} - not borrowed`),this.disconnectedCallback())})}handleLoanTokenPoller(e=!1){return Vt(this,null,function*(){let t="create_token";Yl({identifier:this.identifier,action:t,error:r=>{var a,l;this.errorCallback({detail:{action:t,data:r}}),(a=window==null?void 0:window.Sentry)==null||a.captureMessage(`${ss.handleLoanTokenPoller} - Error: ${JSON.stringify(r)}`),(l=this.loanAnalytics)==null||l.sendEvent("LendingServiceLoanError",t,this.identifier)},success:()=>{e&&this.successCallback()}})})}},gT=class{constructor(e,t,r,a){this.hasPageChanged=e,this.identifier=t,this.localCache=r,this.loanRenewTimeConfig=a,this.loanRenewMessage="This book has been renewed for #time #unitsOfTime.",this.loanReturnWarning="With no action, this book will be auto-returned in #time #unitsOfTime.",this.result={texts:null,renewNow:!1,renewType:""}}handleLoanRenew(){try{return this.hasPageChanged?this.pageChanged():this.autoChecker()}catch(e){gn(e)}return ei}pageChanged(){return Vt(this,null,function*(){let{loanRenewAtLast:e}=this.loanRenewTimeConfig,t=new Date,r=yield this.localCache.get(`${this.identifier}-loanTime`),a=this.changeTime(r,e,"sub");return a!==null&&t>=a&&(this.result={texts:this.loanRenewMessage,renewNow:!0,renewType:"auto"}),this.setPageChangedTime(),this.result})}autoChecker(){return Vt(this,null,function*(){let{pageChangedInLast:e}=this.loanRenewTimeConfig,t=yield this.localCache.get(`${this.identifier}-pageChangedTime`),r=this.changeTime(new Date,e,"sub");return t===void 0||t<=r?this.result={texts:this.loanReturnWarning,renewNow:!1,renewType:""}:t>=r&&(this.result={texts:"",renewNow:!0,renewType:"auto"}),this.result})}setPageChangedTime(){return Vt(this,null,function*(){yield this.localCache.set({key:`${this.identifier}-pageChangedTime`,value:new Date,ttl:Number(this.loanRenewTimeConfig.loanTotalTime)})})}getMessageTexts(e,t){let r="minute",a=e,l=t;return l=Math.ceil(l/60),l>59&&(l=1,r="hour"),a=a==null?void 0:a.replace(/#time/,l),a==null?void 0:a.replace(/#unitsOfTime/,l!==1?`${r}s`:r)}changeTime(e,t,r){return e===void 0?null:r==="sub"?new Date(e.getTime()-t*1e3):new Date(e.getTime()+t*1e3)}},vT={browseExpired:"IABookReader:BrowsingHasExpired"},Go={iaButton:"min-height:3.5rem;cursor:pointer;color:white;border-radius:0.4rem;border:1px solid #c5d1df;padding:4px 8px;width:auto;user-select:none;",renew:"background:#194880;width:110px;",return:"background:#d9534f;width:120px;",loaderIcon:"display:inline-block;width:20px;height:20px;margin-top:2px;color:white;--activityIndicatorLoadingRingColor:#fff;--activityIndicatorLoadingDotColor:#fff;",refresh:"background:none;font-size:inherit;border:0;padding:0;color:#0000ee;cursor:pointer;text-decoration:underline"},bT=class extends Yt{static get properties(){return{userid:{type:String},identifier:{type:String},bookTitle:{type:String},lendingStatus:{type:Object},returnUrl:{type:String},width:{type:Number},bwbPurchaseUrl:{type:String},lendingBarPostInit:{type:Function,attribute:!1},barType:{type:String},sharedObserver:{attribute:!1},disableActionGroup:{type:Boolean},modal:{Object},tokenDelay:{type:Number},timerExecutionSeconds:{type:Number},localCache:{type:Object},loanRenewTimeConfig:{type:Object},loanRenewResult:{type:Object}}}constructor(){super(),this.userid="",this.identifier="",this.bookTitle="",this.returnUrl="",this.lendingStatus={},this.width=0,this.bwbPurchaseUrl="",this.lendingBarPostInit=()=>{},this.barType="action",this.sharedObserver=void 0,this.disableActionGroup=!1,this.tokenDelay=120,this.timerExecutionSeconds=30,this.postInitComplete=!1,this.primaryActions=[],this.primaryTitle="",this.primaryColor="primary",this.secondaryActions=[],this.lendingOptions={},this.borrowType=null,this.browseTimer=void 0,this.timeWhenTimerStart=void 0,this.returnNow=!1,this.loanRenewTimeConfig={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900},this.loanRenewResult={texts:"",renewNow:!1,secondsLeft:0,renewType:""}}disconnectedCallback(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearAll(),this.sentryCaptureMsg(ss.disconnectedCallback),this.disconnectResizeObserver()}sentryCaptureMsg(e){var t;gn(window==null?void 0:window.Sentry),(t=window==null?void 0:window.Sentry)==null||t.captureMessage(e)}firstUpdated(){this.bindLoanRenewEvents(),this.localCache=new b5({namespace:"loanRenew"}),this.sharedObserver||(this.sharedObserver=new xo,this.setupResizeObserver())}updated(e){(e.has("lendingStatus")||e.has("bwbPurchaseUrl"))&&this.setupLendingToolbarActions(),e.has("sharedObserver")&&(this.disconnectResizeObserver(),this.setupResizeObserver()),e.has("loanRenewResult")&&this.loanRenewResult.renewNow&&window.IALendingIntervals.clearAll()}handleResize(e){let{target:t}=e;if(t!==this.shadowRoot.host)return;let{contentRect:r}=e;this.width=Math.round(r.width)}disconnectResizeObserver(){var e;(e=this.sharedObserver)==null||e.removeObserver({handler:this,target:this.shadowRoot.host})}setupResizeObserver(){var e;this.shadowRoot&&((e=this.sharedObserver)==null||e.addObserver({handler:this,target:this.shadowRoot.host}))}setupLendingToolbarActions(){return Vt(this,null,function*(){var r,a,l,o;this.lendingOptions=new fT(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl);let e=this.lendingOptions.getCurrentLendingActions();if(!e)return;this.primaryTitle=e.primaryTitle,this.primaryActions=(r=e.primaryActions)==null?void 0:r.filter(u=>u!=null),this.primaryColor=e.primaryColor,this.secondaryActions=(a=e.secondaryActions)==null?void 0:a.filter(u=>u!=null),this.borrowType=e.borrowType?e.borrowType:null;let t="browsingExpired"in this.lendingStatus&&((l=this.lendingStatus)==null?void 0:l.browsingExpired);if(t){gn("setupLendingToolbarActions > hasExpired --- "),this.tokenPoller||this.sentryCaptureMsg(ss.bookWasExpired),(o=window==null?void 0:window.IALendingIntervals)==null||o.clearAll(),this.dispatchEvent(new Event(vT.browseExpired,{bubbles:!0,cancelable:!1,composed:!0}));return}if(this.borrowType==="browsed"&&(yield this.startTimerCountdown(),yield this.startBrowseTimer()),!this.borrowType||this.barType==="title"){this.lendingBarPostInit();return}setTimeout(()=>{!t&&!window.IALendingIntervals.tokenPoller&&this.startLoanTokenPoller()},100),this.requestUpdate()})}bindLoanRenewEvents(){window.addEventListener("BookReader:userAction",()=>{gn("IABookActions:BookReader:userAction"),this.borrowType==="browsed"&&this.autoLoanRenewChecker(!0)}),document.addEventListener("visibilitychange",()=>Vt(this,null,function*(){if(!document.hidden&&(gn("visibilitychange event execute:------------------ ",new Date().getMinutes(),new Date().getSeconds(),this.borrowType),this.borrowType==="browsed"&&this.lendingStatus.browsingExpired===!1)){let e=yield this.localCache.get(`${this.identifier}-loanTime`),t=Math.round((e-new Date)/1e3);t>=this.timerExecutionSeconds?this.loanStatusCheckInterval(Number(t)):(this.browseHasExpired(),this.disconnectedCallback())}}))}autoLoanRenewChecker(e=!1){return Vt(this,null,function*(){this.loanRenewHelper=new gT(e,this.identifier,this.localCache,this.loanRenewTimeConfig),yield this.loanRenewHelper.handleLoanRenew(),this.loanRenewResult=this.loanRenewHelper.result})}get modal(){let e=document.body.querySelector("modal-manager");return e==null||e.setAttribute("id","action-bar-modal"),e}showWarningModal(){return Vt(this,null,function*(){var a,l,o;gn("****** showWarningModal ******"),this.modal.customModalContent=ei,(a=this.modal)==null||a.closeModal(),this.loanRenewResult={texts:"",renewNow:!1};let{secondsLeft:e}=this.loanRenewResult;e===void 0?e=this.lendingStatus.secondsLeftOnLoan:e=e>60?e:60;let t=new Gl({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(l=this.loanRenewHelper)==null?void 0:l.getMessageTexts(this.loanRenewResult.texts,e)}),r=we`<br />
      <div
        id="book-action-bar-custom-buttons"
        style="display:flex;justify-content:center;"
      >
        <button
          style="${Go.iaButton} ${Go.renew}"
          @click=${()=>this.patronWantsToRenewBook()}
        >
          Keep reading
        </button>
        <button
          style="${Go.iaButton} ${Go.return}"
          @click=${()=>this.patronWantsToReturnBook()}
        >
          Return the book
        </button>
      </div> `;this.modal.setAttribute("aria-live","assertive"),yield(o=this.modal)==null?void 0:o.showModal({config:t,customModalContent:r})})}showWarningDisabledModal(e="renewBook"){return Vt(this,null,function*(){var l,o;let{secondsLeft:t}=this.loanRenewResult;t===void 0?t=this.lendingStatus.secondsLeftOnLoan:t=t>60?t:60;let r=new Gl({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(l=this.loanRenewHelper)==null?void 0:l.getMessageTexts(this.loanRenewResult.texts,t)}),a=we`<br />
      <div
        id="disabled-book-action-bar-custom-buttons"
        style="display:flex;justify-content:center; opacity:0.8; pointer-events:none;"
      >
        <button
          disabled
          style="${Go.iaButton} ${Go.renew}"
        >
          ${e==="renewBook"?we`<ia-activity-indicator
                mode="processing"
                style=${Go.loaderIcon}
              ></ia-activity-indicator>`:"Keep reading"}
        </button>
        <span
          style="position: absolute; visibility: none; height: 1px; width: 1px; overflow: hidden;"
          >Renewing loan, one moment please.</span
        >
        <button
          disabled
          style="${Go.iaButton} ${Go.return}"
        >
          ${e==="returnBook"?we`<ia-activity-indicator
                mode="processing"
                style=${Go.loaderIcon}
              ></ia-activity-indicator>`:"Return the book"}
        </button>
      </div> `;yield(o=this.modal)==null?void 0:o.showModal({config:r,customModalContent:a})})}patronWantsToRenewBook(){return Vt(this,null,function*(){this.showWarningDisabledModal(),this.loanRenewResult={texts:"",renewNow:!0,renewType:"manual"}})}patronWantsToReturnBook(){return Vt(this,null,function*(){this.showWarningDisabledModal("returnBook"),document.querySelector("ia-book-actions").disableActionGroup=!0,this.returnNow=!0})}showExpiredModal(){return Vt(this,null,function*(){var r;let e=new Gl({headline:"",showCloseButton:!1,closeOnBackdropClick:!1,headerColor:"#194880",message:"This book has been returned due to inactivity."}),t=we`<br />
      <div style="text-align: center">
        <button
          style="${Go.iaButton} ${Go.renew}"
          @click=${()=>{Yo.goToUrl(this.returnUrl,!0)}}
        >
          Okay
        </button>
      </div> `;yield(r=this.modal)==null?void 0:r.showModal({config:e,customModalContent:t})})}browseHasExpired(){return Vt(this,null,function*(){var t;gn("BrowseHasExpired ---"),(t=window==null?void 0:window.IALendingIntervals)==null||t.clearAll();let e=Ir(ur({},this.lendingStatus),{browsingExpired:!0,secondsLeftOnLoan:0});this.lendingStatus=e,yield this.localCache.delete(`${this.identifier}-loanTime`),yield this.localCache.delete(`${this.identifier}-pageChangedTime`),this.loanRenewResult.renewNow=!1,this.loanRenewResult.texts="This book has been returned due to inactivity.",yield this.showExpiredModal(),this.sentryCaptureMsg(ss.browseHasExpired)})}startBrowseTimer(){return Vt(this,null,function*(){var a;(a=window==null?void 0:window.IALendingIntervals)==null||a.clearBrowseExpireTimeout();let{browsingExpired:e,user_has_browsed:t,secondsLeftOnLoan:r}=this.lendingStatus;if(!t||e){gn("startBrowseTimer --- !user_has_browsed || browsingExpired",{user_has_browsed:t,browsingExpired:e,secondsLeftOnLoan:r});return}window.IALendingIntervals.browseExpireTimeout=setTimeout(()=>{gn("startBrowseTimer > browseExpireTimeout --- will expire loan",r),this.browseHasExpired()},r*1e3)})}render(){return this.barType==="title"?we`<section class="lending-wrapper">
        ${this.bookTitleBar}
      </section>`:we`<section class="lending-wrapper">
      ${this.bookActionBar}
    </section>`}get bookTitleBar(){return we`<book-title-bar
      .identifier=${this.identifier}
      .bookTitle=${this.bookTitle}
    ></book-title-bar>`}get timerCountdownEl(){return this.shadowRoot.querySelector("timer-countdown")}get bookActionBar(){return we`
      <collapsible-action-group
        .userid=${this.userid}
        .identifier=${this.identifier}
        .primaryColor=${this.primaryColor}
        .primaryActions=${this.primaryActions}
        .secondaryActions=${this.secondaryActions}
        .width=${this.width}
        .borrowType=${this.borrowType}
        .returnUrl=${this.returnUrl}
        .localCache=${this.localCache}
        .loanTotalTime=${this.loanRenewTimeConfig.loanTotalTime}
        .loanRenewType=${this.loanRenewResult.renewType}
        ?hasAdminAccess=${this.hasAdminAccess}
        ?disabled=${this.disableActionGroup}
        ?autoRenew=${this.loanRenewResult.renewNow}
        ?autoReturn=${this.lendingStatus.browsingExpired}
        ?returnNow=${this.returnNow}
        @loanAutoRenewed=${this.handleLoanAutoRenewed}
        @lendingActionError=${this.handleLendingActionError}
        @toggleActionGroup=${this.handleToggleActionGroup}
      >
      </collapsible-action-group>
      ${this.textGroupTemplate} ${this.infoIconTemplate}
      <timer-countdown
        .secondsLeftOnLoan=${Math.round(Number(this.lendingStatus.secondsLeftOnLoan))}
      ></timer-countdown>
    `}handleLoanAutoRenewed(t){return Vt(this,arguments,function*({detail:e}){var l,o,u;let r=(l=e==null?void 0:e.data)==null?void 0:l.loan,a=`Whoops, seems we hit a hiccup with renewing this book. Please refresh & retry. --- (Debug: ${(o=e==null?void 0:e.data)==null?void 0:o.error})`;if(!r){this.showErrorModal(a,"handleLoanAutoRenewed");return}if(this.loanRenewResult.renewNow){let n=yield this.localCache.get(`${this.identifier}-loanTime`),c=Math.round((n-new Date)/1e3);gn(n,c),gn("IABookActions: handleLoanAutoRenewed --- ",{ajaxResponse:e==null?void 0:e.data,loanRenewResult:this.loanRenewResult,secondsLeftOnLoan:c});let d=Ir(ur({},this.lendingStatus),{user_has_browsed:!0,browsingExpired:!1,secondsLeftOnLoan:c});this.lendingStatus=d,(u=this.modal)==null||u.closeModal(),this.modal.removeAttribute("id"),this.modal.customModalContent=ei,this.sentryCaptureMsg(ss.bookHasRenewed)}})}startTimerCountdown(){return Vt(this,null,function*(){var t;(t=window==null?void 0:window.IALendingIntervals)==null||t.clearTimerCountdown();let e=Number(this.lendingStatus.secondsLeftOnLoan);this.timeWhenTimerStart=new Date,window.IALendingIntervals.timerCountdown=setInterval(()=>Vt(this,null,function*(){yield this.loanStatusCheckInterval(e)}),this.timerExecutionSeconds*1e3)})}loanStatusCheckInterval(e){return Vt(this,null,function*(){let t=e;t-=this.timerExecutionSeconds,t=Math.round(t);let r=yield this.reSyncTimerIfGoneOff(t);r.hasSynced&&(t=r.whatShouldLeft,gn("startTimerCountdown --- stale, timer has resyncd",{secondsLeft:t})),gn("startTimerCountdown --- countdown still valid. continue...",{resyncd:r,secondsLeft:t,loanRenewAtLast:this.loanRenewTimeConfig.loanRenewAtLast},"time: ",new Date().getMinutes(),":",new Date().getSeconds(),", timerDelay: ",this.timerExecutionSeconds),t<=this.loanRenewTimeConfig.loanRenewAtLast&&(yield this.loanRenewAttempt(t)),t<=this.timerExecutionSeconds&&(this.disconnectedCallback(),this.sentryCaptureMsg(ss.clearOneHourTimer))})}reSyncTimerIfGoneOff(e){return Vt(this,null,function*(){let t=new Date,r=t.getTime()/1e3-this.timeWhenTimerStart.getTime()/1e3,a=this.lendingStatus.secondsLeftOnLoan-r;gn("currentTime: ",t),gn("timeWhenTimerStart: ",this.timeWhenTimerStart),gn("diffInSeconds: ",r),gn("secondsShouldLeft: ",a),gn("this.lendingStatus.secondsLeftOnLoan: ",this.lendingStatus.secondsLeftOnLoan);let l=Math.round(e),o=Math.round(a),u=this.timerCountdownEl.secondsLeftOnLoan||0;if(gn("reSyncTimerIfGoneOff?",{whatIsleft:l,whatShouldLeft:o,timerElSeconds:u,timeLeftInMin:Math.ceil(e/60)}),u!==o||l!==o){let n=Ir(ur({},this.lendingStatus),{secondsLeftOnLoan:o});this.lendingStatus=n}return l!==o?(gn("reSyncTimerIfGoneOff --- let's re-sync."),{hasSynced:!0,whatShouldLeft:o}):{hasSynced:!1,whatShouldLeft:o}})}loanRenewAttempt(e){return Vt(this,null,function*(){gn("loanRenewAttempt ---",{secondsLeft:e,loanRenewResult:this.loanRenewResult});let t=e;if(t<50){gn("loanRenewAttempt --- loanSecondsLeft < 50, will expire"),yield this.browseHasExpired();return}yield this.autoLoanRenewChecker(!1),this.loanRenewResult.renewNow===!1&&(t-=60,this.loanRenewResult.secondsLeft=t,this.showWarningModal())})}startLoanTokenPoller(){let e=()=>{this.postInitComplete||this.lendingBarPostInit(),this.postInitComplete=!0},t=r=>{this.handleLendingActionError(r)};this.tokenPoller=new mT(this.identifier,this.borrowType,e,t,this.tokenDelay)}handleToggleActionGroup(){this.disableActionGroup=!this.disableActionGroup}handleLendingActionError(e){var a,l,o,u;this.disableActionGroup=!1,(a=window==null?void 0:window.IALendingIntervals)==null||a.clearAll();let t=(l=e==null?void 0:e.detail)==null?void 0:l.action,r=(u=(o=e==null?void 0:e.detail)==null?void 0:o.data)==null?void 0:u.error;if(r&&t!=="create_token"&&this.showErrorModal(r,t),t==="create_token"){let n=Ir(ur({},this.lendingStatus),{user_has_browsed:!1,available_to_browse:!0});this.lendingStatus=n}if(r&&r.match(/not available to borrow/gm)){let n=this.lendingStatus;t==="browse_book"?n=Ir(ur({},this.lendingStatus),{available_to_browse:!1}):t==="borrow_book"&&(n=Ir(ur({},this.lendingStatus),{available_to_borrow:!1})),this.lendingStatus=n}}showErrorModal(e,t){return Vt(this,null,function*(){var a;let r=new Gl({title:"Lending error",message:e,headerColor:"#d9534f",showCloseButton:!0});if(t==="create_token"){let l=we`<button
        style="${Go.refresh}"
        @click=${()=>window.location.reload(!0)}
      >
        refresh
      </button>`;r.message=we` Uh oh, something went wrong trying to access
        this book.<br />
        Please ${l} to try again or send us an email to
        <a
          href="mailto:info@archive.org?subject=Help: cannot access my borrowed book: ${this.identifier}"
          >info@archive.org</a
        ><br /><br />
        <code>errorLog: ${e}</code>`}yield(a=this.modal)==null?void 0:a.showModal({config:r})})}get iconClass(){return this.width<=700?"mobile":"desktop"}get textClass(){return this.width>=700?"visible":"hidden"}get infoIconTemplate(){return we`<info-icon iconClass=${this.iconClass}></info-icon>`}get textGroupTemplate(){return this.primaryTitle?we`<text-group
          textClass=${this.textClass}
          .texts=${this.primaryTitle}
        >
        </text-group>`:ei}get hasAdminAccess(){return!this.lendingStatus.userHasBorrowed&&this.lendingStatus.isAdmin}static get styles(){return Le`
      :host {
        display: block;
      }

      .hide {
        display: none;
      }

      .lending-wrapper {
        width: 100%;
        margin: 0 auto;
        background: var(--primaryBGColor, #000);
        color: var(--primaryTextColor, #fff);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
      }
    `}};window.customElements.define("ia-book-actions",bT)});var x5=Wt(()=>{ti();al();hv();fv();Cp();Ea();Cs();mv();_v();_v()});var S5={};On(S5,{IaBookTheater:()=>$p});var $p,A5=Wt(()=>{Zd();uh();No();x5();ir("** ia-book-actions loaded 1.4.1 **");$p=class extends Yt{static get properties(){return{item:{type:Object},baseHost:{type:String},signedIn:{converter:t=>t==="false"?null:t==="true"||t===!0},viewportInFullscreen:{type:Boolean,reflect:!0},sharedObserver:{attribute:!1},manifest:{type:Object}}}constructor(){super(),this.item=void 0,this.baseHost="",this.signedIn=null,this.viewportInFullscreen=!1,this.sharedObserver=void 0,this.manifest=null,this.actionBarHeightPx=0,this.primaryReaderHeightPx=0}firstUpdated(){var r;let t=(r=document.querySelector(".js-ia-metadata"))==null?void 0:r.value;t&&(this.item=JSON.parse(t)),this.loadObserver()}get modal(){return document.querySelector("modal-manager")}get itemNav(){return this.shadowRoot.querySelector("ia-item-navigator")}loadObserver(){this.sharedObserver=new xo}manageFullscreen(t){var a;let r=(a=t.detail)==null?void 0:a.fullscreen;this.viewportInFullscreen=r||null}static get styles(){return Le`
      div[slot="main"] {
        height: inherit;
        width: inherit;
      }
      ia-bookreader {
        height: 100%;
        width: 100%;
        min-height: inherit;
      }

      div[slot="header"],
      div[slot="main"] {
        width: 100%;
      }
    `}setMenuShortcuts(t){this.menuShortcuts=[...t.detail]}setMenuContents(t){let r=[...t.detail];this.menuContents=r}manageSideMenuEvents(t){let{menuId:r,action:a}=t.detail;r&&(a==="open"?(this.itemNav.openShortcut(r),this.openShortcut(r)):a==="toggle"&&(this.itemNav.openMenu(r),this.itemNav.toggleMenu()))}render(){return we`
      <ia-bookreader
      .item=${this.item}
      .baseHost=${this.baseHost}
      ?signedIn=${this.signedIn}
      class="focus-on-child-only"
      style="min-height: inherit;"
      .sharedObserver=${this.sharedObserver}
      .modal=${this.modal}
      @fullscreenStateUpdated=${this.manageFullscreen}
      >
        <div slot="header">
          <slot name="header"></slot>
        </div>
        <!--
          This width is set via CSS, but is not working on older browsers
          for some reason, resulting in black screen. So set explicitly.
        -->
        <div slot="main" style="width:100%">
          <slot name="main"></slot>
        </div>
      </ia-bookreader>
    `}};customElements.define("ia-book-theater",$p);ir("** ia-book-theater defined **")});var yT={};function ls(e,t,r){this.maxAge=18e4,this.postInitCB=null,this.requestCount=0,this.maxRequests=3,this.br=e,this.bookId=t||"",this.postInitCB=r,this.tokenErrorMessage="no access token"}var C5=Wt(()=>{ls.prototype.init=function(){this.initiateRequest()};ls.prototype.grantAccess=function(){this.startTimer();var e=this.requestCount===1&&this.postInitCB;e&&this.postInitCB()};ls.prototype.requestError=function(e){if(typeof archive_analytics!="undefined"){var t=e.responseJSON?e.responseJSON.error.replace(/\s/g,"_"):"unknown",r="BRSearchInsideToken-ReqErr-"+e.status+"-From-"+t;window.Sentry&&e.status>=400&&window.Sentry.captureMessage(r)}this.clearTimer(),this.requestCount<this.maxRequests?this.initiateRequest():this.postInitCB({errorMessage:this.tokenErrorMessage})};ls.prototype.initiateRequest=function(){this.requestCount=this.requestCount+1,this.requestAccess()};ls.prototype.requestAccess=function(){if(this.hasValidLoanToken()){this.grantAccess();return}$.ajax({url:"/services/loans/loan/searchInside.php",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:{action:"grant_access",identifier:this.bookId}}).then(function(e){this.grantAccess()}.bind(this),function(e){this.requestError(e)}.bind(this))};ls.prototype.clearTimer=function(){clearInterval(this.poller),this.poller=null};ls.prototype.startTimer=function(){this.clearTimer(),this.poller=setInterval(this.initiateRequest.bind(this),this.maxAge)};ls.prototype.hasValidLoanToken=function(){var e="loan-"+this.bookId,t;try{t=document.cookie}catch(r){t=""}return t.indexOf(e)>-1};window.SearchInsideAccess=ls});var wT={};var E5=Wt(()=>{window.BookReaderJSIAinit=function(){function e(d,f,p){var v=f||{};return BookReader.extendOptions(v,t(d)),BookReader.extendOptions(v,r(d)),BookReader.extendOptions(v,a(d)),BookReader.extendOptions(v,l(d)),v.bookUrl=d.bookUrl,v.bookUri=d.bookUri,d.lendingInfo.isOpenLibraryLending?(v.bookUrlText=v.bookTitle+"<br>&larr; Back to book details on Open Library",v.bookUrlTitle="Go to this book's page on Open Library",v.bookUrlMoreInfo="More information on Open Library"):(v.bookUrlText=v.bookTitle+"<br>&larr; Back to item details",v.bookUrlTitle="Go to this book's page on Archive.org",v.bookUrlMoreInfo="More information on Archive.org"),v.imagesBaseURL="/includes/build/BookReader/images/",v.protected=d.lendingInfo.shouldProtectImages,v.thumbnail="//archive.org/download/"+d.id+"/page/cover_t.jpg",v.enableExperimentalControls=!0,v.enablePageResume=!0,isNaN(parseInt(v.defaultStartLeaf))||(v.titleLeaf=v.defaultStartLeaf),p&&BookReader.extendOptions(v,p),v}function t(d){var f={},p=[],v=Array(d.metadata.title).join(", ");if(v&&p.push({label:"Title",value:v,extraValueClass:"larger"}),d.metadata.creator&&p.push({label:"Author",value:Array(d.metadata.creator).join(", "),extraValueClass:"larger"}),d.metadata.publishDate&&p.push({label:"Publish Data",value:d.metadata.publishDate,extraValueClass:""}),d.metadata.collection&&d.metadata.collection.length>0){var y=$.map(d.metadata.collection,function(k){return'<a href="/details/'+k+'">'+k+"</a>"}).join(", ");p.push({label:"Collections",value:y,extraValueClass:""})}if(d.metadata.sponsor&&d.metadata.contributor&&d.metadata.sponsor==d.metadata.contributor?p.push({label:"Sponsor &amp; Contributor",value:d.metadata.sponsor,extraValueClass:""}):(d.metadata.sponsor&&p.push({label:"Sponsor",value:d.metadata.sponsor,extraValueClass:""}),d.metadata.contributor&&p.push({label:"Contributor",value:d.metadata.contributor,extraValueClass:""})),f.metadata=p,d.metadata.language){var w=typeof d.metadata.language=="string"?d.metadata.language:d.metadata[0]?d.metadata[0]:null;f.bookLanguage=w}return f}function r(d){var f={},p={};return d.lendingInfo.loanId&&(p.loanId=d.lendingInfo.loanId),f.lendingInfo=p,f}function a(d){var f={},p=function(v,y){var w="https://"+window.location.host+"/stream/"+d.id;return d.subPrefix!=d.id&&(w+="/"+urlencodePath(d.subPrefix)),w+="?ui=embed",typeof y!="undefined"&&(w+="#"+v.fragmentFromParams(y)),w};return f.getEmbedCode=function(v,y,w){return"<iframe src='"+p(this,w)+"' width='"+v+"' height='"+y+"' frameborder='0' ></iframe>"},f}function l(d){var f={},p=BookReader.prototype.getPageURI;if(f.getPageURI=function(v,y,w){typeof y=="undefined"&&(y=1),typeof w=="undefined"&&(w=0),y=Math.pow(2,Math.floor(Math.log2(Math.max(1,y))));var k=p.call(this,v,y,w);return k?(k=k+(k.indexOf("?")>-1?"&":"?"),k=k+"scale="+y+"&rotate="+w,k):""},d.lendingInfo.shouldProtectImages){f.renderPageURI=function(w,k){return Vt(this,null,function*(){let A=yield fetch(k,{credentials:"include"}),C=A.headers.get("X-Obfuscate");if(!C){w.src=k;return}let x=A.headers.get("content-type"),S=yield A.arrayBuffer(),[s,h]=C.split("|");if(s!=="1")throw new Error("Unsupported obfuscation version");let g=k.replace(/https?:\/\/.*?\//,"/"),m=yield v(S.slice(0,1024),g,h),b=new Uint8Array(S);b.set(new Uint8Array(m),0);let _=new Blob([b],{type:x});w.addEventListener("load",E=>URL.revokeObjectURL(w.src),{once:!0}),w.src=URL.createObjectURL(_)})};function v(y,w,k){return Vt(this,null,function*(){let A=yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(w)),C=yield crypto.subtle.importKey("raw",A.slice(0,16),"AES-CTR",!1,["decrypt"]);return yield crypto.subtle.decrypt({name:"AES-CTR",length:64,counter:new Uint8Array(atob(k).split("").map(x=>x.charCodeAt(0)))},C,y)})}}return f}function o(d){var f=BookReader.PLUGINS.resume.prototype.getResumeValue;BookReader.PLUGINS.resume.prototype.getResumeValue=function(){var v=null;return d.lendingInfo.userid&&BookReader.docCookies&&(v=BookReader.docCookies.getItem("br-resume-"+d.lendingInfo.userid)),v===null&&(v=f?f.call(this):0),v!==null&&(v=parseInt(v)),v};var p=BookReader.PLUGINS.resume.prototype.updateResumeValue;BookReader.PLUGINS.resume.prototype.updateResumeValue=function(v){var y=d.lendingInfo.userid?"br-resume-"+d.lendingInfo.userid:null;p.call(this,v,y)}}function u(d){if(CustomEvent){var f=new CustomEvent("BRJSIA:PostInit",{bubbles:!0,captures:!0,detail:d});document.dispatchEvent(f)}}function n(d,f){if(CustomEvent){var p=d.lendingStatus,v=new CustomEvent("LendingFlow:PostInit",{bubbles:!0,captures:!0,detail:{downloadTypesAvailable:f||[],lendingStatus:p||{},isAdmin:d.isAdmin}});document.dispatchEvent(v)}}function c(d,f,p,v){var y=f,w=f.lendingStatus;y=Object.assign({},y,w),y.lendingStatus="";var k=y.isOpenLibraryLending||document.referrer&&document.referrer.includes("openlibrary.org")?"https://openlibrary.org/account/loans":"/details/"+p.bookId,A=document.querySelector("ia-book-actions");A||(A=document.createElement("ia-book-actions")),A.userid=y.userid,A.identifier=p.bookId,A.bookTitle=p.bookTitle,A.lendingStatus=y,A.bwbPurchaseUrl=p.purchaseUrl,A.barType=v||"action",A.lendingBarPostInit=d,A.returnUrl=k,A.classList.add("focus-on-child-only");var C={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900};A.loanRenewTimeConfig=C;var x=document.querySelector("#IABookReaderMessageWrapper");x?(x.appendChild(A),x.style.display=""):d()}return function(d,f){var p=d.data,v=d.brOptions,y=d.lendingInfo,w=y.lendingStatus||{},k=d.metadata;p.lendingInfo=y,p.metadata=k,window.onerror=logError;var A=e(p,v,f);if(!BookReader.version&&window.Sentry){Sentry.captureMessage("BookReader.version not defined"),alert("You have a really old version of BookReader that we no longer support.");return}o(p);var C=new BookReader(A);window.br=C;var x=y.isPrintDisabledOnly||p.isRestricted&&!w.is_login_required||y.isLendingRequired&&y.isBrowserBorrowable;window.Sentry&&(Sentry.setTag("br_version",BookReader.version),Sentry.setTag("borrowable_book",x));var S=!x,s=A.ui==="embed";x&&$("<link>",{rel:"stylesheet",type:"text/css",href:"/bookreader/print.css",media:"print"}).appendTo("head"),u({brVersion:BookReader.version,downloadURLs:p.downloadUrls.filter(b=>!b[1].includes("media_url")),isRestricted:p.isRestricted});var h=function(){setTimeout(function(){C.init()},100)},g=function(){setTimeout(function(){n(y,p.downloadUrls.filter(_=>!_[1].includes("media_url"))),h()},100)};if(S){h(),s&&c(function(){},y,A,"title");return}var m=function(_){_&&typeof _!="undefined"&&_.errorMessage==="no access token"&&(C.options.enableSearch=!1);var E=s?"title":"action";c(g,y,A,E)};window.SearchInsideAccess?(this.searchInside=new SearchInsideAccess(C,k.identifier,m),this.searchInside.init()):m(),window.Sentry&&Sentry.setContext("Lending info",{available_to_browse:w.available_to_browse||"",available_to_borrow:w.available_to_borrow||"",available_to_waitlist:w.available_to_waitlist||"",user_has_browsed:w.user_has_browsed||"",user_has_borrowed:w.user_has_borrowed||"",user_on_waitlist:w.user_on_waitlist||"",user_can_claim_waitlist:w.user_can_claim_waitlist||""})}}()});ec();Zi();ti();Ar();Zi();ti();Ar();var nb;(function(e){e.processing="processing",e.complete="complete"})(nb||(nb={}));var df=class extends Yt{constructor(){super(...arguments),this.mode="processing"}render(){return we`
      <div class="${this.mode}">
        <svg
          viewBox="0 0 120 120"
          preserveAspectRatio="none"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-labelledby="indicatorTitle indicatorDescription"
        >
          <title id="indicatorTitle">Activity Indicator</title>
          <desc id="indicatorDescription">
            A rotating activity indicator with three dots in the middle.
          </desc>
          <g
            id="icons/check-ring---squared"
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
          >
            <path
              id="completed-ring"
              class="loaded-indicator"
              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <polygon
              id="check"
              class="loaded-indicator"
              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "
              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"
            ></polygon>
            <path
              id="activity-ring"
              class="activity-indicator"
              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <g
              id="activity-dots"
              class="activity-indicator"
              transform="translate(40.000000, 55.000000)"
            >
              <circle id="left-dot" cx="5" cy="5" r="5"></circle>
              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>
              <circle id="right-dot" cx="35" cy="5" r="5"></circle>
            </g>
          </g>
        </svg>
      </div>
    `}static get styles(){let e=Le`var(--activityIndicatorCheckmarkColor, #31A481)`,t=Le`var(--activityIndicatorCompletedRingColor, #31A481)`,r=Le`var(--activityIndicatorLoadingRingColor, #333333)`,a=Le`var(--activityIndicatorLoadingDotColor, #333333)`;return Le`
      #completed-ring {
        fill: ${t};
      }

      #check {
        fill: ${e};
      }

      #activity-ring {
        fill: ${r};
      }

      #activity-dots {
        fill: ${a};
      }

      .activity-indicator {
        opacity: 0;
        transition: opacity 0.25s ease-out;
      }

      .processing .activity-indicator {
        opacity: 1;
      }

      .loaded-indicator {
        opacity: 1;
        transition: opacity 0.25s ease-out;
      }

      .processing .loaded-indicator {
        opacity: 0;
      }

      .image {
        border: 1px solid red;
        display: inline-block;
      }

      .processing #activity-ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
      }

      .processing #left-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.2s;
      }

      .processing #middle-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.4s;
      }

      .processing #right-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.6s;
      }

      @keyframes rotate {
        0% {
          transform: rotate(-360deg);
        }
        100% {
          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */
          transform: rotate(0deg);
        }
      }

      @keyframes dot {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    `}};Y([St({type:String})],df.prototype,"mode",void 0);df=Y([Fi("ia-activity-indicator")],df);Rd();Zi();ti();Ar();Zi();ti();Ar();Rd();ti();ti();ec();var ac=class{constructor(e){var t,r,a,l,o,u,n,c,d;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#fbfbfd",this.showProcessingIndicator=(a=e==null?void 0:e.showProcessingIndicator)!==null&&a!==void 0?a:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showLeftNavButton=(u=e==null?void 0:e.showLeftNavButton)!==null&&u!==void 0?u:!1,this.leftNavButtonText=(n=e==null?void 0:e.leftNavButtonText)!==null&&n!==void 0?n:"",this.showHeaderLogo=(c=e==null?void 0:e.showHeaderLogo)!==null&&c!==void 0?c:!0,this.closeOnBackdropClick=(d=e==null?void 0:e.closeOnBackdropClick)!==null&&d!==void 0?d:!0}};function*pf(e=document.activeElement){e!=null&&(yield e,"shadowRoot"in e&&e.shadowRoot&&e.shadowRoot.mode!=="closed"&&(yield*Td(pf(e.shadowRoot.activeElement))))}function sb(){return[...pf()].pop()}var ob=new WeakMap;function lb(e){let t=ob.get(e);return t||(t=window.getComputedStyle(e,null),ob.set(e,t)),t}function d4(e){if("checkVisibility"in e&&typeof e.checkVisibility=="function")return e.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});let t=lb(e);return t.visibility!=="hidden"&&t.display!=="none"}function h4(e){let t=lb(e),{overflowY:r,overflowX:a}=t;return r==="scroll"||a==="scroll"?!0:r!=="auto"||a!=="auto"?!1:e.scrollHeight>e.clientHeight&&r==="auto"||e.scrollWidth>e.clientWidth&&a==="auto"}function p4(e){let t=e.tagName.toLowerCase(),r=Number(e.getAttribute("tabindex"));return e.hasAttribute("tabindex")&&(isNaN(r)||r<=-1)||e.hasAttribute("disabled")||e.closest("[inert]")||t==="input"&&e.getAttribute("type")==="radio"&&!e.hasAttribute("checked")||!d4(e)?!1:(t==="audio"||t==="video")&&e.hasAttribute("controls")||e.hasAttribute("tabindex")||e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(t)?!0:h4(e)}function f4(e,t){var r;return((r=e.getRootNode({composed:!0}))===null||r===void 0?void 0:r.host)!==t}function ab(e){let t=new WeakMap,r=[];function a(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||t.has(l))return;t.set(l,!0),!r.includes(l)&&p4(l)&&r.push(l),l instanceof HTMLSlotElement&&f4(l,e)&&l.assignedElements({flatten:!0}).forEach(o=>{a(o)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&a(l.shadowRoot)}for(let o of Array.from(l.children))a(o)}return a(e),r.sort((l,o)=>{let u=Number(l.getAttribute("tabindex"))||0;return(Number(o.getAttribute("tabindex"))||0)-u})}var oc=[],m4=class{constructor(e){this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var r;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;let a=sb();if(this.previousFocus=a,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";let l=ab(this.element),o=l.findIndex(n=>n===a);this.previousFocus=this.currentFocus;let u=this.tabDirection==="forward"?1:-1;for(;;){o+u>=l.length?o=0:o+u<0?o=l.length-1:o+=u,this.previousFocus=this.currentFocus;let n=l[o];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||n&&this.possiblyHasTabbableChildren(n))return;t.preventDefault(),this.currentFocus=n,(r=this.currentFocus)===null||r===void 0||r.focus({preventScroll:!1});let c=[...pf()];if(c.includes(this.currentFocus)||!c.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e,this.elementsWithTabbableControls=["iframe"]}activate(){oc.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){oc=oc.filter(e=>e!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return oc[oc.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){let e=ab(this.element);if(!this.element.matches(":focus-within")){let t=e[0],r=e[e.length-1],a=this.tabDirection==="forward"?t:r;typeof(a==null?void 0:a.focus)=="function"&&(this.currentFocus=a,a.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}},g4=we`
  <svg
    class="ia-logo"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building faade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" class="fill-color">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use class="fill-color" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" class="fill-color">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,v4=we`
  <svg
    viewBox="0 0 100 100"
    xmlns="http://www.w3.org/2000/svg"
    fill="#fff"
    title="Left arrow icon"
    alt="Left arrow icon"
  >
    <path
      d="m20.1116715 50.0035012-.1116715-.1085359 43.1159942-46.61088155c2.401537-2.18938917 4.6902018-3.28408375 6.8659943-3.28408375s4.1642651.63837733 5.9654178 1.91513199c1.8011528 1.27675467 3.1520173 2.97248092 4.0525937 5.08717877l-39.4020173 42.99768924 39.4020173 42.9976892c-.9005764 2.1146979-2.2514409 3.8104241-4.0525937 5.0871788-1.8011527 1.2767547-3.7896253 1.915132-5.9654178 1.915132-2.1013449 0-4.3900096-1.0573489-6.8659943-3.1720468l-43.1159942-46.7194174z"
    />
  </svg>
`,hf=class extends Yt{constructor(){super(...arguments),this.config=new ac}render(){return we`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showLeftNavButton?this.leftNavButtonTemplate:ei}
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?we`<div class="logo-icon">${g4}</div>`:ei}
            ${this.config.title?we`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?we`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?we` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?we` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(e){if(e.preventDefault(),e.type==="keydown"&&e.key!==" "&&e.key!=="Enter")return;let t=new Event("closeButtonPressed");this.dispatchEvent(t)}handleLeftNavButtonPressed(e){if(e.preventDefault(),e.type==="keydown"&&e.key!==" "&&e.key!=="Enter")return;let t=new Event("leftNavButtonPressed");this.dispatchEvent(t)}get closeButtonTemplate(){return we`
      <button
        type="button"
        class="close-button"
        @click=${this.handleCloseButton}
        @keydown=${this.handleCloseButton}
      >
        <ia-icon-close></ia-icon-close>
      </button>
    `}get leftNavButtonTemplate(){var e;return we`<button
      type="button"
      class="back-button"
      @click=${this.handleLeftNavButtonPressed}
      @keydown=${this.handleLeftNavButtonPressed}
    >
      ${v4} ${(e=this.config.leftNavButtonText)!==null&&e!==void 0?e:""}
    </button> `}static get styles(){let e=Le`var(--modalLogoSize, 6.5rem)`,t=Le`var(--processingImageSize, 7.5rem)`,r=Le`var(--modalCornerRadius, 1rem)`,a=Le`var(--modalBorder, 2px solid black)`,l=Le`var(--modalBottomMargin, 2.5rem)`,o=Le`var(--modalTopMargin, 5rem)`,u=Le`var(--modalHeaderBottomPadding, 0.5em)`,n=Le`var(--modalBottomPadding, 2rem)`,c=Le`var(--modalScrollOffset, 5px)`,d=Le`var(--modalTitleFontSize, 1.8rem)`,f=Le`var(--modalSubtitleFontSize, 1.4rem)`,p=Le`var(--modalHeadlineFontSize, 1.6rem)`,v=Le`var(--modalMessageFontSize, 1.4rem)`,y=Le`var(--modalTitleLineHeight, normal)`,w=Le`var(--modalSubtitleLineHeight, normal)`,k=Le`var(--modalHeadlineLineHeight, normal)`,A=Le`var(--modalMessageLineHeight, normal)`;return Le`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${a};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${u};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${d};
        font-weight: bold;
        line-height: ${y};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${f};
        line-height: ${w};
      }

      .modal-body {
        background-color: #fbfbfd;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${a};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${c}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${c}) 0;
      }

      .headline {
        font-size: ${p};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${v};
        line-height: ${A};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .back-button {
        position: absolute;
        left: 1.2rem;
        top: 1.2rem;
        height: 2rem;
        background-color: transparent;
        outline: none;
        border: none;
        padding: 0;
        cursor: pointer;
        color: white;
        font-family: inherit;
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 0.5rem;
      }

      .back-button svg {
        height: 1.5rem;
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};Y([St({type:Object})],hf.prototype,"config",void 0);hf=Y([Fi("modal-template")],hf);var bs;(function(e){e.Open="open",e.Closed="closed"})(bs||(bs={}));var b4=class{constructor(e){this.windowResizeThrottler=eu(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case bs.Open:this.startResizeListener(),this.stopDocumentScroll();break;case bs.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},nu=class extends Yt{constructor(){super(...arguments),this.mode=bs.Closed,this.hostBridge=new b4(this),this.modal=new m4(this),this.closeOnBackdropClick=!0}firstUpdated(){return jo(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,0)),this.closeOnBackdropClick&&this.addEventListener("keydown",e=>{e.key==="Escape"&&this.backdropClicked()})})}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate()}render(){return we`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          @leftNavButtonPressed=${this.callUserPressedLeftNavButtonCallback}
          tabindex="-1"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){var e,t;this.mode=bs.Closed,this.customModalContent=void 0,this.modalTemplate&&(this.modalTemplate.config=new ac),this.modal.deactivate(),(t=(e=this.triggeringElement)===null||e===void 0?void 0:e.focus)===null||t===void 0||t.call(e),this.triggeringElement=void 0}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}callUserPressedLeftNavButtonCallback(){let e=this.userPressedLeftNavButtonCallback;this.userPressedLeftNavButtonCallback=void 0,e&&e()}showModal(e){return jo(this,void 0,void 0,function*(){this.mode===bs.Closed&&this.captureFocusedElement(),this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.userPressedLeftNavButtonCallback=e.userPressedLeftNavButtonCallback,this.customModalContent=e.customModalContent,this.mode=bs.Open,this.modalTemplate&&(this.modalTemplate.config=e.config,yield this.modalTemplate.updateComplete,this.modalTemplate.focus()),this.modal.activate()})}captureFocusedElement(){this.triggeringElement=sb()}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=Le`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=Le`var(--modalBackdropZindex, 1000)`,r=Le`var(--modalWidth, 32rem)`,a=Le`var(--modalMaxWidth, 95%)`,l=Le`var(--modalZindex, 2000)`;return Le`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${a};
      }
    `}};Y([St({type:String,reflect:!0})],nu.prototype,"mode",void 0);Y([St({type:Object})],nu.prototype,"customModalContent",void 0);Y([St({type:Object})],nu.prototype,"hostBridge",void 0);Y([wr("modal-template")],nu.prototype,"modalTemplate",void 0);nu=Y([Fi("modal-manager")],nu);wf();Zi();ti();Ar();var P4=e=>typeof e!="string"&&"strTag"in e,O4=(e,t,r)=>{let a=e[0];for(let l=1;l<e.length;l++)a+=t[r?r[l-1]:l-1],a+=e[l];return a},M4=e=>P4(e)?O4(e.strings,e.values):e;var I4=class{constructor(){this.settled=!1,this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}},L4=[];for(let e=0;e<256;e++)L4[e]=(e>>4&15).toString(16)+(e&15).toString(16);var D4=new I4;D4.resolve();var $o=M4;cc();ti();ti();var Ob=Le`var(--white, #fff)`,q4=Le`var(--ia-theme-link-color, #4b64ff)`,G4=Le`var(--primaryDisableCTAFill, #767676)`,Y4=Le`var(--secondaryCTABorder, #999)`,K4=Le`var(--primaryCTAFill, #194880)`,Cf=Le`var(--primaryCTAFillRGB, 25, 72, 128)`,Z4=Le`var(--primaryCTABorder, #c5d1df)`,J4=Le`var(--primaryErrorCTAFill, #d9534f)`,Ef=Le`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,X4=Le`var(--primaryErrorCTABorder, #d43f3a)`,Q4=Le`var(--secondaryCTAFill, #333)`,Tf=Le`var(--secondaryCTAFillRGB, 51, 51, 51)`,ex=Le`var(--primaryCTABorder, #979797)`,tx=Le`var(---primaryWarningFill, #ee8950)`,$f=Le`var(--primaryWarningFillRGB, 238, 137, 80)`,ix=Le`var(--primaryWarningBorder, #ec7939)`,cu=Le`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${Ob};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 3rem;
    outline-color: ${Ob};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${G4};
    border: 1px solid ${Y4};
  }
  .ia-button.transparent {
    background-color: transparent;
  }

  .ia-button.primary:disabled,
  .ia-button.danger:disabled,
  .ia-button.warning:disabled,
  .ia-button.dark:disabled {
    opacity: 0.5;
  }

  .ia-button.primary {
    background-color: ${K4};
    border-color: ${Z4};
  }
  .ia-button.primary:hover {
    background-color: rgba(${Cf}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${Cf}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${Cf}, 0.7);
  }

  .ia-button.danger {
    background-color: ${J4};
    border-color: ${X4};
  }
  .ia-button.danger:hover {
    background-color: rgba(${Ef}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${Ef}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${Ef}, 0.7);
  }

  .ia-button.warning {
    background-color: ${tx};
    border-color: ${ix};
  }
  .ia-button.warning:hover {
    background-color: rgba(${$f}, 0.9);
  }
  .ia-button.warning:focus-visible {
    background-color: rgba(${$f}, 0.8);
  }
  .ia-button.warning:active {
    background-color: rgba(${$f}, 0.7);
  }

  .ia-button.dark {
    background-color: ${Q4};
    border-color: ${ex};
  }
  .ia-button.dark:hover {
    background-color: rgba(${Tf}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${Tf}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${Tf}, 0.7);
  }

  .ia-button.link {
    margin: 0;
    padding: 6px;
    border: 0;
    appearance: none;
    background: none;
    color: ${q4};
    text-decoration: none;
    cursor: pointer;
  }
  .ia-button.link:hover {
    text-decoration: underline;
  }
`,qP=Le`
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    margin: -1px !important;
    padding: 0 !important;
    border: 0 !important;
    overflow: hidden !important;
    white-space: nowrap !important;
    clip: rect(1px, 1px, 1px, 1px) !important;
    -webkit-clip-path: inset(50%) !important;
    clip-path: inset(50%) !important;
    user-select: none !important;
  }
`;Ea();Zi();ti();Ar();ti();ti();Zi();ti();Ar();cc();Zi();ti();Ar();Zi();ti();Ar();Ea();Zi();ti();Ar();var pc=ln`
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m51.5960452 0c5.420012 0 6.7920618 2.72313378 8.1300179 9.28391016 2.9793915 19.21608984-2.9793915 28.94849474 0 31.58229234 1.2215505 1.079857 1.8678662.7924226 3.2997314.0773518l.2153069-.1075882c2.1016905-1.0490161 5.8499713-2.8359661 14.9013153-2.8359661l2.3393989.00075c14.0694555.01425 14.2569231.29925 18.0062757 5.99925 0 3.2648986.9924719 9.5-3.9698878 9.5 4.9623597 0 7.9397755 15.5 0 15.5 7.9397755 0 6.9473035 15.5-.9924719 15.5 7.9397754 0 5.9548316 12 2.9774158 13-1.1342536.5714286-1.9876793 1.0011812-2.627102 1.3222794l-.3279542.1645673c-1.5889262.796641-1.5747062.7780161-1.4530457.6832252l.0244872-.0190992c.0041709-.0032756.0083532-.0065808.0124967-.0098908l.0239934-.0197196c.1060465-.0904428.1029348-.1457697-1.111471.3786377h-55.0821921c-3.3082398-3.0266004-4.9623597-5.0266004-4.9623597-6v-33.4737525c5.5882429-8.3508317 10.6469206-21.2754909 15.1760333-38.7739777v-17.92948326c0-2.54852436 1.8066707-3.82278654 5.4200119-3.82278654zm-27.5960452 56c2.209139 0 4 1.790861 4 4v36c0 2.209139-1.790861 4-4 4h-20c-2.209139 0-4-1.790861-4-4v-36c0-2.209139 1.790861-4 4-4z" fill-rule="evenodd"/></svg>`,fc=ln`
<svg viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg">
  <path d="m51.5960452 0c5.420012 0 6.7920618 2.72313378 8.1300179 9.28391016 2.9793915 19.21608984-2.9793915 28.94849474 0 31.58229234 1.2215505 1.079857 1.8678662.7924226 3.2997314.0773518l.2153069-.1075882c2.1016905-1.0490161 5.8499713-2.8359661 14.9013153-2.8359661l2.3393989.00075c14.0694555.01425 14.2569231.29925 18.0062757 5.99925 0 3.2648986.9924719 9.5-3.9698878 9.5 4.9623597 0 7.9397755 15.5 0 15.5 7.9397755 0 6.9473035 15.5-.9924719 15.5 7.9397754 0 5.9548316 12 2.9774158 13-1.1342536.5714286-1.9876793 1.0011812-2.627102 1.3222794l-.3279542.1645673c-1.5889262.796641-1.5747062.7780161-1.4530457.6832252l.0244872-.0190992c.0041709-.0032756.0083532-.0065808.0124967-.0098908l.0239934-.0197196c.1060465-.0904428.1029348-.1457697-1.111471.3786377h-55.0821921c-3.3082398-3.0266004-4.9623597-5.0266004-4.9623597-6v-33.4737525c5.5882429-8.3508317 10.6469206-21.2754909 15.1760333-38.7739777v-17.92948326c0-2.54852436 1.8066707-3.82278654 5.4200119-3.82278654zm-27.5960452 56c2.209139 0 4 1.790861 4 4v36c0 2.209139-1.790861 4-4 4h-20c-2.209139 0-4-1.790861-4-4v-36c0-2.209139 1.790861-4 4-4z" fill-rule="evenodd" transform="matrix(-1 0 0 -1 100 100)"/>
</svg>
`,Sn=class extends Yt{constructor(){super(...arguments),this.prompt="Do you find this feature useful?",this.buttonText="Beta",this.displayMode="button",this.isOpen=!1,this.processing=!1,this.popupTopX=0,this.popupTopY=0,this.voteSubmitted=!1,this.voteNeedsChoosing=!1,this.resizingElement=document.body}render(){return we`
      <div id="container">
        ${this.displayMode==="vote-prompt"?this.votePromptDisplay:this.singleButtonDisplay}
      </div>
    `}firstUpdated(){this.boundEscapeListener=this.handleEscape.bind(this),this.boundScrollListener=this.handleScroll.bind(this)}updated(e){if(e.has("vote")&&this.vote&&(this.error=void 0,this.voteNeedsChoosing=!1),e.has("resizeObserver")){let t=e.get("resizeObserver");this.disconnectResizeObserver(t)}}handleResize(){this.isOpen&&this.positionPopup()}handleScroll(){this.isOpen&&this.positionPopup()}disconnectedCallback(){this.removeEscapeListener(),this.disconnectResizeObserver(this.resizeObserver)}disconnectResizeObserver(e){let t=e!=null?e:this.resizeObserver;t==null||t.removeObserver({handler:this,target:this.resizingElement})}setupResizeObserver(){this.resizeObserver&&this.resizeObserver.addObserver({handler:this,target:this.resizingElement})}setupRecaptcha(){return Vt(this,null,function*(){this.recaptchaManager&&(this.recaptchaWidget=yield this.recaptchaManager.getRecaptchaWidget())})}resetState(){this.vote=void 0,this.voteSubmitted=!1,this.error=void 0,this.voteNeedsChoosing=!1,this.comments.value=""}showPopup(){return Vt(this,null,function*(){this.voteSubmitted&&this.displayMode==="button"||(this.setupResizeObserver(),this.setupScrollObserver(),this.setupEscapeListener(),this.positionPopup(),this.isOpen=!0,yield this.setupRecaptcha())})}closePopup(){this.disconnectResizeObserver(),this.stopScrollObserver(),this.removeEscapeListener(),this.isOpen=!1}positionPopup(){let e=this.container.getBoundingClientRect(),t=this.popup.getBoundingClientRect(),r=window.innerWidth,a=window.innerHeight,l=r/2,o=a/2;e.left<l?this.popupTopX=e.right-20:this.popupTopX=e.left+20-t.width,this.popupTopX=Math.max(0,this.popupTopX),this.popupTopX+t.width>r&&(this.popupTopX=r-t.width),e.top<o?this.popupTopY=e.bottom-10:this.popupTopY=e.top+10-t.height}handleEscape(e){e.key==="Escape"&&this.cancel(e)}setupEscapeListener(){document.addEventListener("keyup",this.boundEscapeListener)}removeEscapeListener(){document.removeEventListener("keyup",this.boundEscapeListener)}setupScrollObserver(){document.addEventListener("scroll",this.boundScrollListener)}stopScrollObserver(){document.removeEventListener("scroll",this.boundScrollListener)}get singleButtonDisplay(){return we`
      <button
        id="beta-button"
        @click=${this.showPopup}
        tabindex="0"
        ?disabled=${this.disabled}
      >
        <span id="button-text">${this.buttonText}</span>
        <span
          class="beta-button-thumb upvote-button ${this.voteSubmitted?this.upvoteButtonClass:""}"
          >${pc}</span
        >
        <span
          class="beta-button-thumb downvote-button ${this.voteSubmitted?this.downvoteButtonClass:""}"
          id="beta-button-thumb-down"
          >${fc}</span
        >
      </button>
      ${this.popupTemplate}
    `}get votePromptDisplay(){return we`
      <form
        @submit=${this.submit}
        ?disabled=${this.processing||this.voteSubmitted}
      >
        <div class="prompt">
          <span class="prompt-text">${this.prompt}</span>
          <label
            tabindex="0"
            role="button"
            aria-pressed=${this.upvoteSelected}
            @keyup=${this.upvoteKeypressed}
            class="vote-button upvote-button ${this.upvoteButtonClass}"
          >
            <input
              type="radio"
              name="vote"
              value="up"
              @click=${this.upvoteButtonSelected}
              ?checked=${this.upvoteSelected}
            />
            ${pc}
          </label>

          <label
            tabindex="0"
            role="button"
            aria-pressed=${this.downvoteSelected}
            @keyup=${this.downvoteKeypressed}
            class="vote-button downvote-button ${this.downvoteButtonClass}"
          >
            <input
              type="radio"
              name="vote"
              value="down"
              @click=${this.downvoteButtonSelected}
              ?checked=${this.downvoteSelected}
            />
            ${fc}
          </label>
          <button id="comment-button" type="button" @click=${this.showPopup}>
            Leave a comment
          </button>
        </div>
      </form>
      ${this.popupTemplate}
    `}get popupTemplate(){return we`
      <div
        id="popup-background"
        class=${this.isOpen?"open":"closed"}
        @click=${this.backgroundClicked}
        @keyup=${this.backgroundClicked}
      >
        <div
          id="popup"
          style="left: ${this.popupTopX}px; top: ${this.popupTopY}px"
        >
          <form
            @submit=${this.submit}
            id="form"
            ?disabled=${this.processing||this.voteSubmitted}
          >
            <div class="prompt">
              <div class="prompt-text">${this.prompt}</div>
              <label
                tabindex="0"
                role="button"
                aria-pressed=${this.upvoteSelected}
                @click=${this.upvoteButtonSelected}
                @keyup=${this.upvoteKeypressed}
                class="vote-button upvote-button ${this.upvoteButtonClass} ${this.chooseVoteErrorClass}"
              >
                <input
                  type="radio"
                  name="vote"
                  value="up"
                  @click=${this.upvoteButtonSelected}
                  ?checked=${this.upvoteSelected}
                />
                ${pc}
              </label>

              <label
                tabindex="0"
                role="button"
                aria-pressed=${this.downvoteSelected}
                @click=${this.downvoteButtonSelected}
                @keyup=${this.downvoteKeypressed}
                class="vote-button downvote-button ${this.downvoteButtonClass} ${this.chooseVoteErrorClass}"
              >
                <input
                  type="radio"
                  name="vote"
                  value="down"
                  @click=${this.downvoteButtonSelected}
                  ?checked=${this.downvoteSelected}
                />
                ${fc}
              </label>
            </div>
            <div>
              <textarea
                placeholder="Comments (optional)"
                id="comments"
                tabindex="0"
                ?disabled=${this.processing}
              ></textarea>
            </div>
            ${this.error?we`<div id="error">${this.error}</div>`:ei}
            <div id="actions">
              <button
                @click=${this.cancel}
                id="cancel-button"
                class="cta-button"
                tabindex="0"
                ?disabled=${this.processing}
              >
                Cancel
              </button>
              <input
                type="submit"
                id="submit-button"
                class="cta-button"
                .value=${this.processing?"Submitting...":"Submit feedback"}
                tabindex="0"
                ?disabled=${this.processing}
              />
            </div>
          </form>
        </div>
      </div>
    `}get upvoteSelected(){return this.vote==="up"}get downvoteSelected(){return this.vote==="down"}upvoteKeypressed(e){(e.key==="Enter"||e.key===" ")&&this.upvoteButtonSelected()}downvoteKeypressed(e){(e.key==="Enter"||e.key===" ")&&this.downvoteButtonSelected()}upvoteButtonSelected(){this.processing||this.voteSubmitted||(this.vote=this.vote==="up"?void 0:"up",this.handleButtonSelection())}downvoteButtonSelected(){this.processing||this.voteSubmitted||(this.vote=this.vote==="down"?void 0:"down",this.handleButtonSelection())}handleButtonSelection(){return Vt(this,null,function*(){this.isOpen||(yield this.setupRecaptcha(),this.submit())})}get chooseVoteErrorClass(){return this.voteNeedsChoosing?"error":""}get upvoteButtonClass(){switch(this.vote){case"up":return"selected";case"down":return"unselected";default:return"noselection"}}get downvoteButtonClass(){switch(this.vote){case"up":return"unselected";case"down":return"selected";default:return"noselection"}}backgroundClicked(e){var t;e.target instanceof Node&&(!((t=this.popup)===null||t===void 0)&&t.contains(e.target)||this.cancel(e))}cancel(e){e.preventDefault(),this.closePopup(),this.voteSubmitted||this.resetState()}submit(e){return Vt(this,null,function*(){if(e==null||e.preventDefault(),!this.vote){this.voteNeedsChoosing=!0,this.error=we`Please select a vote.`;return}if(!this.featureIdentifier)throw new Error("featureIdentifier is required");if(!this.featureFeedbackService)throw new Error("featureFeedbackService is required");if(!this.recaptchaWidget)throw new Error("recaptchaWidget is required");let t=this.isOpen;this.processing=!0;try{let r=yield this.recaptchaWidget.execute();(yield this.featureFeedbackService.submitFeedback({featureIdentifier:this.featureIdentifier,vote:this.vote,comments:this.comments.value,recaptchaToken:r})).success?(this.voteSubmitted=!0,t&&this.closePopup()):this.error=we`There was an error submitting your feedback.`}catch(r){this.error=we`There was an error submitting your feedback.<br />Error:
        ${r instanceof Error?r.message:r}`}this.processing=!1})}static get styles(){let e=Le`var(--featureFeedbackBlueColor, #194880)`,t=Le`var(--featureFeedbackDarkGrayColor, #767676)`,r=Le`var(--defaultColorSvgFilter, invert(52%) sepia(0%) saturate(1%) hue-rotate(331deg) brightness(87%) contrast(89%))`,a=Le`var(--featureFeedbackBackdropZindex, 5)`,l=Le`var(--featureFeedbackModalZindex, 6)`,o=Le`var(--featureFeedbackPopupBorderColor, ${e})`,u=Le`var(--featureFeedbackSubmitButtonColor, ${e})`,n=Le`var(--featureFeedbackBetaButtonBorderColor, ${e})`,c=Le`var(--featureFeedbackBetaButtonTextColor, ${e})`,d=Le`var(--featureFeedbackBetaButtonBackground, none)`,f=Le`var(--featureFeedbackBetaButtonSvgFilter, ${r})`,p=Le`var(--featureFeedbackCancelButtonColor, #515151)`,v=Le`var(--featureFeedbackPopupBlockerColor, rgba(255, 255, 255, 0.3))`,y=Le`var(--featureFeedbackPopupBackgroundColor, #F5F5F7)`,w=Le`var(--featureFeedbackPromptFontWeight, bold)`,k=Le`var(--featureFeedbackPromptFontSize, 1.4rem)`,A=Le`var(--featureFeedbackCommentButtonFontWeight, normal)`,C=Le`var(--featureFeedbackCommentButtonFontWeight, 1.4rem)`,x=Le`var(--defaultColor, ${t});`,S=Le`var(--defaultColorSvgFilter, ${r});`,s=Le`var(--upvoteColor, #23765D);`,h=Le`var(--upvoteColorSvgFilter, invert(34%) sepia(72%) saturate(357%) hue-rotate(111deg) brightness(97%) contrast(95%));`,g=Le`var(--downvoteColor, #720D11);`,m=Le`var(--downvoteColorSvgFilter, invert(5%) sepia(81%) saturate(5874%) hue-rotate(352deg) brightness(105%) contrast(95%));`,b=Le`var(--unselectedColor, #CCCCCC);`,_=Le`var(--unselectedColorSvgFilter, invert(100%) sepia(0%) saturate(107%) hue-rotate(138deg) brightness(89%) contrast(77%));`;return Le`
      #container {
        display: inline-block;
      }

      #beta-button {
        font-size: 12px;
        font-weight: bold;
        font-style: italic;
        color: ${c};
        background: ${d};
        border: 1px solid ${n};
        border-radius: 4px;
        padding: 1px 5px;
      }

      .beta-button-thumb svg {
        height: 10px;
        width: 10px;
        filter: ${f};
      }

      .beta-button-thumb.unselected svg {
        filter: ${_};
      }

      #error {
        color: red;
        font-size: 14px;
        text-align: center;
        font-weight: bold;
      }

      #popup-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: ${a};
        background-color: ${v};
        overflow: hidden;
      }

      #popup-background.closed {
        visibility: hidden;
        top: -100%;
        left: -100%;
      }

      #popup {
        position: absolute;
        padding: 10px;
        background-color: ${y};
        border: 1px ${o} solid;
        border-radius: 5px;
        box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
        z-index: ${l};
        max-width: 300px;
        margin-left: 10px;
        margin-right: 10px;
      }

      button,
      input,
      a,
      textarea {
        font-family: inherit;
      }

      button,
      input[type='submit'] {
        background: none;
        cursor: pointer;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        border: none;
      }

      button:disabled,
      input[type='submit']:disabled {
        cursor: default;
        opacity: 0.5;
      }

      #form > div {
        margin-bottom: 10px;
      }

      #form > div:last-child {
        margin-bottom: 0;
      }

      .prompt {
        display: flex;
        align-items: center;
        font-size: ${k};
        font-weight: ${w};
      }

      .prompt > label {
        flex: none;
        cursor: pointer;
      }

      .prompt-text {
        text-align: left;
      }

      #comments {
        width: 100%;
        height: 50px;
        background-color: #ffffff;
        border: 1px #2c2c2c solid;
        border-radius: 4px;
        padding: 7px;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        resize: none;
      }

      #comments::placeholder {
        color: #767676;
      }

      #actions {
        display: flex;
        justify-content: center;
      }

      .cta-button {
        color: white;
        font-size: 14px;
        border-radius: 4px;
        height: 30px;
        margin: 0;
      }

      #cancel-button {
        background-color: ${p};
      }

      #submit-button {
        background-color: ${u};
        margin-left: 10px;
      }

      .vote-button {
        background-color: #ffffff;
        border: 1px solid #767676;
        border-radius: 2px;
        padding: 0;
        width: 25px;
        height: 25px;
        box-sizing: border-box;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-left: 10px;
      }

      .vote-button svg {
        width: 15px;
        height: 15px;
      }

      .vote-button input {
        margin: 0;
        padding: 0;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
      }

      .vote-button.noselection {
        border-color: ${x};
      }

      .vote-button.noselection svg {
        filter: ${S};
      }

      .vote-button.unselected {
        border-color: ${b};
      }

      .vote-button.unselected svg {
        filter: ${_};
      }

      .upvote-button.selected {
        border-color: ${s};
      }

      .upvote-button.selected svg {
        filter: ${h};
      }

      .downvote-button.selected {
        border-color: ${g};
      }

      .downvote-button.selected svg {
        filter: ${m};
      }

      .vote-button.error {
        box-shadow: 0 0 4px red;
      }

      form[disabled] .vote-button.unselected {
        cursor: not-allowed;
      }

      #comment-button {
        color: var(--ia-theme-link-color, #4b64ff);
        font-weight: ${A};
        font-size: ${C};
      }
      #comment-button:not([disabled]):hover,
      #comment-button:not([disabled]):active {
        text-decoration: underline;
      }
    `}};Y([St({type:String})],Sn.prototype,"featureIdentifier",void 0);Y([St({type:String})],Sn.prototype,"prompt",void 0);Y([St({type:String})],Sn.prototype,"buttonText",void 0);Y([St({type:String})],Sn.prototype,"displayMode",void 0);Y([St({type:Object})],Sn.prototype,"recaptchaManager",void 0);Y([St({type:Object})],Sn.prototype,"resizeObserver",void 0);Y([St({type:Boolean})],Sn.prototype,"disabled",void 0);Y([St({type:Object})],Sn.prototype,"featureFeedbackService",void 0);Y([Er()],Sn.prototype,"isOpen",void 0);Y([Er()],Sn.prototype,"processing",void 0);Y([Er()],Sn.prototype,"popupTopX",void 0);Y([Er()],Sn.prototype,"popupTopY",void 0);Y([Er()],Sn.prototype,"vote",void 0);Y([Er()],Sn.prototype,"voteSubmitted",void 0);Y([Er()],Sn.prototype,"error",void 0);Y([Er()],Sn.prototype,"voteNeedsChoosing",void 0);Y([Er()],Sn.prototype,"recaptchaWidget",void 0);Y([wr("#container")],Sn.prototype,"container",void 0);Y([wr("#popup")],Sn.prototype,"popup",void 0);Y([wr("#comments")],Sn.prototype,"comments",void 0);Sn=Y([Fi("feature-feedback")],Sn);var Yb=class{constructor(e){this.serviceUrl=e.serviceUrl}submitFeedback(e){return Vt(this,null,function*(){let t=new URL(this.serviceUrl);t.searchParams.append("featureId",e.featureIdentifier),t.searchParams.append("rating",e.vote),e.comments&&t.searchParams.append("comment",e.comments),t.searchParams.append("token",e.recaptchaToken);try{return yield(yield fetch(t.href)).json()}catch(r){let a;return r instanceof Error?a=r:typeof r=="string"?a=new Error(r):a=new Error("Unknown error"),{success:!1,error:a}}})}submitSurvey(e){return Vt(this,null,function*(){let t=new URL(this.serviceUrl);t.searchParams.append("surveyId",e.surveyIdentifier),t.searchParams.append("token",e.recaptchaToken);let r=JSON.stringify({surveyResponses:e.responses.map(a=>ur(ur({name:a.name},a.rating?{rating:a.rating}:{}),a.comment?{comment:a.comment}:{}))});try{return yield(yield fetch(t.href,{method:"POST",headers:{"Content-Type":"application/json"},body:r})).json()}catch(a){let l;return a instanceof Error?l=a:typeof a=="string"?l=new Error(a):l=new Error("Unknown error"),{success:!1,error:l}}})}};function Gb(e){return"disabled"in e&&typeof e.disabled=="boolean"}function hx(e){return"numbered"in e&&typeof e.numbered=="boolean"}function px(e){return"validate"in e&&typeof e.validate=="function"}function fx(e){return"response"in e&&typeof e.response=="object"&&e.response!==null&&"name"in e.response&&typeof e.response.name=="string"}var mx=class extends Error{};function Df(e,t,r="Operation timed out"){return Vt(this,null,function*(){let a=new Promise((l,o)=>setTimeout(o,t,new mx(r)));return Promise.race([e,a])})}var tl,An=tl=class extends Yt{constructor(){super(...arguments),this.buttonText="Feedback",this.showButtonThumbs=!1,this.showQuestionNumbers=!1,this.disabled=!1,this.submitTimeout=8e3,this.isOpen=!1,this.submissionState="idle",this.popupTopX=0,this.popupTopY=0,this.resizingElement=document.body,this.handleScroll=()=>{this.isOpen&&this.positionPopup()},this.handleEscape=e=>{e.key==="Escape"&&this.cancel(e)}}render(){return we`<div id="container">${this.feedbackButtonTemplate}</div>`}willUpdate(e){if(e.has("submissionState")&&(this.isProcessing||this.isSubmitted?this.disableSlottedChildren():this.restoreSlottedChildrenDisabledStates()),e.has("resizeObserver")){let t=e.get("resizeObserver");this.disconnectResizeObserver(t)}}updated(e){(e.has("showQuestionNumbers")||e.has("assignedElements"))&&this.applyQuestionNumbers();let t=e.get("submissionState");t&&(this.submissionState==="error"||t==="error")&&this.positionPopup(),e.has("isOpen")&&this.isOpen&&this.focusFirstFormElement()}disconnectedCallback(){this.removeEscapeListener(),this.stopScrollObserver(),this.disconnectResizeObserver(this.resizeObserver)}disableSlottedChildren(){this.assignedElements.filter(Gb).forEach(e=>{e.dataset.originallyDisabled=e.disabled?"true":"false",e.disabled=!0})}restoreSlottedChildrenDisabledStates(){this.assignedElements.filter(Gb).forEach(e=>{let{originallyDisabled:t}=e.dataset;if(t===void 0)return;let r=t==="true";delete e.dataset.originallyDisabled,e.disabled=r})}handleResize(){this.isOpen&&this.positionPopup()}setupEscapeListener(){document.addEventListener("keyup",this.handleEscape)}removeEscapeListener(){document.removeEventListener("keyup",this.handleEscape)}setupScrollObserver(){document.addEventListener("scroll",this.handleScroll)}stopScrollObserver(){document.removeEventListener("scroll",this.handleScroll)}setupResizeObserver(){this.resizeObserver&&this.resizeObserver.addObserver({handler:this,target:this.resizingElement})}disconnectResizeObserver(e){let t=e!=null?e:this.resizeObserver;t==null||t.removeObserver({handler:this,target:this.resizingElement})}getRecaptchaWidget(){if(this.recaptchaWidgetPromise)return this.recaptchaWidgetPromise;if(this.recaptchaManager)return this.recaptchaWidgetPromise=this.recaptchaManager.getRecaptchaWidget(),this.recaptchaWidgetPromise}resetSubmissionState(){this.setSubmissionState("idle"),this.error=void 0}setSubmissionState(e){this.submissionState!==e&&(this.submissionState=e,this.emitSubmissionStateChanged())}emitSubmissionStateChanged(){this.dispatchEvent(new CustomEvent("submissionStateChanged",{detail:this.submissionState}))}get isProcessing(){return this.submissionState==="processing"}get isSubmitted(){return this.submissionState==="submitted"}showPopup(){this.isSubmitted||(this.setupResizeObserver(),this.setupScrollObserver(),this.setupEscapeListener(),this.positionPopup(),this.isOpen=!0,this.getRecaptchaWidget())}closePopup(){this.disconnectResizeObserver(),this.stopScrollObserver(),this.removeEscapeListener(),this.isOpen=!1}positionPopup(){let e=this.container.getBoundingClientRect(),t=this.popup.getBoundingClientRect(),r=window.innerWidth,a=window.innerHeight,l=r/2,o=a/2,u=5,n=5;e.left<l?this.popupTopX=e.right-20:this.popupTopX=e.left+20-t.width,this.popupTopX+t.width>r&&(this.popupTopX=r-t.width-u),e.top<o?this.popupTopY=e.bottom-10:this.popupTopY=e.top+10-t.height,this.popupTopY+t.height>a&&(this.popupTopY=a-t.height-n),this.popupTopX=Math.max(u,this.popupTopX),this.popupTopY=Math.max(n,this.popupTopY)}get feedbackButtonThumbsTemplate(){return this.showButtonThumbs?we`
      <span class="beta-button-icon">${pc}</span>
      <span class="beta-button-icon">${fc}</span>
    `:ei}get feedbackButtonCheckTemplate(){return we`<span class="beta-button-icon success">&check;</span>`}get feedbackButtonTemplate(){return we`
      <button
        id="beta-button"
        tabindex="0"
        aria-haspopup="dialog"
        ?disabled=${this.disabled}
        @click=${this.showPopup}
      >
        <span id="button-text">${this.buttonText}</span>
        ${this.isSubmitted?this.feedbackButtonCheckTemplate:this.feedbackButtonThumbsTemplate}
      </button>
      ${this.popupTemplate}
    `}get popupTemplate(){let e=this.isProcessing||this.isSubmitted,t=this.isProcessing?tl.SUBMIT_BUTTON_PROCESSING_TEXT:tl.SUBMIT_BUTTON_NORMAL_TEXT,r=this.error?we`<div id="error">${this.error}</div>`:ei,a=uu({left:`${this.popupTopX}px`,top:`${this.popupTopY}px`}),l=o=>o.stopPropagation();return we`
      <div
        id="popup-background"
        class=${this.isOpen?"open":"closed"}
        @click=${this.backgroundClicked}
        @keydown=${this.backgroundClicked}
      >
        <div
          class="focus-trap"
          tabindex="0"
          @focus=${this.focusSubmitButton}
        ></div>
        <div
          id="popup"
          role="dialog"
          aria-modal="true"
          aria-labelledby="survey-heading"
          style=${a}
        >
          <h2 id="survey-heading" class="sr-only">${$o("Feedback Survey")}</h2>
          <form
            id="form"
            ?disabled=${e}
            @click=${l}
            @keydown=${l}
            @submit=${this.submit}
          >
            <slot id="questions-slot"></slot>
            ${r}
            <div id="actions">
              <button
                type="button"
                id="cancel-button"
                class="cta-button ia-button dark"
                tabindex="0"
                ?disabled=${e}
                @click=${this.cancel}
              >
                ${$o("Cancel")}
              </button>
              <button
                type="submit"
                id="submit-button"
                class="cta-button ia-button primary"
                tabindex="0"
                ?disabled=${e}
              >
                ${t}
              </button>
            </div>
          </form>
        </div>
        <div
          class="focus-trap"
          tabindex="0"
          @focus=${this.focusFirstFormElement}
        ></div>
      </div>
    `}focusFirstFormElement(){let e=this.getRootNode();for(let t of this.assignedElements)if(t.focus(),e.activeElement===t)return;this.focusCancelButton()}focusCancelButton(){this.cancelButton.focus()}focusSubmitButton(){this.submitButton.focus()}applyQuestionNumbers(){if(!this.showQuestionNumbers){this.assignedElements.forEach(t=>{var r;(r=t.querySelector("[slot=question-number]"))===null||r===void 0||r.remove()});return}let e=1;this.assignedElements.filter(t=>hx(t)&&t.numbered).forEach(t=>{let r=t.querySelector("[slot=question-number]");r||(r=document.createElement("span"),r.setAttribute("slot","question-number")),r.textContent=`${e}. `,t.append(r),e+=1})}backgroundClicked(e){var t;e.target instanceof Node&&(!((t=this.popup)===null||t===void 0)&&t.contains(e.target)||this.cancel(e))}cancel(e){e.preventDefault(),this.closePopup(),this.isSubmitted||this.resetSubmissionState()}validate(){return this.assignedElements.filter(px).map(e=>e.validate()).every(e=>e)}submit(e){return Vt(this,null,function*(){if(e==null||e.preventDefault(),!this.validate()){this.error=we`${tl.ERROR_MESSAGE_MISSING_REQUIRED_INPUT}`,this.setSubmissionState("error");return}let{surveyIdentifier:t,submitTimeout:r,featureFeedbackService:a}=this;if(this.error=void 0,!t)throw new Error("surveyIdentifier is required");if(!a)throw new Error("featureFeedbackService is required");let l=this.getRecaptchaWidget(),o;try{o=yield Df(l,r)}catch(n){throw new Error(`recaptchaWidget load failed: ${n}`)}if(!o)throw new Error("recaptchaWidget is required");let u=this.isOpen;this.setSubmissionState("processing");try{let n=yield Df(o.execute(),r);(yield Df(a.submitSurvey({surveyIdentifier:t,responses:this.assignedElements.filter(fx).map(c=>c.response),recaptchaToken:n}),r)).success?(this.setSubmissionState("submitted"),u&&this.closePopup()):(this.error=we`${tl.ERROR_MESSAGE_SUBMIT_REQUEST_FAILED}`,this.setSubmissionState("error"))}catch(n){this.error=we`${tl.ERROR_MESSAGE_SUBMIT_REQUEST_FAILED}
        <br />
        ${$o("Error: ")}${n instanceof Error?n.message:n}`,this.setSubmissionState("error")}})}static get styles(){let e=Le`var(--featureFeedbackBlueColor, #194880)`,t=Le`var(--defaultColorSvgFilter, invert(52%) sepia(0%) saturate(1%) hue-rotate(331deg) brightness(87%) contrast(89%))`,r=Le`var(--featureFeedbackBackdropZindex, 5)`,a=Le`var(--featureFeedbackModalZindex, 6)`,l=Le`var(--featureFeedbackPopupMaxWidth, 300px)`,o=Le`var(--featureFeedbackPopupVerticalPadding, 10px)`,u=Le`var(--featureFeedbackPopupHorizontalPadding, 10px)`,n=Le`
      ${o} ${u}
    `,c=Le`var(--featureFeedbackPopupBorderColor, ${e})`,d=Le`var(--featureFeedbackBetaButtonBorderColor, ${e})`,f=Le`var(--featureFeedbackBetaButtonTextColor, ${e})`,p=Le`var(--featureFeedbackBetaButtonBackground, none)`,v=Le`var(--featureFeedbackBetaButtonSvgFilter, ${t})`,y=Le`var(--featureFeedbackPopupBlockerColor, rgba(255, 255, 255, 0.3))`,w=Le`var(--featureFeedbackPopupBackgroundColor, #FBFBFD)`,k=Le`var(--upvoteColorSvgFilter, invert(34%) sepia(72%) saturate(357%) hue-rotate(111deg) brightness(97%) contrast(95%))`,A=Le`
      #container {
        display: inline-block;
      }

      #beta-button {
        font-size: 12px;
        font-weight: bold;
        font-style: italic;
        color: ${f};
        border: 1px solid ${d};
        border-radius: 4px;
        padding: 1px 5px;
        background: ${p};
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        cursor: pointer;
      }

      .beta-button-icon {
        line-height: 100%;
      }

      .beta-button-icon svg {
        height: 10px;
        width: 10px;
        filter: ${v};
      }

      .beta-button-icon.success {
        filter: ${k};
      }

      #error {
        margin-bottom: 10px;
        color: red;
        font-size: 14px;
        text-align: center;
        font-weight: bold;
      }

      #popup-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: ${r};
        background-color: ${y};
        overflow: hidden;
      }

      #popup-background.closed {
        visibility: hidden;
        top: -100%;
        left: -100%;
      }

      #popup {
        position: absolute;
        max-width: ${l};
        max-height: calc(100vh - 2 * ${o} - 10px);
        padding: ${n};
        border: 1px ${c} solid;
        border-radius: 5px;
        background-color: ${w};
        box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
        z-index: ${a};
        margin-left: 10px;
        margin-right: 10px;
        overflow-y: auto;
        scrollbar-width: thin;
      }

      button,
      input,
      a,
      textarea {
        font-family: inherit;
      }

      #form > div:last-child {
        margin-bottom: 0;
      }

      #actions {
        display: flex;
        justify-content: center;
        align-items: center;
        column-gap: 10px;
      }

      .cta-button {
        color: white;
        font-size: 14px;
        border-radius: 4px;
        height: 30px;
        margin: 0;
      }

      .sr-only,
      .focus-trap {
        position: absolute !important;
        width: 1px !important;
        height: 1px !important;
        margin: -1px !important;
        padding: 0 !important;
        border: 0 !important;
        overflow: hidden !important;
        white-space: nowrap !important;
        clip: rect(1px, 1px, 1px, 1px) !important;
        -webkit-clip-path: inset(50%) !important;
        clip-path: inset(50%) !important;
        user-select: none !important;
      }
    `;return[cu,A]}};An.SUBMIT_BUTTON_NORMAL_TEXT=$o("Submit feedback");An.SUBMIT_BUTTON_PROCESSING_TEXT=$o("Submitting...");An.ERROR_MESSAGE_MISSING_REQUIRED_INPUT=$o("Please respond to the indicated questions.");An.ERROR_MESSAGE_SUBMIT_REQUEST_FAILED=$o("There was an error submitting your feedback.");Y([St({type:String})],An.prototype,"surveyIdentifier",void 0);Y([St({type:String})],An.prototype,"buttonText",void 0);Y([St({type:Boolean})],An.prototype,"showButtonThumbs",void 0);Y([St({type:Boolean})],An.prototype,"showQuestionNumbers",void 0);Y([St({type:Boolean})],An.prototype,"disabled",void 0);Y([St({type:Number})],An.prototype,"submitTimeout",void 0);Y([St({type:Object})],An.prototype,"featureFeedbackService",void 0);Y([St({type:Object})],An.prototype,"recaptchaManager",void 0);Y([St({type:Object})],An.prototype,"resizeObserver",void 0);Y([Er()],An.prototype,"isOpen",void 0);Y([Er()],An.prototype,"submissionState",void 0);Y([Er()],An.prototype,"popupTopX",void 0);Y([Er()],An.prototype,"popupTopY",void 0);Y([Er()],An.prototype,"error",void 0);Y([wr("#container")],An.prototype,"container",void 0);Y([wr("#popup")],An.prototype,"popup",void 0);Y([wr("#cancel-button")],An.prototype,"cancelButton",void 0);Y([wr("#submit-button")],An.prototype,"submitButton",void 0);Y([uf()],An.prototype,"assignedElements",void 0);An=tl=Y([Fi("ia-feedback-survey")],An);var Gd,Bo=Gd=class extends Yt{constructor(){super(),this.prompt="",this.value="",this.required=!1,this.disabled=!1,this.skipNumber=!1,this.visible=!0,this.internals=this.attachInternals()}render(){return we`
      <div id="container">
        ${this.promptTextTemplate}${this.commentBoxTemplate}
      </div>
    `}willUpdate(e){e.has("required")&&(this.internals.ariaRequired=this.required.toString()),e.has("disabled")&&(this.internals.ariaDisabled=this.disabled.toString())}validate(){return!this.required||this.commentBox.value?this.internals.setValidity({}):this.internals.setValidity({valueMissing:!0},"A comment is required."),this.internals.reportValidity()}get numbered(){return!this.skipNumber}get response(){return{name:this.prompt,comment:this.value}}get promptTextTemplate(){if(!this.prompt)return ei;let e=this.numbered?we`<slot name="question-number"></slot>`:ei;return we`<div id="prompt-text">${e}${this.prompt}</div>`}get commentBoxTemplate(){var e;let t=this.required?Gd.DEFAULT_PLACEHOLDER_REQUIRED:Gd.DEFAULT_PLACEHOLDER_OPTIONAL,r=(e=this.placeholder)!==null&&e!==void 0?e:t;return we`
      <textarea
        id="comments"
        tabindex="0"
        placeholder=${r}
        aria-labelledby="prompt-text"
        aria-required=${this.required}
        .value=${this.value}
        ?disabled=${this.disabled}
        @change=${this.commentChanged}
      ></textarea>
    `}commentChanged(){this.disabled||(this.value=this.commentBox.value,this.value&&this.internals.setValidity({}),this.emitResponseChangedEvent())}emitResponseChangedEvent(){this.dispatchEvent(new CustomEvent("responseChanged",{detail:this.response}))}static get styles(){let e=Le`var(--commentHeight, 50px)`,t=Le`var(--commentResize, none)`,r=Le`var(--surveyQuestionMargin, 0 0 15px 0)`,a=Le`var(--featureFeedbackPromptFontWeight, bold)`,l=Le`var(--featureFeedbackPromptFontSize, 1.4rem)`;return Le`
      #container {
        margin: ${r};
      }

      #prompt-text {
        text-align: left;
        margin-bottom: 5px;
        flex-grow: 1;
        font-size: ${l};
        font-weight: ${a};
      }

      #comments {
        width: 100%;
        height: ${e};
        background-color: #ffffff;
        border: 1px #2c2c2c solid;
        border-radius: 4px;
        padding: 7px;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        font-family: inherit;
        resize: ${t};
      }

      #comments::placeholder {
        color: #767676;
      }

      :host(:invalid) #comments {
        box-shadow: 0 0 4px red;
      }
    `}};Bo.DEFAULT_PLACEHOLDER_REQUIRED=$o("Comments");Bo.DEFAULT_PLACEHOLDER_OPTIONAL=$o("Comments (optional)");Bo.formAssociated=!0;Bo.shadowRootOptions=Ir(ur({},Yt.shadowRootOptions),{delegatesFocus:!0});Y([St({type:String})],Bo.prototype,"prompt",void 0);Y([St({type:String})],Bo.prototype,"value",void 0);Y([St({type:Boolean,reflect:!0})],Bo.prototype,"required",void 0);Y([St({type:Boolean,reflect:!0})],Bo.prototype,"disabled",void 0);Y([St({type:Boolean,reflect:!0})],Bo.prototype,"skipNumber",void 0);Y([St({type:String})],Bo.prototype,"placeholder",void 0);Y([wr("#comments")],Bo.prototype,"commentBox",void 0);Bo=Gd=Y([Fi("ia-survey-comment")],Bo);var Yd,wo=Yd=class extends Yt{constructor(){super(),this.prompt="",this.vote=void 0,this.required=!1,this.disabled=!1,this.skipNumber=!1,this.showComments=!1,this.visible=!0,this.internals=this.attachInternals()}render(){return we`
      <div id="container">
        <div
          id="prompt-row"
          role="radiogroup"
          aria-labelledby="prompt-text"
          aria-required=${this.required}
          aria-disabled=${this.disabled}
        >
          ${this.promptTextTemplate}${this.voteButtonsTemplate}
        </div>
        ${this.commentFieldTemplate}
      </div>
    `}willUpdate(e){e.has("required")&&(this.internals.ariaRequired=this.required.toString()),e.has("disabled")&&(this.internals.ariaDisabled=this.disabled.toString())}validate(){return!this.required||this.vote?this.internals.setValidity({}):this.internals.setValidity({valueMissing:!0},"A vote is required."),this.internals.checkValidity()}get numbered(){return!this.skipNumber}get response(){var e;return Ir(ur({},(e=this.commentBox)===null||e===void 0?void 0:e.response),{name:this.prompt,rating:this.vote})}get promptTextTemplate(){if(!this.prompt)return ei;let e=this.numbered?we`<slot name="question-number"></slot>`:ei;return we`<div id="prompt-text">${e}${this.prompt}</div>`}get voteButtonsTemplate(){let e=this.vote==="up",t=this.vote==="down",r={"vote-button":!0,noselection:this.vote===void 0},a=yo(Ir(ur({},r),{selected:e,unselected:t})),l=yo(Ir(ur({},r),{selected:t,unselected:e}));return we`
      <label
        id="upvote"
        class=${a}
        ?disabled=${this.disabled}
      >
        <input
          type="radio"
          name="vote"
          value="up"
          ?checked=${e}
          ?disabled=${this.disabled}
          @click=${this.upvoteButtonSelected}
          @keydown=${this.upvoteKeyPressed}
        />
        ${pc}
        <span class="sr-only">${Yd.UPVOTE_SR_LABEL}</span>
      </label>

      <label
        id="downvote"
        class=${l}
        ?disabled=${this.disabled}
      >
        <input
          type="radio"
          name="vote"
          value="down"
          ?checked=${t}
          ?disabled=${this.disabled}
          @click=${this.downvoteButtonSelected}
          @keydown=${this.downvoteKeyPressed}
        />
        ${fc}
        <span class="sr-only">${Yd.DOWNVOTE_SR_LABEL}</span>
      </label>
    `}get commentFieldTemplate(){var e;return this.showComments?we`
      <ia-survey-comment
        id="comments"
        skipNumber
        .value=${(e=this.comment)!==null&&e!==void 0?e:""}
        .placeholder=${this.commentPlaceholder}
        ?disabled=${this.disabled}
        @responseChanged=${this.commentChanged}
      ></ia-survey-comment>
    `:ei}upvoteKeyPressed(e){(e.key==="Enter"||e.key===" ")&&this.upvoteButtonSelected()}downvoteKeyPressed(e){(e.key==="Enter"||e.key===" ")&&this.downvoteButtonSelected()}upvoteButtonSelected(){this.handleVoteButtonSelection("up")}downvoteButtonSelected(){this.handleVoteButtonSelection("down")}handleVoteButtonSelection(e){this.disabled||(this.vote=e,this.internals.setValidity({}),this.emitResponseChangedEvent())}commentChanged(e){var t;e.stopPropagation(),!this.disabled&&(this.comment=(t=this.commentBox)===null||t===void 0?void 0:t.value,this.emitResponseChangedEvent())}emitResponseChangedEvent(){this.dispatchEvent(new CustomEvent("responseChanged",{detail:this.response}))}static get styles(){let e=Le`var(--surveyQuestionMargin, 0 0 15px 0)`,t=Le`var(--featureFeedbackDarkGrayColor, #767676)`,r=Le`var(--defaultColorSvgFilter, invert(52%) sepia(0%) saturate(1%) hue-rotate(331deg) brightness(87%) contrast(89%))`,a=Le`var(--defaultColor, ${t})`,l=Le`var(--defaultColorSvgFilter, ${r})`,o=Le`var(--upvoteColor, #23765D)`,u=Le`var(--upvoteColorSvgFilter, invert(34%) sepia(72%) saturate(357%) hue-rotate(111deg) brightness(97%) contrast(95%))`,n=Le`var(--downvoteColor, #720D11)`,c=Le`var(--downvoteColorSvgFilter, invert(5%) sepia(81%) saturate(5874%) hue-rotate(352deg) brightness(105%) contrast(95%))`,d=Le`var(--unselectedColor, #CCCCCC)`,f=Le`var(--unselectedColorSvgFilter, invert(100%) sepia(0%) saturate(107%) hue-rotate(138deg) brightness(89%) contrast(77%))`,p=Le`var(--featureFeedbackPromptFontWeight, bold)`,v=Le`var(--featureFeedbackPromptFontSize, 1.4rem)`;return Le`
      #container {
        margin: ${e};
      }

      #prompt-row {
        display: flex;
        align-items: center;
        margin-bottom: 5px;
      }

      #prompt-text {
        text-align: left;
        flex-grow: 1;
        font-size: ${v};
        font-weight: ${p};
      }

      .vote-button {
        background-color: #ffffff;
        border: 1px solid #767676;
        border-radius: 2px;
        margin-left: 10px;
        padding: 0;
        width: 25px;
        height: 25px;
        box-sizing: border-box;
        display: flex;
        justify-content: center;
        align-items: center;
        flex: none;
        cursor: pointer;
      }

      .vote-button:focus-within {
        outline: 2px solid black;
        outline-offset: 1px;
      }

      .vote-button svg {
        width: 15px;
        height: 15px;
      }

      .vote-button input {
        margin: 0;
        padding: 0;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
      }

      .vote-button.noselection {
        border-color: ${a};
      }

      .vote-button.noselection svg {
        filter: ${l};
      }

      .vote-button.unselected {
        border-color: ${d};
      }

      .vote-button.unselected svg {
        filter: ${f};
      }

      #upvote.selected {
        border-color: ${o};
      }

      #upvote.selected svg {
        filter: ${u};
      }

      #downvote.selected {
        border-color: ${n};
      }

      #downvote.selected svg {
        filter: ${c};
      }

      .vote-button.error {
        box-shadow: 0 0 4px red;
      }

      .vote-button.noselection[disabled],
      .vote-button.unselected[disabled] {
        border-color: ${d};
        cursor: not-allowed;
      }

      .vote-button.noselection[disabled] svg,
      .vote-button.unselected[disabled] svg {
        filter: ${f};
      }

      :host(:invalid) #upvote,
      :host(:invalid) #downvote {
        box-shadow: 0 0 4px red;
      }

      #comments {
        --surveyQuestionMargin: 0;
      }

      .sr-only {
        position: absolute !important;
        width: 1px !important;
        height: 1px !important;
        margin: -1px !important;
        padding: 0 !important;
        border: 0 !important;
        overflow: hidden !important;
        white-space: nowrap !important;
        clip: rect(1px, 1px, 1px, 1px) !important;
        -webkit-clip-path: inset(50%) !important;
        clip-path: inset(50%) !important;
        user-select: none !important;
      }
    `}};wo.UPVOTE_SR_LABEL=$o("Vote up");wo.DOWNVOTE_SR_LABEL=$o("Vote down");wo.formAssociated=!0;wo.shadowRootOptions=Ir(ur({},Yt.shadowRootOptions),{delegatesFocus:!0});Y([St({type:String})],wo.prototype,"prompt",void 0);Y([St({type:String})],wo.prototype,"vote",void 0);Y([St({type:String})],wo.prototype,"comment",void 0);Y([St({type:String})],wo.prototype,"commentPlaceholder",void 0);Y([St({type:Boolean,reflect:!0})],wo.prototype,"required",void 0);Y([St({type:Boolean,reflect:!0})],wo.prototype,"disabled",void 0);Y([St({type:Boolean,reflect:!0})],wo.prototype,"skipNumber",void 0);Y([St({type:Boolean,reflect:!0})],wo.prototype,"showComments",void 0);Y([wr("#comments")],wo.prototype,"commentBox",void 0);wo=Yd=Y([Fi("ia-survey-vote")],wo);var Kd=class extends Yt{constructor(){super(...arguments),this.name="",this.visible=!1,this.disabled=!1}createRenderRoot(){return this}render(){return ei}validate(){return!0}get numbered(){return!1}get response(){return{name:this.name,comment:this.value}}};Y([St({type:String,reflect:!0})],Kd.prototype,"name",void 0);Y([St({type:String,reflect:!0})],Kd.prototype,"value",void 0);Kd=Y([Fi("ia-survey-extra")],Kd);Zd();function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}var gx={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Rf(e,t){function r(l,o,u){if(!(typeof document>"u")){u=Jd({},t,u),typeof u.expires=="number"&&(u.expires=new Date(Date.now()+u.expires*864e5)),u.expires&&(u.expires=u.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var c in u)u[c]&&(n+="; "+c,u[c]!==!0&&(n+="="+u[c].split(";")[0]));return document.cookie=l+"="+e.write(o,l)+n}}function a(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var o=document.cookie?document.cookie.split("; "):[],u={},n=0;n<o.length;n++){var c=o[n].split("="),d=c.slice(1).join("=");try{var f=decodeURIComponent(c[0]);if(u[f]=e.read(d,f),l===f)break}catch(p){}}return l?u[l]:u}}return Object.create({set:r,get:a,remove:function(l,o){r(l,"",Jd({},o,{expires:-1}))},withAttributes:function(l){return Rf(this.converter,Jd({},this.attributes,l))},withConverter:function(l){return Rf(Jd({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var _o=Rf(gx,{path:"/"});jd();var Ke="jQuery"in window&&"$"in window?window.$:ys;window.jQuery=Ke;window.$=Ke;No();var mc=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0;Ke.fn.center=function(){let t=Ke(this).innerHeight();ir("myheight",t),ir("mywidth",this.width()),ir("w.height",Ke(window).height(),"w.width",Ke(window).width(),"w.scrollTop",Ke(window).scrollTop(),"w.scrollLeft",Ke(window).scrollLeft());let r,a;if(mc){let l=window.innerWidth,o=window.innerHeight;ir("vpH",o),ir("vpW",l),r=(o-t)/2+Ke(window).scrollTop(),a=(l-this.width())/2+Ke(window).scrollLeft()}else r=(Ke(window).height()-t)/2,a=(Ke(window).width()-this.width())/2;return r=Math.max(20,r),a=Math.max(20,a),this.css({position:mc?"absolute":"fixed",display:"block",top:r,left:a}),this};No();var jf=class e{static params(t,r){let a={height:r,width:t,scrollbars:"yes",resizable:"yes",toolbar:"no",directories:"no",location:"yes",menubar:"no",status:"yes"};return Object.keys(a).filter(l=>a[l]).reduce((l,o)=>l.concat(`${o}=${a[o]}`),[]).join(",")}static setupPopupLink(){let t="popup-link",r="popup-link-width",a="popup-link-height";ir("popup setup"),Ke(document.body).off("click.PopupLink").on("click.PopupLink",`[data-${t}]`,l=>{l.preventDefault();let o=Ke(l.currentTarget),u=o.data(r)||500,n=o.data(a)||500;window.open(l.currentTarget.href,"popup",e.params(u,n))})}};Ke(jf.setupPopupLink);var gc=class{static LoadingMessage({message:t="Loading"}){return`<small class="loading-message">${t}</small>`}static ErrorMessage({errorMessage:t}){return`<small>${t}</small>`}};function vc(){Ke(".row .tilebars").find(".results").parents(".row").each((e,t)=>{let r=!1;Ke(t).find(".results").each((a,l)=>{Ke(l).show().css({visibility:"hidden"}),r||(r=Ke(l).offset()),Ke(l).offset().top!==r.top?Ke(l).hide():Ke(l).css({visibility:"visible"})})})}var Xd=class{constructor(t,r=250,a=void 0){this.callback=t,this.threshhold=r,this.context=a,this.last=void 0,this.deferTimeout=void 0}execute(){let t=+new Date;this.last&&t<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}executeCallback(){this.last=+new Date,this.callback.apply(this.context)}};var Qd=class{constructor(t,r,a){this.identifier=t,this.$targetElement=r,this.callback=a,this.$window=Ke(window),this.throttler=new Xd(this.scrollListener,100,this)}startListener(){this.$window.on(`scroll.${this.identifier}`,this.throttledListener.bind(this)),this.scrollListener()}throttledListener(){return this.throttler.execute()}getTargetScrollOffset(){let t=this.$targetElement.offset().top,r=this.$window.height();return t-r/2}scrollListener(){let t=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=t&&(this.$window.off(`.${this.identifier}`),this.callback())}};var Zb=/bot|crawl|spider/i.test(navigator.userAgent);var Bf=class e{static setup(){let t=Ke("#js-related");if(t.length&&(vc(),Ke(window).on("resize  orientationchange",a=>{clearTimeout(e.also_found_throttler),e.also_found_throttler=setTimeout(vc,250)})),!t.length||Zb)return;let r=Ke("#also-found");this.scrollProximityHandler=new Qd("related_items",r,()=>{if(!t.text())return r.find(".tilebars").show(),t.html(gc.LoadingMessage({message:"Fetching items"})),e.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}static doWhenScrolledToRelatedSection(){let t=Ke("#also-found").data("identifier"),r=Ke("#js-related");return e.getRelatedItems(t).then(a=>{r.html(a),vc()}).catch(a=>{Ke("#playplayset").hide(),r.html(gc.ErrorMessage({errorMessage:a.message})).show()})}static getRelatedItems(t,r){return new Promise((a,l)=>{let o=`/details/${encodeURIComponent(t)}?RelatedItemsGet=${r?"json":1}`,u="Related items temporarily unavailable. Please try back later.";Ke.get(o,n=>{n===""&&l(new Error("No similar items found.")),n==="service_disabled"&&l(new Error(u)),a(n)}).fail(()=>{l(new Error(u))})})}};Ke(()=>Bf.setup());var vx=Object.create,Ff=Object.defineProperty,bx=Object.getOwnPropertyDescriptor,yx=Object.getOwnPropertyNames,wx=Object.getPrototypeOf,_x=Object.prototype.hasOwnProperty,kx=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),xx=(e,t)=>{for(var r in t)Ff(e,r,{get:t[r],enumerable:!0})},Nf=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of yx(t))!_x.call(e,l)&&l!==r&&Ff(e,l,{get:()=>t[l],enumerable:!(a=bx(t,l))||a.enumerable});return e},Sx=(e,t,r)=>(Nf(e,t,"default"),r&&Nf(r,t,"default")),Qb=(e,t,r)=>(r=e!=null?vx(wx(e)):{},Nf(t||!e||!e.__esModule?Ff(r,"default",{value:e,enumerable:!0}):r,e)),ey=kx((e,t)=>{(function(r,a){typeof e=="object"&&typeof t=="object"?t.exports=a():typeof define=="function"&&define.amd?define([],a):typeof e=="object"?e.ClipboardJS=a():r.ClipboardJS=a()})(e,function(){return function(){var r={686:function(o,u,n){"use strict";n.d(u,{default:function(){return Q}});var c=n(279),d=n.n(c),f=n(370),p=n.n(f),v=n(817),y=n.n(v);function w(ne){try{return document.execCommand(ne)}catch(ie){return!1}}var k=function(ne){var ie=y()(ne);return w("cut"),ie},A=k;function C(ne){var ie=document.documentElement.getAttribute("dir")==="rtl",W=document.createElement("textarea");W.style.fontSize="12pt",W.style.border="0",W.style.padding="0",W.style.margin="0",W.style.position="absolute",W.style[ie?"right":"left"]="-9999px";var V=window.pageYOffset||document.documentElement.scrollTop;return W.style.top="".concat(V,"px"),W.setAttribute("readonly",""),W.value=ne,W}var x=function(ne,ie){var W=C(ne);ie.container.appendChild(W);var V=y()(W);return w("copy"),W.remove(),V},S=function(ne){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},W="";return typeof ne=="string"?W=x(ne,ie):ne instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(ne==null?void 0:ne.type)?W=x(ne.value,ie):(W=y()(ne),w("copy")),W},s=S;function h(ne){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(ie){return typeof ie}:h=function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},h(ne)}var g=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ie=ne.action,W=ie===void 0?"copy":ie,V=ne.container,se=ne.target,Ae=ne.text;if(W!=="copy"&&W!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(se!==void 0)if(se&&h(se)==="object"&&se.nodeType===1){if(W==="copy"&&se.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(W==="cut"&&(se.hasAttribute("readonly")||se.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(Ae)return s(Ae,{container:V});if(se)return W==="cut"?A(se):s(se,{container:V})},m=g;function b(ne){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(ie){return typeof ie}:b=function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},b(ne)}function _(ne,ie){if(!(ne instanceof ie))throw new TypeError("Cannot call a class as a function")}function E(ne,ie){for(var W=0;W<ie.length;W++){var V=ie[W];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(ne,V.key,V)}}function R(ne,ie,W){return ie&&E(ne.prototype,ie),W&&E(ne,W),ne}function j(ne,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),ie&&H(ne,ie)}function H(ne,ie){return H=Object.setPrototypeOf||function(W,V){return W.__proto__=V,W},H(ne,ie)}function G(ne){var ie=ue();return function(){var W=te(ne),V;if(ie){var se=te(this).constructor;V=Reflect.construct(W,arguments,se)}else V=W.apply(this,arguments);return q(this,V)}}function q(ne,ie){return ie&&(b(ie)==="object"||typeof ie=="function")?ie:K(ne)}function K(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function ue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ne){return!1}}function te(ne){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},te(ne)}function D(ne,ie){var W="data-clipboard-".concat(ne);if(ie.hasAttribute(W))return ie.getAttribute(W)}var J=function(ne){j(W,ne);var ie=G(W);function W(V,se){var Ae;return _(this,W),Ae=ie.call(this),Ae.resolveOptions(se),Ae.listenClick(V),Ae}return R(W,[{key:"resolveOptions",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof V.action=="function"?V.action:this.defaultAction,this.target=typeof V.target=="function"?V.target:this.defaultTarget,this.text=typeof V.text=="function"?V.text:this.defaultText,this.container=b(V.container)==="object"?V.container:document.body}},{key:"listenClick",value:function(V){var se=this;this.listener=p()(V,"click",function(Ae){return se.onClick(Ae)})}},{key:"onClick",value:function(V){var se=V.delegateTarget||V.currentTarget,Ae=this.action(se)||"copy",Oe=m({action:Ae,container:this.container,target:this.target(se),text:this.text(se)});this.emit(Oe?"success":"error",{action:Ae,text:Oe,trigger:se,clearSelection:function(){se&&se.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(V){return D("action",V)}},{key:"defaultTarget",value:function(V){var se=D("target",V);if(se)return document.querySelector(se)}},{key:"defaultText",value:function(V){return D("text",V)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return s(V,se)}},{key:"cut",value:function(V){return A(V)}},{key:"isSupported",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],se=typeof V=="string"?[V]:V,Ae=!!document.queryCommandSupported;return se.forEach(function(Oe){Ae=Ae&&!!document.queryCommandSupported(Oe)}),Ae}}]),W}(d()),Q=J},828:function(o){var u=9;if(typeof Element<"u"&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function c(d,f){for(;d&&d.nodeType!==u;){if(typeof d.matches=="function"&&d.matches(f))return d;d=d.parentNode}}o.exports=c},438:function(o,u,n){var c=n(828);function d(v,y,w,k,A){var C=p.apply(this,arguments);return v.addEventListener(w,C,A),{destroy:function(){v.removeEventListener(w,C,A)}}}function f(v,y,w,k,A){return typeof v.addEventListener=="function"?d.apply(null,arguments):typeof w=="function"?d.bind(null,document).apply(null,arguments):(typeof v=="string"&&(v=document.querySelectorAll(v)),Array.prototype.map.call(v,function(C){return d(C,y,w,k,A)}))}function p(v,y,w,k){return function(A){A.delegateTarget=c(A.target,y),A.delegateTarget&&k.call(v,A)}}o.exports=f},879:function(o,u){u.node=function(n){return n!==void 0&&n instanceof HTMLElement&&n.nodeType===1},u.nodeList=function(n){var c=Object.prototype.toString.call(n);return n!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in n&&(n.length===0||u.node(n[0]))},u.string=function(n){return typeof n=="string"||n instanceof String},u.fn=function(n){var c=Object.prototype.toString.call(n);return c==="[object Function]"}},370:function(o,u,n){var c=n(879),d=n(438);function f(w,k,A){if(!w&&!k&&!A)throw new Error("Missing required arguments");if(!c.string(k))throw new TypeError("Second argument must be a String");if(!c.fn(A))throw new TypeError("Third argument must be a Function");if(c.node(w))return p(w,k,A);if(c.nodeList(w))return v(w,k,A);if(c.string(w))return y(w,k,A);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function p(w,k,A){return w.addEventListener(k,A),{destroy:function(){w.removeEventListener(k,A)}}}function v(w,k,A){return Array.prototype.forEach.call(w,function(C){C.addEventListener(k,A)}),{destroy:function(){Array.prototype.forEach.call(w,function(C){C.removeEventListener(k,A)})}}}function y(w,k,A){return d(document.body,w,k,A)}o.exports=f},817:function(o){function u(n){var c;if(n.nodeName==="SELECT")n.focus(),c=n.value;else if(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"){var d=n.hasAttribute("readonly");d||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),d||n.removeAttribute("readonly"),c=n.value}else{n.hasAttribute("contenteditable")&&n.focus();var f=window.getSelection(),p=document.createRange();p.selectNodeContents(n),f.removeAllRanges(),f.addRange(p),c=f.toString()}return c}o.exports=u},279:function(o){function u(){}u.prototype={on:function(n,c,d){var f=this.e||(this.e={});return(f[n]||(f[n]=[])).push({fn:c,ctx:d}),this},once:function(n,c,d){var f=this;function p(){f.off(n,p),c.apply(d,arguments)}return p._=c,this.on(n,p,d)},emit:function(n){var c=[].slice.call(arguments,1),d=((this.e||(this.e={}))[n]||[]).slice(),f=0,p=d.length;for(f;f<p;f++)d[f].fn.apply(d[f].ctx,c);return this},off:function(n,c){var d=this.e||(this.e={}),f=d[n],p=[];if(f&&c)for(var v=0,y=f.length;v<y;v++)f[v].fn!==c&&f[v].fn._!==c&&p.push(f[v]);return p.length?d[n]=p:delete d[n],this}},o.exports=u,o.exports.TinyEmitter=u}},a={};function l(o){if(a[o])return a[o].exports;var u=a[o]={exports:{}};return r[o](u,u.exports,l),u.exports}return function(){l.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return l.d(u,{a:u}),u}}(),function(){l.d=function(o,u){for(var n in u)l.o(u,n)&&!l.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:u[n]})}}(),function(){l.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)}}(),l(686)}().default})}),ty={};xx(ty,{default:()=>bc});var Ax=Qb(ey());Sx(ty,Qb(ey()));var Jb=Ax,{default:Xb}=Jb,Cx=en(Jb,["default"]),bc=Xb!==void 0?Xb:Cx;function iy(e,t){let r=e.querySelector("output");r||(r=document.createElement("output"),r.setAttribute("role","alert"),e.appendChild(r)),r.textContent="",r.textContent=t}function Ex(e){let t=document.createElement("button");return t.type="button",t.textContent="Copy",t.title="Copy to clipboard",t.setAttribute("data-clipboard-target",`#${e.querySelector("input").id}`),t}function Tx(e){e.querySelector("input")&&(e.appendChild(Ex(e)),e.setAttribute("data-copyable-text-ready",""))}function $x(){let e=new bc("[data-copyable-text] [data-clipboard-target]");e.on("success",t=>{let r=t.trigger.parentElement,a=r.getAttribute("data-copyable-text-success-message")||"Text copied to clipboard.";iy(r,a)}),e.on("error",t=>{let r=t.trigger.parentElement,a=r.getAttribute("data-copyable-text-error-message")||"Something went wrong.";iy(r,a)})}function Px(){let e=document.querySelectorAll("[data-copyable-text]:not([data-copyable-text-ready])");e.length<=0||bc.isSupported()&&([...e].forEach(Tx),$x())}Ke(Px);No();function ry(e,t){let r=e.querySelector(t);return r?r.value:""}function Ox(){ir("setUpDisabilityEligibility()"),Array.from(document.querySelectorAll(".js-disability-eligibility")).forEach(e=>{let t=e.dataset.disabilityEligibilityType;e.addEventListener("submit",r=>{let a=ry(e,".disability-eligibility-password"),l=ry(e,".disability-eligibility-token"),o={type:t,password:a,token:l},u=/\?.*login=([^&]+)/,n=location.href.match(u);n&&([,o.login]=n);let c=document.createElement("img");c.src="/images/loading.gif",e.querySelector('input[type="submit"]').parentNode.appendChild(c),Ke.ajax({type:"POST",url:"/services/disability_eligibility.php",dataType:"json",data:o,success:f=>{if(f.status==="success"){alert("Success! Your eligibility has been verified.");return}if(f.message==="not logged in"){alert("Please login first.");return}alert("Sorry. We could not verify your eligibility at this time."),console.log(`Verification error: ${f.status_code}, ${f.message}`)},error:(f,p,v)=>{alert("Sorry. We could not verify your eligibility at this time."),console.log(`Verification error: ${p}, ${v}`)},complete:()=>{c.remove()}}),r.preventDefault()})})}Ke(()=>Ox());var Mx=()=>{let e=window.location.search.substring(1),t={};return e.length>0&&e.split("&").forEach(r=>{let[a,l]=r.split("=");t[a]=decodeURIComponent(l)}),t},ny=Mx;No();function Cn(e,t,r="false",a=null){if(typeof e!="string")throw new Error("first arg should be a string");Ke(e).on("click",a,l=>{let o=t(l);return r==="callback"&&o?o:r==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})}var Fo=class e{static css(){let t=document.createElement("style");t.textContent=`
#manage-ids {
  visibility: hidden;
  position: absolute;
  top: 0;
  left: 0;
  width: 1px;
  height: 1px;
}

#manage-help > div {
  display: inline-block;
  font-weight: bold;
  font-size: 125%;
  padding-right: 10px;
}

#manage-help .btn-info {
  background-color: #777;
  border-color: #666;
}


#manage-help > p {
  text-align: center;
}

.item-ia.manage-item  .item-img {
  opacity: .8;
}

.item-ia.manage-item  .item-img:hover {
  opacity: .9;
}

.manage-check {
  position: absolute;
  right: 0;
  top: 0;
  border-style: solid;
  border-color: black;
  border-width: 2px 4px;
  background-color: black;
  border-radius: 3px;
}

#confirm-remove-items .btn {
  display: block;
  margin: 0 auto 10px;
}

.task-pending {
  opacity: .20;
}

/* Bulk remove items modal */
#confirm-remove-items .modal-content {
  padding: 1rem;
}

#confirm-remove-items h2 {
  font-size: 2.4rem;
}
`,document.getElementsByTagName("head")[0].appendChild(t)}static get Context(){return{Favorites:"collection",SearchResults:"search results",Uploads:"uploads",Posts:"posts",Reviews:"reviews",Collections:"collections",Loans:"loans",WebArchives:"web archives"}}static manage_items(t){Ke("body").hasClass("lists")&&Ke(".tiles-button:visible").click();let r=e.Context.SearchResults;if(![e.Context.Favorites,e.Context.Uploads,e.Context.Collections,e.Context.WebArchives,e.Context.SearchResults].includes(r)){alert("Removal feature cannot be used here");return}let a=[".item-ia.new-item"];if(r===e.Context.Uploads||r===e.Context.Collections){let l=window.location.pathname.match(/^\/details\/@([^&/#?]+)/);l&&a.push(`.item-ia[data-id="fav-${l[1]}"]`)}if(Ke(a.join(", ")).toggleClass("hidden-tiles"),Ke(".columns-facets").toggleClass("opac30"),Ke(".item-ia .manage-check").length)Ke(".item-ia").removeClass("manage-item").unbind("click"),Ke(".columns-items .co-top-row > div").toggle(),Ke(".item-ia .manage-check, #manage-help").remove(),Ke(".item-ia").off("contextmenu");else{if(Ke("#manage-help").length&&!Ke(".item-ia .hov").length){Ke(".item-ia").removeClass("manage-item").unbind("click"),Ke(".columns-items .co-top-row > div").toggle(),Ke(".item-ia .manage-check, #manage-help").remove(),Ke(".item-ia").off("contextmenu");return}let l;switch(r){case e.Context.Favorites:l="Select items to un-favorite";break;case e.Context.SearchResults:l="Select items";break;default:l="Select items to remove"}Ke(".columns-items .co-top-row").prepend(`
<div id="manage-help" style="display:none">
  <div>
    ${l}
  </div>
  <div class="topinblock">
    <button id="manage-cancel" class="btn btn-small btn-info">
      Cancel
    </button>
    <button id="manage-remove" class="btn btn-small btn-danger">
      Remove selected items
    </button>
    ${t&&r===e.Context.SearchResults?`
      <button id="manage-item-mgr" class="btn btn-small btn-warning">
        Item Manager the items
      </button>
      `:""}
  </div>
    ${t?`
    <p class="topinblock">
      <a id="manage-toggle-all" href="#">
        Toggle</br>all
      </a>
    </p>
    `:""}
</div>`),Ke("#manage-cancel").bind("click",e.manage_items),Ke("#manage-remove").bind("click",()=>e.remove_items_modal(r)),Ke("#manage-item-mgr").bind("click",e.to_item_manager),Ke("#manage-toggle-all").bind("click",e.toggle_checkboxes),Ke(".columns-items .co-top-row > div").toggle(),Ke(".item-ia.task-pending").bind("click",e.tile_clicked),Ke(".item-ia:not(.mobile-header):not(.new-item):not(.task-pending)").addClass("manage-item").bind("click",e.tile_clicked).append(e.checkbox(r===e.Context.SearchResults?"include item for item management":"remove this item from list")),Ke(".item-ia").on("contextmenu",u=>{let n=Ke(u.target).find("a:first").attr("href")||Ke(u.target).parents("a").attr("href");ir("right-click",n),window.open(n,"_blank")})}}static remove_favorite_item(t){let r=Ke(t),a=r.data("id"),l=r.data("fav-collection");if(!a||!l)return;let o=location.protocol.concat("//",location.host,"/details/",l).concat(`?remove_item=${encodeURIComponent(a)}&kind=favorite`);e.toggle_favorite_icon(r,!1),e.update_favorite_count(!1),Ke.get(o)}static checkbox(t){return`
<div class="manage-check">
  <input
    type="checkbox"
    alt="${t}"
    title="${t}"/>
</div>`}static tile_clicked(t){let r=Ke(t.target);if(r.attr("type")==="checkbox")return!0;t.stopPropagation(),t.preventDefault();let a=r.parents(".item-ia").find(".manage-check input");return a.prop("checked",!a.prop("checked")),!1}static toggle_checkboxes(){return Ke(".manage-check input").prop("checked",(t,r)=>!r),!1}static remove_items_modal(t){let r="";Ke(".item-ia[data-id]:has(:checked)").each((o,u)=>{let n=Ke(u),c=n.find(".C2 a").text().trim();r+=`
        <div>
          <div class="pull-right">
            ${n.find(".pubdate > :first").text()}
          </div>
          <div>
            ${c.length?c:"[untitled]"}
          </div>
          <hr/>
        </div>
      `});let a=r===""?"No items selected":"Are you sure you want to remove these items?",l;if(r==="")r=`
        <div class="alert alert-danger">
          Please select some items using checkboxes from the prior screen to remove.
        </div>`;else{switch(t){case e.Context.Favorites:l="confirmed_remove_favorites";break;case e.Context.WebArchives:l="confirmed_remove_web_archives";break;default:l="confirmed_dark_items"}r+=`
        <button class="btn btn-small btn-danger ${l}">
          Remove items
        </button>`}Br.modal_add(e.modalID,{title:a,body:r,headerClass:""}).modal("show"),Cn(`.${l}`,()=>{e[l]()})}static checked_ids(){return Ke(".item-ia[data-id]:has(:checked)").toArray().reduce((t,r)=>{let{id:a}=Ke(r).data();return t.concat(t?",":"",a)},"")}static checked_ids_json(){let t=Ke(".item-ia[data-id]:has(:checked)").toArray().map(r=>Ke(r).data().id);return JSON.stringify(t)}static to_item_manager(){let t=e.checked_ids();if(ir("to_item_manager:",t),t!==""){let r=Ke(`
        <form id="manage-ids" method="POST" action="/manage/">
          <input type="text" name="identifier" value="${t}"/>
        </form>`);Ke("body").append(r),r.submit()}return!1}static confirmed_remove_web_archives(){let t={action:"delete",identifiers:e.checked_ids_json()};Ke.ajax({type:"POST",url:"/services/web-archives/service.php",data:t,error:(r,a,l)=>{alert("Unable to complete the request. Our servers might be busy. Please try again later."),Ke(e.modalID).modal("hide")},success:e.update_tiles})}static confirmed_dark_items(){let t={identifier:e.checked_ids(),admin:"make_dark","curation[state]":"dark","curation[comment]":`from ${location.pathname}`};Ke.post("/manage/",t,e.update_tiles)}static confirmed_remove_favorites(){let t=e.checked_ids(),r=location.href.replace(/#.*$/,"").concat(`?kind=favorite&remove_item=${encodeURIComponent(t)}`);return Ke.get(r,e.update_tiles),!1}static update_tiles(){Ke(".item-ia[data-id]:has(:checked)").remove(),Br.tiler(),Ke(e.modalID).modal("hide")}static toggle_list_status(t){return Ke(t).hasClass("favorited")?e.remove_favorite_item(t,!0):Br.modal_go(t,{favorite:1}),!1}static toggle_favorite_icon(t,r=!0){let a=Ke(t).find("span.icon-label");t.length&&(t.find("span:eq(0)").toggleClass("iconochive-No_Favorite iconochive-favorite"),r?(t.addClass("favorited"),t.attr({"data-original-title":"Unfavorite"}),a.text("Unfavorite")):(t.removeClass("favorited"),t.attr({"data-original-title":"Favorite"}),a.text("Favorite")))}static update_favorite_count(t=!0){let r=Ke(".favorite-count"),a=r.find(".item-stats-summary__label"),l=r.find(".item-stats-summary__count");l.length||(l=document.createElement("span"),l.className="item-stats-summary__count",r.append(l),a=document.createElement("span"),a.className="item-stats-summary__label",r.append(a));let o=Number(Ke(l).text().trim().replace(/,/g,""));t?o+=1:o-=1,Ke(a).text(o===1?" Favorite":" Favorites"),Ke(l).text(o.toLocaleString())}};Ke(()=>{if(window.location.hostname==="web.archive.org")return;Fo.modalID="#confirm-remove-items",Fo.css(),Ke("body").hasClass("manage")&&Fo.manage_items(1);let e=Ke(".js-manage-toggle_list_status");e.length&&e.bind("click",t=>{t.preventDefault(),Fo.toggle_list_status(e[0])}),Cn(".js-search-bar-manage",t=>Fo.manage_items(1)),Cn(".js-manage-share_button",t=>Br.modal_go(t.currentTarget,{ignore_lnk:1,shown:Br.embed_codes_adjust}))});window.Manage=Fo;var oy={namespace:"banners",action:"ia-banner-close",selector:".ia-banner",dismiss(e){e.preventDefault();let t=e.currentTarget.closest(this.selector);this.isLocalStorageAvailable()&&this.writeStorage(t.getAttribute("data-campaign")),t.remove()},readStorage(){return JSON.parse(localStorage.getItem(this.namespace))||[]},writeStorage(e){let t=this.readStorage();localStorage.setItem(this.namespace,JSON.stringify([...t,e]))},bindEvents(){document.querySelectorAll(`${this.selector} [data-action=${this.action}]`).forEach(e=>{e.addEventListener("submit",t=>(this.dismiss(t),!1))})},checkVisibility(){let e=this.isLocalStorageAvailable()?this.readStorage():[];document.querySelectorAll(this.selector).forEach(t=>{t.classList.toggle("visible",!e.includes(t.getAttribute("data-campaign")))})},isLocalStorageAvailable(){try{return Object.keys(localStorage).length>=0}catch(e){return!1}},init(){this.bindEvents(),this.checkVisibility()}};No();function Ya(e){let t=`${e}`.split("."),r=t[0],a=t.length>1?`.${t[1]}`:"",l=/(\d+)(\d{3})/;for(;l.test(r);)r=r.replace(l,"$1,$2");return r+a}var ay=({$form:e,url:t,selector:r,element:a,conf:l})=>{let o={success(u){_o.get("logged-in-user")!==void 0?(Ke(r).on("hidden.bs.modal",()=>{Ke(r).remove(),Br.modal_go(a,Ir(ur({},l),{postLogin:!0}))}),Ke(document.body).removeClass("blurry"),Ke(r).modal("hide")):u.status!=="ok"&&(u.status==="bad_login"&&Ke(".reset-password").hide(),Ke(".password-error").html(u.message))},error(u){let n=u.responseJSON;Ke(".reset-password").hide(),n?Ke(".password-error").html(n.message):Ke(".password-error").text("Whoops! Something didn't work quite right. Please try again in a bit.")}};e.on("submit",()=>{let u={},{success:n,error:c}=o;return e.find("input").each((d,f)=>{Ke(f).attr("name").length&&(u[Ke(f).attr("name")]=Ke(f).val())}),u.submit_by_js="true",e.find(".alert").remove(),Ke.ajax(t,{type:"POST",data:u,success:n,error:c}),!1})};No();var yc=class{static setup(){Ke(".js-search-bar").each(function(){let r=Ke(this),a=r.data("autocompleteFormat");a!=="off"&&Promise.resolve().then(()=>(qf(),Vf)).then(()=>{let l={minLength:3,source:function(u,n){Ke.ajax({url:"https://be-api.us.archive.org/searches/complete",data:{q:u.term,limit:15},dataType:"json",success:n,error:function(d,f,p){ir(`${f}: ${p}`),n([])}})},open:function(){let u=Ke(this).autocomplete("widget"),n=u.offset();n.left<0&&(u.width(u.width()-n.left),u.offset({top:n.top,left:0}))},classes:{"ui-autocomplete":"truncate"}};a==="inline"?(l.appendTo=r.data("autocompleteAppendTo"),l.position={using:Ke.noop}):(l.classes["ui-autocomplete"]+=" z-above-top-nav",a==="right"&&(l.position={my:"right top",at:"right bottom"})),r.autocomplete(l)})})}};Ke(()=>{let e=Ke(".search-form--inside");if(!e)return;let t=n=>n?encodeURIComponent(n.trim()).replace(/%20/g,"+"):"",r=(n,c,d)=>{d&&n.append(c,d)},a=(n,c,d)=>d?`${n?"&":""}${c}=${d}`:"",l=e.find(".searchlist").val(),o=e.find('[name="sin"]:checked').val(),u=new URLSearchParams(window.location.search.substring(1));e.submit(n=>{n.preventDefault();let c=e.find(".searchlist").val(),d=e.find('[name="sin"]:checked').val(),f=new URLSearchParams;r(f,"query",c),r(f,"sin",d);let p=f.toString();if(l===c&&o===d)for(let w of u.getAll("and[]"))p+=a(p,"and[]",t(w));let v=u.get("sort");p+=a(p,"sort",t(v)),p&&(p=`?${p}`);let y=window.location;window.location=`${y.origin}${y.pathname}${p}`})});function hy(e,t,r="false"){if(typeof e!="string")throw new Error("first arg should be a string");Ke(e).on("change",a=>{let l=t(a);return r==="callback"&&l?l:r==="default"?!0:(a&&a.preventDefault&&a.preventDefault(),a&&a.stopPropagation&&a.stopPropagation(),!1)})}function py(e,t,r="false"){if(typeof e!="string")throw new Error("first arg should be a string");Ke(e).on("submit",a=>{let l=t(a);return r==="callback"&&l?l:r==="default"?!0:(a&&a.preventDefault&&a.preventDefault(),a&&a.stopPropagation&&a.stopPropagation(),!1)})}function Gf(e,t=100,r=!1){let a;return function(){let o=this,u=arguments;function n(){r||e.apply(o,...u),a=null}a?clearTimeout(a):r&&e.apply(o,...u),a=setTimeout(n,t)}}var Yf="";typeof window<"u"&&(Yf=Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join(",").search(/,animation/)>-1?"":"webkit");function il(e,t){Object.keys(t).forEach(r=>{let a=r;Yf&&r.search("animation")>-1&&(a=Yf+r[0].toUpperCase()+r.substr(1)),e.style[a]=t[r]})}function gy(e){il(e,{display:"block"})}function vy(e){il(e,{display:"none"})}function Ux(){let e=document.body,t=document.documentElement,r;return window.innerHeight?r=window.innerHeight:t&&t.clientHeight?r=t.clientHeight:e&&(r=e.clientHeight),r||0}function Wx(){let e=document.body,t=document.documentElement,r;return window.innerWidth?r=window.innerWidth:t&&t.clientWidth?r=t.clientWidth:e&&(r=e.clientWidth),r||0}function Vx(e,t){return t||(t=document.createElement("style"),document.body.appendChild(t)),t.textContent=e,t}function eh(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function qx(e){return e===document.body}function zo(e,t){e.classList.add(t)}function fy(e,t){e.classList.remove(t)}var Gx=typeof document<"u"&&"onanimationend"in document;function my(e,t){return e+Math.floor(Math.random()*(t-e))}function Kf(e,t,r,a,l){return a+(l-a)*(e-t)/(r-t)}var Zf=20;function by(e,t,r){return Math.floor(Kf(e,0,Zf,t,r))}var Yx=class{constructor(e){this.size=0,this.sizeInner=0;let t=this.elem=document.createElement("div"),r=this.elemInner=document.createElement("div");this.update(e),zo(t,"snowflake"),zo(r,"snowflake__inner"),zo(t,"snowflake_animation"),Gx?(zo(t,"snowflake_animation-end"),t.onanimationend=a=>{a.target===t&&(this.updateLeft(),this.reflow())}):zo(t,"snowflake_animation-infinity"),e.types&&zo(r,"snowflake__inner_type_"+my(0,e.types)),e.wind&&zo(r,"snowflake__inner_wind"),e.rotation&&zo(r,"snowflake__inner_rotation"+(Math.random()>.5?"":"_reverse")),t.appendChild(r)}getLeft(){return Math.random()*99+"%"}updateLeft(){this.elem&&il(this.elem,{left:this.getLeft()})}update(e){if(!this.elem||!this.elemInner)return;let t=e.minSize===e.maxSize;this.sizeInner=t?0:my(0,Zf),this.size=by(this.sizeInner,e.minSize,e.maxSize);let r=this.getAnimationProps(e),a={animationName:`snowflake_gid_${e.gid}_y`,animationDelay:r.animationDelay,animationDuration:r.animationDuration,left:this.getLeft(),top:-Math.sqrt(2)*this.size+"px",width:this.size+"px",height:this.size+"px"};t||(a.opacity=String(Kf(this.size,e.minSize,e.maxSize,e.minOpacity,e.maxOpacity))),il(this.elem,a);let l=`snowflake_gid_${e.gid}_x_${this.sizeInner}`;il(this.elemInner,{animationName:l,animationDelay:Math.random()*4+"s"})}reflow(){this.elem&&(vy(this.elem),this.elem.offsetHeight,gy(this.elem))}resize(e){if(!this.elem)return;let t=this.getAnimationProps(e);il(this.elem,{animationDuration:t.animationDuration})}appendTo(e){this.elem&&e.appendChild(this.elem)}destroy(){this.elem&&(this.elem.onanimationend=null,delete this.elem,delete this.elemInner)}getAnimationProps(e){let t=e.containerHeight/50/e.speed,r=t/3;return{animationDelay:Math.random()*t+"s",animationDuration:Kf(this.size,e.minSize,e.maxSize,t,r)+"s"}}},Kx='.snowflake{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:transform}.snowflake_animation{-webkit-animation:snowflake_unknown 10s linear;animation:snowflake_unknown 10s linear}.snowflake_animation-infinity{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.snowflake__inner,.snowflake__inner:before{bottom:0;left:0;position:absolute;right:0;top:0}.snowflake__inner:before{background-size:100% 100%;content:""}.snowflake__inner_wind{-webkit-animation:snowflake_unknown 2s ease-in-out infinite alternate;animation:snowflake_unknown 2s ease-in-out infinite alternate}.snowflake__inner_rotation:before{-webkit-animation:snowflake_rotation 10s linear infinite;animation:snowflake_rotation 10s linear infinite}.snowflake__inner_rotation_reverse:before{-webkit-animation:snowflake_rotation_reverse 10s linear infinite;animation:snowflake_rotation_reverse 10s linear infinite}@-webkit-keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}@keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}.snowflakes{pointer-events:none}.snowflakes_paused .snowflake,.snowflakes_paused .snowflake__inner,.snowflakes_paused .snowflake__inner:before{-webkit-animation-play-state:paused;animation-play-state:paused}.snowflakes_hidden{visibility:hidden}.snowflakes_body{height:1px;left:0;position:fixed;top:0;width:100%}',Zx=`.snowflakes_gid_value .snowflake__inner_type_0:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36.283' height='36.283'%3E%3Cpath d='M35.531 17.391h-3.09l.845-1.464a.748.748 0 1 0-1.297-.75l-1.276 2.214H28.61l2.515-4.354a.751.751 0 0 0-.272-1.024.75.75 0 0 0-1.024.274l-2.948 5.104h-2.023a6.751 6.751 0 0 0-2.713-4.684l1.019-1.76 5.896-.002a.75.75 0 0 0 0-1.5l-5.029.002 1.051-1.82 2.557.002a.75.75 0 0 0 0-1.5l-1.689-.002 1.545-2.676a.75.75 0 1 0-1.302-.75l-1.547 2.676-.844-1.463a.749.749 0 1 0-1.297.75l1.278 2.213-1.051 1.818-2.514-4.354a.75.75 0 0 0-1.298.75l2.946 5.104-1.016 1.758a6.692 6.692 0 0 0-2.706-.57 6.74 6.74 0 0 0-2.707.568l-1.013-1.754 2.946-5.105a.75.75 0 0 0-1.298-.75L13.56 8.697l-1.05-1.818 1.278-2.217a.749.749 0 0 0-1.298-.75l-.845 1.465-1.551-2.678a.75.75 0 0 0-1.024-.273.748.748 0 0 0-.274 1.023l1.545 2.678H8.652a.75.75 0 0 0 0 1.5h2.556l1.05 1.818H7.231a.75.75 0 0 0 0 1.5h5.894l1.017 1.762a6.755 6.755 0 0 0-2.712 4.684H9.406l-2.95-5.104a.75.75 0 1 0-1.299.75l2.516 4.354H5.569l-1.277-2.213a.75.75 0 0 0-1.298.75l.845 1.463H.75a.75.75 0 0 0 0 1.5h3.09l-.845 1.465a.747.747 0 0 0 .275 1.022.75.75 0 0 0 .374.103.75.75 0 0 0 .65-.375l1.277-2.215h2.103l-2.516 4.354a.75.75 0 0 0 1.299.75l2.949-5.104h2.024a6.761 6.761 0 0 0 2.712 4.685l-1.017 1.762H7.232a.75.75 0 0 0 0 1.5h5.026l-1.05 1.818H8.651a.75.75 0 0 0 0 1.5h1.69l-1.545 2.676a.75.75 0 0 0 1.299.75l1.546-2.676.846 1.465a.755.755 0 0 0 .65.375.737.737 0 0 0 .375-.103.747.747 0 0 0 .274-1.022l-1.279-2.215 1.05-1.82 2.515 4.354a.75.75 0 0 0 1.299-.75l-2.947-5.104 1.013-1.756a6.72 6.72 0 0 0 5.415 0l1.014 1.756-2.947 5.104a.75.75 0 0 0 1.298.75l2.515-4.354 1.053 1.82-1.277 2.213a.75.75 0 0 0 1.298.75l.844-1.463 1.545 2.678c.141.24.393.375.65.375a.75.75 0 0 0 .649-1.125l-1.548-2.678h1.689a.75.75 0 0 0 0-1.5h-2.557l-1.051-1.82 5.029.002a.75.75 0 0 0 0-1.5l-5.896-.002-1.019-1.76a6.75 6.75 0 0 0 2.711-4.685h2.023l2.947 5.104a.753.753 0 0 0 1.025.273.749.749 0 0 0 .272-1.023l-2.515-4.354h2.104l1.279 2.215a.75.75 0 0 0 .649.375c.127 0 .256-.03.375-.103a.748.748 0 0 0 .273-1.022l-.848-1.465h3.092a.75.75 0 0 0 .003-1.5zm-12.136.75c0 .257-.041.502-.076.75a5.223 5.223 0 0 1-1.943 3.358 5.242 5.242 0 0 1-1.291.766 5.224 5.224 0 0 1-1.949.384 5.157 5.157 0 0 1-3.239-1.15 5.22 5.22 0 0 1-1.943-3.358c-.036-.247-.076-.493-.076-.75s.04-.503.076-.75a5.22 5.22 0 0 1 1.944-3.359c.393-.312.82-.576 1.291-.765a5.219 5.219 0 0 1 1.948-.384c.69 0 1.344.142 1.948.384.471.188.898.454 1.291.765a5.222 5.222 0 0 1 1.943 3.359c.035.247.076.493.076.75z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_1:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.813' height='32.813'%3E%3Cpath d='M29.106 24.424a.781.781 0 0 1-.781.781h-3.119v3.119a.782.782 0 0 1-1.562 0v-4.682h4.682c.43.001.78.351.78.782zM4.673 9.352h4.682V4.671a.781.781 0 0 0-1.563 0V7.79H4.673a.781.781 0 0 0 0 1.562zM3.708 24.24c0 .431.35.781.781.781H7.61v3.12a.78.78 0 1 0 1.562 0v-4.683H4.489a.782.782 0 0 0-.781.782zM28.923 8.39a.78.78 0 0 0-.781-.781h-3.121V4.488a.781.781 0 0 0-1.562 0v4.684h4.684a.783.783 0 0 0 .78-.782zm3.889 8.017c0 .431-.35.781-.781.781h-3.426l1.876 1.873a.784.784 0 0 1 0 1.107.791.791 0 0 1-.554.228.773.773 0 0 1-.55-.228l-2.979-2.98h-2.995a6.995 6.995 0 0 1-1.728 3.875h5.609a.781.781 0 0 1 0 1.562h-4.666v4.667a.782.782 0 0 1-1.562 0v-5.61a7 7 0 0 1-3.866 1.719v2.995l2.978 2.98c.306.305.306.8 0 1.104a.78.78 0 0 1-1.104 0l-1.874-1.876v3.427a.781.781 0 0 1-1.562 0v-3.427l-1.875 1.876a.78.78 0 1 1-1.105-1.104l2.979-2.98v-2.995a7.016 7.016 0 0 1-3.865-1.717v5.608a.781.781 0 0 1-1.562 0v-4.667H5.535a.781.781 0 0 1 0-1.562h5.607a7.022 7.022 0 0 1-1.728-3.875H6.417l-2.979 2.979a.784.784 0 0 1-1.104 0 .781.781 0 0 1 0-1.106l1.874-1.873H.782a.78.78 0 1 1-.001-1.563h3.426L2.333 13.75a.783.783 0 0 1 1.105-1.106l2.979 2.979h2.995a6.996 6.996 0 0 1 1.72-3.866H5.533a.781.781 0 0 1 0-1.562h4.666V5.528a.781.781 0 0 1 1.562 0v5.599a6.995 6.995 0 0 1 3.865-1.717V6.415l-2.978-2.979a.782.782 0 0 1 1.105-1.105l1.874 1.875V.781a.78.78 0 1 1 1.562 0v3.426l1.875-1.875a.777.777 0 0 1 1.104 0 .78.78 0 0 1 0 1.105l-2.978 2.98v2.996a7.021 7.021 0 0 1 3.866 1.718V5.532a.78.78 0 1 1 1.562 0v4.666h4.666a.78.78 0 1 1 0 1.562h-5.599a7 7 0 0 1 1.718 3.866h2.995l2.979-2.979a.783.783 0 0 1 1.106 1.106l-1.876 1.874h3.427a.777.777 0 0 1 .778.78zm-11.006-.782a5.457 5.457 0 0 0-4.618-4.617c-.257-.037-.514-.079-.781-.079-.268 0-.524.042-.781.079a5.458 5.458 0 0 0-4.618 4.617c-.038.257-.079.514-.079.781s.041.522.079.781a5.455 5.455 0 0 0 4.618 4.616c.257.036.514.079.781.079s.524-.043.781-.079a5.457 5.457 0 0 0 4.618-4.616c.037-.259.079-.515.079-.781s-.043-.524-.079-.781z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_2:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35.79' height='35.79'%3E%3Cpath d='M7.161 22.223l.026-.047.865.5-.026.047a.503.503 0 0 1-.434.25c-.019 0-.034-.013-.053-.016l-.355-.205a.493.493 0 0 1-.023-.529zM9.969 8.988l2.785.001 1.393-2.414a.502.502 0 0 0-.869-.499l-1.103 1.913-2.208-.001a.5.5 0 1 0 .002 1zm15.854 17.813h-2.785l-1.393 2.411a.499.499 0 0 0 .436.75c.172 0 .34-.09.434-.25l1.104-1.911h2.207c.274 0 .5-.224.5-.5a.505.505 0 0 0-.503-.5zM23.038 8.99h2.785a.5.5 0 0 0 0-1h-2.207l-1.105-1.913a.5.5 0 0 0-.868.5l1.395 2.413zM12.754 26.801H9.967a.5.5 0 0 0 0 1h2.209l1.105 1.912a.496.496 0 0 0 .682.184.5.5 0 0 0 .184-.684l-1.393-2.412zm-7.218-6.309a.502.502 0 0 0 .685-.184l1.391-2.413-1.394-2.413a.5.5 0 0 0-.867.5l1.104 1.913-1.104 1.913a.5.5 0 0 0 .185.684zM30.254 15.3a.505.505 0 0 0-.685.183l-1.392 2.412 1.395 2.414a.501.501 0 0 0 .867-.5l-1.104-1.914 1.104-1.912a.5.5 0 0 0-.185-.683zm3.138 11.542a.501.501 0 0 1-.683.184l-.98-.565-2.137 1.231a.516.516 0 0 1-.5 0l-2.385-1.377a.502.502 0 0 1-.25-.433v-.854h-4.441l-2.225 3.852.736.428c.154.088.25.254.25.432l.001 2.755a.5.5 0 0 1-.25.433l-2.133 1.229v1.136c0 .274-.225.5-.5.5s-.5-.226-.5-.5v-1.136l-2.136-1.23a.5.5 0 0 1-.25-.433l.001-2.755c0-.178.096-.344.25-.432l.738-.427-2.224-3.849H9.332l.002.851a.505.505 0 0 1-.25.435l-2.387 1.377a.5.5 0 0 1-.5 0L4.06 26.46l-.982.567a.5.5 0 0 1-.5-.867l.982-.567.001-2.465c0-.179.097-.344.25-.434l2.388-1.377a.497.497 0 0 1 .5 0l.736.426 2.221-3.848-2.222-3.849-.737.426a.51.51 0 0 1-.5 0l-2.386-1.377a.5.5 0 0 1-.25-.434l.002-2.464-.983-.567a.501.501 0 0 1-.184-.683.502.502 0 0 1 .684-.183l.983.568 2.134-1.233a.5.5 0 0 1 .5 0l2.385 1.379c.156.089.25.255.25.433v.85h4.443l2.223-3.846-.74-.427a.501.501 0 0 1-.25-.434l.002-2.755c0-.178.096-.343.25-.433l2.135-1.233V.5a.5.5 0 0 1 1 0v1.135l2.134 1.231c.154.089.25.254.25.434l-.002 2.755a.503.503 0 0 1-.25.433l-.733.425 2.224 3.849h4.44l-.002-.851c0-.179.096-.344.25-.434l2.388-1.378a.502.502 0 0 1 .5 0l2.136 1.233.982-.568a.5.5 0 1 1 .5.866l-.983.568v2.464a.503.503 0 0 1-.25.433l-2.388 1.378a.5.5 0 0 1-.5 0l-.735-.426-2.222 3.849 2.223 3.849.734-.425a.506.506 0 0 1 .5 0l2.389 1.375c.154.09.25.255.25.435l-.002 2.462.982.568c.24.137.321.444.182.682zm-2.165-1.828l.001-1.597-1.888-1.087-.734.424-.348.201-.301.173-.5.289v2.179l1.885 1.088 1.386-.802.498-.286.001-.582zm-3.736-11.467l-.531-.307-2.283 1.318-2.443 3.337 2.442 3.337 2.283 1.316.531-.306-2.514-4.348 2.515-4.347zm-7.712 16.478l-.762-.438-.339-.194-.283-.166-.5-.289-.5.289-.279.162-.349.2-.757.437-.001 2.177 1.386.797.501.289.499-.287 1.386-.798-.002-2.179zM16.008 5.767l.736.425.371.214.279.16.5.288.5-.289.281-.163.367-.212.732-.424.002-2.178-1.381-.797-.502-.289-.498.287-1.385.8-.002 2.178zm6.52 14.227l-1.535-2.099 1.535-2.098.732-1-1.232.134-2.585.281-1.048-2.379-.5-1.133-.5 1.134-1.049 2.379-2.585-.281-1.232-.134.732 1 1.536 2.097-1.536 2.098-.732 1 1.232-.134 2.585-.281 1.049 2.379.5 1.134.5-1.134 1.048-2.379 2.585.281 1.232.134-.732-.999zm8.2-10.084l-1.386-.8-1.887 1.089v1.279l.002.32v.577l.5.289.28.163.367.213.732.424 1.888-1.089v-2.178l-.496-.287zM18.927 7.413l-.532.307v2.637l1.667 3.784 4.111-.447 2.283-1.317-.002-.613h-5.02l-2.507-4.351zm-9.594 4.348v.614l2.283 1.318 4.111.447 1.668-3.785V7.719l-.531-.306-2.509 4.347-5.022.001zm-2.15 1.279l.37-.213.279-.162.5-.289V10.2L6.446 9.11l-1.384.8-.499.289v.578l-.002 1.599 1.885 1.088.737-.424zm1.119 9.205l.53.306 2.281-1.316 2.443-3.339-2.442-3.337-2.281-1.317-.531.307 2.511 4.348-2.511 4.348zm-1.115-.069l-.026.047a.493.493 0 0 0 .023.529l-.734-.424-1.887 1.089-.001 1.599v.578l.5.288 1.386.8 1.887-1.088v-1.278l-.002-.321v-.577l-.5-.289-.293-.169c.02.002.035.017.055.017a.5.5 0 0 0 .433-.25l.026-.047-.867-.504zm9.679 6.202l.529-.306v-2.637l-1.668-3.785-4.111.447-2.283 1.316.002.611 5.021.002 2.51 4.352zm9.591-4.349v-.612L24.174 22.1l-4.111-.447-1.667 3.783v2.639l.531.307 2.512-4.352h5.018v-.001z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_3:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.815' height='32.815'%3E%3Cpath d='M4.581 23.55h4.681v4.681a.78.78 0 1 1-1.562 0v-3.118H4.581a.781.781 0 0 1 0-1.563zM29.016 8.481a.781.781 0 0 0-.781-.781h-3.119V4.582a.781.781 0 0 0-1.562 0v4.681h4.682c.429 0 .78-.35.78-.782zm-24.252.598l4.683-.001V4.395a.781.781 0 0 0-1.562 0v3.121l-3.121.001a.781.781 0 0 0 0 1.562zm23.655 14.287h-4.685l.002 4.684a.78.78 0 1 0 1.562 0l-.002-3.121h3.122a.781.781 0 0 0 .001-1.563zm4.394-6.96a.78.78 0 0 1-.781.781h-3.426l1.876 1.875a.782.782 0 0 1-1.104 1.105l-2.979-2.979h-1.986L17.19 24.41v1.987l2.977 2.979a.781.781 0 0 1-1.103 1.106l-1.874-1.875v3.426a.78.78 0 1 1-1.562 0v-3.426l-1.875 1.875a.782.782 0 0 1-1.105-1.105l2.978-2.979V24.41l-7.219-7.22H6.418l-2.98 2.98a.777.777 0 0 1-1.103 0 .781.781 0 0 1 0-1.106L4.21 17.19H.783a.78.78 0 1 1 0-1.562h3.426l-1.876-1.875a.782.782 0 1 1 1.106-1.105l2.979 2.979h1.989l7.219-7.218v-1.99L12.648 3.44a.782.782 0 1 1 1.106-1.105l1.874 1.874V.781a.782.782 0 0 1 1.563 0v3.426l1.875-1.875a.783.783 0 0 1 1.106 1.105l-2.979 2.979v1.99l7.216 7.218h1.992l2.979-2.979a.782.782 0 0 1 1.105 1.105l-1.876 1.874h3.427a.781.781 0 0 1 .777.782zm-10.613.782l.778-.78-.781-.782-5.009-5.008-.781-.781-.781.781-5.01 5.008-.781.781.781.781 5.01 5.011.782.781.78-.779 5.012-5.013zm5.863 4.646a.782.782 0 0 0-.781-.781h-6.229v6.228a.78.78 0 1 0 1.562 0v-4.665h4.666a.782.782 0 0 0 .782-.782zm-.001-10.855a.782.782 0 0 0-.781-.781h-4.664V5.532a.782.782 0 0 0-1.562 0v6.228h6.227a.78.78 0 0 0 .78-.781zm-23.318 0c0 .432.35.781.781.781h6.228V5.532a.781.781 0 0 0-1.562 0v4.666H5.525a.781.781 0 0 0-.781.781zm.002 10.855c0 .432.35.781.781.781h4.664v4.665a.78.78 0 1 0 1.562 0v-6.228H5.527a.783.783 0 0 0-.781.782z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_4:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='37.794' height='37.794'%3E%3Cpath d='M30.638 17.313l-.914 1.584.915 1.585a.78.78 0 1 1-1.352.78l-1.366-2.366 1.366-2.365a.782.782 0 0 1 1.067-.286c.372.215.5.692.284 1.068zM11.65 11.08l2.733.002 1.367-2.367a.78.78 0 0 0-1.352-.781l-.915 1.585-1.831-.002h-.001a.78.78 0 0 0-.001 1.563zm14.491 15.633h-2.733l-1.365 2.365a.78.78 0 1 0 1.352.78l.914-1.584h1.831a.781.781 0 0 0 .001-1.561zm-4.1-17.998l1.367 2.367h2.733a.78.78 0 1 0 0-1.562h-1.833l-.915-1.585a.78.78 0 0 0-1.352.78zM15.75 29.08l-1.368-2.366h-2.733a.781.781 0 0 0 0 1.562h1.832l.917 1.585c.146.25.409.391.677.391a.779.779 0 0 0 .675-1.172zm-8.313-7.531a.78.78 0 0 0 1.067-.284L9.87 18.9l-1.367-2.368a.781.781 0 0 0-1.351.781l.916 1.587-.914 1.584a.776.776 0 0 0 .283 1.065zm27.827 6.798a.784.784 0 0 1-1.067.285l-.89-.515-2.096 1.209a.793.793 0 0 1-.391.105.762.762 0 0 1-.391-.105l-2.484-1.435a.78.78 0 0 1-.391-.676l-.002-2.417-2.408-1.392a7.714 7.714 0 0 1-5.467 3.168v2.773l2.093 1.208a.78.78 0 0 1 .391.676l.001 2.868c0 .28-.149.537-.392.676l-2.093 1.205v1.032a.781.781 0 0 1-1.562 0V35.98l-2.095-1.207a.78.78 0 0 1-.391-.676l.001-2.868c0-.28.15-.537.391-.676l2.094-1.206v-2.773a7.718 7.718 0 0 1-5.468-3.168l-2.408 1.392.002 2.415c0 .281-.15.539-.391.676l-2.487 1.437a.785.785 0 0 1-.782 0l-2.095-1.209-.893.518a.782.782 0 0 1-.782-1.354l.893-.517.001-2.414a.78.78 0 0 1 .391-.677l2.487-1.434a.774.774 0 0 1 .781 0l2.093 1.208 2.407-1.39a7.655 7.655 0 0 1 0-6.317l-2.406-1.39-2.096 1.209a.772.772 0 0 1-.782 0l-2.485-1.434a.786.786 0 0 1-.391-.676l.002-2.416-.894-.517a.78.78 0 0 1-.285-1.066.788.788 0 0 1 1.07-.283l.893.514 2.093-1.208a.774.774 0 0 1 .781 0L9.851 9.91c.24.14.391.398.391.675L10.24 13l2.408 1.392a7.712 7.712 0 0 1 5.468-3.167V8.45L16.02 7.242a.78.78 0 0 1-.391-.676l.002-2.87c0-.279.15-.538.391-.675l2.094-1.208V.781a.781.781 0 0 1 1.562 0v1.032l2.093 1.206a.785.785 0 0 1 .391.677l-.002 2.87c0 .28-.149.536-.391.674l-2.091 1.208v2.772a7.708 7.708 0 0 1 5.467 3.167l2.409-1.392-.002-2.416c0-.28.149-.539.391-.676l2.487-1.436c.24-.14.539-.14.781 0l2.095 1.208.894-.514a.78.78 0 1 1 .781 1.352l-.894.516v2.417c0 .279-.15.538-.391.675l-2.487 1.436a.785.785 0 0 1-.782 0l-2.092-1.209-2.408 1.39c.436.967.684 2.032.684 3.158a7.65 7.65 0 0 1-.684 3.158l2.408 1.391 2.091-1.206a.782.782 0 0 1 .78 0l2.488 1.432c.24.141.392.398.392.677l-.002 2.414.893.517a.783.783 0 0 1 .287 1.068zm-6.147-16.251l.001.9.78.453.921.531 1.706-.982v-1.965l-.78-.451-.923-.533-1.707.983.002 1.064zm-20.443-.002l.002-1.063-1.706-.985-.922.535-.778.451-.001.902-.001 1.063 1.703.982.924-.533.779-.451v-.901zm0 13.604l-.001-.899-.781-.451-.919-.533-1.706.982-.001 1.064v.901l.781.451.923.533 1.707-.982-.003-1.066zm15.109-3.076c.315-.413.586-.864.789-1.351a6.121 6.121 0 0 0 0-4.748 6.175 6.175 0 0 0-.789-1.35 6.158 6.158 0 0 0-4.106-2.375 6.48 6.48 0 0 0-.781-.056c-.266 0-.525.022-.781.056a6.149 6.149 0 0 0-4.106 2.375 6.128 6.128 0 0 0-.789 1.35 6.104 6.104 0 0 0-.479 2.374 6.1 6.1 0 0 0 1.268 3.725 6.15 6.15 0 0 0 4.106 2.374c.256.031.516.056.781.056s.525-.022.781-.056a6.142 6.142 0 0 0 4.106-2.374zM17.19 6.113l.924.531.781.452.781-.452.919-.531.002-1.968-.921-.531-.784-.452-.779.451-.922.532-.001 1.968zm3.408 25.57l-.921-.532-.781-.452-.781.452-.922.532-.001 1.966.923.531.782.451.78-.449.922-.533-.001-1.966zm11.925-5.819l.001-1.063-1.707-.981-.919.529-.782.451v.901l.001 1.065 1.702.981.924-.533.778-.449.002-.901z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_5:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='31.25' height='31.25'%3E%3Cpath d='M20.581 1.176l-3.914 3.915V0h1.041v2.576L19.845.439l.736.737zm-1.615 9.069l.351.217 6.623-6.625-.736-.737-6.048 6.051a7.141 7.141 0 0 0-1.449-.6v-.082l5.082-5.082-.737-.737-5.387 5.388v1.33l.402.093a6.213 6.213 0 0 1 1.899.784zm2.041 2.043c.368.585.63 1.224.786 1.893l.094.403h1.028l5.171-5.173-.736-.737-4.699 4.701a7.523 7.523 0 0 0-.549-1.28l6.048-6.05-.737-.735-6.622 6.625.216.353zm7.368 1.254l1.921-1.923-.736-.735-3.699 3.7h5.39v-1.042h-2.876zm1.185 6.826l.736-.736-1.923-1.923h2.877v-1.042h-5.389l3.699 3.701zm-6.915-2.498l4.705 4.707.736-.736-5.171-5.174h-1.03l-.096.4a6.24 6.24 0 0 1-.795 1.883l-.22.353 6.639 6.641.736-.736-6.061-6.062c.227-.414.414-.84.557-1.276zm-3.7 3.125a6.241 6.241 0 0 1-1.88.794l-.399.096v1.33l5.387 5.387.736-.736-5.082-5.082v-.089a7.322 7.322 0 0 0 1.434-.605l6.061 6.062.736-.736-6.641-6.641-.352.22zM16.667 31.25h1.041v-2.576l2.137 2.137.736-.737-3.914-3.914v5.09zm-5.26-.439l2.134-2.137v2.576h1.042v-5.093l-3.913 3.916.737.738zm.897-9.816l-.352-.222-6.642 6.641.736.736 6.062-6.062c.456.254.937.456 1.433.605v.089l-5.08 5.082.736.736 5.387-5.387v-1.33l-.4-.096a6.175 6.175 0 0 1-1.88-.792zm-2.046-2.047a6.315 6.315 0 0 1-.798-1.883l-.096-.4H8.335l-5.172 5.174.737.736 4.706-4.71c.145.441.329.865.556 1.276L3.1 25.202l.736.736 6.643-6.643-.221-.347zM0 16.667v1.042h2.876L.954 19.632l.736.736 3.698-3.701H0zm1.69-5.783l-.736.735 1.921 1.923H0v1.042h5.39l-3.7-3.7zm6.916 2.498L3.9 8.674l-.736.737 5.172 5.173h1.029l.096-.4a6.15 6.15 0 0 1 .798-1.881l.222-.352L3.837 5.31l-.736.736 6.062 6.06a7.268 7.268 0 0 0-.557 1.276zm-.145-9.996l5.08 5.082v.088c-.497.15-.977.352-1.433.606L6.047 3.101l-.736.737 6.643 6.643.352-.222a6.223 6.223 0 0 1 1.88-.797l.4-.095v-1.33L9.2 2.649l-.739.737zm5.081-.81L11.408.439l-.736.737 3.913 3.917V0h-1.042v2.576zm-1.757 14.831a4.2 4.2 0 0 0 2.06 2.058l.739.338v-3.136h-3.138l.339.74zm0-3.562l-.337.738h3.135v-3.136l-.739.338a4.223 4.223 0 0 0-2.059 2.06zm7.679 3.561l.338-.739h-3.135v3.136l.738-.338a4.204 4.204 0 0 0 2.059-2.059zm0-3.561a4.198 4.198 0 0 0-2.059-2.06l-.738-.34v3.138h3.135l-.338-.738z' fill=':color:'/%3E%3C/svg%3E")}`,wc=class xs{constructor(t){this.destroyed=!1,this.flakes=[],this.isBody=!1,this.handleResize=()=>{this.params.autoResize&&this.resize()},this.handleOrientationChange=()=>{this.resize()},this.params=this.setParams(t),this.isBody=qx(this.params.container),xs.gid++,this.gid=xs.gid,this.container=this.appendContainer(),this.params.stop&&this.stop(),this.appendStyles(),this.appendFlakes(),this.containerSize={width:this.width(),height:this.height()},window.addEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.addEventListener&&screen.orientation.addEventListener("change",this.handleOrientationChange)}start(){fy(this.container,"snowflakes_paused")}stop(){zo(this.container,"snowflakes_paused")}show(){fy(this.container,"snowflakes_hidden")}hide(){zo(this.container,"snowflakes_hidden")}resize(){let t=this.width(),r=this.height();if(r===this.containerSize.height)return;this.containerSize.width=t,this.containerSize.height=r;let a=this.getFlakeParams();this.flakes.forEach(l=>l.resize(a)),!this.isBody&&(vy(this.container),this.updateAnimationStyle(),gy(this.container))}destroy(){this.destroyed||(this.destroyed=!0,xs.instanceCounter&&xs.instanceCounter--,this.removeStyles(),eh(this.container),this.flakes.forEach(t=>t.destroy()),this.flakes=[],window.removeEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.removeEventListener&&screen.orientation.removeEventListener("change",this.handleOrientationChange,!1))}appendContainer(){let t=document.createElement("div");return zo(t,"snowflakes"),zo(t,`snowflakes_gid_${this.gid}`),this.isBody&&zo(t,"snowflakes_body"),il(t,{zIndex:String(this.params.zIndex)}),this.params.container.appendChild(t),t}appendStyles(){xs.instanceCounter||(this.mainStyleNode=this.injectStyle(Kx)),xs.instanceCounter++,this.imagesStyleNode=this.injectStyle(Zx.replace(/:color:/g,encodeURIComponent(this.params.color))),this.animationStyleNode=this.injectStyle(this.getAnimationStyle())}injectStyle(t,r){return Vx(t.replace(/_gid_value/g,`_gid_${this.gid}`),r)}getFlakeParams(){let t=this.height(),r=this.params;return{containerHeight:t,gid:this.gid,count:r.count,speed:r.speed,rotation:r.rotation,minOpacity:r.minOpacity,maxOpacity:r.maxOpacity,minSize:r.minSize,maxSize:r.maxSize,types:r.types,wind:r.wind}}appendFlakes(){let t=this.getFlakeParams();this.flakes=[];for(let r=0;r<this.params.count;r++)this.flakes.push(new Yx(t));this.flakes.sort((r,a)=>r.size-a.size).forEach(r=>{r.appendTo(this.container)})}setParams(t){let r=t||{},a={},l={color:"#5ECDEF",container:document.body,count:50,speed:1,stop:!1,rotation:!0,minOpacity:.6,maxOpacity:1,minSize:10,maxSize:25,types:6,width:void 0,height:void 0,wind:!0,zIndex:9999,autoResize:!0};return Object.keys(l).forEach(o=>{a[o]=typeof r[o]>"u"?l[o]:r[o]}),a}getAnimationStyle(){let t="0px",r=this.params.maxSize*Math.sqrt(2),a=this.isBody?`calc(100vh + ${r}px)`:`${this.height()+r}px`,l=this.gid,o=`@-webkit-keyframes snowflake_gid_${l}_y{from{-webkit-transform:translateY(${t})}to{-webkit-transform:translateY(${a});}}
@keyframes snowflake_gid_${l}_y{from{transform:translateY(${t})}to{transform:translateY(${a});}}`;for(let u=0;u<=Zf;u++){let n=by(u,this.params.minSize,this.params.maxSize)+"px";o+=`@-webkit-keyframes snowflake_gid_${l}_x_${u}{from{-webkit-transform:translateX(0px)}to{-webkit-transform:translateX(${n});}}
@keyframes snowflake_gid_${l}_x_${u}{from{transform:translateX(0px)}to{transform:translateX(${n})}}`}return o}updateAnimationStyle(){this.injectStyle(this.getAnimationStyle(),this.animationStyleNode)}removeStyles(){xs.instanceCounter||(eh(this.mainStyleNode),delete this.mainStyleNode),eh(this.imagesStyleNode),delete this.imagesStyleNode,eh(this.animationStyleNode),delete this.animationStyleNode}width(){return this.params.width||(this.isBody?Wx():this.params.container.offsetWidth)}height(){return this.params.height||(this.isBody?Ux():this.params.container.offsetHeight+this.params.maxSize)}};wc.instanceCounter=0;wc.gid=0;Zi();ti();Ar();var Jx={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:t6,fromCents:!1},yy=function(e){return Math.round(e)},Jf=function(e){return Math.pow(10,e)},Xx=function(e,t){return yy(e/t)*t},Qx=/(\d)(?=(\d{3})+\b)/g,e6=/(\d)(?=(\d\d)+\d\b)/g;function Ta(e,t){var r=this;if(!(r instanceof Ta))return new Ta(e,t);var a=Object.assign({},Jx,t),l=Jf(a.precision),o=th(e,a);r.intValue=o,r.value=o/l,a.increment=a.increment||1/l,a.useVedic?a.groups=e6:a.groups=Qx,this.s=a,this.p=l}function th(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=0,l=t.decimal,o=t.errorOnInvalid,u=t.precision,n=t.fromCents,c=Jf(u),d=typeof e=="number",f=e instanceof Ta;if(f&&n)return e.intValue;if(d||f)a=f?e.value:e;else if(typeof e=="string"){var p=new RegExp("[^-\\d"+l+"]","g"),v=new RegExp("\\"+l,"g");a=e.replace(/\((.*)\)/,"-$1").replace(p,"").replace(v,"."),a=a||0}else{if(o)throw Error("Invalid Input");a=0}return n||(a*=c,a=a.toFixed(4)),r?yy(a):a}function t6(e,t){var r=t.pattern,a=t.negativePattern,l=t.symbol,o=t.separator,u=t.decimal,n=t.groups,c=(""+e).replace(/^-/,"").split("."),d=c[0],f=c[1];return(e.value>=0?r:a).replace("!",l).replace("#",d.replace(n,"$1"+o)+(f?u+f:""))}Ta.prototype={add:function(e){var t=this.intValue,r=this.s,a=this.p;return Ta((t+=th(e,r))/(r.fromCents?1:a),r)},subtract:function(e){var t=this.intValue,r=this.s,a=this.p;return Ta((t-=th(e,r))/(r.fromCents?1:a),r)},multiply:function(e){var t=this.intValue,r=this.s;return Ta((t*=e)/(r.fromCents?1:Jf(r.precision)),r)},divide:function(e){var t=this.intValue,r=this.s;return Ta(t/=th(e,r,!1),r)},distribute:function(e){for(var t=this.intValue,r=this.p,a=this.s,l=[],o=Math[t>=0?"floor":"ceil"](t/e),u=Math.abs(t-o*e),n=a.fromCents?1:r;e!==0;e--){var c=Ta(o/n,a);u-- >0&&(c=c[t>=0?"add":"subtract"](1/n)),l.push(c)}return l},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,t=this.p;return~~(e%t)},format:function(e){var t=this.s;return typeof e=="function"?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.intValue,t=this.p,r=this.s;return Xx(e/t,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};var ih=Ta;var wy;(function(e){e.CreditCard="Credit Card",e.PayPal="PayPal",e.GooglePay="Google Pay",e.Venmo="Venmo",e.ApplePay="Apple Pay"})(wy||(wy={}));var rh=class Xf{get feeAmountCovered(){return this.coverFees?this.fee:0}get fee(){return Xf.calculateFeeAmount(this.amount)}get total(){return Xf.calculateTotal(this.amount,this.coverFees)}static calculateTotal(t,r){let a=r?this.calculateFeeAmount(t):0,l=t+a;return isNaN(l)?0:this.roundAmount(l)}static calculateFeeAmount(t){let r=t*.0219+.29;return isNaN(r)?0:this.roundAmount(r)}static roundAmount(t){return Math.round(t*100)/100}constructor(t){this.donationType=t.donationType,this.amount=t.amount,this.coverFees=t.coverFees}},la;(function(e){e.OneTime="one-time",e.Monthly="monthly",e.Upsell="up_sell"})(la||(la={}));var _y=[5,10,25,50,100,500,1e3],ky=new rh({donationType:la.OneTime,amount:10,coverFees:!1});var xy=class{keydown(e){var t,r;let a=e.key;if(e.metaKey)return;switch(a){case"Tab":case"Delete":case"Backspace":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}let l=e.target,o=l.value,u=o.slice(0,(t=l.selectionStart)!==null&&t!==void 0?t:0),n=o.slice((r=l.selectionEnd)!==null&&r!==void 0?r:0),c=`${u}${a}${n}`,d=/^[0-9]+(\.[0-9]{0,2})?$/g;c.match(d)||e.preventDefault()}};Zi();ti();Ar();var fu;(function(e){e.HideBadge="hidebadge",e.ShowBadge="showbadge",e.HideBadgeLeaveSpacing="hidebadgeleavespacing"})(fu||(fu={}));var _c=class extends Yt{constructor(){super(...arguments),this.sectionBadge="0",this.badgeMode=fu.ShowBadge}render(){return we`
      <div class="container ${this.badgeMode}">
        <div class="badge-container">
          <div class="badge">${this.sectionBadge}</div>
        </div>
        <div class="content-container">
          ${this.headline?we` <div class="title">${this.headline}</div> `:""}
          <div class="content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}static get styles(){let e=Le`var(--formSectionBadgeTransition, 0.25s ease-out)`,t=Le`var(--formSectionBadgeMargin, 1rem)`,r=Le`var(--formSectionBadgeBackgroundColor, #333)`,a=Le`var(--formSectionBadgeRadius, 1.2rem)`,l=Le`calc(${a} * 2)`,o=Le`var(--formSectionBadgeFontSize, 1.8rem)`,u=Le`var(--formSectionBadgeFontWeight, bold)`,n=Le`var(--formSectionBadgeFontColor, #fff)`,c=Le`var(--formSectionTitleFontSize, 1.8rem)`,d=Le`var(--formSectionTitleFontWeight, bold)`,f=Le`var(--formSectionContentBackgroundColor, transparent)`,p=Le`var(--formSectionTextColor, #333)`,v=Le`calc(${a} * 2)`;return Le`
      :host {
        display: block;
        background-color: ${f};
        color: ${p};
      }
      .container {
        position: relative;
        padding: 0.5rem;
      }

      .content-container {
        position: relative;
        left: calc(${l} + ${t});
        width: calc(100% - (${l} + ${t}));
        transition: ${e};
        z-index: 1;
      }

      .hidebadge .content-container {
        left: 0;
        width: 100%;
      }

      .hidebadge .badge-container {
        display: none;
      }

      .hidebadgeleavespacing .badge {
        display: none;
      }

      .badge-container {
        position: absolute;
        width: ${l};
      }

      .badge {
        background-color: ${r};
        color: ${n};
        width: ${l};
        height: ${l};
        border-radius: ${a};
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: ${u};
        font-size: ${o};
      }

      .title {
        line-height: ${v};
        margin-bottom: 0.5rem;
        font-size: ${c};
        font-weight: ${d};
      }
    `}};Y([St({type:String})],_c.prototype,"sectionBadge",void 0);Y([St({type:String})],_c.prototype,"headline",void 0);Y([St({type:String})],_c.prototype,"badgeMode",void 0);_c=Y([Fi("donation-form-section")],_c);Zi();ti();Ar();var kc;(function(e){e.HideNumbers="hidenumbers",e.ShowNumbers="shownumbers"})(kc||(kc={}));var $a;(function(e){e.DonationType="donationType",e.Amount="amount"})($a||($a={}));var ta;(function(e){e.ValidDonationAmount="valid_donation_amount",e.InvalidDonationAmount="invalid_donation_amount",e.DonationTooHigh="donation_too_high",e.DonationTooLow="donation_too_low"})(ta||(ta={}));var rl;(function(e){e.Button="button",e.Checkbox="checkbox",e.Hide="hide"})(rl||(rl={}));var nh;(function(e){e.SingleLine="single-line",e.MultiLine="multi-line"})(nh||(nh={}));var ko=class extends Yt{constructor(){super(...arguments),this.donationInfo=ky,this.stepNumberMode=kc.ShowNumbers,this.amountOptions=_y,this.amountSelectionLayout=nh.MultiLine,this.frequencySelectionMode=rl.Button,this.customAmountMode="display",this.coverFeesCheckboxMode="display",this.amountTitleDisplayMode="default",this.customAmountSelected=!1,this.currencyValidator=new xy}render(){let e=this.amountTitleDisplayMode==="default"?"Choose an amount (USD)":"";return we`
      ${this.frequencySelectionMode===rl.Button?this.frequencyButtonsTemplate:ei}

      <donation-form-section
        sectionBadge="${this.amountSelectionSectionNumber}"
        headline=${e}
        badgeMode=${this.formSectionNumberMode}
      >
        ${this.amountTitleDisplayMode==="slot"?we`<slot name="edit-donation-amount-title"></slot>`:ei}
        <ul class="amount-selector">
          ${this.presetAmountsTemplate}
          ${this.customAmountMode==="display"?we`<li class="custom-amount">${this.customAmountTemplate}</li>`:ei}
        </ul>

        <div class="errors">${this.error}</div>

        ${this.coverFeesCheckboxMode==="display"?we` <div class="checkbox-options">
              ${this.coverFeesCheckboxTemplate}
              ${this.frequencySelectionMode===rl.Checkbox?this.frequencyCheckboxTemplate:ei}
            </div>`:ei}
      </donation-form-section>
    `}updated(e){e.has("customAmountSelected")&&this.customAmountButton&&(this.customAmountButton.checked=this.customAmountSelected),e.has("amountOptions")&&(this.customAmountSelected=!1,this.updateSelectedDonationInfo(),this.setupAmountColumnsLayoutConfig()),e.has("amountSelectionLayout")&&this.setupAmountColumnsLayoutConfig(),e.has("donationInfo")&&this.updateSelectedDonationInfo(),e.has("defaultSelectedAmount")&&this.defaultSelectedAmount!==void 0&&(this.customAmountSelected=!1,this.donationInfo=new rh({donationType:this.donationInfo.donationType,amount:this.defaultSelectedAmount,coverFees:this.donationInfo.coverFees}))}get frequencyButtonsTemplate(){return we`
      <donation-form-section
        sectionBadge="1"
        headline="Choose a frequency"
        badgeMode=${this.formSectionNumberMode}
      >
        <ul class="frequency-selector">
          ${this.frequencyTemplate}
        </ul>
      </donation-form-section>
    `}get frequencyCheckboxTemplate(){return we`
      <div class="checkbox-option-container">
        <input
          type="checkbox"
          id="make-this-monthly"
          @input=${this.monthlyCheckboxChecked}
          .checked=${this.donationInfo.donationType===la.Monthly}
          tabindex="0"
        />
        <label for="make-this-monthly"> Make this monthly </label>
      </div>
    `}get coverFeesCheckboxTemplate(){return we`
      <div class="checkbox-option-container">
        <input
          type="checkbox"
          id="cover-fees"
          @input=${this.coverFeesChecked}
          .checked=${this.donationInfo.coverFees}
          tabindex="0"
        />
        <label for="cover-fees"> ${this.coverFeesTextTemplate} </label>
      </div>
    `}get amountSelectionSectionNumber(){return this.frequencySelectionMode===rl.Button?2:1}get formSectionNumberMode(){switch(this.stepNumberMode){case kc.ShowNumbers:return fu.ShowBadge;case kc.HideNumbers:return fu.HideBadge}}setupAmountColumnsLayoutConfig(){let e=this.customAmountMode==="hide"&&this.coverFeesCheckboxMode==="hide"&&this.frequencySelectionMode===rl.Hide,t=this.amountOptions.length,r=5,a=3;switch(t){case 7:r=5,a=3;break;case 6:r=4,a=2;break;case 5:r=4,a=3;break;case 4:if(e){r=4,a=0;break}r=3,a=2;break;case 3:r=2,a=1;break}this.amountSelectionLayout===nh.SingleLine&&(r=t+3,a=3),this.style.setProperty("--paymentSelectorAmountColumnCount",`${r}`),this.style.setProperty("--paymentSelectorCustomAmountColSpan",`${a}`)}updateSelectedDonationInfo(){var e,t;if(!this.customAmountSelected&&!this.isCustomAmount){let r=(e=this.shadowRoot)===null||e===void 0?void 0:e.querySelector(`input[type="radio"][name="${$a.Amount}"][value="${this.donationInfo.amount}"]`);r.checked=!0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value="")}else if(this.customAmountSelected=!0,((t=this.shadowRoot)===null||t===void 0?void 0:t.activeElement)!==this.customAmountInput){this.customAmountInput.value=this.customAmountDisplayValue;let r=this.getDonationInfoStatus(this.donationInfo.amount);this.handleDonationInfoStatus(r)}}get coverFeesTextTemplate(){let e=ih(this.donationInfo.fee,{symbol:"$"}).format();return we` I'll generously add ${e} to cover fees. `}formatShortenedAmount(e){let t=e%1===0?0:2;return ih(e,{symbol:"$",precision:t}).format()}get frequencyTemplate(){return we`
      <li>
        ${this.getRadioButton({group:$a.DonationType,value:la.OneTime,displayText:"One time",checked:this.donationInfo.donationType===la.OneTime})}
      </li>

      <li>
        ${this.getRadioButton({group:$a.DonationType,value:la.Monthly,displayText:"Monthly",checked:this.donationInfo.donationType===la.Monthly})}
      </li>
    `}get presetAmountsTemplate(){return we`
      ${this.amountOptions.map(e=>{let t=!this.customAmountSelected&&e===this.donationInfo.amount,r=this.formatShortenedAmount(e);return we`
          <li>
            ${this.getRadioButton({group:$a.Amount,value:`${e}`,displayText:`${r}`,checked:t})}
          </li>
        `})}
    `}getRadioButton(e){let t=`${e.group}-${e.value}-option`;return we`
      <div class="selection-button">
        <input
          type="radio"
          name=${e.group}
          value=${e.value}
          id=${t}
          tabindex="0"
          .checked=${e.checked}
          @change=${this.radioSelected}
          @click=${r=>{e.group===$a.Amount&&parseFloat(e.value)===this.donationInfo.amount&&this.radioSelected(r)}}
        />
        <label for=${t}> ${e.displayText} </label>
      </div>
    `}get isCustomAmount(){return!this.amountOptions.includes(this.donationInfo.amount)}get customAmountDisplayValue(){return this.isCustomAmount?ih(this.donationInfo.amount,{symbol:""}).format():""}get customAmountTemplate(){return we`
      <div class="selection-button">
        <input
          type="radio"
          name=${$a.Amount}
          value="custom"
          id="custom-amount-button"
          tabindex="0"
          @change=${this.customRadioSelected}
        />

        <label for="custom-amount-button">
          <span class="custom-amount-text">Custom: $</span
          ><input
            type="text"
            id="custom-amount-input"
            tabindex="-1"
            value=${this.customAmountDisplayValue}
            @input=${this.customAmountChanged}
            @keydown=${this.currencyValidator.keydown}
            @focus=${this.customAmountFocused}
            @blur=${e=>{let t=e.target;t.value=this.customAmountDisplayValue}}
          />
        </label>
      </div>
    `}customRadioSelected(){this.customAmountInput.focus()}customAmountFocused(e){let t=e.target;this.customAmountSelected=!0,this.handleCustomAmountInput(t.value)}coverFeesChecked(e){let t=e.target.checked;this.updateDonationInfo({coverFees:t})}customAmountChanged(e){let t=e.target.value;this.customAmountSelected=!0,this.handleCustomAmountInput(t)}handleCustomAmountInput(e){let t=parseFloat(e);isNaN(t)?this.dispatchEditDonationError(ta.InvalidDonationAmount):this.amountChanged(t)}handleDonationInfoStatus(e){switch(e){case ta.ValidDonationAmount:this.error=void 0;break;case ta.DonationTooHigh:this.error=we`
          To make a donation of $10,000 or more, please contact our philanthropy
          department at
          <a href="mailto:donations@archive.org">donations@archive.org</a>
        `,this.dispatchEditDonationError(e);break;case ta.DonationTooLow:this.customAmountInput.value.length>0&&(this.error=we` Please select an amount (minimum $1) `),this.dispatchEditDonationError(e);break;case ta.InvalidDonationAmount:this.error=we` Please enter a valid donation amount `,this.dispatchEditDonationError(e);break}}amountChanged(e){let t=this.getDonationInfoStatus(e);this.handleDonationInfoStatus(t),t===ta.ValidDonationAmount&&this.updateDonationInfo({amount:e})}getDonationInfoStatus(e){return isNaN(e)?ta.InvalidDonationAmount:e>=1e4?ta.DonationTooHigh:e<1?ta.DonationTooLow:ta.ValidDonationAmount}radioSelected(e){let t=e.target,r=t.name,{value:a}=t;switch(r){case $a.Amount:this.presetAmountChanged(parseFloat(a));break;case $a.DonationType:this.updateDonationInfo({donationType:a});break;default:break}}monthlyCheckboxChecked(e){let t=e.target.checked?la.Monthly:la.OneTime;this.updateDonationInfo({donationType:t})}dispatchEditDonationError(e){let t=new CustomEvent("editDonationError",{detail:{error:e}});this.dispatchEvent(t)}presetAmountChanged(e){this.error=void 0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value=""),this.updateDonationInfo({amount:e})}updateDonationInfo(e){var t,r,a;let l=new rh({donationType:(t=e.donationType)!==null&&t!==void 0?t:this.donationInfo.donationType,amount:(r=e.amount)!==null&&r!==void 0?r:this.donationInfo.amount,coverFees:(a=e.coverFees)!==null&&a!==void 0?a:this.donationInfo.coverFees});this.donationInfo=l;let o=new CustomEvent("donationInfoChanged",{detail:{donationInfo:l}});this.dispatchEvent(o)}static get styles(){let e=Le`var(--paymentButtonBorderColor, #333)`,t=Le`var(--paymentButtonGridGap, 1rem)`,r=Le`var(--paymentButtonFontSize, 1.6rem)`,a=Le`var(--paymentButtonFontColor, #000)`,l=Le`var(--paymentButtonSelectedFontColor, #000)`,o=Le`var(--paymentButtonSelectedColor, #f9bf3b)`,u=Le`var(--paymentButtonFocusedOutlineColor, #7fb3f9)`,n=Le`var(--paymentButtonColor, #fff)`,c=Le`var(--coverFeesFontSize, 1.2rem)`,d=Le`var(--coverFeesFontWeight, bold)`,f=Le`var(--customAmountWidth, 4rem)`,p=Le`var(--inputFieldFontColor, #333)`,v=Le`var(--inputBorder, 1px solid #d9d9d9)`,y=Le`var(--paymentSelectorAmountColumnCount, 5)`,w=Le`var(--paymentSelectorCustomAmountColSpan, 3)`;return Le`
      :host {
        --formSectionContentBackgroundColor: var(
          --editFormBgColor,
          transparent
        );
        --formSectionBadgeBackgroundColor: var(--editFormBadgeBgColor, #333);
        --formSectionBadgeFontColor: var(--editFormBadgeFontColor, #fff);
        --formSectionTextColor: var(--editFormTextColor, #333);
      }
      .errors {
        color: red;
        font-size: 1.4rem;
        margin-top: 0.5rem;
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        grid-gap: ${t};
      }

      li {
        margin: 0;
        padding: 0;
        display: inline-block;
      }

      .frequency-selector {
        grid-template-columns: repeat(2, 1fr);
      }

      .amount-selector {
        grid-template-columns: repeat(${y}, 1fr);
      }

      .custom-amount {
        grid-column: span ${w};
      }

      .selection-button {
        height: 3rem;
      }

      .selection-button label {
        padding: 0 0.3rem;
        display: flex;
        cursor: pointer;
        text-align: center;
        font-size: ${r};
        font-weight: bold;
        border: 1px solid ${e};
        border-radius: 5px;
        background-color: #ccc;
        height: 100%;
        justify-content: center;
        align-items: center;
      }

      label[for='custom-amount-button'] {
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .custom-amount-text {
        white-space: nowrap;
        margin-right: 0.5rem;
      }

      input[type='radio'] {
        opacity: 0;
        width: 0;
        height: 0;
        position: absolute;
      }

      input[type='radio'] + label {
        color: ${a};
        background-color: ${n};
      }

      input[type='radio']:checked + label {
        color: ${l};
        background-color: ${o};
      }

      input[type='radio']:focus + label {
        outline: 2px solid ${u};
      }

      .checkbox-options {
        margin-top: 1rem;
      }

      .checkbox-option-container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .checkbox-option-container input {
        width: 2rem;
      }

      .checkbox-option-container label {
        font-size: ${c};
        font-weight: ${d};
        flex: 1;
      }

      #custom-amount-input {
        width: ${f};
        font-size: 1.6rem;
        font-weight: bold;
        color: ${p};
        padding: 0.1rem;
        border: ${v};
        appearance: none;
        -moz-appearance: none;
        -webkit-appearance: none;
      }
    `}};Y([St({type:Object})],ko.prototype,"donationInfo",void 0);Y([St({type:String})],ko.prototype,"stepNumberMode",void 0);Y([St({type:Number})],ko.prototype,"defaultSelectedAmount",void 0);Y([St({type:Array})],ko.prototype,"amountOptions",void 0);Y([St({type:String})],ko.prototype,"amountSelectionLayout",void 0);Y([St({type:String,reflect:!0})],ko.prototype,"frequencySelectionMode",void 0);Y([St({type:String,reflect:!0})],ko.prototype,"customAmountMode",void 0);Y([St({type:String,reflect:!0})],ko.prototype,"coverFeesCheckboxMode",void 0);Y([St({type:String,reflect:!0})],ko.prototype,"amountTitleDisplayMode",void 0);Y([Er()],ko.prototype,"error",void 0);Y([Er()],ko.prototype,"customAmountSelected",void 0);Y([wr("#custom-amount-button")],ko.prototype,"customAmountButton",void 0);Y([wr("#custom-amount-input")],ko.prototype,"customAmountInput",void 0);ko=Y([Fi("donation-form-edit-donation")],ko);Zi();ti();Ar();Zi();ti();Ar();var Ho=class extends Yt{constructor(){super(...arguments),this.goalMessageMode="amount",this.goalNearMessage="We\u2019ve almost reached our goal!",this.goalReachedMessage="We've reached our goal!",this.goalAmount=75e5,this.currentAmountMode="on",this.currentAmount=0,this.thermometerValueWidth=0,this.thermometerFillWidth=0}render(){return we`
      <div
        class="container"
        role="progressbar"
        aria-valuemin="0"
        aria-valuemax="${this.goalAmount}"
        aria-valuenow="${this.currentAmount}"
        aria-valuetext="${this.currentAmountDisplayValue}"
      >
        <div class="thermometer-message-container">
          <div class="thermometer-container">
            <div
              class="thermometer-background ${this.thermometerValuePosition}"
            >
              <div
                class="thermometer-fill"
                style="width: ${this.percentComplete}%"
              >
                ${this.thermometerValuePosition==="value-left"?this.thermometerValueTemplate:ei}
              </div>
              ${this.thermometerValuePosition==="value-right"?this.thermometerValueTemplate:ei}
            </div>
          </div>
          ${this.goalMessageMode!=="off"?we` <div class="donate-goal">${this.currentGoalMessage}</div> `:ei}
        </div>
      </div>
    `}get thermometerValueTemplate(){return this.currentAmountMode==="off"?we`${ei}`:we`
          <div class="thermometer-value">${this.currentAmountDisplayValue}</div>
        `}get thermometerValuePosition(){return this.thermometerValueWidth+10<this.thermometerFillWidth?"value-left":"value-right"}updated(e){if(e.has("resizeObserver")){let t=e.get("resizeObserver");this.disconnectResizeObserver(t),this.setupResizeObserver(this.resizeObserver)}e.has("currentAmountMode")&&(this.unobserveCurrentAmountResize(this.resizeObserver),this.observeCurrentAmountResize(this.resizeObserver))}disconnectedCallback(){this.disconnectResizeObserver(this.resizeObserver)}handleResize(e){var t;switch(e.target){case((t=this.shadowRoot)===null||t===void 0?void 0:t.host):this.style.setProperty("--bannerThermometerHeight",e.contentRect.height+"px");break;case this.thermometerValue:this.thermometerValueWidth=e.contentRect.width;break;case this.thermometerFill:this.thermometerFillWidth=e.contentRect.width;break}}setupResizeObserver(e){var t;!(!((t=this.shadowRoot)===null||t===void 0)&&t.host)||!e||(e.addObserver({handler:this,target:this.shadowRoot.host}),e.addObserver({handler:this,target:this.thermometerFill}),this.observeCurrentAmountResize(e))}disconnectResizeObserver(e){var t;!(!((t=this.shadowRoot)===null||t===void 0)&&t.host)||!e||(e.removeObserver({handler:this,target:this.shadowRoot.host}),e.removeObserver({handler:this,target:this.thermometerFill}),this.unobserveCurrentAmountResize(e))}observeCurrentAmountResize(e){!this.thermometerValue||!e||(e==null||e.addObserver({handler:this,target:this.thermometerValue}))}unobserveCurrentAmountResize(e){!this.thermometerValue||!e||(e==null||e.removeObserver({handler:this,target:this.thermometerValue}))}get goalMessage(){return this.currentAmount>=this.goalAmount?this.goalReachedMessage:this.goalNearMessage}get currentAmountDisplayValue(){return this.formatNumber(this.currentAmount)}get goalAmountDisplayValue(){return this.formatNumber(this.goalAmount)}formatNumber(e){if(e===0)return"$0";let t="MM",r=e/1e6,a=r<10,l=0;return a?l=Math.round((r+Number.EPSILON)*10)/10:l=Math.round(r),`$${l}${t}`}get currentGoalMessage(){switch(this.goalMessageMode){case"amount":return`${this.goalAmountDisplayValue} goal`;case"message":return this.goalMessage;case"off":return""}}get percentComplete(){return Math.min(this.currentAmount/this.goalAmount*100,100)}static get styles(){let e=Le`var(--bannerThermometerHeight, 20px)`,t=Le`var(--bannerThermometerCurrentValueLeftColor, #fff)`,r=Le`var(--bannerThermometerProgressColor, #23765D)`,a=Le`var(--bannerThermometerCurrentValueRightColor, ${r})`,l=Le`var(--bannerThermometerBackgroundColor, #B8F5E2)`,o=Le`var(--bannerThermometerBorder, 1px solid ${r})`,u=Le`var(--bannerThermometerBorderRadius, calc(${e} / 2))`,n=Le`var(--bannerThermometerGoalMessagePadding, 0 10px)`,c=Le`var(--bannerThermometerGoalValueColor, #2c2c2c)`;return Le`
      :host {
        display: block;
      }

      .container {
        height: 100%;
      }

      .thermometer-message-container {
        height: 100%;
        display: flex;
        align-items: center;
      }

      .thermometer-container {
        height: 100%;
        flex: 1;
      }

      .thermometer-background {
        background-color: ${l};
        padding: 0;
        height: 100%;
        border-radius: ${u};
        border: ${o};
        overflow: hidden;
        display: flex;
        align-items: center;
      }

      .thermometer-fill {
        background-color: ${r};
        text-align: right;
        height: 100%;
        display: flex;
        justify-content: flex-end;
        align-items: center;
      }

      .thermometer-value {
        font-weight: bold;
      }

      .value-left .thermometer-value {
        color: ${t};
        padding: 0 0.5rem 0 1rem;
      }

      .value-right .thermometer-value {
        color: ${a};
        padding: 0 1rem 0 0.5rem;
      }

      .donate-goal {
        text-align: left;
        padding: ${n};
        text-transform: uppercase;
        font-weight: bold;
        color: ${c};
      }
    `}};Y([St({type:String})],Ho.prototype,"goalMessageMode",void 0);Y([St({type:String})],Ho.prototype,"goalNearMessage",void 0);Y([St({type:String})],Ho.prototype,"goalReachedMessage",void 0);Y([St({type:Number})],Ho.prototype,"goalAmount",void 0);Y([St({type:String})],Ho.prototype,"currentAmountMode",void 0);Y([St({type:Number})],Ho.prototype,"currentAmount",void 0);Y([St({type:Object})],Ho.prototype,"resizeObserver",void 0);Y([wr(".thermometer-value")],Ho.prototype,"thermometerValue",void 0);Y([wr(".thermometer-fill")],Ho.prototype,"thermometerFill",void 0);Y([Er()],Ho.prototype,"thermometerValueWidth",void 0);Y([Er()],Ho.prototype,"thermometerFillWidth",void 0);Ho=Y([Fi("donation-banner-thermometer")],Ho);uh();No();var ch=class e{static get_banner_height(){return Ke("#donate_banner").outerHeight()}static postMessage(t,r=0){ir("postin",{event:t,incomingValue:r});let a=e.get_banner_height(),l=e.preventResizeEventResponse?e.calculateBannerWithReminderForm():0,o=Math.max(l,r);window.parent.postMessage(JSON.stringify({event:t,value:o,bannerHeight:a}),"*"),t==="close modal"&&e.adjust_height()}static openReminderForm(){e.preventResizeEventResponse=!0,e.postMessage("set height"),window.scrollTo(0,0)}static closeReminderForm(){e.preventResizeEventResponse=!1,e.postMessage("close modal"),window.scrollTo(0,0)}static onSubmitReminderForm(t=0){e.preventResizeEventResponse=!1,e.postMessage("set cookie",t)}static calculateBannerWithReminderForm(){let t=document.querySelector(".js-donate-banner"),r=document.querySelector(".js-donate-form"),a=document.querySelector(".js-donate-later-dropdown"),l=15,o=t.offsetHeight,u=a.offsetHeight,n=r.offsetHeight+r.offsetTop,c=o-n;return o-c+u+l}static adjust_height(t){let r=t!=null?t:e.get_banner_height();e.postMessage("set height",r),ir({banner_height:r}),this.currentBannerHeight=r}static init(){ir("donato tornado"),Ke(window).on("resize  orientationchange",()=>{e.fixBannerHeightIfNeeded(),clearTimeout(e.adjust_height_throttler),e.adjust_height_throttler=setTimeout(e.adjust_height,100)}),this.currentWindowWidth=window.innerWidth,this.currentBannerHeight=e.get_banner_height(),e.adjust_height()}static fixBannerHeightIfNeeded(){if(window.innerWidth===this.currentWindowWidth){let t=e.get_banner_height();t!==this.currentBannerHeight&&(ir("Performing banner height correction: current, new",this.currentBannerHeight,t),e.adjust_height(t))}else this.currentWindowWidth=window.innerWidth}};ch.preventResizeEventResponse=!1;var ua=ch;nm();var x6=27,dh="RemindForm",hh=class e{constructor(t,r,a){this.$form=t,this.$trigger=r,this.setDonationCookie=a||$.noop}static validateDonorEmail(t){return/.+@.+\..+/.test(t)}static validateNameField(t){return!/[<>&:?'"]/.test(t)}setup(){let t=$("#donate_dropdown"),r=$("#close_donate_dropdown"),a=this.$form.attr("data-base-url")||"https://archive.org";this.$trigger.on(`click.${dh}`,l=>{t.hasClass("is-open")||t.addClass("is-open"),this.$form.find("input").filter((o,u)=>!u.value).eq(0).focus(),ua.openReminderForm(),l.preventDefault()}),r.on(`click.${dh}`,()=>{t.removeClass("is-open"),ua.closeReminderForm(),this.$trigger.focus()}),$(window).on(`keydown.${dh}`,l=>{t.hasClass("is-open")&&l.keyCode===x6&&r.click()}),this.$form.on(`submit.${dh}`,l=>{if(l.preventDefault(),!e.validateDonorEmail(this.$form.find("[name=email]").val())){this.$form.find(".error-email").show();return}["first_name","last_name"].forEach(u=>{e.validateNameField(this.$form.find(`[name='${u}']`).val())||this.$form.find(`[name='${u}']`).val("")});let o=this.$trigger.attr("data-source-context")||"";typeof archive_analytics!="undefined"&&archive_analytics.send_event_no_sampling(`DonateBanner${o}`,"MaybeLaterFormSubmit",window.location.pathname),this.sendForm(a)})}sendForm(t){let r=$("#donate_reminder_success").addClass("hidden"),a=(l,o)=>`<h2>${l}</h2><p>${o}</p>`;$.ajax({type:"post",url:`${t}/donate/remindDonate.php`,data:this.$form.serialize(),success:()=>{this.$form.addClass("hidden"),r.html(a("Thank You!","We'll be in touch in the next few days with a reminder to donate to the Internet Archive.")).removeClass("hidden");let l=90;this.setDonationCookie(l),ua.onSubmitReminderForm(l)},error:()=>{r.html(a("Hmmm...","Something is amiss. Can you try again in a little while?")).removeClass("hidden")}})}};console==null||console.log("donation-banner loaded",{version:"1.1.1"});var om=class e{addCloseSupport(){let t=function(l){l.stopPropagation();let o=42;ua.postMessage("hide banner",o),this.bannerElement.style.display="none",this.logEvent("CloseClicked",!0),this.setDonationCookie(o)},r=document.getElementById("donate-close-button");r&&r.addEventListener("click",t.bind(this))}initialize(){if(!this.bannerElement)return;this.donationInfoError=!1,this.addCloseSupport(),this.setupDonationForm(),this.setupThermometer(),this.setupMinimalDonateButton(),this.setupSnow(),ua.init(),new hh(Ke("#donate_reminder_form"),Ke("#donate_later"),this.setDonationCookie).setup(),this.logEvent("Viewed")}setDonationCookie(t){e.setDonationCookie(t),ua.postMessage("set cookie",t)}get bannerElement(){return document.querySelector("#donate_banner")}get donationFormElement(){return document.querySelector("donation-form-edit-donation")}get bannerThermometerElement(){return document.querySelector("donation-banner-thermometer")}get minimalDonateButtonElement(){return document.querySelector("#minimal-donate-button")}get donationOrigin(){let t=this.bannerElement,r=t.dataset.exp,a=t.dataset.variant,l;try{l=window.parent.innerWidth}catch(n){l=ua.currentWindowWidth}let o=l<768?"Mobile":"Desktop",u=`DonateBanner-${r}-${a}-${o}`;return console.log("PSA Donation Banner donationOrigin: ",{responsiveMode:o,currentWindowWidth:l,origin:u}),u}static setDonationCookie(t){let r=parseInt(t,10);if(!r)return;let a={path:"/",expires:r,domain:".archive.org"};_o.set("donation","x",a),_o.set("donation","x",Ke.extend(a,{domain:".openlibrary.org"}))}setupSnow(){if(this.bannerElement.dataset.snowfall!=="on")return;new wc({container:document.querySelector("#donate-body-background-layer2"),count:100,minOpacity:.08,maxOpacity:.15,minSize:4,maxSize:8,rotation:!0,speed:.15}).start()}setupMinimalDonateButton(){let t=this.minimalDonateButtonElement;t&&t.addEventListener("click",()=>{this.logEvent("MinimalDonateButtonClicked"),ua.postMessage("set cookie",30),window.top.location=this.baseDonatePageUrl})}get baseDonatePageUrl(){let t=this.bannerElement,r=t.dataset.baseurl,a=t.dataset.donationsourcedata,l=t.dataset.variantdollaramounts,o=t.dataset.variantamountlayout,u=t.dataset.variantfrequencymode,n=t.dataset.bannertemplate,{platform:c}=t.dataset,d=new URLSearchParams;return this.donationOrigin&&d.set("origin",this.donationOrigin),a&&d.set("referer",a),l&&d.set("dollarAmounts",l),o&&d.set("amountLayout",o),u&&d.set("frequencyMode",u),c&&d.set("platform",c),n&&d.set("bannerTemplate",n),`${r}/donate?${d.toString()}`}openPsaUrl(){let r=this.bannerElement.dataset.psabannerdestinationurl||"https://donate.archive.org/campaign/1-trillion-webpages-p2p/c731122";this.goToDonatePage(r,"ContinueClicked")}setupDonationForm(){let t=this.donationFormElement,{donationInfo:r}=t;if(this.bannerElement.classList.contains("formdesign-psa")){this.bannerElement.addEventListener("click",u=>{u.stopPropagation(),u.preventDefault(),this.openPsaUrl()});let o=document.querySelectorAll(".psa-cta");if(console.log("PSA Donation Banner CTA: ",o),o.length===0)return;o.forEach(u=>{u.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.openPsaUrl()})});return}t.addEventListener("donationInfoChanged",o=>{this.donationInfoError=!1,r=o.detail.donationInfo;let u=this.bannerElement.classList.contains("formdesign-minimal");if(console==null||console.log("donationInfoChanged",ur({isMinimalBanner:u},r)),u){let n=`${this.baseDonatePageUrl}&amt=${r.amount}`;console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:n}),this.goToDonatePage(n,"ContinueClicked")}}),t.addEventListener("editDonationError",o=>{this.donationInfoError=!0});let l=document.querySelector("#continue-button");l&&l.addEventListener("click",()=>{if(this.donationInfoError)return;this.logEvent("ContinueClicked");let o=this.bannerElement.dataset,u=encodeURIComponent(o.selectedtextcolor),n=encodeURIComponent(o.selectedfillcolor),c=encodeURIComponent(o.donatepageselectedfillcolor),d=encodeURIComponent(o.donatepageselectedtextcolor),f=encodeURIComponent(o.formtextcolor),p=o.selectedtextcolor?`&selectedTextColor=${u}`:"",v=o.selectedfillcolor?`&selectedFillColor=${n}`:"";o.donatepageselectedfillcolor&&(v=`&selectedFillColor=${c}`),o.donatepageselectedtextcolor&&(p=`&selectedTextColor=${d}`);let y=o.formtextcolor?`&formTextColor=${f}`:"",w=`${this.baseDonatePageUrl}&amt=${r.amount}&contrib_type=${r.donationType}&coverFees=${r.coverFees}${p}${v}${y}`;ua.postMessage("set cookie",30),window.top.location=w})}goToDonatePage(t,r){this.logEvent(r),this.setDonationCookie(3),window.top.location=t}setupThermometer(){let t=this.bannerThermometerElement;if(!t)return;let r=new xo;t.resizeObserver=r}logEvent(t,r=!1){let a=new sl,l=this.bannerElement,o=l.dataset.debugmode==="true",{platform:u}=l.dataset,n=o?"DonateBannerDebug":"DonateBanner";r||t==="Viewed"&&(u==="ia"||u==="wb")?a.send_event(n,t,this.donationOrigin):a.send_event_no_sampling(n,t,this.donationOrigin)}};document.addEventListener("DOMContentLoaded",()=>{new om().initialize()});Zi();ti();Ar();var S6=e=>typeof e!="string"&&"strTag"in e,A6=(e,t,r)=>{let a=e[0];for(let l=1;l<e.length;l++)a+=t[r?r[l-1]:l-1],a+=e[l];return a},C6=e=>S6(e)?A6(e.strings,e.values):e,tn=C6;var E6=class{constructor(){this.settled=!1,this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}},T6=[];for(let e=0;e<256;e++)T6[e]=(e>>4&15).toString(16)+(e&15).toString(16);var $6=new E6;$6.resolve();var Uy=class{constructor(e){var t,r,a,l;this.ARCHIVE_ANALYTICS_VERSION=2,this.DEFAULT_SERVICE="ao_2",this.NO_SAMPLING_SERVICE="ao_no_sampling",this.DEFAULT_IMAGE_URL="https://athena.archive.org/0.gif",this.defaultService=(t=e==null?void 0:e.defaultService)!==null&&t!==void 0?t:this.DEFAULT_SERVICE,this.imageUrl=(r=e==null?void 0:e.imageUrl)!==null&&r!==void 0?r:this.DEFAULT_IMAGE_URL,this.imageContainer=(a=e==null?void 0:e.imageContainer)!==null&&a!==void 0?a:document.body,this.requireImagePing=(l=e==null?void 0:e.requireImagePing)!==null&&l!==void 0?l:!1}sendPing(e){let t=this.generateTrackingUrl(e).toString();if(this.requireImagePing){this.sendPingViaImage(t);return}let r=navigator.sendBeacon&&navigator.sendBeacon.bind(navigator);try{r(t)}catch(a){this.sendPingViaImage(t)}}sendEvent(e){let t=e.label&&e.label.trim().length>0?e.label:window.location.pathname,r=ur({kind:"event",ec:e.category,ea:e.action,el:t,cache_bust:Math.random()},e.eventConfiguration);this.sendPing(r)}sendEventNoSampling(e){let t=e.eventConfiguration||{};t.service=this.NO_SAMPLING_SERVICE;let r=e;r.eventConfiguration=t,this.sendEvent(r)}sendPingViaImage(e){let t=new Image(1,1);t.src=e,t.alt="",this.imageContainer.appendChild(t)}generateTrackingUrl(e){var t;let r=e!=null?e:{};r.service=(t=r.service)!==null&&t!==void 0?t:this.defaultService;let a=new URL(this.imageUrl),l=Object.keys(r);return l.forEach(o=>{let u=r[o];a.searchParams.append(o,u)}),a.searchParams.append("version",`${this.ARCHIVE_ANALYTICS_VERSION}`),a.searchParams.append("count",`${l.length+2}`),a}},Wy=class{constructor(e){this.analyticsManager=e}trackIaxParameter(e){let t=new URL(e).searchParams.get("iax");if(!t)return;let r=t.split("|"),a=r.length>=1?r[1]:"",l=r.length>=2?r[2]:"";this.analyticsManager.sendEventNoSampling({category:r[0],action:a,label:l})}trackPageView(e){let t={};t.kind="pageview",t.timediff=new Date().getTimezoneOffset()/60*-1,t.locale=navigator.language,t.referrer=document.referrer===""?"-":document.referrer;let{domInteractive:r,defaultFontSize:a}=this;r&&(t.loadtime=r),a&&(t.iaprop_fontSize=a),"devicePixelRatio"in window&&(t.iaprop_devicePixelRatio=window.devicePixelRatio),e!=null&&e.mediaType&&(t.iaprop_mediaType=e.mediaType),e!=null&&e.mediaLanguage&&(t.iaprop_mediaLanguage=e.mediaLanguage),e!=null&&e.primaryCollection&&(t.iaprop_primaryCollection=e.primaryCollection),e!=null&&e.page&&(t.page=e.page),this.analyticsManager.sendPing(t)}get defaultFontSize(){let e=window.getComputedStyle(document.documentElement);if(!e)return null;let t=e.fontSize,r=parseFloat(t)*1.6,a=t.replace(/(\d*\.\d+)|\d+/,"");return`${r}${a}`}get domInteractive(){if(!window.performance||!window.performance.getEntriesByType)return;let e=window.performance.getEntriesByType("navigation");return e.length===0?void 0:e[0].domInteractive}};var P6=class{constructor(e){e.enableAnalytics&&(this.analyticsBackend=new Uy,this.analyticsHelpers=new Wy(this.analyticsBackend))}sendPing(e){var t;(t=this.analyticsBackend)===null||t===void 0||t.sendPing(e)}sendEvent(e){var t;(t=this.analyticsBackend)===null||t===void 0||t.sendEvent(e)}send_event(e,t,r,a){this.sendEvent({category:e,action:t,label:r,eventConfiguration:a})}sendEventNoSampling(e){var t;(t=this.analyticsBackend)===null||t===void 0||t.sendEventNoSampling(e)}trackIaxParameter(e){var t;(t=this.analyticsHelpers)===null||t===void 0||t.trackIaxParameter(e)}trackPageView(e){var t;(t=this.analyticsHelpers)===null||t===void 0||t.trackPageView(e)}};function O6(e){return new Promise(t=>setTimeout(t,e))}var M6=class{constructor(e){this.analyticsHandler=new P6({enableAnalytics:!0}),this.sleep=O6,this.retryCount=2,this.retryDelay=1e3,this.eventCategory="offshootFetchRetry",e!=null&&e.analyticsHandler&&(this.analyticsHandler=e.analyticsHandler),e!=null&&e.retryCount&&(this.retryCount=e.retryCount),e!=null&&e.retryDelay&&(this.retryDelay=e.retryDelay),e!=null&&e.sleepFn&&(this.sleep=e.sleepFn)}fetchRetry(a,l){return Vt(this,arguments,function*(e,t,r=this.retryCount){let o=typeof e=="string"?e:e.url,u=this.retryCount-r+1;try{let n=yield fetch(e,t);return n.ok?n:n.status===404?(this.log404Event(o),n):r>0?(yield this.sleep(this.retryDelay),this.logRetryEvent(o,u,n.statusText,n.status),this.fetchRetry(e,t,r-1)):(this.logFailureEvent(o,n.status),n)}catch(n){if(this.isContentBlockerError(n))throw this.logContentBlockingEvent(o,n),n;if(r>0)return yield this.sleep(this.retryDelay),this.logRetryEvent(o,u,n,n),this.fetchRetry(e,t,r-1);throw this.logFailureEvent(o,n),n}})}isContentBlockerError(e){return e instanceof TypeError?e.message.toLowerCase().includes("content blocker"):!1}logRetryEvent(e,t,r,a){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"retryingFetch",label:`retryNumber: ${t} / ${this.retryCount}, code: ${a}, status: ${r}, url: ${e}`})}logFailureEvent(e,t){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"fetchFailed",label:`error: ${t}, url: ${e}`})}log404Event(e){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"status404NotRetrying",label:`url: ${e}`})}logContentBlockingEvent(e,t){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"contentBlockerDetectedNotRetrying",label:`error: ${t}, url: ${e}`})}},Vy=class{constructor(e){this.fetchRetrier=new M6,e!=null&&e.iaApiBaseUrl&&(this.iaApiBaseUrl=e.iaApiBaseUrl),e!=null&&e.fetchRetrier&&(this.fetchRetrier=e.fetchRetrier),e!=null&&e.searchParams?this.searchParams=e.searchParams:this.searchParams=window.location.search}fetchIAApiResponse(e,t){return Vt(this,null,function*(){let r=`${this.iaApiBaseUrl}${e}`;return this.fetchApiResponse(r,t)})}fetchApiResponse(e,t){return Vt(this,null,function*(){let r={};return t!=null&&t.includeCredentials&&(r.credentials="include"),t!=null&&t.method&&(r.method=t.method),t!=null&&t.body&&(r.body=t.body),t!=null&&t.headers&&(r.headers=t.headers),yield(yield this.fetch(e,r)).json()})}fetch(e,t){return Vt(this,null,function*(){let r=e;return new URLSearchParams(this.searchParams).get("reCache")==="1"&&(r=this.addSearchParams(e,{reCache:"1"})),this.fetchRetrier.fetchRetry(r,t)})}addSearchParams(e,t){let r=typeof e=="string"?e:e.url,a=new URL(r,window.location.href);for(let[l,o]of Object.entries(t))a.searchParams.set(l,o);return typeof e=="string"?a.href:new Request(a.href,e)}};Cs();var{entries:m1,setPrototypeOf:s1,isFrozen:H6,getPrototypeOf:U6,getOwnPropertyDescriptor:W6}=Object,{freeze:Ao,seal:ia,create:bm}=Object,{apply:ym,construct:wm}=typeof Reflect<"u"&&Reflect;Ao||(Ao=function(e){return e});ia||(ia=function(e){return e});ym||(ym=function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];return e.apply(t,a)});wm||(wm=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return new e(...r)});var gh=Co(Array.prototype.forEach),V6=Co(Array.prototype.lastIndexOf),l1=Co(Array.prototype.pop),Ec=Co(Array.prototype.push),q6=Co(Array.prototype.splice),bh=Co(String.prototype.toLowerCase),hm=Co(String.prototype.toString),pm=Co(String.prototype.match),Tc=Co(String.prototype.replace),G6=Co(String.prototype.indexOf),Y6=Co(String.prototype.trim),ca=Co(Object.prototype.hasOwnProperty),So=Co(RegExp.prototype.test),$c=K6(TypeError);function Co(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return ym(e,t,a)}}function K6(e){return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return wm(e,r)}}function Gr(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bh;s1&&s1(e,null);let a=t.length;for(;a--;){let l=t[a];if(typeof l=="string"){let o=r(l);o!==l&&(H6(t)||(t[a]=o),l=o)}e[l]=!0}return e}function Z6(e){for(let t=0;t<e.length;t++)ca(e,t)||(e[t]=null);return e}function Oa(e){let t=bm(null);for(let[r,a]of m1(e))ca(e,r)&&(Array.isArray(a)?t[r]=Z6(a):a&&typeof a=="object"&&a.constructor===Object?t[r]=Oa(a):t[r]=a);return t}function Pc(e,t){for(;e!==null;){let a=W6(e,t);if(a){if(a.get)return Co(a.get);if(typeof a.value=="function")return Co(a.value)}e=U6(e)}function r(){return null}return r}var u1=Ao(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fm=Ao(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),mm=Ao(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),J6=Ao(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gm=Ao(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),X6=Ao(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),c1=Ao(["#text"]),d1=Ao(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),vm=Ao(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),h1=Ao(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),vh=Ao(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Q6=ia(/\{\{[\w\W]*|[\w\W]*\}\}/gm),eS=ia(/<%[\w\W]*|[\w\W]*%>/gm),tS=ia(/\$\{[\w\W]*/gm),iS=ia(/^data-[\-\w.\u00B7-\uFFFF]+$/),rS=ia(/^aria-[\-\w]+$/),g1=ia(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nS=ia(/^(?:\w+script|data):/i),oS=ia(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),v1=ia(/^html$/i),aS=ia(/^[a-z][.\w]*(-[.\w]+)+$/i),p1=Object.freeze({__proto__:null,ARIA_ATTR:rS,ATTR_WHITESPACE:oS,CUSTOM_ELEMENT:aS,DATA_ATTR:iS,DOCTYPE_NAME:v1,ERB_EXPR:eS,IS_ALLOWED_URI:g1,IS_SCRIPT_OR_DATA:nS,MUSTACHE_EXPR:Q6,TMPLIT_EXPR:tS}),Oc={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},sS=function(){return typeof window>"u"?null:window},lS=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null,a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(r=t.getAttribute(a));let l="dompurify"+(r?"#"+r:"");try{return e.createPolicy(l,{createHTML(o){return o},createScriptURL(o){return o}})}catch(o){return console.warn("TrustedTypes policy "+l+" could not be created."),null}},f1=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function b1(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sS(),t=ke=>b1(ke);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Oc.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e,a=r,l=a.currentScript,{DocumentFragment:o,HTMLTemplateElement:u,Node:n,Element:c,NodeFilter:d,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:v,trustedTypes:y}=e,w=c.prototype,k=Pc(w,"cloneNode"),A=Pc(w,"remove"),C=Pc(w,"nextSibling"),x=Pc(w,"childNodes"),S=Pc(w,"parentNode");if(typeof u=="function"){let ke=r.createElement("template");ke.content&&ke.content.ownerDocument&&(r=ke.content.ownerDocument)}let s,h="",{implementation:g,createNodeIterator:m,createDocumentFragment:b,getElementsByTagName:_}=r,{importNode:E}=a,R=f1();t.isSupported=typeof m1=="function"&&typeof S=="function"&&g&&g.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:j,ERB_EXPR:H,TMPLIT_EXPR:G,DATA_ATTR:q,ARIA_ATTR:K,IS_SCRIPT_OR_DATA:ue,ATTR_WHITESPACE:te,CUSTOM_ELEMENT:D}=p1,{IS_ALLOWED_URI:J}=p1,Q=null,ne=Gr({},[...u1,...fm,...mm,...gm,...c1]),ie=null,W=Gr({},[...d1,...vm,...h1,...vh]),V=Object.seal(bm(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),se=null,Ae=null,Oe=Object.seal(bm(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),je=!0,De=!0,Se=!1,de=!0,Xe=!1,ht=!0,nt=!1,lt=!1,ot=!1,ve=!1,pe=!1,tt=!1,xe=!0,Ce=!1,Ue="user-content-",Te=!0,it=!1,Me={},mt=null,He=Gr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,yt=Gr({},["audio","video","img","source","image","track"]),Ot=null,Ft=Gr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rt="http://www.w3.org/1998/Math/MathML",oe="http://www.w3.org/2000/svg",Pe="http://www.w3.org/1999/xhtml",Ze=Pe,Je=!1,qe=null,M=Gr({},[rt,oe,Pe],hm),be=Gr({},["mi","mo","mn","ms","mtext"]),he=Gr({},["annotation-xml"]),Ge=Gr({},["title","style","font","a","script"]),vt=null,kt=["application/xhtml+xml","text/html"],ce="text/html",_e=null,Re=null,st=r.createElement("form"),xt=function(ke){return ke instanceof RegExp||ke instanceof Function},Mt=function(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Re&&Re===ke)){if((!ke||typeof ke!="object")&&(ke={}),ke=Oa(ke),vt=kt.indexOf(ke.PARSER_MEDIA_TYPE)===-1?ce:ke.PARSER_MEDIA_TYPE,_e=vt==="application/xhtml+xml"?hm:bh,Q=ca(ke,"ALLOWED_TAGS")?Gr({},ke.ALLOWED_TAGS,_e):ne,ie=ca(ke,"ALLOWED_ATTR")?Gr({},ke.ALLOWED_ATTR,_e):W,qe=ca(ke,"ALLOWED_NAMESPACES")?Gr({},ke.ALLOWED_NAMESPACES,hm):M,Ot=ca(ke,"ADD_URI_SAFE_ATTR")?Gr(Oa(Ft),ke.ADD_URI_SAFE_ATTR,_e):Ft,We=ca(ke,"ADD_DATA_URI_TAGS")?Gr(Oa(yt),ke.ADD_DATA_URI_TAGS,_e):yt,mt=ca(ke,"FORBID_CONTENTS")?Gr({},ke.FORBID_CONTENTS,_e):He,se=ca(ke,"FORBID_TAGS")?Gr({},ke.FORBID_TAGS,_e):Oa({}),Ae=ca(ke,"FORBID_ATTR")?Gr({},ke.FORBID_ATTR,_e):Oa({}),Me=ca(ke,"USE_PROFILES")?ke.USE_PROFILES:!1,je=ke.ALLOW_ARIA_ATTR!==!1,De=ke.ALLOW_DATA_ATTR!==!1,Se=ke.ALLOW_UNKNOWN_PROTOCOLS||!1,de=ke.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Xe=ke.SAFE_FOR_TEMPLATES||!1,ht=ke.SAFE_FOR_XML!==!1,nt=ke.WHOLE_DOCUMENT||!1,ve=ke.RETURN_DOM||!1,pe=ke.RETURN_DOM_FRAGMENT||!1,tt=ke.RETURN_TRUSTED_TYPE||!1,ot=ke.FORCE_BODY||!1,xe=ke.SANITIZE_DOM!==!1,Ce=ke.SANITIZE_NAMED_PROPS||!1,Te=ke.KEEP_CONTENT!==!1,it=ke.IN_PLACE||!1,J=ke.ALLOWED_URI_REGEXP||g1,Ze=ke.NAMESPACE||Pe,be=ke.MATHML_TEXT_INTEGRATION_POINTS||be,he=ke.HTML_INTEGRATION_POINTS||he,V=ke.CUSTOM_ELEMENT_HANDLING||{},ke.CUSTOM_ELEMENT_HANDLING&&xt(ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&xt(ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&typeof ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(V.allowCustomizedBuiltInElements=ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Xe&&(De=!1),pe&&(ve=!0),Me&&(Q=Gr({},c1),ie=[],Me.html===!0&&(Gr(Q,u1),Gr(ie,d1)),Me.svg===!0&&(Gr(Q,fm),Gr(ie,vm),Gr(ie,vh)),Me.svgFilters===!0&&(Gr(Q,mm),Gr(ie,vm),Gr(ie,vh)),Me.mathMl===!0&&(Gr(Q,gm),Gr(ie,h1),Gr(ie,vh))),ke.ADD_TAGS&&(typeof ke.ADD_TAGS=="function"?Oe.tagCheck=ke.ADD_TAGS:(Q===ne&&(Q=Oa(Q)),Gr(Q,ke.ADD_TAGS,_e))),ke.ADD_ATTR&&(typeof ke.ADD_ATTR=="function"?Oe.attributeCheck=ke.ADD_ATTR:(ie===W&&(ie=Oa(ie)),Gr(ie,ke.ADD_ATTR,_e))),ke.ADD_URI_SAFE_ATTR&&Gr(Ot,ke.ADD_URI_SAFE_ATTR,_e),ke.FORBID_CONTENTS&&(mt===He&&(mt=Oa(mt)),Gr(mt,ke.FORBID_CONTENTS,_e)),ke.ADD_FORBID_CONTENTS&&(mt===He&&(mt=Oa(mt)),Gr(mt,ke.ADD_FORBID_CONTENTS,_e)),Te&&(Q["#text"]=!0),nt&&Gr(Q,["html","head","body"]),Q.table&&(Gr(Q,["tbody"]),delete se.tbody),ke.TRUSTED_TYPES_POLICY){if(typeof ke.TRUSTED_TYPES_POLICY.createHTML!="function")throw $c('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ke.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $c('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');s=ke.TRUSTED_TYPES_POLICY,h=s.createHTML("")}else s===void 0&&(s=lS(y,l)),s!==null&&typeof h=="string"&&(h=s.createHTML(""));Ao&&Ao(ke),Re=ke}},Bt=Gr({},[...fm,...mm,...J6]),Rt=Gr({},[...gm,...X6]),qt=function(ke){let It=S(ke);(!It||!It.tagName)&&(It={namespaceURI:Ze,tagName:"template"});let Dt=bh(ke.tagName),Et=bh(It.tagName);return qe[ke.namespaceURI]?ke.namespaceURI===oe?It.namespaceURI===Pe?Dt==="svg":It.namespaceURI===rt?Dt==="svg"&&(Et==="annotation-xml"||be[Et]):!!Bt[Dt]:ke.namespaceURI===rt?It.namespaceURI===Pe?Dt==="math":It.namespaceURI===oe?Dt==="math"&&he[Et]:!!Rt[Dt]:ke.namespaceURI===Pe?It.namespaceURI===oe&&!he[Et]||It.namespaceURI===rt&&!be[Et]?!1:!Rt[Dt]&&(Ge[Dt]||!Bt[Dt]):!!(vt==="application/xhtml+xml"&&qe[ke.namespaceURI]):!1},Be=function(ke){Ec(t.removed,{element:ke});try{S(ke).removeChild(ke)}catch(It){A(ke)}},me=function(ke,It){try{Ec(t.removed,{attribute:It.getAttributeNode(ke),from:It})}catch(Dt){Ec(t.removed,{attribute:null,from:It})}if(It.removeAttribute(ke),ke==="is")if(ve||pe)try{Be(It)}catch(Dt){}else try{It.setAttribute(ke,"")}catch(Dt){}},ze=function(ke){let It=null,Dt=null;if(ot)ke="<remove></remove>"+ke;else{let ki=pm(ke,/^[\r\n\t ]+/);Dt=ki&&ki[0]}vt==="application/xhtml+xml"&&Ze===Pe&&(ke='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ke+"</body></html>");let Et=s?s.createHTML(ke):ke;if(Ze===Pe)try{It=new v().parseFromString(Et,vt)}catch(ki){}if(!It||!It.documentElement){It=g.createDocument(Ze,"template",null);try{It.documentElement.innerHTML=Je?h:Et}catch(ki){}}let ui=It.body||It.documentElement;return ke&&Dt&&ui.insertBefore(r.createTextNode(Dt),ui.childNodes[0]||null),Ze===Pe?_.call(It,nt?"html":"body")[0]:nt?It.documentElement:ui},Ye=function(ke){return m.call(ke.ownerDocument||ke,ke,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},ut=function(ke){return ke instanceof p&&(typeof ke.nodeName!="string"||typeof ke.textContent!="string"||typeof ke.removeChild!="function"||!(ke.attributes instanceof f)||typeof ke.removeAttribute!="function"||typeof ke.setAttribute!="function"||typeof ke.namespaceURI!="string"||typeof ke.insertBefore!="function"||typeof ke.hasChildNodes!="function")},ft=function(ke){return typeof n=="function"&&ke instanceof n};function dt(ke,It,Dt){gh(ke,Et=>{Et.call(t,It,Dt,Re)})}let at=function(ke){let It=null;if(dt(R.beforeSanitizeElements,ke,null),ut(ke))return Be(ke),!0;let Dt=_e(ke.nodeName);if(dt(R.uponSanitizeElement,ke,{tagName:Dt,allowedTags:Q}),ht&&ke.hasChildNodes()&&!ft(ke.firstElementChild)&&So(/<[/\w!]/g,ke.innerHTML)&&So(/<[/\w!]/g,ke.textContent)||ke.nodeType===Oc.progressingInstruction||ht&&ke.nodeType===Oc.comment&&So(/<[/\w]/g,ke.data))return Be(ke),!0;if(!(Oe.tagCheck instanceof Function&&Oe.tagCheck(Dt))&&(!Q[Dt]||se[Dt])){if(!se[Dt]&&pt(Dt)&&(V.tagNameCheck instanceof RegExp&&So(V.tagNameCheck,Dt)||V.tagNameCheck instanceof Function&&V.tagNameCheck(Dt)))return!1;if(Te&&!mt[Dt]){let Et=S(ke)||ke.parentNode,ui=x(ke)||ke.childNodes;if(ui&&Et){let ki=ui.length;for(let vi=ki-1;vi>=0;--vi){let nr=k(ui[vi],!0);nr.__removalCount=(ke.__removalCount||0)+1,Et.insertBefore(nr,C(ke))}}}return Be(ke),!0}return ke instanceof c&&!qt(ke)||(Dt==="noscript"||Dt==="noembed"||Dt==="noframes")&&So(/<\/no(script|embed|frames)/i,ke.innerHTML)?(Be(ke),!0):(Xe&&ke.nodeType===Oc.text&&(It=ke.textContent,gh([j,H,G],Et=>{It=Tc(It,Et," ")}),ke.textContent!==It&&(Ec(t.removed,{element:ke.cloneNode()}),ke.textContent=It)),dt(R.afterSanitizeElements,ke,null),!1)},Fe=function(ke,It,Dt){if(xe&&(It==="id"||It==="name")&&(Dt in r||Dt in st))return!1;if(!(De&&!Ae[It]&&So(q,It))&&!(je&&So(K,It))&&!(Oe.attributeCheck instanceof Function&&Oe.attributeCheck(It,ke))){if(!ie[It]||Ae[It]){if(!(pt(ke)&&(V.tagNameCheck instanceof RegExp&&So(V.tagNameCheck,ke)||V.tagNameCheck instanceof Function&&V.tagNameCheck(ke))&&(V.attributeNameCheck instanceof RegExp&&So(V.attributeNameCheck,It)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(It,ke))||It==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&So(V.tagNameCheck,Dt)||V.tagNameCheck instanceof Function&&V.tagNameCheck(Dt))))return!1}else if(!Ot[It]&&!So(J,Tc(Dt,te,""))&&!((It==="src"||It==="xlink:href"||It==="href")&&ke!=="script"&&G6(Dt,"data:")===0&&We[ke])&&!(Se&&!So(ue,Tc(Dt,te,"")))&&Dt)return!1}return!0},pt=function(ke){return ke!=="annotation-xml"&&pm(ke,D)},Ct=function(ke){dt(R.beforeSanitizeAttributes,ke,null);let{attributes:It}=ke;if(!It||ut(ke))return;let Dt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie,forceKeepAttr:void 0},Et=It.length;for(;Et--;){let ui=It[Et],{name:ki,namespaceURI:vi,value:nr}=ui,Li=_e(ki),Ri=nr,xi=ki==="value"?Ri:Y6(Ri);if(Dt.attrName=Li,Dt.attrValue=xi,Dt.keepAttr=!0,Dt.forceKeepAttr=void 0,dt(R.uponSanitizeAttribute,ke,Dt),xi=Dt.attrValue,Ce&&(Li==="id"||Li==="name")&&(me(ki,ke),xi=Ue+xi),ht&&So(/((--!?|])>)|<\/(style|title|textarea)/i,xi)){me(ki,ke);continue}if(Li==="attributename"&&pm(xi,"href")){me(ki,ke);continue}if(Dt.forceKeepAttr)continue;if(!Dt.keepAttr){me(ki,ke);continue}if(!de&&So(/\/>/i,xi)){me(ki,ke);continue}Xe&&gh([j,H,G],wi=>{xi=Tc(xi,wi," ")});let ai=_e(ke.nodeName);if(!Fe(ai,Li,xi)){me(ki,ke);continue}if(s&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!vi)switch(y.getAttributeType(ai,Li)){case"TrustedHTML":{xi=s.createHTML(xi);break}case"TrustedScriptURL":{xi=s.createScriptURL(xi);break}}if(xi!==Ri)try{vi?ke.setAttributeNS(vi,ki,xi):ke.setAttribute(ki,xi),ut(ke)?Be(ke):l1(t.removed)}catch(wi){me(ki,ke)}}dt(R.afterSanitizeAttributes,ke,null)},Nt=function ke(It){let Dt=null,Et=Ye(It);for(dt(R.beforeSanitizeShadowDOM,It,null);Dt=Et.nextNode();)dt(R.uponSanitizeShadowNode,Dt,null),at(Dt),Ct(Dt),Dt.content instanceof o&&ke(Dt.content);dt(R.afterSanitizeShadowDOM,It,null)};return t.sanitize=function(ke){let It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Dt=null,Et=null,ui=null,ki=null;if(Je=!ke,Je&&(ke="<!-->"),typeof ke!="string"&&!ft(ke))if(typeof ke.toString=="function"){if(ke=ke.toString(),typeof ke!="string")throw $c("dirty is not a string, aborting")}else throw $c("toString is not a function");if(!t.isSupported)return ke;if(lt||Mt(It),t.removed=[],typeof ke=="string"&&(it=!1),it){if(ke.nodeName){let Li=_e(ke.nodeName);if(!Q[Li]||se[Li])throw $c("root node is forbidden and cannot be sanitized in-place")}}else if(ke instanceof n)Dt=ze("<!---->"),Et=Dt.ownerDocument.importNode(ke,!0),Et.nodeType===Oc.element&&Et.nodeName==="BODY"||Et.nodeName==="HTML"?Dt=Et:Dt.appendChild(Et);else{if(!ve&&!Xe&&!nt&&ke.indexOf("<")===-1)return s&&tt?s.createHTML(ke):ke;if(Dt=ze(ke),!Dt)return ve?null:tt?h:""}Dt&&ot&&Be(Dt.firstChild);let vi=Ye(it?ke:Dt);for(;ui=vi.nextNode();)at(ui),Ct(ui),ui.content instanceof o&&Nt(ui.content);if(it)return ke;if(ve){if(pe)for(ki=b.call(Dt.ownerDocument);Dt.firstChild;)ki.appendChild(Dt.firstChild);else ki=Dt;return(ie.shadowroot||ie.shadowrootmode)&&(ki=E.call(a,ki,!0)),ki}let nr=nt?Dt.outerHTML:Dt.innerHTML;return nt&&Q["!doctype"]&&Dt.ownerDocument&&Dt.ownerDocument.doctype&&Dt.ownerDocument.doctype.name&&So(v1,Dt.ownerDocument.doctype.name)&&(nr="<!DOCTYPE "+Dt.ownerDocument.doctype.name+`>
`+nr),Xe&&gh([j,H,G],Li=>{nr=Tc(nr,Li," ")}),s&&tt?s.createHTML(nr):nr},t.setConfig=function(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mt(ke),lt=!0},t.clearConfig=function(){Re=null,lt=!1},t.isValidAttribute=function(ke,It,Dt){Re||Mt({});let Et=_e(ke),ui=_e(It);return Fe(Et,ui,Dt)},t.addHook=function(ke,It){typeof It=="function"&&Ec(R[ke],It)},t.removeHook=function(ke,It){if(It!==void 0){let Dt=V6(R[ke],It);return Dt===-1?void 0:q6(R[ke],Dt,1)[0]}return l1(R[ke])},t.removeHooks=function(ke){R[ke]=[]},t.removeAllHooks=function(){R=f1()},t}var Mc=b1();kh();Zi();ti();Ar();Cs();kh();ti();ti();Zi();ti();Ar();Cs();ti();ti();ti();Zi();ti();Ar();var pS=ln`
  <svg class="star-selected" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
    d="m81.0388846 100-30.9636029-22.5595033-30.7410319 22.5595033 10.6670595-37.3922042-30.0013093-25.2155916h37.5556428l12.5196389-37.3922042 12.3690754 37.3922042h37.5556429l-29.7034563 25.2155916z"
    fill="#c2820a"
    stroke="#c2820a"
    stroke-width="3px"
  />
</svg>`,fS=ln`
  <svg class="star-unselected" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
    d="m81.0388846 100-30.9636029-22.5595033-30.7410319 22.5595033 10.6670595-37.3922042-30.0013093-25.2155916h37.5556428l12.5196389-37.3922042 12.3690754 37.3922042h37.5556429l-29.7034563 25.2155916z"
    fill="#ffffff"
    stroke="#c2820a"
    stroke-width="3px"
  />
</svg>`,mS=ln`
  <svg class="star-basic" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
    d="m81.0388846 100-30.9636029-22.5595033-30.7410319 22.5595033 10.6670595-37.3922042-30.0013093-25.2155916h37.5556428l12.5196389-37.3922042 12.3690754 37.3922042h37.5556429l-29.7034563 25.2155916z"
    fill="2C2C2C"
  />
</svg>`;function x1(e=""){if(e.length<=40)return e;let t=e.substring(0,40)+"...";return we`<span title="${e}">${t}</span>`}var gS=["a"];function vS(e){return Mc.addHook("afterSanitizeAttributes",t=>{t.nodeName.toLowerCase()==="a"&&(t.setAttribute("rel","ugc nofollow"),t.setAttribute("target","_blank"))}),Mc.sanitize(e,{ALLOWED_TAGS:gS})}function bS(e,t=100,r=!0){if(e.length<t)return e;let a=t;if(r){let l=e.indexOf(" ",t),o=l-t<=20;if(o&&l===e.length-1)return e;l!==-1&&o&&(a=l)}return yS(e,a,t)}function yS(e,t,r){let a=e.slice(0,t),l=a.match(/<a/gi);if(l){let o=a.match(/<\/a/gi);if(!o||o.length<l.length){let u=e.indexOf("</a>",t),n=u-r<=20;if(n&&e.length===u+4)return e;if(u!==-1&&n)a=e.slice(0,u+4);else{let c=a.lastIndexOf("<a");a=e.slice(0,c)}}}return a.concat("...")}var wS=/(http(s)?)?(:\/\/)?([a-zA-Z][-a-z0-9]*(\.[-a-z0-9]+)+(\/[^\s\?#<]*)*(\?[^\s#]*)?(#[^\s]*)?)/;function _S(e){return e.replace(new RegExp('(?<=href=")[^"]+(?=")'),t=>t.replace(".","__DOT__")).replace(wS,t=>t=`<a href="${t.match(/^(https|http)/)?t:"https://"+t}" rel="ugc nofollow" target="_blank">${t}</a>`).replace("__DOT__",".")}function kS(e){return e.trim().replace(/[ |\t]+/g," ").replace(/[\n|\r\n]+/g,"<br />").replace(/(<br[^>]*>(<\/br>)?)+/g,"<br />")}var xS=ln`
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" class="delete-icon">
    <rect width="24" height="24" fill="white"/>
    <path d="M5 7.5H19L18 21H6L5 7.5Z" stroke="#000000" stroke-linejoin="round"/>
    <path d="M15.5 9.5L15 19" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12 9.5V19" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M8.5 9.5L9 19" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M16 5H19C20.1046 5 21 5.89543 21 7V7.5H3V7C3 5.89543 3.89543 5 5 5H8M16 5L15 3H9L8 5M16 5H8" stroke="#000000" stroke-linejoin="round"/>
  </svg>
`,ha=class extends Yt{constructor(){super(...arguments),this.maxSubjectLength=100,this.maxBodyLength=150,this.baseHost="https://archive.org",this.canDelete=!1,this.bypassTruncation=!1,this.showTruncatedContent=!1,this.deleteMsg=""}render(){return this.review?we`
          <article class="review" id=${this.generateDomId()}>
            ${this.canDelete?we`
                  <button
                    class="delete-btn"
                    title="Delete this review"
                    @click=${this.deleteReview}
                  >
                    ${xS}
                  </button>
                `:ei}
            <div class="top-line">
              <b>${tn("Reviewer:")}</b> ${this.reviewerTemplate} -
              ${this.starsTemplate}${this.createDateTemplate}
            </div>
            <div class="subject">
              <b>${tn("Subject: ")}</b>${this.subjectTemplate}
            </div>
            <div class="body">
              ${this.deleteMsg?we`<i>${tn(this.deleteMsg)}</i>`:this.bodyTemplate}
            </div>
            ${this.truncationButtonsTemplate}
          </article>
        `:we`
          <div class="error">
            ${tn("This review cannot be displayed at this time.")}
          </div>
        `}get subjectTemplate(){var e;let t=(e=this.review)===null||e===void 0?void 0:e.reviewtitle;return this.truncateContent(t!=null?t:"",this.maxSubjectLength)}get bodyTemplate(){var e;let t=(e=this.review)===null||e===void 0?void 0:e.reviewbody;if(!t)return ei;let r=vS(t),a=this.truncateContent(r,this.maxBodyLength);return we`${As(this.prepReview(a))}`}get truncationButtonsTemplate(){var e,t,r,a,l,o;return this.bypassTruncation?ei:((r=(t=(e=this.review)===null||e===void 0?void 0:e.reviewtitle)===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0)<=this.maxSubjectLength&&((o=(l=(a=this.review)===null||a===void 0?void 0:a.reviewbody)===null||l===void 0?void 0:l.length)!==null&&o!==void 0?o:0)<=this.maxBodyLength?ei:this.showTruncatedContent?this.lessButtonTemplate:this.moreButtonTemplate}get moreButtonTemplate(){return we`
      <button
        class="simple-link more-btn"
        @click=${()=>this.showTruncatedContent=!0}
      >
        ${tn("More...")}
      </button>
    `}get lessButtonTemplate(){return we`<button
      class="simple-link less-btn"
      @click=${()=>this.showTruncatedContent=!1}
    >
      ${tn("...Less")}
    </button>`}get reviewerTemplate(){return this.review?this.review.reviewer_itemname?we`
            <a
              href="${this.baseHost}/details/${this.review.reviewer_itemname}"
              class="reviewer-link simple-link"
              data-event-click-tracking="ItemReviews|ReviewerLink"
            >
              ${x1(this.review.reviewer)}
            </a>
          `:we`${x1(this.review.reviewer)}`:ei}get starsTemplate(){return!this.review||!this.review.stars?ei:we`
      <div
        class="review-stars"
        title="${tn(`${this.review.stars} out of 5 stars`)}"
      >
        ${new Array(Number(this.review.stars)).fill(null).map(()=>we`<div class="review-star">${mS}</div>`)}
      </div>
      -
    `}get createDateTemplate(){var e,t;if(!(!((e=this.review)===null||e===void 0)&&e.createdate)||!(!((t=this.review)===null||t===void 0)&&t.reviewdate))return ei;let r=new Date(this.review.reviewdate),a=new Date(this.review.createdate),l=a.toLocaleString("en-us",{month:"long",day:"numeric",year:"numeric"}),o=r.getTime()!==a.getTime()?"(edited)":"";return tn(`${l} ${o}`)}generateDomId(){var e;return!((e=this.review)===null||e===void 0)&&e.createdate?`review-${Date.parse(this.review.createdate.toString())}`:""}truncateContent(e,t){return this.showTruncatedContent||this.bypassTruncation?e:bS(e,t)}prepReview(e){return kS(_S(e))}deleteReview(){return Vt(this,null,function*(){if(!this.review||!this.identifier||!confirm(tn("Are you sure you want to delete this review?")))return;let e=`${this.baseHost}/edit-reviews.php?identifier=${this.identifier}&deleteReviewer=${this.review.reviewer}&deleteReviewerItemname=${this.review.reviewer_itemname}`;try{yield fetch(e,{method:"POST"}),this.deleteMsg="This review has been queued for deletion."}catch(t){this.deleteMsg="Sorry, we were unable to delete this review."}})}static get styles(){return Le`
      :host {
        font-family: var(
          --ia-font-stack,
          'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif
        );

        font-size: inherit;
        --container-bg-color: #fbfbfd;
        --container-border-color: #999999;
      }

      .review {
        position: relative;
        padding-right: 30px;
      }

      .error {
        color: var(--error-color, #cc0000);
      }

      .top-line {
        margin-bottom: 0.5rem;
      }

      .top-line > * {
        display: inline-block;
      }

      .review-star {
        width: 1rem;
        display: inline-block;
      }

      .simple-link,
      .body a {
        color: var(--link-color, #4b64ff);
        text-decoration: none;
        background: transparent;
        border: none;
        padding: 0px;
      }

      .simple-link:hover,
      .body a:hover {
        cursor: pointer;
        text-decoration: underline;
      }

      .subject {
        margin-bottom: 0.5rem;
      }

      .delete-btn {
        position: absolute;
        top: 0;
        right: 0;
        padding: 0;
        background: none;
        border: 0;
      }

      .delete-btn:hover {
        cursor: pointer;
      }

      .delete-icon {
        width: 20px;
        mix-blend-mode: multiply;
      }
    `}};Y([St({type:Object})],ha.prototype,"review",void 0);Y([St({type:String})],ha.prototype,"identifier",void 0);Y([St({type:Number})],ha.prototype,"maxSubjectLength",void 0);Y([St({type:Number})],ha.prototype,"maxBodyLength",void 0);Y([St({type:String})],ha.prototype,"baseHost",void 0);Y([St({type:Boolean})],ha.prototype,"canDelete",void 0);Y([St({type:Boolean})],ha.prototype,"bypassTruncation",void 0);Y([Er()],ha.prototype,"showTruncatedContent",void 0);Y([Er()],ha.prototype,"deleteMsg",void 0);ha=Y([Fi("ia-review")],ha);var Bn=class extends Yt{constructor(){super(...arguments),this.token="",this.baseHost="https://archive.org",this.endpointPath="/write-review.php",this.submitterScreenname="Anonymous",this.bypassRecaptcha=!1,this.currentStars=0,this.currentSubjectLength=0,this.currentBodyLength=0,this.formCanSubmit=!1,this.submissionInProgress=!1,this.RECAPTCHA_ERROR_MESSAGE="Could not validate review. Please try again later.",this.GENERIC_ERROR_MESSAGE="There's been a temporary error. Please wait a moment and try again."}render(){return we`<form id="review-form" @submit=${this.handleSubmit}>
      ${this.unrecoverableError?this.unrecoverableErrorTemplate:we`
            <span class="inputs">
              ${this.starsInputTemplate} ${this.subjectInputTemplate}
              ${this.bodyInputTemplate} ${this.hiddenInputsTemplate}
            </span>
          `}
      ${this.recaptchaMessageTemplate} ${this.recoverableErrorTemplate}
      ${this.actionButtonsTemplate}
    </form>`}willUpdate(e){var t,r,a,l,o,u,n,c;e.has("oldReview")&&(this.currentStars=(r=(t=this.oldReview)===null||t===void 0?void 0:t.stars)!==null&&r!==void 0?r:0,this.currentSubjectLength=(o=(l=(a=this.oldReview)===null||a===void 0?void 0:a.reviewtitle)===null||l===void 0?void 0:l.length)!==null&&o!==void 0?o:0,this.currentBodyLength=(c=(n=(u=this.oldReview)===null||u===void 0?void 0:u.reviewbody)===null||n===void 0?void 0:n.length)!==null&&c!==void 0?c:0),e.has("recaptchaManager")&&!this.bypassRecaptcha&&this.recaptchaManager&&this.setupRecaptcha(),e.has("unrecoverableError")&&(this.formCanSubmit=this.checkSubmissionAllowed()),(e.has("currentSubjectLength")||e.has("currentBodyLength")||e.has("maxSubjectLength")||e.has("maxBodyLength"))&&(this.formCanSubmit=this.checkSubmissionAllowed())}get unrecoverableErrorTemplate(){return this.unrecoverableError?we`
          <div class="unrecoverable-error">
            <span class="error-msg">${tn(this.unrecoverableError)}</span>
          </div>
        `:ei}get recoverableErrorTemplate(){return this.recoverableError?we`
          <div class="recoverable-error">
            ${As(this.sanitizeErrorMsg(tn(this.recoverableError)))}
          </div>
        `:ei}get recaptchaMessageTemplate(){return this.bypassRecaptcha?ei:we`
      <span class="recaptcha-disclaimer"
        >${tn(we`This site is protected by reCAPTCHA and the Google
            <a
              target="_blank"
              class="inline-link"
              href="https://policies.google.com/privacy"
              >Privacy Policy</a
            >
            and
            <a
              target="_blank"
              class="inline-link"
              href="https://policies.google.com/terms"
              >Terms of Service</a
            >
            apply.`)}</span
      >
    `}get starsInputTemplate(){return we`
      <div class="form-heading rating">
        <label for="stars-field">${tn("Rating (optional)")}</label>
      </div>
      <input
        type="hidden"
        name="field_stars"
        id="stars-input"
        .value=${this.currentStars.toString()}
        required
      />
      <div class="stars">
        ${[1,2,3,4,5].map(e=>this.renderStar(e))}
        <button
          type="button"
          class="clear-stars-btn"
          @click=${this.handleClearBtnClicked}
        >
          ${tn("Clear")}
        </button>
      </div>
    `}get subjectInputTemplate(){var e,t;return we`
      <span id="subject-input" class="input-box ${this.maxSubjectLength&&this.currentSubjectLength>this.maxSubjectLength?"error":""}"
      ><div class="form-heading">
        <label for="field_reviewtitle">${tn("Subject")}</label>
        ${this.maxSubjectLength?we`<div class="char-count subject">
                ${this.currentSubjectLength}/${this.maxSubjectLength}
              </div>`:ei}
      </div>
      <input
        type="text"
        name="field_reviewtitle"
        id="field_reviewtitle"
        .value=${(t=(e=this.oldReview)===null||e===void 0?void 0:e.reviewtitle)!==null&&t!==void 0?t:""}
        @input=${this.handleSubjectChanged}
        required
    />${this.maxSubjectLength?we`
            <div class="input-error">
              ${tn(`Subject may only have ${this.maxSubjectLength} characters`)}
            </div>
          `:ei}</div></span>
    `}get bodyInputTemplate(){var e,t;return we`
      <span
        id="body-input"
        class="input-box ${this.maxBodyLength&&this.currentBodyLength>this.maxBodyLength?"error":""}"
        ><div class="form-heading">
          <label for="field_reviewbody">${tn("Review")}</label>
          ${this.maxBodyLength?we`<div class="char-count body">
                ${this.currentBodyLength}/${this.maxBodyLength}
              </div>`:ei}
        </div>
        <textarea
          name="field_reviewbody"
          id="field_reviewbody"
          .value=${(t=(e=this.oldReview)===null||e===void 0?void 0:e.reviewbody)!==null&&t!==void 0?t:""}
          rows="10"
          cols="50"
          required
          @input=${this.handleBodyChanged}
        ></textarea>
        ${this.maxBodyLength?we`
              <div class="input-error">
                ${tn(`Review may only have ${this.maxBodyLength} characters`)}
              </div>
            `:ei}
      </span>
    `}get hiddenInputsTemplate(){return we`
      <input type="hidden" name="field_reviewtoken" .value=${this.token} />
      ${this.identifier?we`<input
            type="hidden"
            name="identifier"
            .value=${this.identifier}
          />`:ei}
    `}get actionButtonsTemplate(){return we`<div class="action-btns">
      <button
        type="button"
        class="ia-button dark"
        data-testid="cancel-btn"
        @click=${this.cancelReviewEdit}
      >
        ${tn("Cancel")}
      </button>
      <button
        type="submit"
        class="ia-button primary"
        name="submit"
        ?disabled=${!this.formCanSubmit||this.submissionInProgress}
      >
        ${this.submissionInProgress?we`
              <span class="loading-indicator" alt="Loading indicator">
                <ia-activity-indicator></ia-activity-indicator>
              </span>
            `:tn("Submit review")}
      </button>
    </div>`}renderStar(e){let t=e===this.currentStars,r=tn(`Rate ${e>1?`${e} stars`:"1 star"}`);return we`
      <button
        class="star star-${e}"
        title=${t?tn("Clear rating"):r}
        @click=${a=>this.handleStarClicked(a,e)}
      >
        ${e<=this.currentStars?pS:fS}
      </button>
    `}setupRecaptcha(){return Vt(this,null,function*(){var e;try{this.recaptchaWidget=yield(e=this.recaptchaManager)===null||e===void 0?void 0:e.getRecaptchaWidget()}catch(t){this.unrecoverableError=this.RECAPTCHA_ERROR_MESSAGE}})}sanitizeErrorMsg(e){return Mc.sanitize(e,{ALLOWED_TAGS:["a","b","br"]})}handleSubmit(e){return Vt(this,null,function*(){var t;if(e.preventDefault(),!(!this.formCanSubmit||this.submissionInProgress)){if(this.submissionInProgress=!0,this.recoverableError="",!this.reviewForm.reportValidity())return this.stopSubmission();if(!this.fetchHandler)return this.recoverableError=this.GENERIC_ERROR_MESSAGE,this.stopSubmission();try{let r=new URLSearchParams;if(!this.bypassRecaptcha){let l=yield this.getRecaptchaToken();if(!l)return this.handleRecaptchaError();r.append("g-recaptcha-response",l!=null?l:"")}for(let l of new FormData(this.reviewForm))r.append(l[0],l[1]);r.append("submitter","review-form");let a=yield this.fetchHandler.fetchApiResponse(`${this.baseHost}${this.endpointPath}`,{method:"POST",includeCredentials:!0,body:r});if((a==null?void 0:a.success)===!0){this.submissionInProgress=!1;let l=this.generateSubmittedReview(),o=new CustomEvent("reviewUpdated",{detail:l});this.dispatchEvent(o)}else this.recoverableError=(t=a.error)!==null&&t!==void 0?t:this.GENERIC_ERROR_MESSAGE,this.stopSubmission()}catch(r){console.error(r),this.recoverableError=this.GENERIC_ERROR_MESSAGE,this.stopSubmission()}}})}generateSubmittedReview(){var e,t,r,a,l,o;let u=new Date().toDateString();return new Ma({reviewtitle:this.reviewForm.field_reviewtitle.value,reviewbody:this.reviewForm.field_reviewbody.value,stars:this.reviewForm.field_stars.value,reviewdate:u,reviewer:(t=(e=this.oldReview)===null||e===void 0?void 0:e.reviewer)!==null&&t!==void 0?t:this.submitterScreenname,reviewer_itemname:(a=(r=this.oldReview)===null||r===void 0?void 0:r.reviewer_itemname)!==null&&a!==void 0?a:this.submitterItemname,createdate:(o=this.dateToString((l=this.oldReview)===null||l===void 0?void 0:l.createdate))!==null&&o!==void 0?o:u})}dateToString(e){return e instanceof Date?e.toDateString():e}getRecaptchaToken(){return Vt(this,null,function*(){if(!this.recaptchaWidget){this.handleRecaptchaError();return}try{return yield this.recaptchaWidget.execute()}catch(e){this.handleRecaptchaError();return}})}handleRecaptchaError(){this.recoverableError=this.RECAPTCHA_ERROR_MESSAGE,this.stopSubmission()}stopSubmission(){this.submissionInProgress&&(this.submissionInProgress=!1)}cancelReviewEdit(){let e=new CustomEvent("reviewEditCanceled");this.dispatchEvent(e)}handleStarClicked(e,t){e.preventDefault(),this.setStars(t)}handleClearBtnClicked(e){e.preventDefault(),this.currentStars=0}setStars(e){this.currentStars=e===this.currentStars?0:e}handleSubjectChanged(e){let t=e.target;this.currentSubjectLength=t.value.length}handleBodyChanged(e){let t=e.target;this.currentBodyLength=t.value.length}checkSubmissionAllowed(){return!(this.unrecoverableError||!this.currentBodyLength||!this.currentSubjectLength||this.maxSubjectLength&&this.currentSubjectLength>this.maxSubjectLength||this.maxBodyLength&&this.currentBodyLength>this.maxBodyLength)}static get styles(){return[cu,Le`
        .form-heading {
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          padding-top: 15px;
        }

        .form-heading.rating {
          padding-top: 0;
        }

        .form-heading label {
          font-size: 1.6rem;
          font-weight: bold;
        }

        label {
          display: inline-block;
          margin-bottom: 5px;
        }

        textarea,
        input[type='text'],
        .unrecoverable-error {
          padding: 5px;
          width: calc(100% - 10px);
          font-family: inherit;
          border-radius: 5px;
          border: 1px solid var(--container-border-color, #999999);
        }

        .input-box.error input,
        .input-box.error textarea {
          border: 2px solid var(--container-error-color, #ea0202);
        }

        .input-box.error .char-count,
        .input-error,
        .unrecoverable-error,
        .recoverable-error {
          color: var(--container-error-color, #ea0202);
        }

        .input-error {
          display: none;
        }

        .input-box.error .input-error {
          display: block;
          text-align: right;
          padding-top: 5px;
        }

        .inline-link {
          color: var(--container-link-color, #4f65f5);
          text-decoration: none;
        }

        .inline-link:hover {
          text-decoration: underline;
        }

        .stars {
          display: flex;
          flex-direction: row;
          gap: 2px;
          align-items: center;
        }

        .star {
          all: unset;
          height: 30px;
          width: 30px;
        }

        .star:hover {
          cursor: pointer;
        }

        .clear-stars-btn,
        .recoverable-error a {
          padding: 0 5px;
          color: var(--container-link-color, #4f65f5);
          font-family: inherit;
          border: none;
          background: transparent;
          display: inline-block;
          padding-top: 5px;
        }

        .clear-stars-btn:hover,
        .recoverable-error a:hover {
          cursor: pointer;
          text-decoration: underline;
        }

        .action-btns {
          width: 100%;
          display: flex;
          justify-content: flex-end;
          gap: 10px;
          padding-top: 15px;
        }

        .ia-button:disabled {
          opacity: 0.75;
        }

        .ia-button:disabled:hover {
          cursor: not-allowed;
        }

        .unrecoverable-error {
          min-height: 50px;
          padding: 5px;
          text-align: center;
          display: flex;
          flex-direction: column;
          justify-content: center;
          background-color: var(--container-bg-color, #fbfbfd);
        }

        .loading-indicator {
          display: block;
          width: 20px;
          height: 20px;
          margin-top: 2px;
          --activityIndicatorLoadingRingColor: #fff;
          --activityIndicatorLoadingDotColor: #fff;
        }

        .recaptcha-disclaimer {
          font-size: 1.2rem;
        }

        @media only screen and (max-width: 350px) {
          .action-btns {
            flex-direction: column-reverse;
            align-items: center;
          }
        }
      `]}};Y([St({type:String})],Bn.prototype,"identifier",void 0);Y([St({type:String})],Bn.prototype,"token",void 0);Y([St({type:String})],Bn.prototype,"baseHost",void 0);Y([St({type:String})],Bn.prototype,"endpointPath",void 0);Y([St({type:String})],Bn.prototype,"submitterScreenname",void 0);Y([St({type:String})],Bn.prototype,"submitterItemname",void 0);Y([St({type:Object})],Bn.prototype,"oldReview",void 0);Y([St({type:String})],Bn.prototype,"unrecoverableError",void 0);Y([St({type:Number})],Bn.prototype,"maxSubjectLength",void 0);Y([St({type:Number})],Bn.prototype,"maxBodyLength",void 0);Y([St({type:Object})],Bn.prototype,"fetchHandler",void 0);Y([St({type:Object})],Bn.prototype,"recaptchaManager",void 0);Y([St({type:Boolean})],Bn.prototype,"bypassRecaptcha",void 0);Y([Er()],Bn.prototype,"currentStars",void 0);Y([Er()],Bn.prototype,"currentSubjectLength",void 0);Y([Er()],Bn.prototype,"currentBodyLength",void 0);Y([Er()],Bn.prototype,"recoverableError",void 0);Y([Er()],Bn.prototype,"formCanSubmit",void 0);Y([Er()],Bn.prototype,"submissionInProgress",void 0);Y([wr("#review-form")],Bn.prototype,"reviewForm",void 0);Bn=Y([Fi("ia-review-form")],Bn);var bn=class extends Yt{constructor(){super(...arguments),this.reviews=[],this.reviewsDisabled=!1,this.reviewsFrozen=!1,this.canDelete=!1,this.displayReviewsByDefault=!1,this.baseHost="https://archive.org",this.token="",this.endpointPath="/write-review.php",this.submitterScreenname="Anonymous",this.bypassRecaptcha=!1,this.reviewAddEditRequested=!1,this.fetchHandler=new Vy,this.displayReviewForm=!1,this.displayReviews=!1,this.filteredReviews=[],this.reviewsCount=0,this.recaptchaActivated=!1}render(){return this.reviewsDisabled?this.reviewsDisabledTemplate:this.reviewsCount===0&&!this.displayReviewForm?this.noReviewsMsgTemplate:this.displayReviews?we`
      <div class="reviews-list">
        ${this.reviewsFrozen?we`<div class="message">
              ${tn("Reviews can no longer be added to this item.")}
            </div>`:ei}
        ${this.editableCurrentReviewTemplate}
        ${this.filteredReviews.map(e=>e.reviewer_itemname!==this.submitterItemname?this.renderReview(e):ei)}
      </div>
    `:this.displayReviewsMsgTemplate}willUpdate(e){(e.has("reviews")||e.has("submitterItemname"))&&(this.reviewsCount=this.reviews.length,this.sortFilterReviews()),e.has("displayReviewForm")&&this.displayReviewForm===!0&&(!this.bypassRecaptcha&&!this.recaptchaActivated&&(this.recaptchaActivated=!0),this.displayReviews=!0),e.has("displayReviewsByDefault")&&this.displayReviewsByDefault&&(this.displayReviews=!0)}get reviewsDisabledTemplate(){return we`<div class="message">
      ${tn("Reviews have been disabled for this item.")}
    </div>`}get noReviewsMsgTemplate(){return this.reviewsFrozen?we`
        <div class="message">
          ${tn("Reviews cannot be added to this item.")}
        </div>
      `:we`
      <div class="message">
        ${tn("There are no reviews yet.")}
        ${tn(we`
          Be the first one to
          <button
            class="ia-button link no-reviews-btn"
            @click=${this.addEditReview}
          >
            write a review</button
          >.
        `)}
      </div>
    `}get displayReviewsMsgTemplate(){return we`
      <div class="message">
        ${this.reviewsCount===1?tn("There is 1 review for this item."):tn(`There are ${this.reviewsCount} reviews for this item.`)}
        <button
          class="ia-button link display-reviews-btn"
          @click=${()=>this.displayReviews=!0}
        >
          ${tn(`Display ${this.reviewsCount===1?"review":"reviews"}`)}</button
        >.
      </div>
    `}get editableCurrentReviewTemplate(){return!this.displayReviewForm&&!this.currentReview?ei:we`<div class="own-review-container">
      ${this.displayReviewForm?we`<ia-review-form
            .identifier=${this.identifier}
            .oldReview=${this.currentReview}
            .baseHost=${this.baseHost}
            .endpointPath=${this.endpointPath}
            .submitterItemname=${this.submitterItemname}
            .submitterScreenname=${this.submitterScreenname}
            .maxSubjectLength=${this.maxSubjectLength}
            .maxBodyLength=${this.maxBodyLength}
            .token=${this.token}
            .unrecoverableError=${this.reviewSubmissionError}
            .fetchHandler=${this.fetchHandler}
            .recaptchaManager=${this.recaptchaActivated?this.recaptchaManager:void 0}
            ?bypassRecaptcha=${this.bypassRecaptcha}
            @reviewUpdated=${this.handleReviewUpdate}
            @reviewEditCanceled=${this.handleEditCanceled}
          ></ia-review-form>`:this.renderReview(this.currentReview)}
    </div>`}sortFilterReviews(){let e,t=[];this.reviews.forEach(r=>{!e&&r.reviewer_itemname===this.submitterItemname?e=r:t.push(r)}),this.currentReview=e,this.filteredReviews=this.sortReviews(t)}sortReviews(e){return[...e].sort((t,r)=>t.createdate&&r.createdate?new Date(r.createdate).getTime()-new Date(t.createdate).getTime():0)}renderReview(e){return e?we`<ia-review
      .review=${e}
      .identifier=${this.identifier}
      ?canDelete=${this.canDelete}
      ?bypassTruncation=${this.displayReviewsByDefault}
      .baseHost=${this.baseHost}
    ></ia-review>`:ei}addEditReview(){this.bypassRecaptcha||(this.recaptchaActivated=!0),this.displayReviewForm=!0}handleReviewUpdate(e){!this.currentReview&&e.detail&&(this.dispatchEvent(new CustomEvent("newReviewAdded")),this.reviewsCount+=1),this.currentReview=e.detail,this.displayReviewForm=!1}handleEditCanceled(){this.displayReviewForm=!1,this.reviewsCount===0&&(this.displayReviews=!1)}static get styles(){return[cu,Le`
        :host {
          font-family: var(
            --ia-font-stack,
            'Helvetica Neue',
            Helvetica,
            Arial,
            sans-serif
          );

          color: var(--ia-text-color, #2c2c2c);
        }

        .reviews-list {
          display: flex;
          flex-direction: column;
          gap: 2rem;
          width: 100%;
        }

        .own-review-container {
          --error-color: var(--container-error-color, #ea0202);
          --link-color: var(--container-link-color, #4f65f5);
          --container-error-color: #ea0202;
          --container-link-color: #4f65f5;
          --container-bg-color: #fbfbfd;
          --container-border-color: #999999;

          border: 2px solid var(--container-border-color, #999999);
          border-radius: 5px;
          background-color: var(--container-bg-color, #fbfbfd);
          padding: 10px;
        }

        .message {
          font-weight: 200;
        }

        .message .ia-button {
          display: inline;
          vertical-align: baseline;
          padding: 0;
          font-weight: 600;
        }
      `]}};Y([St({type:String})],bn.prototype,"identifier",void 0);Y([St({type:Array})],bn.prototype,"reviews",void 0);Y([St({type:Boolean})],bn.prototype,"reviewsDisabled",void 0);Y([St({type:Boolean})],bn.prototype,"reviewsFrozen",void 0);Y([St({type:Boolean})],bn.prototype,"canDelete",void 0);Y([St({type:Boolean})],bn.prototype,"displayReviewsByDefault",void 0);Y([St({type:Number})],bn.prototype,"maxSubjectLength",void 0);Y([St({type:Number})],bn.prototype,"maxBodyLength",void 0);Y([St({type:String})],bn.prototype,"baseHost",void 0);Y([St({type:String})],bn.prototype,"token",void 0);Y([St({type:String})],bn.prototype,"endpointPath",void 0);Y([St({type:String})],bn.prototype,"submitterScreenname",void 0);Y([St({type:String})],bn.prototype,"submitterItemname",void 0);Y([St({type:Object})],bn.prototype,"recaptchaManager",void 0);Y([St({type:Boolean})],bn.prototype,"bypassRecaptcha",void 0);Y([St({type:String})],bn.prototype,"reviewSubmissionError",void 0);Y([St({type:Boolean})],bn.prototype,"reviewAddEditRequested",void 0);Y([St({type:Object})],bn.prototype,"fetchHandler",void 0);Y([Er()],bn.prototype,"displayReviewForm",void 0);Y([Er()],bn.prototype,"displayReviews",void 0);Y([Er()],bn.prototype,"filteredReviews",void 0);Y([Er()],bn.prototype,"currentReview",void 0);Y([Er()],bn.prototype,"reviewsCount",void 0);Y([Er()],bn.prototype,"recaptchaActivated",void 0);bn=Y([Fi("ia-reviews")],bn);Zi();var S1=()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach(r=>r(...t))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter(r=>r!==t)}});function SS(e){return new Promise(t=>setTimeout(t,e))}var Ia;(function(e){e.retryNumber="retryNumber",e.owner="owner",e.dynamicImportLoaded="dynamicImportLoaded",e.hasBeenRetried="hasBeenRetried"})(Ia||(Ia={}));var A1="lazyLoaderService",xh=class{constructor(e){var t,r,a;this.emitter=S1(),this.container=(t=e==null?void 0:e.container)!==null&&t!==void 0?t:document.head,this.retryCount=(r=e==null?void 0:e.retryCount)!==null&&r!==void 0?r:2,this.retryInterval=(a=e==null?void 0:e.retryInterval)!==null&&a!==void 0?a:1}on(e,t){return this.emitter.on(e,t)}loadBundle(e){return jo(this,void 0,void 0,function*(){let t,r;return e.module&&(t=this.loadScript({src:e.module,bundleType:"module"})),e.nomodule&&(r=this.loadScript({src:e.nomodule,bundleType:"nomodule"})),Promise.race([t,r])})}loadScript(e){return jo(this,void 0,void 0,function*(){return this.doLoad(e)})}doLoad(e){var t;return jo(this,void 0,void 0,function*(){let r=(t=e.retryNumber)!==null&&t!==void 0?t:0,a=`script[src='${e.src}'][async][${Ia.owner}='${A1}'][${Ia.retryNumber}='${r}']`,l=this.container.querySelector(a);return l||(l=this.getScriptTag(Object.assign(Object.assign({},e),{retryNumber:r})),this.container.appendChild(l)),new Promise((o,u)=>{if(l.getAttribute(Ia.dynamicImportLoaded)){o();return}let n=e.scriptBeingRetried,c=l.onload||(n==null?void 0:n.onload);l.onload=f=>{c==null||c(f),l.setAttribute(Ia.dynamicImportLoaded,"true"),o()};let d=l.onerror||(n==null?void 0:n.onerror);l.onerror=f=>jo(this,void 0,void 0,function*(){let p=l.getAttribute(Ia.hasBeenRetried);if(r<this.retryCount&&!p){l.setAttribute(Ia.hasBeenRetried,"true"),yield SS(this.retryInterval*1e3);let v=r+1;this.emitter.emit("scriptLoadRetried",e.src,v),this.doLoad(Object.assign(Object.assign({},e),{retryNumber:v,scriptBeingRetried:l}))}else p||this.emitter.emit("scriptLoadFailed",e.src,f),d==null||d(f),u(f)})})})}getScriptTag(e){var t;let r=e.src.replace("'",'"'),a=document.createElement("script"),l=e.retryNumber;a.setAttribute(Ia.owner,A1),a.setAttribute("src",r),a.setAttribute(Ia.retryNumber,l.toString()),a.async=!0;let o=(t=e.attributes)!==null&&t!==void 0?t:{};switch(Object.keys(o).forEach(u=>{a.setAttribute(u,o[u])}),e.bundleType){case"module":a.setAttribute("type",e.bundleType);break;case"nomodule":a.setAttribute(e.bundleType,"");break;default:break}return a}};var AS=class{constructor(e,t){this.widgetId=null,this.isExecuting=!1,this.siteKey=e.siteKey,this.grecaptchaLibrary=e.grecaptchaLibrary;let r=this.createContainer();this.setup(r,t)}execute(){return Vt(this,null,function*(){let{widgetId:e}=this;if(e===null)throw new Error("Recaptcha is not setup");return this.isExecuting&&this.finishExecution(),this.isExecuting=!0,new Promise((t,r)=>{this.executionSuccessBlock=a=>{this.finishExecution(),t(a)},this.executionExpiredBlock=()=>{this.finishExecution(),r(new Error("expired"))},this.executionErrorBlock=()=>{this.finishExecution(),r(new Error("error"))},this.grecaptchaLibrary.execute(e)})})}finishExecution(){this.isExecuting=!1;let{widgetId:e}=this;e!==null&&this.grecaptchaLibrary.reset(e)}setup(e,t){var r;this.widgetId=this.grecaptchaLibrary.render(e,{callback:this.responseHandler.bind(this),"expired-callback":this.expiredHandler.bind(this),"error-callback":this.errorHandler.bind(this),sitekey:this.siteKey,tabindex:t==null?void 0:t.tabindex,theme:t==null?void 0:t.theme,type:t==null?void 0:t.type,size:(r=t==null?void 0:t.size)!==null&&r!==void 0?r:"invisible",badge:t==null?void 0:t.badge})}createContainer(e){let t=`recaptchaManager-${this.siteKey}`,r=document.getElementById(t);return r||(r=document.createElement("div"),r.id=t,r.style.position="fixed",r.style.top="50%",r.style.left="50%",r.style.zIndex=e?`${e}`:"10",document.body.appendChild(r)),r}responseHandler(e){this.executionSuccessBlock&&(this.executionSuccessBlock(e),this.executionSuccessBlock=void 0)}expiredHandler(){this.executionExpiredBlock&&(this.executionExpiredBlock(),this.executionExpiredBlock=void 0)}errorHandler(){this.executionErrorBlock&&(this.executionErrorBlock(),this.executionErrorBlock=void 0)}},C1=class{constructor(e){var t;this.recaptchaCache={},this.defaultSiteKey=e==null?void 0:e.defaultSiteKey,this.lazyLoader=(t=e==null?void 0:e.lazyLoader)!==null&&t!==void 0?t:new xh,this.grecaptchaLibraryCache=e==null?void 0:e.grecaptchaLibrary}getRecaptchaWidget(e){return Vt(this,null,function*(){var t;let r=(t=e==null?void 0:e.siteKey)!==null&&t!==void 0?t:this.defaultSiteKey;if(!r)throw new Error("The reCaptcha widget requires a site key");let a=this.recaptchaCache[r];if(a)return a;let l=yield this.getRecaptchaLibrary(),o=new AS({siteKey:r,grecaptchaLibrary:l},e==null?void 0:e.recaptchaParams);return this.recaptchaCache[r]=o,o})}getRecaptchaLibrary(){return Vt(this,null,function*(){return this.grecaptchaLibraryCache?this.grecaptchaLibraryCache:new Promise(e=>{window.grecaptchaLoadedCallback=()=>{setTimeout(()=>{delete window.grecaptchaLoadedCallback},10),this.grecaptchaLibraryCache=window.grecaptcha,e(window.grecaptcha)},this.lazyLoader.loadScript({src:"https://www.google.com/recaptcha/api.js?onload=grecaptchaLoadedCallback&render=explicit"})})})}};function CS(e){var l;let t=new C1({defaultSiteKey:"6Ld64a8UAAAAAGbDwi1927ztGNw7YABQ-dqzvTN2"});e.recaptchaManager=t;let r=document.getElementById("reviews-list");if(!r)return;let a=JSON.parse((l=r.value)!=null?l:"[]");e.reviews=a}function ES(e){let t=document.querySelector(".reviews-placeholder");t&&(t.style.display="none");let r=document.querySelector(".js-reviews-addEditReview");r&&(r.style.display="block",r.addEventListener("click",()=>{e.displayReviewForm=!0})),e.style.display="block"}function TS(){let e=document.querySelector(".add-review-msg");e&&(e.innerText="Edit My Review");let t=document.querySelector(".review-count .item-stats-summary__count"),r=document.querySelector(".header-review-count");if(!t){r&&(r.innerText="(1)");return}let a=parseInt(t.innerText,10)+1;t.innerText=a,r&&(r.innerText=`(${a})`)}document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector("ia-reviews");e&&(CS(e),ES(e),e.addEventListener("newReviewAdded",t=>{TS()}))});var Br=class e{static paramsToJSON(){return ny()}static isTouchDevice(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch}static theatre_controls_position(t,r,a,l){let o=t,u=l&&!t;if(!u&&(t||(o=Ke("#canvas")),!o.length))return;let n=u?l:o.height()||0,c=u?a:o.width()||0;!u&&typeof r!="undefined"&&Ke("#theatre-controls").offset({top:r});let d=Math.round((Ke("#theatre-ia-wrap").width()-Ke("#theatre-controls").width()-c)/2);ir("width",c),ir("right_gutter_width",d),Ke("#theatre-controls").css({height:n,visibility:"visible",right:Math.max(20,d/2)})}static theatresize(t){e.theatresize_maxheight||(e.theatresize_maxheight=null);let r=()=>{let o=Math.min(Ke(window).width(),400),u=Ke(window).height()-(Ke("#navwrap1").height()||0)-100;e.theatresize_maxheight&&(u=Math.min(u,e.theatresize_maxheight)),u=Math.max(u,o);let n=Math.min(u,1e3);Ke("#theatre-ia-wrap").addClass("resized").css("height",n),t&&t(Ke("#theatre-ia-wrap").height()||0)};r(),Ke(window).on("resize  orientationchange",()=>{clearTimeout(e.theatresize_throttler),e.theatresize_throttler=setTimeout(r,250)})}static carouselsize(t,r){let a=Ke(t),l=a.find("img.carousel-image").map((o,u)=>{let n=Ke.Deferred(),c;return u.complete?c=n.resolve(u.naturalHeight).promise():(u.addEventListener("load",()=>{n.resolve(u.naturalHeight)}),c=n),c}).get();Ke.when(...l).then((...o)=>{let u=a.height(),n=Math.max(...o);u>n&&(a.css("maxHeight",n),r&&(e.theatresize_maxheight=n,Ke(window).trigger("resize")))})}static popover_menu(t,r){let a={trigger:"hover focus click",container:t,content:r.content,html:!0};r.title&&(a.title=r.title),r.placement&&(a.placement=r.placement),r.trigger&&(a.trigger=r.trigger),Ke(t).popover(a)}static date_switcher(t){let r="#date_switcher";Ke(r).tooltip({html:!0,trigger:"manual",placement:"bottom",title:t}).on("mouseenter focusin",function(){Ke(r).parent().find(".tooltip").length||Ke(this).tooltip("show")}),Ke(".sortbar").on("mouseleave",()=>{ir("not hovering sortbar anymore"),Ke(r).tooltip("hide")}),Ke(r).on("shown.bs.tooltip",()=>{Ke(r).parent().find(".date_switcher").on("click",function(){Ke(this).parents(".tooltip").find(".date_switcher.in").removeClass("in"),Ke(this).addClass("in")})})}static lists_v_tiles_setup(t){let r="tiles",a=_o.get(`view-${t}`),l=_o.get(`showdetails-${t}`),o=l==="showdetails"||l===void 0&&r==="lists";if(a==="lists"||!a&&r==="lists"){if(o)return;Ke("body").removeClass("showdetails")}else Ke("body").removeClass("lists".concat(o?"":" showdetails")).addClass("tiles")}static showdetails_toggle(t){let r=Ke("body"),a=r.hasClass("showdetails")?"":"showdetails";ir("showdetails_toggle() going to: ",a),_o.set(`showdetails-${t}`,a,{path:"/",expires:30,domain:".archive.org"}),r.toggleClass("showdetails")}static tiles_toggle(t,r){let a=Ke("body"),l=a.hasClass("tiles")?"lists":"tiles";return ir("tiles_toggle() going to",l),a.removeClass("lists tiles").addClass(l),e.tiler(),_o.set(`view-${r}`,l,{path:"/",expires:30,domain:".archive.org"}),!1}static selector(){let t=!1;return t="#ikind-".concat(Ke(".ikind.stealth.in:first").text().toLowerCase().replace(/ /,"-")),Ke(t).length||(t="#ikind-search"),ir("SELECTOR",t),t}static parent_hover(t){t.find(".item-ia:not(.hov):not(.collection-ia):not(.account-ia)").addClass("hov").mouseover(r=>Ke(r.currentTarget).find(".item-parent").addClass("hoverin")).mouseout(r=>Ke(r.currentTarget).find(".item-parent").removeClass("hoverin"))}static tiler(t,r){Ke("body").hasClass("tiles")||Ke("body").hasClass("showdetails")&&Ke(".sortbar input[name=showdetails]").prop("checked",!0);let a=t||e.selector();if(a===!1)return;let l=Ke(a).first();e.parent_hovered=e.parent_hovered||{},e.parent_hovered[a]||(e.parent_hover(l),e.parent_hovered[a]=!0)}static ikind(t,r){let a=`#${r}`;ir("ikind",r),Ke(a).parent().find("div.ikind.in").hide(),Ke(a).removeClass("hidden").addClass("in").show(),Ke(t).addClass("in"),e.tiler(a)}static ikind_mobile_change(t){if(e.ikind_mobile_change_ignore_next){e.ikind_mobile_change_ignore_next=!1;return}let r=Ke(t).find("option:selected");ir("ikind mobile changed to: ",r.text());let a=Ke("body").find("a.ikind");if(!a.length)return;let o=a.filter((u,n)=>Ke(n).text()===r.text()).attr("href");ir("goto",o),o&&(o.substr(0,1)==="#"?Ke(`a.ikind[data-id=${o.substr(1)}]`).click():location.href=o)}static drawPDF(t,r){let a="/download/".concat(t,"/",t,"_pdf.zip/",t,"_pdf/",t,"_"),l=!1,o=!1;for(let d of Object.keys(r)){let f=d.slice(0,4);if(o===!1&&(o=f),o!==f){l=!0;break}}let n="",c=666;for(let d of Object.keys(r)){if(d==="yyyymmdd")continue;let f=r[d].split(","),p=d.slice(0,4),v=parseInt(d.slice(4,6),10),y=parseInt(d.slice(6,8),10),w=p.concat("-",v),k=!1,A="";w!==c&&(v===1?A="January":v===2?A="February":v===3?A="March":v===4?A="April":v===5?A="May":v===6?A="June":v===7?A="July":v===8?A="August":v===9?A="September":v===10?A="October":v===11?A="November":v===12?A="December":v===void 0?A="Single Page PDFs":A="Unknown_".concat(v),l&&(A=p.concat(" ",A)),n+=n?"</div><!--mo--><br/>":"",n+=`
<a href="#${A},${p}" class="year-month" data-toggle="#m${w}">
  <span class="iconochive-folder"></span> ${A}
</a>
<div class="mo" id="m${w}">`),(y===void 0||y==="")&&(k=!0),k?n+='<div class="day">':n+=`
<div class="day">
<a href="#${w}-${y}" class="year-month-day" data-toggle="#m${w}d${y}">
  <span class="iconochive-folder" /> ${y}
</a>
<div class="pages" id="m${w}d${y}">`;let C=1,x,S;for(let s=0;s<f.length;s++){if(x=f[s],!x)continue;C>0&&(C=1-x),S=parseInt(x,10)+C,x="0000".concat(x),x=x.substr(x.length-4,4);let h=a.concat(x,".pdf");n+=`<a href="${h}">[${S}]</a> `}k?n+="</div>":n+="</div><!--pages--></div><!--day-->",c=w}n+="</div><!--mo-->",Ke("#pdfs .replaced").html(n),Cn("#pdfs .year-month",d=>Ke(Ke(d.currentTarget).data().toggle).toggle()),Cn("#pdfs .year-month-day",d=>Ke(Ke(d.currentTarget).data().toggle).toggle())}static quick_down(t,r){let a=`#${t}`;if(Ke(".format-group.in").length)Ke(".format-group").slideDown(400),setTimeout(()=>{Ke(".format-group.in").removeClass("in"),Ke(".download-button").html("DOWNLOAD OPTIONS")},400),Ke(a).slideUp();else{let l=Ke(r).text(),o=Ke(a).parents(".format-group");Ke(".download-button").html(l.concat(" FILES")),o.addClass("in"),Ke(".format-group:not(.in)").slideUp(),Ke(a).slideDown()}return!1}static arg(t,r){let a=r&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&");for(let l=0;l<a.length;l++)if(a[l].slice(0,a[l].indexOf("="))===t){let o=a[l].slice(a[l].indexOf("=")+1);return o.length>0?unescape(o):""}return""}static scrolled(){let t=Ke(window).scrollTop(),r=".more_search:visible",a=Ke(r);if(!a.length)return;let l=a.offset().top+a.outerHeight()-Ke(window).height()-40;t>l&&(ir("hit rock bottom > ",l),e.more_searching||Ke(r.concat(" > a")).get(0).click())}static more_search(t,r,a){let l=e.selector();if(l===!1)return!1;let o=l.replace(/#ikind-/,""),u=Ke(l.concat(" .more_search")),n=l;if(typeof e.page_map=="undefined"&&(e.page_map={}),typeof e.page_map[n]=="undefined"&&(e.page_map[n]=a||1),e.page_map[n]<0)return!1;e.page_map[n]+=1;let c=e.page_map[n];u.find(".more-search-fetching").show(),e.more_searching=!0;let d=r+c,f=location.protocol.concat("//",location.host,d);return d+="&scroll=1",ir("url: ",d),ir("urlreplace",f),ir("more_search(selector=",l,"sort=",o,"page=",c,"url=",d,")"),Ke.get(d,p=>{if(p.length<100&&Ke(p).find("div.no-results")){u.find(".more-search-fetching, a.btn").hide(),e.page_map[n]=-1,e.more_searching=!1;return}typeof history.replaceState!="undefined"&&history.replaceState({},"",f);let v=Ke(l).attr("id");e.tilerPREV&&e.tilerPREV.unsourced&&e.tilerPREV.unsourced[v]&&delete e.tilerPREV.unsourced[v];let y=Ke(l.concat(" .results"));y.append(e.addNotes(e.addingNotesKind,p)),e.tiler(l),u.find(".more-search-fetching").hide(),e.more_searching=!1,e.parent_hover(y),Ke(l.concat(" img")).on("load",()=>{clearTimeout(e.more_search_throttler),e.more_search_throttler=setTimeout(e.tiler,1e3)}),typeof archive_analytics!="undefined"&&archive_analytics.send_scroll_fetch_event(c)}),!1}static embed_codes_adjust(){ir("showing embeds!");for(let t of["embedcodehere","embedcodehereWP"]){let r=Ke(`#${t}`);r.removeAttr("rows").css("height","");let a=r.text();Ke("body").prepend(Ke("<div/>").attr({id:`${t}Shadow`,class:"textarea-invert-readonly roundbox5"}).css({position:"absolute",visibility:"hidden",top:60,left:10,padding:"5px 15px 5px 15px",width:r.width(),"font-size":r.css("font-size")}).text(a));let l=Ke(`#${t}Shadow`).outerHeight()+15;ir(t,"bestie height",l,"for current width",r.width()),Ke(`#${t}Shadow`).remove(),r.height(l)}}static focus_last_descendent(t,r){let a=Ke(t).get(0).getRootNode(),l=Ke(t).find("*");for(let o of l.get().reverse())if(o.focus(),(a==null?void 0:a.activeElement)===o)return;r==null||r.focus()}static modal_add(t,r){Ke(t).length&&Ke(t).remove();let a=t.replace(/#/,""),{prepended_el:l=document.body}=r;return Ke(l).prepend(`
<div id="${a}" class="modal fade" role="dialog" aria-modal="true" aria-labelledby="modal-main-heading">
  <div class="modal-dialog modal-lg">
    <div class="focus-trap-start" tabindex="0"></div>
    <div class="modal-content">
      <div class="modal-header ${r.headerClass!==void 0?r.headerClass:"modal-header-std"}">
        <button type="button" class="close" data-dismiss="modal">
          <span class="iconochive-remove-circle"></span>
        </button>
        <h1 id="modal-main-heading" class="modal-title">
          ${typeof r.title=="undefined"?"Confirmed":r.title}
        </h1>
      </div>
      <div id="${a}-body">
        ${typeof r.body=="undefined"?"":r.body}
      </div>
    </div>
    <div class="focus-trap-end" tabindex="0"></div>
  </div>
</div>`),Ke(t)}static isFavoriteSuccessful(t){return t.indexOf('<meta name="ia-favorite-success" content="1">')!==-1}static modal_go(t,r){let a=r,l=Ke(t);if(typeof Ke.fn.modal=="undefined"){if(r.recalling)throw Error("still cant modal -- are there two jquery on the page?");return r.recalling=1,Promise.resolve().then(()=>(Om(),Pm)).then(()=>e.modal_go(t,r)),!1}a.favorite&&(a.login=!0,a.title="Log In",_o.get("logged-in-user")!==void 0&&(Fo.toggle_favorite_icon(l,!0),Fo.update_favorite_count(!0)));let o=l.attr("data-target"),u=a.favorite?l.attr("data-href"):l.attr("href");(!a.ignore_lnk||a.add_modal)&&e.modal_add(o,a);let n=Ke(o).find(".close"),c=Ke(o).find(".focus-trap-start"),d=Ke(o).find(".focus-trap-end");if(c.on("focus",()=>{let f=Ke(o).find(".modal-content");e.focus_last_descendent(f,n)}),d.on("focus",()=>{n.focus()}),a.shown&&Ke(o).on("shown.bs.modal",()=>{a.shown()}),a.follow_link_on_dismiss&&Ke(o).on("hidden.bs.modal",()=>{ir("modal hidden, going to ",u,".."),Ke("body").removeClass("blurry"),location.href=u}),a.login&&_o.get("logged-in-user")===void 0){if(location.protocol!=="https:")return location.href="https://archive.org/login",!1;let f="/account/login.embed.php";return Ke.get(f,p=>{let v=Ke(p).find(".container-ia > div").length?Ke(p).find(".container-ia > div").get(0):p;Ke(o).addClass("login-modal"),Ke(o.concat("-body")).html(v),Ke(o).modal("show"),Ke(o).on("shown.bs.modal",()=>{Ke(o).find(".input-email").focus()}),Ke(o).on("hide.bs.modal",()=>{t.focus()});let y=Ke(o.concat("-body form:has(input[type=submit])"));if(!y.length)return;let w=Ke(".password_icon")[0];navigator.cookieEnabled===!0?(Ke(".cookie-warning").addClass("hidden"),Ke(".login-form :input").prop("disabled",!1),w.src="/images/eye-crossed.svg",w.alt="Show text",Ke(".js-togglePasswordVisibility").on("click",()=>{let k=Ke(".input-password")[0];k.type==="password"?(k.type="text",w.src="/images/eye.svg",w.alt="Hide text"):(k.type="password",w.src="/images/eye-crossed.svg",w.alt="Show text")}),Ke(".input-email, .input-password").on("focus",()=>{Ke(".password-error").html(""),Ke(".reset-password").show()})):(Ke(".cookie-warning").removeClass("hidden"),Ke(".login-form :input").prop("disabled",!0)),ay({$form:y,url:f,selector:o,element:t,conf:a})}),!1}return a.auto_remove&&(a.auto_close=!0,Ke(o).on("hidden.bs.modal",()=>{Ke(o).remove(),Ke("body").removeClass("blurry")})),a.ignore_lnk?Ke(o).modal("show"):(Ke.get(u,f=>{if(a.favorite)if(typeof archive_analytics!="undefined"&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"favorite",el:location.pathname,cache_bust:Math.random()}),e.isFavoriteSuccessful(f))setTimeout(()=>{a.postLogin&&location.reload(!0)},e.modalInterval);else{Fo.toggle_favorite_icon(l,!1),Fo.update_favorite_count(!1);let p=Ke(o),v=`
              <center>
                <p class="favorite-failure-message">
                  There was an error adding the favorite. If the problem persists, please contact support.
                </p>
              </center>
            `;p.find(".modal-title").html("Failed"),p.find(`${o}-body`).html(v),Ke(o).modal("show")}else Ke(o).modal("show"),a.auto_close&&setTimeout(()=>Ke(o).modal("hide"),e.modalInterval);Ke(o).find(".close").focus()}),Ke(o).on("hidden.bs.modal",()=>{Ke(o).remove()})),a.center&&Ke(o.concat(" .modal-dialog")).center(),a.auto_close&&a.ignore_lnk&&setTimeout(()=>Ke(o).modal("hide"),e.modalInterval),!1}static suffixFmt(t,r){return r.min>=0&&r.max<=5?Math.round(t*10,1)/10:t>=1e6?(t/1e6).toFixed(0).concat(" M"):t>=1e3?(t/1e3).toFixed(0).concat(" K"):t.toFixed(0)}static suffixFmtPercent(t,r){return e.suffixFmt(t,r).concat("%")}static pluralize(t,r,a){return t===1?r:a}static viewMessage(t,r,a){let l=r.length,o="<table><tr>";o+=`<th class="tt-date" rowspan="${l}">${t[2]} ${t[3]}</th>`,o+=`<td class="tt-number">${Ya(r[0])}</td>`,o+=`<td>${e.pluralize(r[0],"View","Views")} ${a[0]}</td></tr>`;for(let u=1;u<l;u++)o+=`<tr><td class="tt-number">${Ya(r[u])}</td>`,o+=`<td>${e.pluralize(r[u],"View","Views")} ${a[u]}</td></tr>`;return o+="<table>",o}static plot_graphs(){Ke(".js-ajs-plotter").each((t,r)=>{let a=JSON.parse(Ke(r).val());e.plotter(()=>{var o,u,n;ir("js-ajs-plotter",a);let l=JSON.parse(a.cfg);a.dayBarsNoPoints&&(l.dayBarsNoPoints=!0),a.dark&&(l.dark=!0),((o=l.yaxis)==null?void 0:o.tickFormatter)==="AJS.suffixFmt"&&(l.yaxis.tickFormatter=e.suffixFmt),a.fmt==="AJS.broadcastsTooltip"?a.fmt=e.broadcastsTooltip:a.fmt==="AJS.airedTooltip"?a.fmt=e.airedTooltip:((u=a.fmt)==null?void 0:u.length)===3&&a.fmt[0]==="AJS.graphsTooltip"?a.fmt=e.graphsTooltip(a.fmt[1],a.fmt[2]):((n=a.fmt)==null?void 0:n.length)===3&&a.fmt[0]==="AJS.statsTooltip"&&(a.fmt=e.statsTooltip(a.fmt[1],a.fmt[2])),e.plot(a.id,l,a.fmt,JSON.parse(a.pts),a.many)})})}static broadcastsTooltip(t,r){let a=new Date(t).toUTCString().split(" ");return`<nobr>${Ya(r)} broadcasts on ${a[2]} ${a[3]}</nobr>`}static airedTooltip(t,r){let a=new Date(t).toDateString().split(" ");return`<nobr>Aired ${Ya(r)} times on ${a[1]} ${a[2]}</nobr>`}static graphsTooltip(t,r){return(a,l)=>{let o=new Date(a).toDateString().split(" ");return`<nobr>${Ya(l)} ${t} in ${o[1]} ${r==="day"?o[2]:""} ${o[3]}</nobr>`}}static statsTooltip(t,r=0){let a;switch(t){case"main":{a=({y:o,t:u})=>`${Ya(o)} total items in <strong>${u[2]} ${u[3]}</strong>`;break}case"item":{a=({t:o,item:u})=>`<strong>${o[2]} ${o[3]}</strong>: ${Ya(u.datapoint[1])} ${e.pluralize(u.datapoint[1],"Item","Items")}`;break}case"download":{a=({t:o,item:u})=>`<strong>${o[2]} ${o[3]}</strong>: ${Ya(u.datapoint[1])} ${e.pluralize(u.datapoint[1],"Download","Downloads")}`;break}case"view":{a=({t:o,values:u,labels:n})=>e.viewMessage(o,u,n);break}default:break}return(o,u,n,c,d)=>{let f=new Date(o-r).toUTCString().split(" ");return`<span style="white-space: nowrap;">${a({x:o,y:u,item:n,t:f,values:c,labels:d})}</span>`}}static plotter(t){if(typeof e.plotters=="undefined"&&(e.plotters=[]),t)e.plotters.push(t),t();else{ir("plotter() resize/orient change",e.plotters.length,"graphs to resize");for(let r=0;r<e.plotters.length;r++)e.plotters[r]()}}static plot(t,r,a,l,o){let u=r;u.xaxis||(u.xaxis={mode:"time",color:u.dark?"#ccc":"#545454"}),u.yaxis||(u.yaxis={color:u.dark?"#ccc":"#545454"});let n;o&&u.barWidth?n=u.barWidth*1:u.barWidth?n=u.barWidth*86400*1e3:n=(u.dayBarsNoPoints?1:7)*86400*1e3,u.color||(u.color="#385C74"),u.stack?u.series={stack:!0,bars:{show:!0,barWidth:n,fill:!0},legend:{show:!0}}:u.series={bars:{show:!0,barWidth:n,fill:.6,color:u.color},color:u.color,points:{show:!u.dayBarsNoPoints}},typeof u.grid=="undefined"&&(u.grid={borderColor:u.dark?"#333":"#aaa",hoverable:!0}),u.dark&&(u.grid.backgroundColor="#002b36"),u.tip||(u.tip={}),u.tip.id||(u.tip.id=t),typeof window.GraphPriorIndex=="undefined"&&(window.GraphPriorIndex={});let c=[];u.series.stack?c=l:(c=o?l:typeof l.data=="undefined"?[{data:l}]:[l],u.dayBarsNoPoints&&!u.noLabel&&(c[0].label=t));let d=`#${t}`;Promise.resolve().then(()=>(B1(),j1)).then(()=>{Promise.all([Promise.resolve().then(()=>(V1(),W1)),Promise.resolve().then(()=>(X1(),J1))]).then(()=>{let f=Ke.plot(Ke(d),c,u);a&&Ke(d).bind("plothover",(p,v,y)=>{if(!y){window.GraphPriorDatapoint=[0,0,0],Ke("#gtip").remove();return}if(window.GraphPriorDatapoint!==y.datapoint){window.GraphPriorDatapoint=y.datapoint,Ke("#gtip").remove();let w=[],k=[];if(u.stack){let h=f.getData();for(let g=0;g<h.length;g++){let m=h[g];k[g]=m.label;for(let b=0;b<m.data.length;b++)if(m.data[b][0]===y.datapoint[0]){w[g]=m.data[b][1];break}}}let A=a(y.datapoint[0],y.datapoint[1],y,w,k),C=Ke(d),x=C.offset(),{pegTo:S}=u.tip;S||(S=v.pageX-x.left>C.width()/2?"right":"left");let s=S==="right"?C.width()-(v.pageX-x.left-20):v.pageX-x.left+20;ir(S,s),Ke(`#${u.tip.id}`).append(`<div id="gtip" class="roundbox5 grafs-tooltip" style="top:${v.pageY-x.top}px; ${S}:${s}px">${A}</div>`).fadeIn(200)}})})})}static makeMouseElementAccessible(t){Ke(t).attr("tabindex","0").on("keypress keydown",function(a){if(a.type!=="click"){let l=a.keyCode||a.which;[32,13].indexOf(l)!==-1&&Ke(this).click()}})}static autocomplete(t,r,a){return Vt(this,null,function*(){yield Promise.resolve().then(()=>(qf(),Vf)).then(()=>{Ke(t).autocomplete({appendTo:"#autocompletee",minLength:0,source:(l,o)=>{o(Ke.ui.autocomplete.filter(r,l.term.split(/,\s*/).pop()))},focus:()=>!1,select:function(o,u){if(a){let n=this.value.split(/,\s*/);n.pop(),n.push(u.item.value),n.push(""),this.value=n.join(", ")}else this.value=u.item.value;return!1}})})})}static addNotes(t,r){if(t!=="favorite"&&t!=="list"||(!r&&Ke("body").hasClass("editable")&&(e.addingNotesKind=t),!e.addingNotesKind))return r;if(e.addNoteHTM=Ke(`
<div class="note">
  <span class="edit">
    <a href="#" class="js-note-add">Add a Note</a>
  </span>
</div>`),ir("addNotes"),r){let a=Ke(`<div>${r}</div>`);return a.find('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM),a.html()}return Ke('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM),Cn(".js-note-add",a=>e.editNote(a.currentTarget))}static editNote(t){let r=Ke(t);if(!r.parents(".details-ia").prev().attr("data-id"))return!1;let l=r.parents(".note"),o="";return r.text()==="edit"&&(o=l.find("span:first").text(),o=o.replace(/</g,"&lt;").replace(/>/g,"&gt;")),l.hide(),l.parent().append(Ke(`
<form class="js-note-submit form form-horizontal note" role="form">
  <div class="form-group">
    <div class="col-xs-2 col-md-1 col-lg-1">
      <b>Note:</b>
    </div>
    <div class="col-xs-10 col-md-6 col-lg-7">
      <textarea class="form-control" name="comments">${o}</textarea>
      <div class="clearfix visible-xs-block"></div>
    </div>
    <div class="clearfix visible-xs-block"></div>
    <div class="col-xs-12 col-md-5 col-lg-4 btns">
      <button type="button" class="js-note-edited btn btn-success btn-xs">Save</button>
      <button type="button" class="js-note-edited btn btn-info btn-cancel btn-xs">Cancel</button>
      <button type="button" class="js-note-edited btn btn-danger btn-xs ${o?"":"hidden"}">Remove</button>
    </div>
  </div>
</form>`)),Cn(".js-note-edited",u=>e.editedNote(u.currentTarget)),py(".js-note-submit",u=>e.editedNote(u.currentTarget)),!1}static editedNote(t){let r=Ke(t),a=r.parents(".details-ia").prev().attr("data-id");if(!a)return;r.is("form")&&(r=r.find('button:contains("Save")'));let l=r.text(),o=r.parents(".note"),u=o.prev();if(l==="Save"||l==="Remove"){let n=l==="Save"?o.find("textarea").val():"",c="/bookmarks.php?identifier=".concat(a,"&kind=",e.addingNotesKind,"&add_comment=",encodeURIComponent(n));ir("get ",c),Ke.get(c,()=>{let d=n?`Note: "<span>${n.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</span>"
          <span class="edit">(<a href="#" class="js-note">edit</a>)</span>`:e.addNoteHTM.html();u.html(d).show(),o.remove(),Cn(".js-note",f=>e.editNote(f.currentTarget))});return}u.show(),o.remove()}static thumbzilla(t=""){var o,u;let r=Ke("body").hasClass("tv");r&&(window!=null&&window.TV2)&&TV2.unplay("thumbzilla"),t||(t=(o=location.pathname.match(/\/details\/([^/&?]+)/))==null?void 0:o[1]);let a="",l=()=>{Ke("#opscreen1M").remove(),Ke("body").prepend(Ke("<div />").attr({id:"opscreen1M"})),Ke("<div/>").attr({id:"thumbzilla"}).html(`<div>${a}</div>`).appendTo("#opscreen1M"),Ke("#opscreen1M").css("visibility","hidden").show();let c=Ke(window).height()+(mc?60:0);for(let d=720;d>=10;d-=10){let f=Math.round(d*.6875);if(ir("TRYING",d,"x",f),Ke("#thumbzilla img").css({width:d,height:f}),Ke("#thumbzilla img:last").offset().top+f<=c)break}Ke("#thumbzilla div").center(),Ke("#opscreen1M").hide().css("visibility","visible").fadeIn("slow").one("click.opscreen1M.nixer",()=>Ke("#opscreen1M").fadeOut("slow")),window!=null&&window.TV2&&Cn(".js-tvthumb",d=>{Ke("#opscreen1M").fadeOut("slow"),TV2.seekURL(Ke(d.currentTarget).href.replace(/^\/details\/[^/+]/,""))})};if(r&&Ke(".js-tv3-init").length){let n=JSON.parse((u=Ke(".js-tv3-init").val())!=null?u:"{}");Ke(n["TV3.thumbzillas"]).each((c,d)=>{let f=parseInt(d,10),p=`/details/${t}/start/${f}/end/${f+n["TV3.CLIP_SEC_MAX2"]}`;a+=`<a class="js-tvthumb" href="${p}">`,a+=`<img src="/download/${t}/${t}.thumbs/${t}_${d}.jpg"/></a>`}),l()}else Ke.getJSON(`/metadata/${t}/files`,n=>{for(let c of n.result){let d="original"in c&&c.name.match(/\.thumbs\/.*_([0-9]+)\.jpg$/);d&&(a+=`
              <a href="/details/${t}/${c.original}?start=${Number(d[1])}"><img src="/download/${t}/${c.name}"></a>
            `)}a&&l()});return!1}static setUpSearchForms(){let t=Ke(document.body),r=Ke(".js-search-form");function a(l){let o=Ke(l),u=o.find(".js-search-bar"),n=o.find(".js-search-options"),c=n.data("keepOpenWhenChanged"),d=!1;function f(w){let{waybackMachineSearchUrl:k}=this.dataset,A=Ke(this.elements),C=A.filter('[name="sin"]:checked'),x=A.filter('[name="search"]'),S=C.length?C[0].value:"",s=x.length?x[0].value:"";k&&S==="WEB"&&(w.preventDefault(),window.location=[k.replace(/\/$/,""),s].join("/"))}function p(){n.addClass("is-open").attr("aria-expanded",!0)}function v(){n.removeClass("is-open").attr("aria-expanded",!1)}function y(w){!w||o[0].contains(w)||c&&d||Ke(w).parents(".ui-autocomplete").length||v()}o.length&&(o.on("submit",f),n.hasClass("is-open")||(t.on("click",w=>{y(w.target)}),o.on("change",()=>{d=!0}).on("focusout",w=>{y(w.relatedTarget)}),u.on("focusin",()=>{p()})))}r.each((l,o)=>a(o))}static setUpAccordions(){function t(a,l){Array.from(a).forEach(o=>{o!==l&&(o.open=!1)})}function r(a){function l(o){o.target.open&&(t(a.querySelectorAll("details"),o.target),Ke("html, body").animate({scrollTop:Ke(o.target).offset().top},400))}Array.from(a.querySelectorAll("details")).forEach(o=>{o.addEventListener("toggle",l)}),a.setAttribute("data-accordion-ready","")}Array.from(document.querySelectorAll("[data-accordion]")).forEach(r)}static isTextClamped(t){return t.clientHeight<t.scrollHeight}static bindClampCheckbox(t){let r=t.nextElementSibling;if(r&&r.type==="checkbox"){let a,l;Ke(r).on("click",()=>{if(Ke(r).is(":checked")){let o=window.visualViewport.pageTop;a=t.getBoundingClientRect().top+o,l=a<o?a-10:o}else a<window.visualViewport.pageTop&&window.scrollTo({top:l,behavior:"instant"})})}}static unbindClampCheckbox(t){let r=t.nextElementSibling;r&&r.type==="checkbox"&&r.checked&&Ke(r).off("click")}};Ke(()=>{Ke(".js-tiles-setup").each((p,v)=>{let y=JSON.parse(Ke(v).val());Br.lists_v_tiles_setup(y.toggle_range),Ke("div.ikind").css({visibility:" visible"}),Br.tiler(),Ke(window).on("resize  orientationchange",w=>{clearTimeout(Br.tiles_wrap_throttler),Br.tiles_wrap_throttler=setTimeout(Br.tiler,250)}),Ke(window).scroll(Br.scrolled)}),Br.makeMouseElementAccessible(".accessible-link"),typeof archive_analytics!="undefined"&&archive_analytics.set_up_event_tracking(),Ke(".js-tiles-toggle").click(p=>{let v=Ke(p.currentTarget).attr("data-range");return Br.tiles_toggle(p.currentTarget,v)}),Ke(".js-ikind-link").click(p=>{let v=Ke(p.currentTarget).attr("data-id");Br.ikind(p.currentTarget,`ikind-${v}`)}),Ke(".js-more-search").click(p=>{let v=p.currentTarget,y=decodeURIComponent(Ke(v).attr("data-more-search")),w=parseInt(Ke(v).attr("data-page"),10);return Br.more_search(v,y,w),!1}),Ke("#showdetails").on("change",p=>{let v=Ke(p.currentTarget).attr("data-toggle-range");Br.showdetails_toggle(v)}),Ke(".ikind-mobile").on("change",p=>{Br.ikind_mobile_change(p.currentTarget)}),Br.setUpSearchForms(),Br.setUpAccordions(),typeof archive_analytics!="undefined"&&archive_analytics.create_tracking_image("external_executes"),Br.modalInterval=2e3,oy.init(),yc.setup(),Ke(".js-search-beta-opt-in").each((p,v)=>{Ke(v).on("click",()=>{window.localStorage.setItem("SearchBeta-opt-in",!0)})}),Br.plot_graphs(),Ke(".js-pages").each((p,v)=>{let y=JSON.parse(Ke(v).val());Br.drawPDF(y.identifier,JSON.parse(y.pages))}),Ke(".js-carousel2").each(()=>{Br.theatresize(),Br.carouselsize("#ia-carousel",!0)}),Ke(".tablesorter").each((p,v)=>{let y={textExtraction:"complex"};Ke("body").hasClass("js-tv-programPageColumnSorting")?y.headers={0:{sorter:!1}}:Ke("body").hasClass("services-views")&&(y.ignoreCase=!0,y.sortList=[[1,0]],y.widgets=["saveSort"],y.widgetOptions={saveSort:!0}),typeof Ke.fn.tablesorter=="undefined"?Promise.resolve().then(()=>(nw(),rw)).then(()=>{Ke(v).tablesorter(y)}):Ke(v).tablesorter(y)}),Cn(".js-ebook-maker",p=>Vt(void 0,null,function*(){let v=p.currentTarget;v.parentElement.textContent="Generating...";let{maker:y}=Ke(v).data();ir({maker:y});let w=new URLSearchParams;for(let[A,C]of Object.entries(y))w.append(A,encodeURIComponent(C));let k=yield fetch("/services/make-ebook.php",{method:"POST",body:w});ir({res:k})}));let e=Ke(".js-date_switcher"),t=!Br.isTouchDevice()&&typeof Ke.fn.tooltip=="undefined"?Ke('.container-ia [data-toggle="tooltip"], #cols [data-toggle="tooltip"], #tvbanner [data-toggle="tooltip"], #cher-modal [data-toggle="tooltip"]'):[];(t.length||e.length)&&Promise.resolve().then(()=>(Om(),Pm)).then(()=>{t.length&&t.tooltip({}),e.each((p,v)=>Br.date_switcher(JSON.parse(Ke(v).val())))}),Cn(".js-createclick",p=>{location.href="/create/"}),Cn(".js-colclick",p=>{let v=Ke(p.currentTarget),y=v.attr("data-id"),w=y&&!y.startsWith("__id_")?`/details/${y}`:v.find("a").attr("href");y&&Ke("body").hasClass("tiles")&&!v.hasClass("manage-item")&&(location.href=w)}),Cn(".js-note",p=>Br.editNote(p.currentTarget)),Cn(".js-inliner",p=>{if(window.inlined)return;window.inlined=!0;let v=`${p.currentTarget.href}&nochrome=1`,y=Ke(p.currentTarget).parent().parent().parent();y.append('<div id="loadin" style="padding:50px"><hr/><h4><img src="/images/loading.gif"/> loading...</h4><hr/></div>'),Ke.get(v,w=>{Ke("#loadin").remove(),y.append(`<hr/>${w}`)})}),Cn(".js-auto-submit-perpetual",()=>{document.getElementById("timeout_row").style.display="table-row",document.getElementById("loopsleep_row").style.display="table-row",document.getElementById("discard_itemlists_row").style.display="table-row",document.getElementById("timeout_row").classList.toggle("hidden"),document.getElementById("loopsleep_row").classList.toggle("hidden"),document.getElementById("discard_itemlists_row").classList.toggle("hidden")},"default"),hy(".js-auto-submit-cmd",p=>{p.currentTarget.value==="delete.php"&&alert(`
        WARNING: The "lost_item" arg is automatically
        added to delete.php tasks submitted through this form.
        That means the command can be used only to
        tidy our records for items that have already
        gotten lost, not to delete existing items.
        If run on an item that actually exists still,
        the task will redrow.`)}),Cn(".js-slide-toggle",p=>Ke(Ke(p.currentTarget).data().target).slideToggle()),Cn(".js-ajs-deadlists",p=>{let{href:v}=p.currentTarget;window.open(v,"popup","width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,directories=no,location=no,menubar=no,status=no")}),Cn(".show-more-button",p=>{Ke(".metadata-hidden").slideToggle("fast"),Ke(p.currentTarget).find(".show-more-button__text").toggle()}),Cn(".js-archive-expand_files",p=>{let v=Ke(p.currentTarget),y=v.data("id");y&&Br.quick_down(y,v)}),Cn(".js-archive-collapse_files",p=>{let y=Ke(p.currentTarget).data("id");y&&Br.quick_down(y)}),Cn(".js-catalog-delete",p=>{confirm("Are you sure you want to *delete* these tasks?")||p.preventDefault()},"default"),Cn(".js-bookmark-removeBookmark",p=>{if(confirm("Are you sure you want to delete this favorite?")){let v=Ke(p.currentTarget).attr("href");v&&(window.location=v)}}),Cn(".js-bookmarks-addCommentForm",p=>{let v=Ke(p.currentTarget).attr("identifier"),y=Ke(p.currentTarget).attr("action"),w=()=>{let g=document.getElementById(`${v}_form`);g.parentNode.removeChild(g);let m=document.getElementById(`${v}_commentLink`);m.style.display="";let b=document.getElementById(`${v}_existingComment`);b&&(b.style.display="")},k=document.createElement("form");k.action=y,k.method="post",k.id=`${v}_form`,k.style.margin="0",k.style.fontSize="12px",k.appendChild(document.createTextNode("Comment: "));let A=document.createElement("input");A.name="add_comment",A.type="text",document.getElementById(`${v}_existingCommentText`)&&(A.value=document.getElementById(`${v}_existingCommentText`).innerHTML),k.appendChild(A);let C=document.createElement("input");C.name="identifier",C.type="hidden",C.value=v,k.appendChild(C);let x=document.createElement("input");x.name="submit",x.type="submit",x.value="Save",k.appendChild(x);let S=document.createElement("input");S.type="button",S.id=`${v}_cancelButton`,S.rel=v,S.onclick=w,S.value="Cancel",k.appendChild(S),document.getElementById(`${v}_formSpan`).appendChild(k);let s=document.getElementById(`${v}_commentLink`);s.style.display="none";let h=document.getElementById(`${v}_existingComment`);h&&(h.style.display="none")});let r=document.querySelector("#js-useradmin-clipboard");r&&r.addEventListener("click",p=>{let v=Array.from(document.querySelectorAll(".js-useradmin-username")).map(y=>y.textContent).join(" ");navigator.clipboard.writeText(v)});let a=document.querySelector("#copy-link");a&&a.addEventListener("click",p=>{p.preventDefault();let{copylink:v}=a.dataset;navigator.clipboard.writeText(v);let y=a.querySelector(".sharee");y&&Ke(y).attr("data-original-title","Copied!").tooltip("show")});let l=document.querySelector(".js-useradmin-search");l&&(l.addEventListener("submit",p=>{p.preventDefault(),Array.from(l.querySelectorAll("input")).filter(v=>!v.value).forEach(v=>{let y=v;y.disabled=!0}),l.submit()}),Array.from(l.querySelectorAll("input")).forEach(p=>{let v=p;v.disabled=!1}));let o="#autocompletee input",u=Ke(o),n=Ke("#loader");u.on("input",Gf(()=>{let p=u.val();p.length>=3&&(n.show(),Ke.getJSON(`?search=${encodeURIComponent(p)}`).done(v=>Vt(void 0,null,function*(){n.hide(),yield Br.autocomplete(o,v),Ke(o).autocomplete("search",p)})).fail(()=>{n.hide()}))},500));let c=Ke(".js-clamp"),d="clamped";c.length&&(c.each((p,v)=>{Br.isTextClamped(v)&&(v.classList.add(d),Br.bindClampCheckbox(v))}),window.addEventListener("resize",Gf(()=>{c.each((p,v)=>{Br.isTextClamped(v)?(v.classList.add(d),Br.bindClampCheckbox(v)):(Br.unbindClampCheckbox(v),v.classList.remove(d))})}),50));let f=document.getElementById("begin-play-section");if(f){let p=f.querySelector("#begin-play-at"),v=f.querySelector("#check-begin-play-at");if(p&&v){let y=m=>{if(!m.includes(":"))return Number(m);let b=m.split(":");if(b.length===2){let[j,H]=b.map(Number);return j*60+H}let[_,E,R]=b.map(Number);return _*3600+E*60+R},w=m=>{if(m>=3600){let E=Math.floor(m/3600),R=Math.floor(m%3600/60),j=m%60;return`${E}:${String(R).padStart(2,"0")}:${String(j).padStart(2,"0")}`}let b=Math.floor(m/60),_=m%60;return`${b}:${String(_).padStart(2,"0")}`},k=m=>{if(!m.includes(":"))return!isNaN(Number(m))&&Number(m)>=0;let b=m.split(":").map(Number);return b.length===2?b[0]>=0&&b[1]>=0&&b[1]<60:b.length===3?b[0]>=0&&b[1]>=0&&b[1]<60&&b[2]>=0&&b[2]<60:!1},A=m=>{let b=y(m);return w(b)},C=()=>{let m=document.querySelector("video");if(!m)return;let b=w(Math.floor(m.currentTime));p.value=b},x=(m,b)=>{v.checked&&b?m.searchParams.set("start",b):m.searchParams.delete("start")},S=()=>{let{value:m}=p;v.checked&&!k(m)||document.getElementById("sharer").querySelectorAll("a").forEach(b=>{let _=new URL(window.location.href),E=new URL(b.href),R=y(m);if(E.href.startsWith("mailto:")){let H=new URLSearchParams(E.href.split("?")[1]||"").get("subject")||"";x(_,R),b.setAttribute("href",`mailto:?body=${encodeURIComponent(_.href)}&subject=${encodeURIComponent(H)}`);return}if(Object.prototype.hasOwnProperty.call(b.dataset,"copylink")){x(_,R),Object.defineProperty(b.dataset,"copylink",{value:_.href});return}for(let[j]of E.searchParams)["url","u","initialMedia","content","canonicalUrl"].includes(j)&&_.hostname.includes("archive.org")&&(x(_,R),E.searchParams.set(j,_.href));b.setAttribute("href",E.href)})},s=m=>{let b=document.getElementById("embedcodehere");if(!b)return;let E=new DOMParser().parseFromString(b.value,"text/html").querySelector("iframe");if(!E)return;let R=new URL(window.location.href);R.hostname="archive.org",R.pathname=R.pathname.replace("/details/","/embed/"),x(R,y(m)),E.src=R.href,b.value=E.outerHTML},h=m=>{let b=document.getElementById("embedcodehereWP"),_=b.value.replace(/(\?start=[^&\s]+)/g,""),R=new URL(window.location.href).pathname.split("/details/")[1];v.checked&&y(m)>0?_=_.replace(/(\[archiveorg\s+)([^\s]+)/,`$1${R}?start=${y(m)}`):_=_.replace(/(\[archiveorg\s+)([^\s]+)/,`$1${R}`),b.value=_},g=()=>{let{value:m}=p;v.checked&&!k(m)||(s(m),h(m))};v.addEventListener("change",m=>{S(),g()}),p.addEventListener("input",m=>{let{value:b}=m.target,_=b.replace(/[^0-9:]/g,"");_!==b&&(m.target.value=_),_&&(v.checked=!0),S(),g()}),p.addEventListener("blur",()=>{p.value=A(p.value),S(),g()}),Ke("#cher-modal").on("shown.bs.modal",()=>{C()}),Ke("#cher-modal").on("hidden.bs.modal",()=>{v.checked=!1,v.dispatchEvent(new Event("change"))})}}Ke("#cher-modal").on("shown.bs.modal",()=>{let p=Ke("#cher-modal"),v=p.find(".close"),y=p.find(".focus-trap-start"),w=p.find(".focus-trap-end");v.focus(),y.on("focus",()=>{let k=Ke("#cher-modal .modal-content");Br.focus_last_descendent(k,v)}),w.on("focus",()=>{v.focus()})}),Ke("#cher-modal").on("hidden.bs.modal",()=>{Ke('[data-target="#cher-modal"]').focus()})});window.AJS=Br;No();function RA(){try{return document.cookie,!0}catch(e){return!1}}function ow(){let e=()=>{Ke("#theatre-ia-wrap").removeClass("flagged"),Ke(".bookreader-playlist-container").removeClass("hide")};Ke(".toggle-flag-overlay").on("click",t=>{t.preventDefault(),e()}),Ke("#flag-checkboxes a").on("click",function(r){r.preventDefault(),Ke(this).children(".my-checkbox").toggleClass("checked"),Ke.get(Ke(this).attr("href")),e()}),RA()&&_o.get("logged-in-user")!==void 0&&(Ke("#flag-popover li").on("click",function(){return Ke(this).find("a").trigger("click"),!1}),Ke("#flag-popover a").on("click",function(r){r.preventDefault();let a=Ke("#item-flags-popup"),l=Ke(this),o=Ke(l).parent();return Ke(o).toggleClass("selected"),Ke(a).removeClass("open"),Ke.getJSON(`${Ke(this).attr("href")}&no_chrome=1`,u=>{let n=Ke(u.button);Ke(a).replaceWith(n),Ke("#flag-button-container").html(u.button),Ke("#flag-overlay").html(u.overlay),u.has_flags?Ke("#theatre-ia-wrap").addClass("flagged"):Ke("#theatre-ia-wrap").removeClass("flagged"),ow()}),!1}))}Ke(document).ready(()=>{ir("initialize item flags"),ow()});var jA=class{constructor(e,t){this.widgetId=null,this.isExecuting=!1,this.siteKey=e.siteKey,this.grecaptchaLibrary=e.grecaptchaLibrary;let r=this.createContainer();this.setup(r,t)}execute(){return Vt(this,null,function*(){let{widgetId:e}=this;if(e===null)throw new Error("Recaptcha is not setup");return this.isExecuting&&this.finishExecution(),this.isExecuting=!0,new Promise((t,r)=>{this.executionSuccessBlock=a=>{this.finishExecution(),t(a)},this.executionExpiredBlock=()=>{this.finishExecution(),r(new Error("expired"))},this.executionErrorBlock=()=>{this.finishExecution(),r(new Error("error"))},this.grecaptchaLibrary.execute(e)})})}finishExecution(){this.isExecuting=!1;let{widgetId:e}=this;e!==null&&this.grecaptchaLibrary.reset(e)}setup(e,t){var r;this.widgetId=this.grecaptchaLibrary.render(e,{callback:this.responseHandler.bind(this),"expired-callback":this.expiredHandler.bind(this),"error-callback":this.errorHandler.bind(this),sitekey:this.siteKey,tabindex:t==null?void 0:t.tabindex,theme:t==null?void 0:t.theme,type:t==null?void 0:t.type,size:(r=t==null?void 0:t.size)!==null&&r!==void 0?r:"invisible",badge:t==null?void 0:t.badge})}createContainer(e){let t=`recaptchaManager-${this.siteKey}`,r=document.getElementById(t);return r||(r=document.createElement("div"),r.id=t,r.style.position="fixed",r.style.top="50%",r.style.left="50%",r.style.zIndex=e?`${e}`:"10",document.body.appendChild(r)),r}responseHandler(e){this.executionSuccessBlock&&(this.executionSuccessBlock(e),this.executionSuccessBlock=void 0)}expiredHandler(){this.executionExpiredBlock&&(this.executionExpiredBlock(),this.executionExpiredBlock=void 0)}errorHandler(){this.executionErrorBlock&&(this.executionErrorBlock(),this.executionErrorBlock=void 0)}},aw=class{constructor(e){var t;this.recaptchaCache={},this.defaultSiteKey=e==null?void 0:e.defaultSiteKey,this.lazyLoader=(t=e==null?void 0:e.lazyLoader)!==null&&t!==void 0?t:new xh,this.grecaptchaLibraryCache=e==null?void 0:e.grecaptchaLibrary}getRecaptchaWidget(e){return Vt(this,null,function*(){var t;let r=(t=e==null?void 0:e.siteKey)!==null&&t!==void 0?t:this.defaultSiteKey;if(!r)throw new Error("The reCaptcha widget requires a site key");let a=this.recaptchaCache[r];if(a)return a;let l=yield this.getRecaptchaLibrary(),o=new jA({siteKey:r,grecaptchaLibrary:l},e==null?void 0:e.recaptchaParams);return this.recaptchaCache[r]=o,o})}getRecaptchaLibrary(){return Vt(this,null,function*(){return this.grecaptchaLibraryCache?this.grecaptchaLibraryCache:new Promise(e=>{window.grecaptchaLoadedCallback=()=>{setTimeout(()=>{delete window.grecaptchaLoadedCallback},10),this.grecaptchaLibraryCache=window.grecaptcha,e(window.grecaptcha)},this.lazyLoader.loadScript({src:"https://www.google.com/recaptcha/api.js?onload=grecaptchaLoadedCallback&render=explicit"})})})}};rm();var BA=new Yb({serviceUrl:"https://archive.org/services/offshoot/feature-feedback.php"}),NA=new aw({defaultSiteKey:"6Ld64a8UAAAAAGbDwi1927ztGNw7YABQ-dqzvTN2"}),FA=new xo;function Vm(e){e.recaptchaManager=NA,e.featureFeedbackService=BA,e.resizeObserver=FA}function zA(){document.querySelectorAll("feature-feedback, ia-feedback-survey").forEach(t=>{Vm(t)})}document.addEventListener("DOMContentLoaded",()=>{zA()});No();Zi();ti();Ar();var Sh=globalThis,Ah=Sh.ShadowRoot&&(Sh.ShadyCSS===void 0||Sh.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,lw=Symbol(),sw=new WeakMap,uw=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==lw)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(Ah&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=sw.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&sw.set(t,e))}return e}toString(){return this.cssText}},cw=e=>new uw(typeof e=="string"?e:e+"",void 0,lw);var dw=(e,t)=>{if(Ah)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(let r of t){let a=document.createElement("style"),l=Sh.litNonce;l!==void 0&&a.setAttribute("nonce",l),a.textContent=r.cssText,e.appendChild(a)}},qm=Ah?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let a of t.cssRules)r+=a.cssText;return cw(r)})(e):e;var{is:HA,defineProperty:UA,getOwnPropertyDescriptor:WA,getOwnPropertyNames:VA,getOwnPropertySymbols:qA,getPrototypeOf:GA}=Object,Es=globalThis,hw=Es.trustedTypes,YA=hw?hw.emptyScript:"",Gm=Es.reactiveElementPolyfillSupport,Lc=(e,t)=>e,Ym={toAttribute(e,t){switch(t){case Boolean:e=e?YA:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(a){r=null}}return r}},Ch=(e,t)=>!HA(e,t),pw={attribute:!0,type:String,converter:Ym,reflect:!1,useDefault:!1,hasChanged:Ch},fw,mw;(fw=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),(mw=Es.litPropertyMetadata)!=null||(Es.litPropertyMetadata=new WeakMap);var Ic=class extends HTMLElement{static addInitializer(e){var t;this._$Ei(),((t=this.l)!=null?t:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=pw){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let r=Symbol(),a=this.getPropertyDescriptor(e,r,t);a!==void 0&&UA(this.prototype,e,a)}}static getPropertyDescriptor(e,t,r){var o;let{get:a,set:l}=(o=WA(this.prototype,e))!=null?o:{get(){return this[t]},set(u){this[t]=u}};return{get:a,set(u){let n=a==null?void 0:a.call(this);l==null||l.call(this,u),this.requestUpdate(e,n,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var t;return(t=this.elementProperties.get(e))!=null?t:pw}static _$Ei(){if(this.hasOwnProperty(Lc("elementProperties")))return;let e=GA(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Lc("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Lc("properties"))){let t=this.properties,r=[...VA(t),...qA(t)];for(let a of r)this.createProperty(a,t[a])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[r,a]of t)this.elementProperties.set(r,a)}this._$Eh=new Map;for(let[t,r]of this.elementProperties){let a=this._$Eu(t,r);a!==void 0&&this._$Eh.set(a,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let a of r)t.unshift(qm(a))}else e!==void 0&&t.push(qm(e));return t}static _$Eu(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$EO)!=null?t:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let r of t.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var t;let e=(t=this.shadowRoot)!=null?t:this.attachShadow(this.constructor.shadowRootOptions);return dw(e,this.constructor.elementStyles),e}connectedCallback(){var e,t;(e=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(r=>{var a;return(a=r.hostConnected)==null?void 0:a.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var r;return(r=t.hostDisconnected)==null?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ET(e,t){var l;let r=this.constructor.elementProperties.get(e),a=this.constructor._$Eu(e,r);if(a!==void 0&&r.reflect===!0){let o=(((l=r.converter)==null?void 0:l.toAttribute)!==void 0?r.converter:Ym).toAttribute(t,r.type);this._$Em=e,o==null?this.removeAttribute(a):this.setAttribute(a,o),this._$Em=null}}_$AK(e,t){var l,o,u;let r=this.constructor,a=r._$Eh.get(e);if(a!==void 0&&this._$Em!==a){let n=r.getPropertyOptions(a),c=typeof n.converter=="function"?{fromAttribute:n.converter}:((l=n.converter)==null?void 0:l.fromAttribute)!==void 0?n.converter:Ym;this._$Em=a;let d=c.fromAttribute(t,n.type);this[a]=(u=d!=null?d:(o=this._$Ej)==null?void 0:o.get(a))!=null?u:d,this._$Em=null}}requestUpdate(e,t,r,a=!1,l){var o,u;if(e!==void 0){let n=this.constructor;if(a===!1&&(l=this[e]),r!=null||(r=n.getPropertyOptions(e)),!(((o=r.hasChanged)!=null?o:Ch)(l,t)||r.useDefault&&r.reflect&&l===((u=this._$Ej)==null?void 0:u.get(e))&&!this.hasAttribute(n._$Eu(e,r))))return;this.C(e,t,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:r,reflect:a,wrapped:l},o){var u,n,c;r&&!((u=this._$Ej)!=null?u:this._$Ej=new Map).has(e)&&(this._$Ej.set(e,(n=o!=null?o:t)!=null?n:this[e]),l!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(t=void 0),this._$AL.set(e,t)),a===!0&&this._$Em!==e&&((c=this._$Eq)!=null?c:this._$Eq=new Set).add(e))}_$EP(){return Vt(this,null,function*(){this.isUpdatePending=!0;try{yield this._$ES}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r,a;if(!this.isUpdatePending)return;if(!this.hasUpdated){if((r=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[o,u]of this._$Ep)this[o]=u;this._$Ep=void 0}let l=this.constructor.elementProperties;if(l.size>0)for(let[o,u]of l){let{wrapped:n}=u,c=this[o];n!==!0||this._$AL.has(o)||c===void 0||this.C(o,void 0,u,c)}}let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(a=this._$EO)==null||a.forEach(l=>{var o;return(o=l.hostUpdate)==null?void 0:o.call(l)}),this.update(t)):this._$EM()}catch(l){throw e=!1,this._$EM(),l}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(r=>{var a;return(a=r.hostUpdated)==null?void 0:a.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}},gw;Ic.elementStyles=[],Ic.shadowRootOptions={mode:"open"},Ic[Lc("elementProperties")]=new Map,Ic[Lc("finalized")]=new Map,Gm==null||Gm({ReactiveElement:Ic}),((gw=Es.reactiveElementVersions)!=null?gw:Es.reactiveElementVersions=[]).push("2.1.2");var Eh={INITIAL:0,PENDING:1,COMPLETE:2,ERROR:3},Dc=Symbol(),Km=class{get taskComplete(){return this.t||(this.i===1?this.t=new Promise((e,t)=>{this.o=e,this.h=t}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(e,t,r){var l,o,u;this.p=0,this.i=0,(this._=e).addController(this);let a=typeof t=="object"?t:{task:t,args:r};this.v=a.task,this.j=a.args,this.m=(l=a.argsEqual)!=null?l:vw,this.k=a.onComplete,this.A=a.onError,this.autoRun=(o=a.autoRun)!=null?o:!0,"initialValue"in a&&(this.u=a.initialValue,this.i=2,this.O=(u=this.T)==null?void 0:u.call(this))}hostUpdate(){this.autoRun===!0&&this.S()}hostUpdated(){this.autoRun==="afterUpdate"&&this.S()}T(){if(this.j===void 0)return;let e=this.j();if(!Array.isArray(e))throw Error("The args function must return an array");return e}S(){return Vt(this,null,function*(){let e=this.T(),t=this.O;this.O=e,e===t||e===void 0||t!==void 0&&this.m(t,e)||(yield this.run(e))})}run(e){return Vt(this,null,function*(){var o,u,n,c,d;let t,r;e!=null||(e=this.T()),this.O=e,this.i===1?(o=this.q)==null||o.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();let a=++this.p;this.q=new AbortController;let l=!1;try{t=yield this.v(e,{signal:this.q.signal})}catch(f){l=!0,r=f}if(this.p===a){if(t===Dc)this.i=0;else{if(l===!1){try{(u=this.k)==null||u.call(this,t)}catch(f){}this.i=2,(n=this.o)==null||n.call(this,t)}else{try{(c=this.A)==null||c.call(this,r)}catch(f){}this.i=3,(d=this.h)==null||d.call(this,r)}this.u=t,this.l=r}this._.requestUpdate()}})}abort(e){var t;this.i===1&&((t=this.q)==null||t.abort(e))}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(e){var t,r,a,l;switch(this.i){case 0:return(t=e.initial)==null?void 0:t.call(e);case 1:return(r=e.pending)==null?void 0:r.call(e);case 2:return(a=e.complete)==null?void 0:a.call(e,this.value);case 3:return(l=e.error)==null?void 0:l.call(e,this.error);default:throw Error("Unexpected status: "+this.i)}}},vw=(e,t)=>e===t||e.length===t.length&&e.every((r,a)=>!Ch(r,t[a]));Zi();ti();Ar();Oh();ti();ti();Zi();ti();Ar();var n7=ln`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
<path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
  fill=""></path>
</svg>`,o7=ln`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
<path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
fill=""></path>
</svg>`,Yn=class extends Yt{constructor(){super(...arguments),this.open=!1,this.isDisabled=!1,this.displayCaret=!1,this.closeOnSelect=!1,this.openViaButton=!0,this.openViaCaret=!0,this.usePopover=!1,this.includeSelectedOption=!1,this.selectedOption="",this.options=[],this.optionGroup="options",this.optionSelected=()=>{},this.isCustomList=!1,this.hasCustomClickHandler=!1,this.closeOnEscape=!1,this.closeOnBackdropClick=!1,this.boundKeyboardListener=e=>{switch(e.key){case"Escape":case"Esc":this.closeOptions();break;default:break}},this.closeOptions=e=>{e&&e.type==="click"&&e.stopPropagation(),this.open=!1,this.updatePopoverState()},this.handlingCaretClick=!1}firstUpdated(){return Vt(this,null,function*(){yield new Promise(e=>{setTimeout(e,0)}),this.addEventListener("closeDropdown",this.closeOptions)})}willUpdate(e){e.has("open")&&this.updatePopoverState()}disconnectedCallback(){var e;(e=super.disconnectedCallback)===null||e===void 0||e.call(this),this.removeKeyboardListener()}setupKeyboardListener(){this.closeOnEscape&&document.addEventListener("keydown",this.boundKeyboardListener)}removeKeyboardListener(){this.closeOnEscape&&document.removeEventListener("keydown",this.boundKeyboardListener)}get dropdownState(){return this.open?(this.setupKeyboardListener(),"open"):(this.removeKeyboardListener(),"closed")}toggleOptions(){this.open=!this.open,this.updatePopoverState()}updatePopoverState(){var e,t;this.usePopover&&((t=(e=this.dropdownMenu)===null||e===void 0?void 0:e.togglePopover)===null||t===void 0||t.call(e,this.open),this.open&&this.positionDropdownMenu())}positionDropdownMenu(){if(!this.dropdownMenu)return;let e=this.container.getBoundingClientRect();this.dropdownMenu.style.left=`${e.left}px`,this.dropdownMenu.style.top=`${e.bottom}px`,this.dropdownMenu.style.minWidth=`${e.width}px`}mainButtonClicked(){if(this.handlingCaretClick){this.handlingCaretClick=!1;return}this.openViaButton&&this.toggleOptions()}caretInteracted(){this.openViaCaret&&this.toggleOptions()}caretClicked(){this.handlingCaretClick=!0,this.caretInteracted()}caretKeyDown(e){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.caretInteracted())}renderOption(e){let{label:t,url:r=void 0,id:a}=e,l,o=this.selectedOption===a?"selected":"";return r?l=we`<a
        href=${r}
        @click=${u=>this.optionClicked(u,e)}
        >${t}</a
      >`:l=we`<button
        @click=${u=>this.optionClicked(u,e)}
      >
        ${t}
      </button>`,we`<li class=${o}>${l}</li>`}optionClicked(e,t){var r;e.stopPropagation(),this.selectedOption!==t.id&&(this.selectedOption=t.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:t}})),(r=t.selectedHandler)===null||r===void 0||r.call(t,t)),this.closeOnSelect&&this.closeOptions()}get availableOptions(){return this.includeSelectedOption?this.options:this.options.filter(e=>this.selectedOption!==e.id)}get caretTemplate(){if(!this.displayCaret)return we``;let e=this.openViaCaret&&!this.openViaButton?"0":void 0,t=this.openViaCaret?"button":void 0;return we`
      <span
        class="caret"
        tabindex=${Nc(e)}
        role=${Nc(t)}
        aria-labelledby="caret-label"
        @click=${this.isDisabled||this.hasCustomClickHandler?ei:this.caretClicked}
        @keydown=${this.isDisabled||this.hasCustomClickHandler?ei:this.caretKeyDown}
      >
        <span ?hidden=${!this.open} class="caret-up">
          <slot name="caret-up">${n7}</slot>
        </span>
        <span ?hidden=${this.open} class="caret-down">
          <slot name="caret-down">${o7}</slot>
        </span>
      </span>
    `}get dropdownTemplate(){return this.isCustomList?we`<slot name="list"></slot>`:we`${this.availableOptions.map(e=>this.renderOption(e))}`}get backdropTemplate(){return this.closeOnBackdropClick?this.open?we`
      <div
        id="dropdown-backdrop"
        @keyup=${this.closeOptions}
        @click=${this.closeOptions}
      ></div>
    `:we``:we``}render(){return we`
      <div class="ia-dropdown-group">
        <button
          class="click-main"
          @click=${this.isDisabled||this.hasCustomClickHandler?ei:this.mainButtonClicked}
          ?disabled=${this.isDisabled}
        >
          <span class="sr-only" id="caret-label">Toggle ${this.optionGroup}</span>
          <slot name="dropdown-label"></slot>
          ${this.caretTemplate}
        </button>

        <ul
          id="dropdown-main"
          class=${this.dropdownState}
          ?popover=${this.usePopover}
        >
          ${this.dropdownTemplate}
        </ul>

        ${this.backdropTemplate}
      </div>
    `}static get styles(){let e=Le`var(--dropdownBorderWidth, 1px)`,t=Le`var(--dropdownBorderRadius, 4px)`,r=Le`var(--dropdownBorderColor, #fff)`,a=Le`var(--dropdownBgColor, #333)`,l=Le`var(--dropdownTextColor, #fff)`,o=Le`var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3))`,u=Le`var(--dropdownSelectedBgColor, #fff)`;return Le`
      :host {
        display: inline;
        color: ${l};
      }

      svg.caret-up-svg,
      svg.caret-down-svg,
      ::slotted(svg.caret-up-svg),
      ::slotted(svg.caret-down-svg) {
        fill: var(--dropdownCaretColor, #fff);
        vertical-align: middle;
      }

      button.click-main {
        background: transparent;
        color: inherit;
        padding: var(--dropdownMainButtonPadding, 0px);
        border: var(--dropdownMainButtonBorder, none);
        border-radius: var(--dropdownMainButtonBorderRadius, none);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        align-content: center;
        flex-wrap: nowrap;
        flex-direction: var(--dropdownMainButtonFlexDirection, row);
        z-index: var(--dropdownListZIndex, 2);
      }

      button.click-main:disabled {
        pointer-events: none;
        cursor: not-allowed;
        opacity: 0.5;
        /* Disable text selection on disabled button */
        -webkit-user-select: none; /* Safari */
        -ms-user-select: none; /* IE 10 and IE 11 */
        user-select: none; /* Standard syntax */
      }

      button.click-main:hover {
        background-color: var(--dropdownMainButtonHoverBgColor, inherit);
      }

      button.click-main:focus,
      button.click-main:focus-visible {
        background-color: var(--dropdownMainButtonFocusBgColor, inherit);
      }

      button.click-main:active {
        background-color: var(--dropdownMainButtonActiveBgColor, inherit);
      }

      button slot[name='dropdown-label'] {
        /* Set var to 0px for column layout */
        padding-right: var(--buttonSlotPaddingRight, 5px);
        display: inline-block;
      }

      .ia-dropdown-group {
        width: inherit;
        height: inherit;
        position: relative;
      }

      .sr-only {
        border: 0 !important;
        clip: rect(1px, 1px, 1px, 1px) !important;
        -webkit-clip-path: inset(50%) !important;
        clip-path: inset(50%) !important;
        height: 1px !important;
        margin: -1px !important;
        overflow: hidden !important;
        padding: 0 !important;
        position: absolute !important;
        width: 1px !important;
        white-space: nowrap !important;
        -webkit-user-select: none !important;
        user-select: none !important;
      }

      .caret {
        /* Maintain centered caret position but with a full-height clickable region */
        display: flex;
        align-self: stretch;
        align-items: center;
        padding: var(--caretPadding, 0px);
      }

      .caret svg {
        height: var(--caretHeight, 10px);
        width: var(--caretWidth, 20px);
      }

      #dropdown-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: transparent;
        z-index: 1;
      }

      ul {
        z-index: var(--dropdownListZIndex, 2);
      }

      #dropdown-main.closed {
        visibility: hidden;
        height: 1px;
        width: 1px;
      }

      #dropdown-main {
        position: var(--dropdownListPosition, absolute);
        list-style: none;
        margin: var(--dropdownOffsetTop, 5px) 0 0 0;
        padding: 0;
        color: ${l};
        background: ${a};

        font-size: var(--dropdownFontSize, inherit);

        border-top: var(--dropdownBorderTopWidth, ${e});
        border-right: var(--dropdownBorderRightWidth, ${e});
        border-bottom: var(--dropdownBorderBottomWidth, ${e});
        border-left: var(--dropdownBorderLeftWidth, ${e});
        /* Must be after border-width settings for specificity */
        border-style: solid;
        border-color: ${r};

        border-radius: var(
            --dropdownBorderTopLeftRadius,
            ${t}
          )
          var(--dropdownBorderTopRightRadius, ${t})
          var(--dropdownBorderBottomRightRadius, ${t})
          var(--dropdownBorderBottomLeftRadius, ${t});

        white-space: var(--dropdownWhiteSpace, normal);

        /* Prevent top/bottom inner li from overlapping inner border */
        overflow: hidden;
      }

      #dropdown-main li:hover {
        background-color: ${o};
        color: var(--dropdownHoverTextColor, #fff);
        list-style: none;
        cursor: pointer;
      }

      #dropdown-main li:hover:first-child {
        border-top-color: ${o};
      }

      ul#dropdown-main li:hover:last-child {
        border-bottom-color: ${o};
      }

      #dropdown-main li:hover:not(:first-child) {
        border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
      }
      #dropdown-main li:hover:not(:last-child) {
        border-bottom: 0.5px solid
          var(--dropdownHoverTopBottomBorderColor, #333);
      }

      #dropdown-main li.selected:last-child {
        border-bottom-color: ${u};
      }

      #dropdown-main li.selected:first-child {
        border-top-color: ${u};
      }

      #dropdown-main li:hover > *,
      #dropdown-main li:focus-within > * {
        background-color: ${o};
        color: var(--dropdownHoverTextColor, #fff);
      }

      #dropdown-main li.selected > * {
        background-color: ${u};
        color: var(--dropdownSelectedTextColor, #2c2c2c);
      }

      #dropdown-main li {
        background: ${a};
        list-style: none;
        height: 30px;
        cursor: pointer;
        border-bottom: 0.5px solid ${a};
        border-top: 0.5px solid ${a};
      }

      #dropdown-main li button {
        background: none;
        color: inherit;
        border: none;
        font: inherit;
        cursor: pointer;
        outline: inherit;
      }

      #dropdown-main li a {
        text-decoration: none;
        display: block;
        box-sizing: border-box;
      }

      #dropdown-main li:first-child {
        border-top-left-radius: var(--dropdownBorderTopLeftRadius, 4px);
        border-top-right-radius: var(--dropdownBorderTopRightRadius, 4px);
      }

      #dropdown-main li:last-child {
        border-bottom-right-radius: var(--dropdownBorderBottomRightRadius, 4px);
        border-bottom-left-radius: var(--dropdownBorderBottomLeftRadius, 4px);
      }

      /* cover the list with the label */
      #dropdown-main li > * > :first-child {
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        align-content: center;
        flex-wrap: nowrap;
        height: 100%;
        padding: var(--dropdownItemPaddingTop, 5px)
          var(--dropdownItemPaddingRight, 10px)
          var(--dropdownItemPaddingBottom, 5px)
          var(--dropdownItemPaddingLeft, 10px);
        box-sizing: border-box;
      }

      #dropdown-main li > * {
        width: 100%;
        height: inherit;
        color: ${l};
        background: transparent;
        padding: 0;
      }
    `}};Y([St({type:Boolean,reflect:!0})],Yn.prototype,"open",void 0);Y([St({type:Boolean,reflect:!0})],Yn.prototype,"isDisabled",void 0);Y([St({type:Boolean})],Yn.prototype,"displayCaret",void 0);Y([St({type:Boolean})],Yn.prototype,"closeOnSelect",void 0);Y([St({type:Boolean})],Yn.prototype,"openViaButton",void 0);Y([St({type:Boolean})],Yn.prototype,"openViaCaret",void 0);Y([St({type:Boolean})],Yn.prototype,"usePopover",void 0);Y([St({type:Boolean})],Yn.prototype,"includeSelectedOption",void 0);Y([St({type:String})],Yn.prototype,"selectedOption",void 0);Y([St({attribute:!1})],Yn.prototype,"options",void 0);Y([St({type:String})],Yn.prototype,"optionGroup",void 0);Y([St({attribute:!1})],Yn.prototype,"optionSelected",void 0);Y([St({type:Boolean,reflect:!0})],Yn.prototype,"isCustomList",void 0);Y([St({type:Boolean,reflect:!0})],Yn.prototype,"hasCustomClickHandler",void 0);Y([St({type:Boolean,reflect:!0})],Yn.prototype,"closeOnEscape",void 0);Y([St({type:Boolean,reflect:!0})],Yn.prototype,"closeOnBackdropClick",void 0);Y([wr(".ia-dropdown-group")],Yn.prototype,"container",void 0);Y([wr("#dropdown-main")],Yn.prototype,"dropdownMenu",void 0);Yn=Y([Fi("ia-dropdown")],Yn);var tg=class extends Yt{render(){return we`
      <div class="icon-label-container">
        <slot name="icon"></slot>
        <slot></slot>
      </div>
    `}};tg.styles=Le`
    :host {
      display: block;
      width: 100%;
      height: 100%;
      position: relative;
    }

    :host(.invert-icon-at-hover:hover) slot[name='icon'] {
      filter: invert(1);
    }

    :host(.selected) {
      background-color: var(--selectedBgColor, #fff);
      color: var(--selectedTextColor, #2c2c2c);
    }

    :host(.invert-icon-at-selected.selected) slot[name='icon'] {
      filter: invert(1);
    }

    div.icon-label-container {
      display: flex;
      width: 100%;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      flex-direction: var(--iconLabelFlexDirection, row);
      height: 100%;
    }

    slot[name='icon'] {
      width: var(--iconWidth, 20px);
      margin-right: var(--iconLabelGutterWidth, 10px);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      white-space: nowrap;
      height: 100%;
    }

    /* https://css-tricks.com/flexbox-truncated-text/ */
    ::slotted(div.truncate) {
      display: flex;
      width: var(--labelWidth, 100%);
      text-align: left;
      word-wrap: break-word; /* Important for long words! */
      overflow: hidden;
      text-overflow: ellipsis;
      min-width: 0;
    }

    @supports not (-webkit-line-clamp: 2) {
      ::slotted(div.truncate) {
        min-width: 0;
      }
    }
    @supports (-webkit-line-clamp: 2) {
      ::slotted(div.truncate) {
        min-width: 0;
        display: -webkit-box;
        overflow-wrap: break-word;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        /* Fixed line-height needed to fit unicode and emojis
          https://stackoverflow.com/a/67807146
        */
        line-height: 1.2em;
        /* max-height needed for Safari browser */
        max-height: var(--labelTruncateHeight, 30px);
        max-width: var(--labelWidth, 100%);
      }
    }
  `;tg=Y([Fi("ia-icon-label")],tg);Zi();ti();Ar();ti();Zi();na();Zi();na();mn();Zi();na();mn();mn();Zi();na();na();mn();Zi();mn();Zi();na();na();mn();Zi();na();mn();Zi();mn();na();Zi();mn();var rg=class extends Ma{get reviewer_account_status(){var e;return(e=this.account_status)===null||e===void 0?void 0:e.status}get reviewer_account_status_reason(){var e;return(e=this.account_status)===null||e===void 0?void 0:e.reason}get __href__(){return this.rawValue.__href__}get account_status(){let e=this.rawValue.reviewer_account_status;if(!e)return;let t="unknown",r;e.startsWith("ok")&&(t="ok"),e.startsWith("locked")&&(t="locked");let a=e.split("__");return a.length>1&&(r=a.slice(1).join("__")),{status:t,reason:r}}};Y([et()],rg.prototype,"account_status",null);var a7=["loans","waitlist","loan_history"];function s7(e){let t=e.slice(0,4),r=e.slice(4,6),a=e.slice(6,8),l=e.slice(8,10),o=e.slice(10,12),u=e.slice(12,14);return`${t}-${r}-${a}T${l}:${o}:${u}Z`}function l7(e){var t;let r=[];for(let a of e){if(!(!((t=a.captures)===null||t===void 0)&&t.length))continue;let l=encodeURIComponent(a.url),o=`https://web.archive.org/web/${a.captures[0]}/${l}`;r.push({hit_type:"web_archive",fields:{url:a.url,capture_dates:a.captures.map(u=>s7(u)),__href__:o}})}return r}var eo=class extends Ki{get created_on(){return this.rawMetadata.created_on!=null?new Po(this.rawMetadata.created_on):void 0}get file_creation_mtime(){return this.rawMetadata.file_creation_mtime!=null?new Gn(this.rawMetadata.file_creation_mtime):void 0}get filename(){return this.rawMetadata.filename!=null?new fr(this.rawMetadata.filename):void 0}get file_basename(){return this.rawMetadata.file_basename!=null?new fr(this.rawMetadata.file_basename):void 0}get result_in_subfile(){return this.rawMetadata.result_in_subfile!=null?new Ka(this.rawMetadata.result_in_subfile):void 0}get query(){return this.rawMetadata.query!=null?new fr(this.rawMetadata.query):void 0}get date_favorited(){return this.rawMetadata.date_favorited!=null?new Po(this.rawMetadata.date_favorited):void 0}get updated_on(){return this.rawMetadata.updated_on!=null?new Po(this.rawMetadata.updated_on):void 0}get ad_id(){return this.rawMetadata.ad_id!=null?new fr(this.rawMetadata.ad_id):void 0}get factcheck(){return this.rawMetadata.factcheck!=null?new fr(this.rawMetadata.factcheck):void 0}get is_clip(){return this.rawMetadata.clip!=null?new Ka(this.rawMetadata.clip):void 0}get num_clips(){return this.rawMetadata.nclips!=null?new Gn(this.rawMetadata.nclips):void 0}get __href__(){return this.rawMetadata.__href__!=null?new fr(this.rawMetadata.__href__):void 0}get __img__(){return this.rawMetadata.__img__!=null?new fr(this.rawMetadata.__img__):void 0}};Y([et()],eo.prototype,"created_on",null);Y([et()],eo.prototype,"file_creation_mtime",null);Y([et()],eo.prototype,"filename",null);Y([et()],eo.prototype,"file_basename",null);Y([et()],eo.prototype,"result_in_subfile",null);Y([et()],eo.prototype,"query",null);Y([et()],eo.prototype,"date_favorited",null);Y([et()],eo.prototype,"updated_on",null);Y([et()],eo.prototype,"ad_id",null);Y([et()],eo.prototype,"factcheck",null);Y([et()],eo.prototype,"is_clip",null);Y([et()],eo.prototype,"num_clips",null);Y([et()],eo.prototype,"__href__",null);Y([et()],eo.prototype,"__img__",null);var fa=class{constructor(e){var t;this.rawMetadata=e,this.fields=new eo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get collection_files_count(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.collection_files_count)!=null?new Gn(this.rawMetadata.fields.collection_files_count):void 0}get collection_size(){return this.fields.collection_size}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get files_count(){return this.fields.files_count}get genre(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.genre)!=null?new fr(this.rawMetadata.fields.genre):void 0}get indexflag(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.indexflag)!=null?new fr(this.rawMetadata.fields.indexflag):void 0}get issue(){return this.fields.issue}get item_count(){return this.fields.item_count}get item_size(){return this.fields.item_size}get language(){return this.fields.language}get lending___available_to_borrow(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_borrow)!=null?new Ka(this.rawMetadata.fields.lending___available_to_borrow):void 0}get lending___available_to_browse(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_browse)!=null?new Ka(this.rawMetadata.fields.lending___available_to_browse):void 0}get lending___available_to_waitlist(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_waitlist)!=null?new Ka(this.rawMetadata.fields.lending___available_to_waitlist):void 0}get lending___status(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___status)!=null?new fr(this.rawMetadata.fields.lending___status):void 0}get licenseurl(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.licenseurl)!=null?new fr(this.rawMetadata.fields.licenseurl):void 0}get mediatype(){return this.fields.mediatype}get month(){return this.fields.month}get noindex(){return this.fields.noindex}get num_favorites(){return this.fields.num_favorites}get num_reviews(){return this.fields.num_reviews}get publicdate(){return this.fields.publicdate}get reviewdate(){return this.fields.reviewdate}get review(){let e=this.rawMetadata.review;return e?new rg(e):void 0}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get type(){return this.fields.type}get volume(){return this.fields.volume}get week(){return this.fields.week}get year(){return this.fields.year}};Y([et()],fa.prototype,"collection_files_count",null);Y([et()],fa.prototype,"genre",null);Y([et()],fa.prototype,"indexflag",null);Y([et()],fa.prototype,"lending___available_to_borrow",null);Y([et()],fa.prototype,"lending___available_to_browse",null);Y([et()],fa.prototype,"lending___available_to_waitlist",null);Y([et()],fa.prototype,"lending___status",null);Y([et()],fa.prototype,"licenseurl",null);Y([et()],fa.prototype,"review",null);var ng=class{constructor(e){var t;this.rawMetadata=e,this.fields=new eo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get highlight(){var e;return!((e=this.rawMetadata.highlight)===null||e===void 0)&&e.text?new fr(this.rawMetadata.highlight.text):void 0}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get created_on(){return this.fields.created_on}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get filename(){return this.fields.filename}get file_basename(){return this.fields.file_basename}get file_creation_mtime(){return this.fields.file_creation_mtime}get issue(){return this.fields.issue}get mediatype(){return this.fields.mediatype}get page_num(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.page_num)!=null?new Gn(this.rawMetadata.fields.page_num):void 0}get publicdate(){return this.fields.publicdate}get result_in_subfile(){return this.fields.result_in_subfile}get reviewdate(){return this.fields.reviewdate}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get updated_on(){return this.fields.updated_on}get year(){return this.fields.year}get __href__(){return this.fields.__href__}};Y([et()],ng.prototype,"highlight",null);Y([et()],ng.prototype,"page_num",null);var Fc;(function(e){e[e.COUNT=0]="COUNT",e[e.ALPHABETICAL=1]="ALPHABETICAL",e[e.NUMERIC=2]="NUMERIC"})(Fc||(Fc={}));var Dw=class{constructor(e){this.buckets=e.buckets,this.first_bucket_key=e.first_bucket_key,this.last_bucket_key=e.last_bucket_key,this.number_buckets=e.number_buckets,this.interval=e.interval,this.first_bucket_year=e.first_bucket_year,this.first_bucket_month=e.first_bucket_month,this.last_bucket_year=e.last_bucket_year,this.last_bucket_month=e.last_bucket_month,this.interval_in_months=e.interval_in_months}getSortedBuckets(e){let t=[...this.buckets];if(this.isRawNumberBuckets(t))return t;let r=new Intl.Collator;switch(e){case Fc.ALPHABETICAL:return t.sort((a,l)=>r.compare(a.key.toString(),l.key.toString()));case Fc.NUMERIC:return t.sort((a,l)=>Number(l.key)-Number(a.key));case Fc.COUNT:default:return t}}isRawNumberBuckets(e){return typeof e[0]=="number"}};Y([et()],Dw.prototype,"getSortedBuckets",null);var u7=class{constructor(e){var t;this.rawMetadata=e,this.fields=new eo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){var e;return(e=this.fields.query)===null||e===void 0?void 0:e.value}get title(){return this.fields.title}get query(){return this.fields.query}get date_favorited(){return this.fields.date_favorited}get __href__(){return this.fields.__href__}},og=class{constructor(e){var t;this.rawMetadata=e,this.fields=new eo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){var e;return(e=this.rawMetadata.fields)===null||e===void 0?void 0:e.url}get mediatype(){return new xm("web")}get title(){var e,t;return!((e=this.rawMetadata.fields)===null||e===void 0)&&e.url?new fr((t=this.rawMetadata.fields)===null||t===void 0?void 0:t.url):void 0}get capture_dates(){var e,t;return!((e=this.rawMetadata.fields)===null||e===void 0)&&e.capture_dates?new Po((t=this.rawMetadata.fields)===null||t===void 0?void 0:t.capture_dates):void 0}get __href__(){return this.fields.__href__}};Y([et()],og.prototype,"title",null);Y([et()],og.prototype,"capture_dates",null);var ag=class{constructor(e){var t;this.rawMetadata=e,this.fields=new eo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get highlight(){var e;return!((e=this.rawMetadata.highlight)===null||e===void 0)&&e.text?new fr(this.rawMetadata.highlight.text):void 0}get addeddate(){return this.fields.addeddate}get ad_id(){return this.fields.ad_id}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get created_on(){return this.fields.created_on}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get factcheck(){return this.fields.factcheck}get filename(){return this.fields.filename}get file_basename(){return this.fields.file_basename}get file_creation_mtime(){return this.fields.file_creation_mtime}get files_count(){return this.fields.files_count}get is_clip(){return this.fields.is_clip}get issue(){return this.fields.issue}get item_count(){return this.fields.item_count}get item_size(){return this.fields.item_size}get language(){return this.fields.language}get mediatype(){return this.fields.mediatype}get num_clips(){return this.fields.num_clips}get num_favorites(){return this.fields.num_favorites}get publicdate(){return this.fields.publicdate}get result_in_subfile(){return this.fields.result_in_subfile}get reviewdate(){return this.fields.reviewdate}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get updated_on(){return this.fields.updated_on}get week(){return this.fields.week}get year(){return this.fields.year}get start(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.start)!=null?new fr(this.rawMetadata.fields.start):void 0}get __href__(){return this.fields.__href__}get __img__(){return this.fields.__img__}};Y([et()],ag.prototype,"highlight",null);Y([et()],ag.prototype,"start",null);var sg=class{constructor(e){this.rawResponse=e}get item_size(){return this.rawResponse.item_size}get files_count(){return this.rawResponse.files_count}get month(){return this.rawResponse.month}get week(){return this.rawResponse.week}get downloads(){return this.rawResponse.downloads}get num_favorites(){return this.rawResponse.num_favorites}get title_message(){return this.rawResponse.title_message}get primary_collection(){return this.rawResponse.primary_collection}get thumbnail_url(){return this.rawResponse.thumbnail_url}get num_reviews(){return this.rawResponse.num_reviews}get uploader_details(){return this.rawResponse.uploader_details}get public_metadata(){if(this.rawResponse.public_metadata)return new Ki(this.rawResponse.public_metadata)}get part_of(){return this.rawResponse.part_of}get speech_vs_music_asr_metadata(){return this.rawResponse.speech_vs_music_asr_metadata}get reviews_metadata(){var e;return((e=this.rawResponse.reviews_metadata)!==null&&e!==void 0?e:[]).map(t=>new rg(t))}};Y([et()],sg.prototype,"public_metadata",null);Y([et()],sg.prototype,"reviews_metadata",null);var c7=class Rw{constructor(t,r){var a,l,o,u,n,c,d,f,p,v,y,w,k,A,C;this.extraInfo=null,this.schema=r,this.schemaHitType=r==null?void 0:r.hit_type;let x;t!=null&&t.page_elements&&(this.pageElements=t.page_elements,x=Object.values(this.pageElements)[0]);let S=(a=t==null?void 0:t.hits)===null||a===void 0?void 0:a.hits;this.totalResults=(o=(l=t==null?void 0:t.hits)===null||l===void 0?void 0:l.total)!==null&&o!==void 0?o:0,this.returnedCount=(n=(u=t==null?void 0:t.hits)===null||u===void 0?void 0:u.returned)!==null&&n!==void 0?n:0,!(S!=null&&S.length)&&!((c=this.pageElements)===null||c===void 0)&&c.service___fts?(this.totalResults=0,this.returnedCount=0,this.handleFederatedPageElements()):!(S!=null&&S.length)&&!((d=x==null?void 0:x.hits)===null||d===void 0)&&d.hits?(S=x.hits.hits,this.totalResults=(f=x.hits.total)!==null&&f!==void 0?f:0,this.returnedCount=(p=x.hits.returned)!==null&&p!==void 0?p:0):!((v=this.pageElements)===null||v===void 0)&&v.lending?S=this.handleLendingPageElement():!((y=this.pageElements)===null||y===void 0)&&y.web_archives&&(S=this.handleWebArchivesPageElement()),this.results=this.formatHits(S);let s=t==null?void 0:t.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(x!=null&&x.aggregations)&&(s=x.aggregations),s&&this.buildAggregations(s),t!=null&&t.collection_titles&&(this.collectionTitles=(w=t.collection_titles)!==null&&w!==void 0?w:{}),t!=null&&t.tv_channel_aliases&&(this.tvChannelAliases=(k=t.tv_channel_aliases)!==null&&k!==void 0?k:{}),t!=null&&t.collection_extra_info&&(this.collectionExtraInfo=(A=t.collection_extra_info)!==null&&A!==void 0?A:null),t!=null&&t.account_extra_info&&(this.accountExtraInfo=(C=t.account_extra_info)!==null&&C!==void 0?C:null),t!=null&&t.extra_info&&(this.extraInfo=new sg(t.extra_info))}formatHits(t){var r;return(r=t==null?void 0:t.map(a=>{var l;return Rw.createResult((l=a.hit_type)!==null&&l!==void 0?l:this.schemaHitType,a)}))!==null&&r!==void 0?r:[]}buildAggregations(t){this.aggregations=Object.entries(t).reduce((r,[a,l])=>(r[a]=new Dw(l),r),{})}handleLendingPageElement(){var t,r;let a=(t=this.pageElements)===null||t===void 0?void 0:t.lending,l=(r=a.loans)!==null&&r!==void 0?r:[];this.totalResults=l.length,this.returnedCount=this.totalResults;for(let o of a7)a[o]=this.formatHits(a[o]);return l}handleWebArchivesPageElement(){var t;let r=l7((t=this.pageElements)===null||t===void 0?void 0:t.web_archives);return this.totalResults=r.length,this.returnedCount=this.totalResults,r}handleFederatedPageElements(){var t,r,a,l;let o=["service___fts","service___tvs","service___rcs","service___whisper","metadata___mediatype___texts","metadata___mediatype___movies","metadata___mediatype___audio","metadata___mediatype___software","metadata___mediatype___image","metadata___mediatype___etree"];for(let u of o){let n=this.removePageElementPrefix(u);this.federatedResults?this.federatedResults[u]=[]:this.federatedResults={[n]:[]};let c=(r=(t=this.pageElements)===null||t===void 0?void 0:t[u])===null||r===void 0?void 0:r.hits;c!=null&&c.hits&&(this.federatedResults[n]=this.formatHits(c==null?void 0:c.hits)),this.totalResults+=(a=c==null?void 0:c.total)!==null&&a!==void 0?a:0,this.returnedCount+=(l=c==null?void 0:c.returned)!==null&&l!==void 0?l:0}}removePageElementPrefix(t){return t.split("___").pop()}static createResult(t,r){switch(t){case"item":return new fa(r);case"text":case"asr_text":return new ng(r);case"favorited_search":return new u7(r);case"web_archive":return new og(r);case"tv_clip":return new ag(r);default:return new fa(r)}}},d7=class{constructor(e){this.clientParameters=e.client_parameters,this.backendRequests=e.backend_requests,this.kind=e.kind}},h7=class{constructor(e){var t,r,a;this.rawResponse=e,this.request=new d7(e.request),this.responseHeader=(t=e.response)===null||t===void 0?void 0:t.header,this.sessionContext=e.session_context,this.response=new c7((r=e.response)===null||r===void 0?void 0:r.body,(a=e.response)===null||a===void 0?void 0:a.hit_schema)}},Au=class{static aggregateSearchParamsAsString(e){if(e.omit)return"false";if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field}:${e.direction}`}static filterParamsAsString(e){return JSON.stringify(e)}static generateURLSearchParams(e){let t=new URLSearchParams;if(e.query&&t.append("user_query",e.query),e.pageType&&t.append("page_type",String(e.pageType)),e.pageTarget&&t.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){let a=`[${e.pageElements.map(l=>`"${l}"`).join(",")}]`;t.append("page_elements",a)}if(e.rows!=null&&t.append("hits_per_page",String(e.rows)),e.page!=null&&t.append("page",String(e.page)),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){let a=this.filterParamsAsString(e.filters);a&&a!=="{}"&&t.append("filter_map",a)}if(e.sort&&e.sort.length>0){let a=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",a.join(","))}let r=e.aggregations;if(r){let a=this.aggregateSearchParamsAsString(r);a&&t.append("aggregations",a)}if(e.aggregationsSize!=null&&t.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&t.append("debugging","true"),e.uid&&t.append("uid",e.uid),e.includeClientUrl!==!1){let a=e.query==null,l=e.query&&e.query.length<=1e3;if(a||l){let o=window.location.href.slice(0,400);t.append("client_url",o)}}return t}},zc;(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(zc||(zc={}));var p7=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},Iw={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},Cu=class{constructor(e){var t,r;this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;let a=new URL(window.location.href).searchParams,l=a.get("scope"),o=a.get("verbose"),u=a.get("debugging"),n=a.get("cacheDebug"),c="";for(let d of Object.keys(Iw))if(a.get(d)){c=Iw[d];break}c=(r=a.get("caching"))!==null&&r!==void 0?r:c,(e==null?void 0:e.caching)!==void 0?this.cachingFlags=e.caching:c&&(this.cachingFlags=c),(e==null?void 0:e.debuggingEnabled)!==void 0?this.debuggingEnabled=e.debuggingEnabled:(u||n)&&(this.debuggingEnabled=!0),(e==null?void 0:e.scope)!==void 0?this.requestScope=e.scope:l&&(this.requestScope=l),(e==null?void 0:e.verbose)!==void 0?this.verbose=e.verbose:o&&(this.verbose=!!o)}fetchUrl(e,t){return Vt(this,null,function*(){var r,a;let l=new URL(e);this.requestScope&&l.searchParams.set("scope",this.requestScope),this.cachingFlags&&l.searchParams.set("caching",this.cachingFlags);let o;try{let u=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};o=yield fetch(l.href,u)}catch(u){let n=u instanceof Error?u.message:typeof u=="string"?u:"Unknown error";return this.getErrorResult(zc.networkError,n)}try{let u=yield o.json();this.verbose&&this.printResponse(u),u.debugging&&this.printDebuggingInfo(u);let n=(a=u.response)===null||a===void 0?void 0:a.error;return n?this.getErrorResult(zc.searchEngineError,n.message,n.forensics):{success:u}}catch(u){let n=u instanceof Error?u.message:typeof u=="string"?u:"Unknown error";return this.getErrorResult(zc.decodingError,n)}})}getErrorResult(e,t,r){return{error:new p7(e,t,r)}}printResponse(e){var t,r,a,l,o;try{let u=JSON.parse(JSON.stringify(e)),n=(a=(r=(t=u==null?void 0:u.response)===null||t===void 0?void 0:t.body)===null||r===void 0?void 0:r.hits)===null||a===void 0?void 0:a.hits;if(Array.isArray(n)&&n.length>1){let d=[];d.push(n[0]),d.push(`*** ${n.length-1} hits omitted ***`),u.response.body.hits.hits=d}let c=(o=(l=u==null?void 0:u.response)===null||l===void 0?void 0:l.body)===null||o===void 0?void 0:o.aggregations;c&&Object.entries(c).forEach(([d,f])=>{var p,v,y,w;if(((v=(p=f)===null||p===void 0?void 0:p.buckets)===null||v===void 0?void 0:v.length)>0){let k=JSON.parse(JSON.stringify(f));k.buckets=`*** ${(w=(y=k.buckets)===null||y===void 0?void 0:y.length)!==null&&w!==void 0?w:0} buckets omitted ***`,u.response.body.aggregations[d]=k}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(u,null,2)),console.groupEnd()}catch(u){console.error("Error printing search response:",u)}}printDebuggingInfo(e){var t,r;let a=e.debugging,l=(t=a.messages)!==null&&t!==void 0?t:[],o=(r=a.data)!==null&&r!==void 0?r:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");for(let u of l)console.log(u);console.groupEnd(),console.group("Debug data");for(let[u,n]of Object.entries(o))console.log(u,n);console.groupEnd(),console.log("***** END DEBUGGING *****")}},f7=class extends Cu{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return Vt(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Au.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=metadata&${t}`;return this.fetchUrl(r)})}},m7=class extends Cu{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return Vt(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Au.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=fts&${t}`;return this.fetchUrl(r)})}},g7=class extends Cu{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return Vt(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Au.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=rcs&${t}`;return this.fetchUrl(r)})}},pa;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.METADATA=1]="METADATA",e[e.FULLTEXT=2]="FULLTEXT",e[e.TV=3]="TV",e[e.RADIO=4]="RADIO",e[e.FEDERATED=5]="FEDERATED"})(pa||(pa={}));var v7=class extends Cu{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return Vt(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Au.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=tvs&${t}`;return this.fetchUrl(r)})}},b7=class extends Cu{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return Vt(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Au.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?page_type=simple_federation&${t}`;return this.fetchUrl(r)})}},y7=class extends Cu{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return Vt(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Au.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?${t}`,{pageType:a,identifiers:l}=e,o=a==="client_document_fetch"&&(l!=null&&l.length)?{requestOptions:{method:"POST",body:JSON.stringify({doc_ids:l}),credentials:"include"}}:void 0;return this.fetchUrl(r,o)})}},ig=class jw{constructor(t={}){this.backendOptions=t}search(a){return Vt(this,arguments,function*(t,r=pa.METADATA){let l=yield jw.getBackendForSearchType(r,this.backendOptions).performSearch(t);return l.error?l:{success:new h7(l.success)}})}itemDetails(t){let r={pageType:"item_details",pageTarget:t};return this.search(r,pa.DEFAULT)}static getBackendForSearchType(t,r={}){switch(t){case pa.METADATA:return new f7(r);case pa.FULLTEXT:return new m7(r);case pa.RADIO:return new g7(r);case pa.TV:return new v7(r);case pa.FEDERATED:return new b7(r);default:return new y7(r)}}};ig.default=new ig;Y([et((e,t={})=>{let{includeCredentials:r=!1,verbose:a=!1,scope:l="",baseUrl:o=""}=t;return`${e};${r};${a};${l};${o}`})],ig,"getBackendForSearchType",null);var Lw;(function(e){e.INCLUDE="inc",e.EXCLUDE="exc",e.GREATER_THAN="gt",e.GREATER_OR_EQUAL="gte",e.LESS_THAN="lt",e.LESS_OR_EQUAL="lte"})(Lw||(Lw={}));var Bw=Le`var(--white, #fff)`,w7=Le`var(--primaryDisableCTAFill, #767676)`,_7=Le`var(--secondaryCTABorder, #999)`,k7=Le`var(--primaryCTAFill, #194880)`,lg=Le`var(--primaryCTAFillRGB, 25, 72, 128)`,x7=Le`var(--primaryCTABorder, #c5d1df)`,S7=Le`var(--primaryErrorCTAFill, #d9534f)`,ug=Le`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,A7=Le`var(--primaryErrorCTABorder, #d43f3a)`,C7=Le`var(--secondaryCTAFill, #333)`,cg=Le`var(--secondaryCTAFillRGB, 51, 51, 51)`,E7=Le`var(--primaryCTABorder, #979797)`,T7=Le`#ee8950`,$7=Le`#ec7939`,P7=Le`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${Bw};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 3rem;
    outline-color: ${Bw};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${w7};
    border: 1px solid ${_7};
  }
  .ia-button.transparent {
    background-color: transparent;
  }
  .ia-button.warning {
    background-color: ${T7}
    border-color: ${$7};
  }

  .ia-button.primary {
    background-color: ${k7};
    border-color: ${x7};
  }
  .ia-button.primary:hover {
    background-color: rgba(${lg}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${lg}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${lg}, 0.7);
  }

  .ia-button.danger {
    background-color: ${S7};
    border-color: ${A7};
  }
  .ia-button.danger:hover {
    background-color: rgba(${ug}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${ug}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${ug}, 0.7);
  }

  .ia-button.dark {
    background-color: ${C7};
    border-color: ${E7};
  }
  .ia-button.dark:hover {
    background-color: rgba(${cg}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${cg}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${cg}, 0.7);
  }
`,Hc;(function(e){e.NETWORK="failed to connect to user lists backend service",e.BAD_RESPONSE="malformed response from backend",e.USER_NOT_FOUND="user with the given id was not found",e.LIST_NOT_FOUND="user list with the given id was not found",e.LIST_MEMBER_NOT_FOUND="user list member with the given id was not found",e.ITEM_NOT_TOUND="item with the given id was not found"})(Hc||(Hc={}));var O7=class extends Error{constructor(e,t,r){super(t,r),this.reason=e}},Mh="application/json; charset=utf-8",Ih=class Eu{constructor({fetchHandler:t,searchService:r,userService:a,baseUrl:l=Eu.DEFAULT_BASE_URL}){this.fetchHandler=t,this.searchService=r,this.userService=a,this.baseUrl=l}fetchEndpoint(t,r,a,l){return Vt(this,null,function*(){try{let o=yield this.fetchHandler.fetchApiResponse(t,{method:r,body:a,headers:l,includeCredentials:!0});return o.success?{success:o.value}:{error:Eu.getErrorResult(Hc.LIST_NOT_FOUND,o.error)}}catch(o){return{error:Eu.getErrorResult(Hc.NETWORK,o)}}})}fetchListsForUser(t){return Vt(this,null,function*(){var r;let a=(r=yield this.userService.getLoggedInUser())===null||r===void 0?void 0:r.success,l=(a==null?void 0:a.itemname)===t?"me":t;return this.fetchEndpoint(`${this.baseUrl}/services/users/${l}/lists`)})}fetchList(t,r){return Vt(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/${t}/lists/${r}`)})}fetchOwnListsContainingItem(t){return Vt(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists?item=${t}`)})}fetchListMembers(t,r){return Vt(this,null,function*(){let a=yield this.fetchList(t,r);if(!a.success)return a;let{members:l}=a.success;if(!l)throw Eu.getErrorResult(Hc.BAD_RESPONSE);return{success:l}})}fetchListMemberSearchResults(t,r){return Vt(this,null,function*(){let a=yield this.fetchListMembers(t,r);if(!a.success)return a;let l=a.success;if(l.length===0)return{success:[]};let o=`identifier:(${l.map(n=>n.identifier).join(" OR ")})`,u=yield this.searchService.search({query:o,rows:l.length,aggregations:{omit:!0}},pa.METADATA);return u.success?{success:u.success.response.results}:{error:u.error}})}createList(t){return Vt(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists`,"POST",JSON.stringify(t),{"Content-Type":Mh})})}updateList(t,r){return Vt(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}`,"PATCH",JSON.stringify(r),{"Content-Type":Mh})})}deleteList(t){return Vt(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}`,"DELETE")})}addMemberToList(t,r){return Vt(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}/members`,"POST",JSON.stringify(r),{"Content-Type":Mh})})}removeMemberFromList(t,r){return Vt(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}/members/${r}`,"DELETE")})}removeBulkMembersFromList(t,r){return Vt(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}/members`,"PATCH",JSON.stringify({remove:r}),{"Content-Type":Mh})})}static getErrorResult(t,r){return new O7(t,Eu.getErrorMessage(r),{cause:r})}static getErrorMessage(t){return t instanceof Error?t.message:typeof t=="string"?t:"Unknown error"}};Ih.DEFAULT_BASE_URL="https://archive.org";var Ja=class extends Yt{saveListDetails(e){return Vt(this,null,function*(){var t,r,a,l;e.preventDefault();let o=(t=e.target)===null||t===void 0?void 0:t.querySelector("button#save-list-settings");o==null||o.setAttribute("disabled","true"),this.dispatchEvent(new Event("userListSaving"));try{let u={list_name:this.listName.value,description:this.listDescription.value,is_private:this.listPrivate.checked},n;if(!((r=this.userList)===null||r===void 0)&&r.id?n=yield(a=this.userListsService)===null||a===void 0?void 0:a.updateList(this.userList.id,u):n=yield(l=this.userListsService)===null||l===void 0?void 0:l.createList(u),n.success)this.dispatchEvent(new CustomEvent("userListSaved",{detail:n.success}));else throw n.error}catch(u){this.dispatchEvent(new CustomEvent("userListError",{detail:{error:u}})),console.log("error",u),o==null||o.removeAttribute("disabled")}})}emitCloseModalEvent(e){e.preventDefault(),this.dispatchEvent(new Event("listModalClosed"))}render(){var e,t,r,a,l,o,u,n;return we`
      <section class="new-list">
        <form id="user-list-form" @submit=${this.saveListDetails}>
          <div class="field">
            <input type="hidden" id="id" .value=${(t=(e=this.userList)===null||e===void 0?void 0:e.id)!==null&&t!==void 0?t:""} />
            <label for="name">List name*</label>
            <input
              type="text"
              id="name"
              .value=${(a=(r=this.userList)===null||r===void 0?void 0:r.list_name)!==null&&a!==void 0?a:""}
              required
            />
          </div>
          <div class="field">
            <label for="description">Description</label>
            <textarea
              id="description"
              .value=${(o=(l=this.userList)===null||l===void 0?void 0:l.description)!==null&&o!==void 0?o:""}
            ></textarea>
          </div>
          <div class="field">
            <label for="private">Private list</label>
            <input
              type="checkbox"
              id="private"
              .checked="${(n=(u=this.userList)===null||u===void 0?void 0:u.is_private)!==null&&n!==void 0?n:!1}"
            />
          </div>
          <div class="footer field">
            <button
              type="button"
              class="ia-button dark"
              id="cancel"
              @click=${this.emitCloseModalEvent}
            >
              Cancel
            </button>
            <button
              type="submit"
              id="save-list-settings"
              class="ia-button primary"
            >
              Save
            </button>
          </div>
        </form>
      </section>
    `}};Ja.styles=[P7,Le`
      :host {
        display: block;
        padding: 15px 0 0 0;
        font-size: 14px;
        position: relative;
      }

      .field {
        margin-bottom: 10px;
        display: flex;
        align-items: center;
      }

      label {
        display: inline-block;
        width: 90px;
        text-align: left;
        margin-right: 10px;
        font-weight: 700;
      }

      input[type='text'],
      textarea {
        line-height: 20px;
        padding: 5px;
        border-radius: 5px;
        width: 270px;
        font-family: inherit;
        font-size: inherit;
        resize: none;
        border-style: solid;
        outline: none;
        border-radius: 4px;
        border-width: 1px;
        border-color: #999;
      }

      input[type='checkbox'] {
        cursor: pointer;
        margin: 0;
      }

      label[for='private'] {
        cursor: pointer;
      }

      .footer {
        display: block;
        text-align: center;
        margin: 10px 0 0 0;
      }

      .ia-button {
        display: initial;
        padding: 0 15px;
        height: 3.5rem;
      }
    `];Y([St({type:Object}),Hs("design:type",Object)],Ja.prototype,"userList",void 0);Y([St({type:Object}),Hs("design:type",Ih)],Ja.prototype,"userListsService",void 0);Y([wr("#id"),Hs("design:type",HTMLInputElement)],Ja.prototype,"listId",void 0);Y([wr("#name"),Hs("design:type",HTMLInputElement)],Ja.prototype,"listName",void 0);Y([wr("#description"),Hs("design:type",HTMLInputElement)],Ja.prototype,"listDescription",void 0);Y([wr("#private"),Hs("design:type",HTMLInputElement)],Ja.prototype,"listPrivate",void 0);Ja=Y([Fi("iaux-userlist-settings")],Ja);Zi();mn();Nn();Zi();mn();Nn();Nn();Nn();Nn();Nn();Nn();Nn();Nn();Zi();mn();Zi();mn();Zi();mn();Zi();mn();Zi();mn();Zi();mn();Zi();mn();var ma=class{constructor(e,t){this.parser=e,this.rawValue=t}get values(){return this.parseRawValue()}get value(){return this.values[0]}parseRawValue(){if(this.rawValue===void 0)return[];let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let a=this.parser.parseValue(r);Array.isArray(a)?t.push(...a):a!==void 0&&t.push(a)}),t}};Y([et()],ma.prototype,"values",null);Y([et()],ma.prototype,"value",null);var vl=class extends ma{constructor(e){super(Tu.shared,e)}},dn=class extends ma{constructor(e){super(Xa.shared,e)}},dg=class extends ma{constructor(e){super($s.shared,e)}},an=class extends ma{constructor(e){super(Eo.shared,e)}},rr=class extends ma{constructor(e){super(Da.shared,e)}},M7=class extends ma{constructor(e){super(Pu.shared,e)}},Dh=class extends ma{constructor(e){super(La.shared,e)}},qc=class extends ma{constructor(e){super($u.shared,e)}},I7=class extends ma{constructor(e,t){super(t,e)}},L7=class extends I7{constructor(e){let t=new Lh(Da.shared);super(e,t)}},mr=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}get addeddate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new dn(this.rawMetadata.addeddate):void 0}get audio_codec(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new rr(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new an(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new an(this.rawMetadata.avg_rating):void 0}get collection(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new rr(this.rawMetadata.collection):void 0}get collections_raw(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new rr(this.rawMetadata.collections_raw):void 0}get collection_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new Dh(this.rawMetadata.collection_size):void 0}get contributor(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new rr(this.rawMetadata.contributor):void 0}get coverage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new rr(this.rawMetadata.coverage):void 0}get creator(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new rr(this.rawMetadata.creator):void 0}get date(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new dn(this.rawMetadata.date):void 0}get description(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new rr(this.rawMetadata.description):void 0}get downloads(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new an(this.rawMetadata.downloads):void 0}get duration(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new dg(this.rawMetadata.duration):void 0}get"external-identifier"(){var e,t;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new rr((t=this.rawMetadata)===null||t===void 0?void 0:t["external-identifier"]):void 0}get files_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new an(this.rawMetadata.files_count):void 0}get indexdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new dn(this.rawMetadata.indexdate):void 0}get isbn(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new rr(this.rawMetadata.isbn):void 0}get issue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new rr(this.rawMetadata.issue):void 0}get item_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new an(this.rawMetadata.item_count):void 0}get item_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new Dh(this.rawMetadata.item_size):void 0}get language(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new rr(this.rawMetadata.language):void 0}get length(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new dg(this.rawMetadata.length):void 0}get lineage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new rr(this.rawMetadata.lineage):void 0}get month(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new an(this.rawMetadata.month):void 0}get mediatype(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new qc(this.rawMetadata.mediatype):void 0}get noindex(){var e;return((e=this.rawMetadata)===null||e===void 0?void 0:e.noindex)!=null?new vl(this.rawMetadata.noindex):void 0}get notes(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new rr(this.rawMetadata.notes):void 0}get num_favorites(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new an(this.rawMetadata.num_favorites):void 0}get num_reviews(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new an(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new rr(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new rr(this.rawMetadata.openlibrary_work):void 0}get page_progression(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new M7(this.rawMetadata.page_progression):void 0}get partner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new rr(this.rawMetadata.partner):void 0}get ppi(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new an(this.rawMetadata.ppi):void 0}get publicdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new dn(this.rawMetadata.publicdate):void 0}get publisher(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new rr(this.rawMetadata.publisher):void 0}get reviewdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new dn(this.rawMetadata.reviewdate):void 0}get runtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new dg(this.rawMetadata.runtime):void 0}get scanner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new rr(this.rawMetadata.scanner):void 0}get source(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new rr(this.rawMetadata.source):void 0}get start_localtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new dn(this.rawMetadata.start_localtime):void 0}get start_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new dn(this.rawMetadata.start_time):void 0}get stop_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new dn(this.rawMetadata.stop_time):void 0}get subject(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new L7(this.rawMetadata.subject):void 0}get taper(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new rr(this.rawMetadata.taper):void 0}get title(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new rr(this.rawMetadata.title):void 0}get transferer(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new rr(this.rawMetadata.transferer):void 0}get track(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new an(this.rawMetadata.track):void 0}get type(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new rr(this.rawMetadata.type):void 0}get uploader(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new rr(this.rawMetadata.uploader):void 0}get utc_offset(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new an(this.rawMetadata.utc_offset):void 0}get venue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new rr(this.rawMetadata.venue):void 0}get volume(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new rr(this.rawMetadata.volume):void 0}get week(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new an(this.rawMetadata.week):void 0}get year(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new dn(this.rawMetadata.year):void 0}get query(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.query?new rr(this.rawMetadata.fields.query):void 0}get date_favorited(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date_favorited?new dn(this.rawMetadata.fields.date_favorited):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new rr(this.rawMetadata.fields.__href__):void 0}};Y([et()],mr.prototype,"addeddate",null);Y([et()],mr.prototype,"audio_codec",null);Y([et()],mr.prototype,"audio_sample_rate",null);Y([et()],mr.prototype,"avg_rating",null);Y([et()],mr.prototype,"collection",null);Y([et()],mr.prototype,"collections_raw",null);Y([et()],mr.prototype,"collection_size",null);Y([et()],mr.prototype,"contributor",null);Y([et()],mr.prototype,"coverage",null);Y([et()],mr.prototype,"creator",null);Y([et()],mr.prototype,"date",null);Y([et()],mr.prototype,"description",null);Y([et()],mr.prototype,"downloads",null);Y([et()],mr.prototype,"duration",null);Y([et()],mr.prototype,"external-identifier",null);Y([et()],mr.prototype,"files_count",null);Y([et()],mr.prototype,"indexdate",null);Y([et()],mr.prototype,"isbn",null);Y([et()],mr.prototype,"issue",null);Y([et()],mr.prototype,"item_count",null);Y([et()],mr.prototype,"item_size",null);Y([et()],mr.prototype,"language",null);Y([et()],mr.prototype,"length",null);Y([et()],mr.prototype,"lineage",null);Y([et()],mr.prototype,"month",null);Y([et()],mr.prototype,"mediatype",null);Y([et()],mr.prototype,"noindex",null);Y([et()],mr.prototype,"notes",null);Y([et()],mr.prototype,"num_favorites",null);Y([et()],mr.prototype,"num_reviews",null);Y([et()],mr.prototype,"openlibrary_edition",null);Y([et()],mr.prototype,"openlibrary_work",null);Y([et()],mr.prototype,"page_progression",null);Y([et()],mr.prototype,"partner",null);Y([et()],mr.prototype,"ppi",null);Y([et()],mr.prototype,"publicdate",null);Y([et()],mr.prototype,"publisher",null);Y([et()],mr.prototype,"reviewdate",null);Y([et()],mr.prototype,"runtime",null);Y([et()],mr.prototype,"scanner",null);Y([et()],mr.prototype,"source",null);Y([et()],mr.prototype,"start_localtime",null);Y([et()],mr.prototype,"start_time",null);Y([et()],mr.prototype,"stop_time",null);Y([et()],mr.prototype,"subject",null);Y([et()],mr.prototype,"taper",null);Y([et()],mr.prototype,"title",null);Y([et()],mr.prototype,"transferer",null);Y([et()],mr.prototype,"track",null);Y([et()],mr.prototype,"type",null);Y([et()],mr.prototype,"uploader",null);Y([et()],mr.prototype,"utc_offset",null);Y([et()],mr.prototype,"venue",null);Y([et()],mr.prototype,"volume",null);Y([et()],mr.prototype,"week",null);Y([et()],mr.prototype,"year",null);Y([et()],mr.prototype,"query",null);Y([et()],mr.prototype,"date_favorited",null);Y([et()],mr.prototype,"__href__",null);var Yr=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new dn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating)!=null?new an(this.rawMetadata.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new rr(this.rawMetadata.fields.collection):void 0}get collection_files_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.collection_files_count)!=null?new an(this.rawMetadata.fields.collection_files_count):void 0}get collection_size(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.collection_size)!=null?new Dh(this.rawMetadata.fields.collection_size):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new rr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new dn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new rr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads)!=null?new an(this.rawMetadata.fields.downloads):void 0}get files_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.files_count)!=null?new an(this.rawMetadata.fields.files_count):void 0}get genre(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.genre?new rr(this.rawMetadata.fields.genre):void 0}get indexflag(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.indexflag?new rr(this.rawMetadata.fields.indexflag):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new rr(this.rawMetadata.fields.issue):void 0}get item_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.item_count)!=null?new an(this.rawMetadata.fields.item_count):void 0}get item_size(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.item_size)!=null?new Dh(this.rawMetadata.fields.item_size):void 0}get language(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.language?new rr(this.rawMetadata.fields.language):void 0}get lending___available_to_borrow(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_borrow)!=null?new vl(this.rawMetadata.fields.lending___available_to_borrow):void 0}get lending___available_to_browse(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_browse)!=null?new vl(this.rawMetadata.fields.lending___available_to_browse):void 0}get lending___available_to_waitlist(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_waitlist)!=null?new vl(this.rawMetadata.fields.lending___available_to_waitlist):void 0}get lending___status(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.lending___status?new rr(this.rawMetadata.fields.lending___status):void 0}get licenseurl(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.licenseurl?new rr(this.rawMetadata.fields.licenseurl):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new qc(this.rawMetadata.fields.mediatype):void 0}get month(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.month)!=null?new an(this.rawMetadata.fields.month):void 0}get noindex(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.noindex)!=null?new vl(this.rawMetadata.fields.noindex):void 0}get num_favorites(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.num_favorites)!=null?new an(this.rawMetadata.fields.num_favorites):void 0}get num_reviews(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.num_reviews)!=null?new an(this.rawMetadata.fields.num_reviews):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new dn(this.rawMetadata.fields.publicdate):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new dn(this.rawMetadata.fields.reviewdate):void 0}get review(){var e;let t=(e=this.rawMetadata)===null||e===void 0?void 0:e.review;return t?{body:t.reviewbody,title:t.reviewtitle,author:t.reviewer,authorItem:t.reviewer_itemname,updatedate:new Date(t.reviewdate),createdate:new Date(t.createdate),stars:Number(t.stars)||0,__href__:t.__href__}:void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new rr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new rr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new rr(this.rawMetadata.fields.title):void 0}get type(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.type?new rr(this.rawMetadata.fields.type):void 0}get volume(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.volume?new rr(this.rawMetadata.fields.volume):void 0}get week(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.week)!=null?new an(this.rawMetadata.fields.week):void 0}get year(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year)!=null?new an(this.rawMetadata.fields.year):void 0}};Y([et()],Yr.prototype,"addeddate",null);Y([et()],Yr.prototype,"avg_rating",null);Y([et()],Yr.prototype,"collection",null);Y([et()],Yr.prototype,"collection_files_count",null);Y([et()],Yr.prototype,"collection_size",null);Y([et()],Yr.prototype,"creator",null);Y([et()],Yr.prototype,"date",null);Y([et()],Yr.prototype,"description",null);Y([et()],Yr.prototype,"downloads",null);Y([et()],Yr.prototype,"files_count",null);Y([et()],Yr.prototype,"genre",null);Y([et()],Yr.prototype,"indexflag",null);Y([et()],Yr.prototype,"issue",null);Y([et()],Yr.prototype,"item_count",null);Y([et()],Yr.prototype,"item_size",null);Y([et()],Yr.prototype,"language",null);Y([et()],Yr.prototype,"lending___available_to_borrow",null);Y([et()],Yr.prototype,"lending___available_to_browse",null);Y([et()],Yr.prototype,"lending___available_to_waitlist",null);Y([et()],Yr.prototype,"lending___status",null);Y([et()],Yr.prototype,"licenseurl",null);Y([et()],Yr.prototype,"mediatype",null);Y([et()],Yr.prototype,"month",null);Y([et()],Yr.prototype,"noindex",null);Y([et()],Yr.prototype,"num_favorites",null);Y([et()],Yr.prototype,"num_reviews",null);Y([et()],Yr.prototype,"publicdate",null);Y([et()],Yr.prototype,"reviewdate",null);Y([et()],Yr.prototype,"review",null);Y([et()],Yr.prototype,"source",null);Y([et()],Yr.prototype,"subject",null);Y([et()],Yr.prototype,"title",null);Y([et()],Yr.prototype,"type",null);Y([et()],Yr.prototype,"volume",null);Y([et()],Yr.prototype,"week",null);Y([et()],Yr.prototype,"year",null);var En=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get highlight(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||t===void 0)&&t.text?new rr(this.rawMetadata.highlight.text):void 0}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new dn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating)!=null?new an(this.rawMetadata.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new rr(this.rawMetadata.fields.collection):void 0}get created_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.created_on?new dn(this.rawMetadata.fields.created_on):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new rr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new dn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new rr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads)!=null?new an(this.rawMetadata.fields.downloads):void 0}get filename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.filename?new rr(this.rawMetadata.fields.filename):void 0}get file_basename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.file_basename?new rr(this.rawMetadata.fields.file_basename):void 0}get file_creation_mtime(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.file_creation_mtime)!=null?new an(this.rawMetadata.fields.file_creation_mtime):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new rr(this.rawMetadata.fields.issue):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new qc(this.rawMetadata.fields.mediatype):void 0}get page_num(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.page_num)!=null?new an(this.rawMetadata.fields.page_num):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new dn(this.rawMetadata.fields.publicdate):void 0}get result_in_subfile(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.result_in_subfile)!=null?new vl(this.rawMetadata.fields.result_in_subfile):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new dn(this.rawMetadata.fields.reviewdate):void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new rr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new rr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new rr(this.rawMetadata.fields.title):void 0}get updated_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.updated_on?new dn(this.rawMetadata.fields.updated_on):void 0}get year(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year)!=null?new an(this.rawMetadata.fields.year):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new rr(this.rawMetadata.fields.__href__):void 0}};Y([et()],En.prototype,"highlight",null);Y([et()],En.prototype,"addeddate",null);Y([et()],En.prototype,"avg_rating",null);Y([et()],En.prototype,"collection",null);Y([et()],En.prototype,"created_on",null);Y([et()],En.prototype,"creator",null);Y([et()],En.prototype,"date",null);Y([et()],En.prototype,"description",null);Y([et()],En.prototype,"downloads",null);Y([et()],En.prototype,"filename",null);Y([et()],En.prototype,"file_basename",null);Y([et()],En.prototype,"file_creation_mtime",null);Y([et()],En.prototype,"issue",null);Y([et()],En.prototype,"mediatype",null);Y([et()],En.prototype,"page_num",null);Y([et()],En.prototype,"publicdate",null);Y([et()],En.prototype,"result_in_subfile",null);Y([et()],En.prototype,"reviewdate",null);Y([et()],En.prototype,"source",null);Y([et()],En.prototype,"subject",null);Y([et()],En.prototype,"title",null);Y([et()],En.prototype,"updated_on",null);Y([et()],En.prototype,"year",null);Y([et()],En.prototype,"__href__",null);var Uc;(function(e){e[e.COUNT=0]="COUNT",e[e.ALPHABETICAL=1]="ALPHABETICAL",e[e.NUMERIC=2]="NUMERIC"})(Uc||(Uc={}));var zw=class{constructor(e){this.buckets=e.buckets,this.doc_count_error_upper_bound=e.doc_count_error_upper_bound,this.sum_other_doc_count=e.sum_other_doc_count,this.first_bucket_key=e.first_bucket_key,this.last_bucket_key=e.last_bucket_key,this.number_buckets=e.number_buckets,this.interval=e.interval}getSortedBuckets(e){let t=[...this.buckets];if(this.isRawNumberBuckets(t))return t;let r=new Intl.Collator;switch(e){case Uc.ALPHABETICAL:return t.sort((a,l)=>r.compare(a.key.toString(),l.key.toString()));case Uc.NUMERIC:return t.sort((a,l)=>Number(l.key)-Number(a.key));case Uc.COUNT:default:return t}}isRawNumberBuckets(e){return typeof this.buckets[0]=="number"}};Y([et()],zw.prototype,"getSortedBuckets",null);var Gc=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.fields.query}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new rr(this.rawMetadata.fields.title):void 0}get query(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.query?new rr(this.rawMetadata.fields.query):void 0}get date_favorited(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date_favorited?new dn(this.rawMetadata.fields.date_favorited):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new rr(this.rawMetadata.fields.__href__):void 0}};Y([et()],Gc.prototype,"title",null);Y([et()],Gc.prototype,"query",null);Y([et()],Gc.prototype,"date_favorited",null);Y([et()],Gc.prototype,"__href__",null);var Rh=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.url}get mediatype(){return new qc("web")}get title(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.url?new rr((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.url):void 0}get capture_dates(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.capture_dates?new dn((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.capture_dates):void 0}get __href__(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new rr((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.__href__):void 0}};Y([et()],Rh.prototype,"title",null);Y([et()],Rh.prototype,"capture_dates",null);Y([et()],Rh.prototype,"__href__",null);var Tn=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get highlight(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||t===void 0)&&t.text?new rr(this.rawMetadata.highlight.text):void 0}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new dn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating;return a||a===0?new an((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new rr(this.rawMetadata.fields.collection):void 0}get created_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.created_on?new dn(this.rawMetadata.fields.created_on):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new rr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new dn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new rr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads;return a||a===0?new an((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.downloads):void 0}get filename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.filename?new rr(this.rawMetadata.fields.filename):void 0}get file_basename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.file_basename?new rr(this.rawMetadata.fields.file_basename):void 0}get file_creation_mtime(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.file_creation_mtime;return a||a===0?new an((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.file_creation_mtime):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new rr(this.rawMetadata.fields.issue):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new qc(this.rawMetadata.fields.mediatype):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new dn(this.rawMetadata.fields.publicdate):void 0}get result_in_subfile(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.result_in_subfile;return a||a===!1?new vl((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.result_in_subfile):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new dn(this.rawMetadata.fields.reviewdate):void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new rr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new rr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new rr(this.rawMetadata.fields.title):void 0}get updated_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.updated_on?new dn(this.rawMetadata.fields.updated_on):void 0}get year(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year;return a||a===0?new an((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.year):void 0}get start(){var e,t,r;let a=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.start;return a||a===0?new rr((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.start):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new rr(this.rawMetadata.fields.__href__):void 0}};Y([et()],Tn.prototype,"highlight",null);Y([et()],Tn.prototype,"addeddate",null);Y([et()],Tn.prototype,"avg_rating",null);Y([et()],Tn.prototype,"collection",null);Y([et()],Tn.prototype,"created_on",null);Y([et()],Tn.prototype,"creator",null);Y([et()],Tn.prototype,"date",null);Y([et()],Tn.prototype,"description",null);Y([et()],Tn.prototype,"downloads",null);Y([et()],Tn.prototype,"filename",null);Y([et()],Tn.prototype,"file_basename",null);Y([et()],Tn.prototype,"file_creation_mtime",null);Y([et()],Tn.prototype,"issue",null);Y([et()],Tn.prototype,"mediatype",null);Y([et()],Tn.prototype,"publicdate",null);Y([et()],Tn.prototype,"result_in_subfile",null);Y([et()],Tn.prototype,"reviewdate",null);Y([et()],Tn.prototype,"source",null);Y([et()],Tn.prototype,"subject",null);Y([et()],Tn.prototype,"title",null);Y([et()],Tn.prototype,"updated_on",null);Y([et()],Tn.prototype,"year",null);Y([et()],Tn.prototype,"start",null);Y([et()],Tn.prototype,"__href__",null);var D7=["loans","waitlist","loan_history"];function R7(e){let t=e.slice(0,4),r=e.slice(4,6),a=e.slice(6,8),l=e.slice(8,10),o=e.slice(10,12),u=e.slice(12,14);return`${t}-${r}-${a}T${l}:${o}:${u}Z`}function j7(e){var t;let r=[];for(let a of e){if(!(!((t=a.captures)===null||t===void 0)&&t.length))continue;let l=encodeURIComponent(a.url),o=`https://web.archive.org/web/${a.captures[0]}/${l}`;r.push({hit_type:"web_archive",fields:{url:a.url,capture_dates:a.captures.map(u=>R7(u)),__href__:o}})}return r}var B7=class Hw{constructor(t,r){var a,l,o,u,n,c,d,f,p,v,y,w,k,A;this.schema=r,this.schemaHitType=r==null?void 0:r.hit_type;let C;t!=null&&t.page_elements&&(this.pageElements=t.page_elements,C=Object.values(this.pageElements)[0]);let x=(a=t==null?void 0:t.hits)===null||a===void 0?void 0:a.hits;this.totalResults=(o=(l=t==null?void 0:t.hits)===null||l===void 0?void 0:l.total)!==null&&o!==void 0?o:0,this.returnedCount=(n=(u=t==null?void 0:t.hits)===null||u===void 0?void 0:u.returned)!==null&&n!==void 0?n:0,!(x!=null&&x.length)&&!((c=this.pageElements)===null||c===void 0)&&c.service___fts?(this.totalResults=0,this.returnedCount=0,this.handleFederatedPageElements()):!(x!=null&&x.length)&&!((d=C==null?void 0:C.hits)===null||d===void 0)&&d.hits?(x=C.hits.hits,this.totalResults=(f=C.hits.total)!==null&&f!==void 0?f:0,this.returnedCount=(p=C.hits.returned)!==null&&p!==void 0?p:0):!((v=this.pageElements)===null||v===void 0)&&v.lending?x=this.handleLendingPageElement():!((y=this.pageElements)===null||y===void 0)&&y.web_archives&&(x=this.handleWebArchivesPageElement()),this.results=this.formatHits(x);let S=t==null?void 0:t.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(C!=null&&C.aggregations)&&(S=C.aggregations),S&&this.buildAggregations(S),t!=null&&t.collection_titles&&(this.collectionTitles=(w=t.collection_titles)!==null&&w!==void 0?w:{}),t!=null&&t.collection_extra_info&&(this.collectionExtraInfo=(k=t.collection_extra_info)!==null&&k!==void 0?k:null),t!=null&&t.account_extra_info&&(this.accountExtraInfo=(A=t.account_extra_info)!==null&&A!==void 0?A:null)}formatHits(t){var r;return(r=t==null?void 0:t.map(a=>{var l;return Hw.createResult((l=a.hit_type)!==null&&l!==void 0?l:this.schemaHitType,a)}))!==null&&r!==void 0?r:[]}buildAggregations(t){this.aggregations=Object.entries(t).reduce((r,[a,l])=>(r[a]=new zw(l),r),{})}handleLendingPageElement(){var t,r;let a=(t=this.pageElements)===null||t===void 0?void 0:t.lending,l=(r=a.loans)!==null&&r!==void 0?r:[];this.totalResults=l.length,this.returnedCount=this.totalResults;for(let o of D7)a[o]=this.formatHits(a[o]);return l}handleWebArchivesPageElement(){var t;let r=j7((t=this.pageElements)===null||t===void 0?void 0:t.web_archives);return this.totalResults=r.length,this.returnedCount=this.totalResults,r}handleFederatedPageElements(){var t,r,a,l;let o=["service___fts","service___tvs","service___rcs","service___whisper"];for(let u of o){let n=this.removeServicePrefix(u);this.federatedResults?this.federatedResults[u]=[]:this.federatedResults={[n]:[]};let c=(r=(t=this.pageElements)===null||t===void 0?void 0:t[u])===null||r===void 0?void 0:r.hits;c!=null&&c.hits&&(this.federatedResults[n]=this.formatHits(c==null?void 0:c.hits)),this.totalResults+=(a=c==null?void 0:c.total)!==null&&a!==void 0?a:0,this.returnedCount+=(l=c==null?void 0:c.returned)!==null&&l!==void 0?l:0}}removeServicePrefix(t){return t.split("___")[1]}static createResult(t,r){switch(t){case"item":return new Yr(r);case"text":case"asr_text":return new En(r);case"favorited_search":return new Gc(r);case"web_archive":return new Rh(r);case"tv_clip":return new Tn(r);default:return new Yr(r)}}},N7=class{constructor(e){this.clientParameters=e.client_parameters,this.backendRequests=e.backend_requests,this.kind=e.kind}},F7=class{constructor(e){var t,r,a;this.rawResponse=e,this.request=new N7(e.request),this.responseHeader=(t=e.response)===null||t===void 0?void 0:t.header,this.sessionContext=e.session_context,this.response=new B7((r=e.response)===null||r===void 0?void 0:r.body,(a=e.response)===null||a===void 0?void 0:a.hit_schema)}},jh=class{static aggregateSearchParamsAsString(e){if(e.omit)return"false";if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field}:${e.direction}`}static filterParamsAsString(e){return JSON.stringify(e)}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("user_query",e.query),e.pageType&&t.append("page_type",String(e.pageType)),e.pageTarget&&t.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){let a=`[${e.pageElements.map(l=>`"${l}"`).join(",")}]`;t.append("page_elements",a)}if(e.rows!=null&&t.append("hits_per_page",String(e.rows)),e.page!=null&&t.append("page",String(e.page)),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){let a=this.filterParamsAsString(e.filters);a&&a!=="{}"&&t.append("filter_map",a)}if(e.sort&&e.sort.length>0){let a=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",a.join(","))}let r=e.aggregations;if(r){let a=this.aggregateSearchParamsAsString(r);a&&t.append("aggregations",a)}if(e.aggregationsSize!=null&&t.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&t.append("debugging","true"),e.uid&&t.append("uid",e.uid),e.includeClientUrl!==!1){let a=window.location.href.slice(0,400);e.query.length<=1e3&&t.append("client_url",a)}return t}},Wc;(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(Wc||(Wc={}));var z7=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},Nw={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},Bh=class{constructor(e){var t,r;this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;let a=new URL(window.location.href).searchParams,l=a.get("scope"),o=a.get("verbose"),u=a.get("debugging"),n=a.get("cacheDebug"),c="";for(let d of Object.keys(Nw))if(a.get(d)){c=Nw[d];break}c=(r=a.get("caching"))!==null&&r!==void 0?r:c,(e==null?void 0:e.caching)!==void 0?this.cachingFlags=e.caching:c&&(this.cachingFlags=c),(e==null?void 0:e.debuggingEnabled)!==void 0?this.debuggingEnabled=e.debuggingEnabled:(u||n)&&(this.debuggingEnabled=!0),(e==null?void 0:e.scope)!==void 0?this.requestScope=e.scope:l&&(this.requestScope=l),(e==null?void 0:e.verbose)!==void 0?this.verbose=e.verbose:o&&(this.verbose=!!o)}fetchUrl(e,t){return Vt(this,null,function*(){var r,a;let l=new URL(e);this.requestScope&&l.searchParams.set("scope",this.requestScope),this.cachingFlags&&l.searchParams.set("caching",this.cachingFlags);let o;try{let u=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};o=yield fetch(l.href,u)}catch(u){let n=u instanceof Error?u.message:typeof u=="string"?u:"Unknown error";return this.getErrorResult(Wc.networkError,n)}try{let u=yield o.json();this.verbose&&this.printResponse(u),u.debugging&&this.printDebuggingInfo(u);let n=(a=u.response)===null||a===void 0?void 0:a.error;return n?this.getErrorResult(Wc.searchEngineError,n.message,n.forensics):{success:u}}catch(u){let n=u instanceof Error?u.message:typeof u=="string"?u:"Unknown error";return this.getErrorResult(Wc.decodingError,n)}})}getErrorResult(e,t,r){return{error:new z7(e,t,r)}}printResponse(e){var t,r,a,l,o;try{let u=JSON.parse(JSON.stringify(e)),n=(a=(r=(t=u==null?void 0:u.response)===null||t===void 0?void 0:t.body)===null||r===void 0?void 0:r.hits)===null||a===void 0?void 0:a.hits;if(Array.isArray(n)&&n.length>1){let d=[];d.push(n[0]),d.push(`*** ${n.length-1} hits omitted ***`),u.response.body.hits.hits=d}let c=(o=(l=u==null?void 0:u.response)===null||l===void 0?void 0:l.body)===null||o===void 0?void 0:o.aggregations;c&&Object.entries(c).forEach(([d,f])=>{var p,v,y,w;if(((v=(p=f)===null||p===void 0?void 0:p.buckets)===null||v===void 0?void 0:v.length)>0){let k=JSON.parse(JSON.stringify(f));k.buckets=`*** ${(w=(y=k.buckets)===null||y===void 0?void 0:y.length)!==null&&w!==void 0?w:0} buckets omitted ***`,u.response.body.aggregations[d]=k}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(u,null,2)),console.groupEnd()}catch(u){console.error("Error printing search response:",u)}}printDebuggingInfo(e){var t,r;let a=e.debugging,l=(t=a.messages)!==null&&t!==void 0?t:[],o=(r=a.data)!==null&&r!==void 0?r:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");for(let u of l)console.log(u);console.groupEnd(),console.group("Debug data");for(let[u,n]of Object.entries(o))console.log(u,n);console.groupEnd(),console.log("***** END DEBUGGING *****")}},H7=class extends Bh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return Vt(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=jh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?${t}`;return this.fetchUrl(r)})}},U7=class extends Bh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return Vt(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=jh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=fts&${t}`;return this.fetchUrl(r)})}},W7=class extends Bh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return Vt(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=jh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=rcs&${t}`;return this.fetchUrl(r)})}},gl;(function(e){e[e.METADATA=0]="METADATA",e[e.FULLTEXT=1]="FULLTEXT",e[e.RADIO=3]="RADIO",e[e.FEDERATED=4]="FEDERATED"})(gl||(gl={}));var V7=class extends Bh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return Vt(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=jh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?page_type=simple_federation&${t}`;return this.fetchUrl(r)})}},Vc=class Uw{constructor(t={}){this.backendOptions=t}search(a){return Vt(this,arguments,function*(t,r=gl.METADATA){let l=yield Uw.getBackendForSearchType(r,this.backendOptions).performSearch(t);return l.error?l:{success:new F7(l.success)}})}static getBackendForSearchType(t,r={}){switch(t){case gl.FULLTEXT:return new U7(r);case gl.RADIO:return new W7(r);case gl.FEDERATED:return new V7(r);case gl.METADATA:default:return new H7(r)}}};Vc.default=new Vc;Y([et((e,t={})=>{let{includeCredentials:r=!1,verbose:a=!1,scope:l="",baseUrl:o=""}=t;return`${e};${r};${a};${l};${o}`})],Vc,"getBackendForSearchType",null);var Fw;(function(e){e.INCLUDE="inc",e.EXCLUDE="exc",e.GREATER_THAN="gt",e.GREATER_OR_EQUAL="gte",e.LESS_THAN="lt",e.LESS_OR_EQUAL="lte"})(Fw||(Fw={}));function q7(e){var t=[],r="";for(r in e)t.push(r);return t}function hg(e){return e=JSON.stringify(e),!(typeof e!="string"||!/^\{[\s\S]*\}$/.test(e))}function G7(e){return e instanceof Array}function Y7(e){return Array.prototype.slice.call(e)}function Ou(){if(!(this instanceof Ou))return new Ou}Ou.prototype={get:function(e){for(var t=e+"=",r=document.cookie.split(";"),a=0;a<r.length;a++){for(var l=r[a];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(t)==0)return decodeURI(l.substring(t.length,l.length))}return!1},set:function(e,t,r){if(hg(e))for(let a in e)this.set(a,e[a],t,r);else if(typeof e=="string"){let a=hg(r)?r:{expires:r},l=a.path!==void 0?`;path=${a.path};path=/`:";path=/",o=a.domain?`;domain=${a.domain}`:"",u=a.secure?";secure":"",n=a.expires!==void 0?a.expires:"";typeof n=="string"&&n!==""?n=new Date(n):typeof n=="number"&&(n=new Date(+new Date+1e3*60*60*24*n)),n!==""&&"toGMTString"in n&&(n=`;expires=${n.toGMTString()}`);let c=a.sameSite?`;SameSite=${a.sameSite}`:"";document.cookie=`${e}=${encodeURI(t)+n+l+o+u+c}`}},remove:function(e){e=G7(e)?e:Y7(arguments);for(var t=0,r=e.length;t<r;t++)this.set(e[t],"",-1);return e},clear:function(e){return e?this.remove(e):this.remove(q7(this.all()))},all:function(){if(document.cookie==="")return{};for(var e=document.cookie.split("; "),t={},r=0,a=e.length;r<a;r++){var l=e[r].split("=");t[decodeURI(l[0])]=decodeURI(l[1])}return t}};var bl=null,pg=function(e,t,r){let a=arguments;if(bl||(bl=Ou()),a.length===0)return bl.all();if(a.length===1&&e===null)return bl.clear();if(a.length===2&&!t)return bl.clear(e);if(typeof e=="string"&&!t)return bl.get(e);if(typeof e=="string"&&t||hg(e))return bl.set(e,t,r)};for(let e in Ou.prototype)pg[e]=Ou.prototype[e];Nn();var K7=class Vw{constructor(t){this.name=t.name,this.source=t.source,this.mtime=t.mtime,this.size=t.size,this.md5=t.md5,this.crc32=t.crc32,this.sha1=t.sha1,this.format=t.format,this.rotation=t.rotation}static fromResponse(t){let r=Eo.shared,a=La.shared,l,o,u;return t.mtime&&(l=r.parseValue(t.mtime)),t.size&&(o=a.parseValue(t.size)),t.rotation&&(u=r.parseValue(t.rotation)),new Vw({name:t.name,source:t.source,mtime:l,size:o,md5:t.md5,crc32:t.crc32,sha1:t.sha1,format:t.format,rotation:u})}},Ww=class qw{constructor(t){this.username=t.username,this.itemname=t.itemname,this.screenname=t.screenname,this.privs=t.privs,this.image_info=t.image_info,this.isArchiveOrgUser=this.username.endsWith("@archive.org");let{itemname:r}=t;this.userid=r.startsWith("@")?r.substring(1):r}static fromUserResponse(t){return new qw({username:t.username,itemname:t.itemname,screenname:t.screenname,privs:t.privs,image_info:K7.fromResponse(t.image_info)})}},Mu;(function(e){e.userNotLoggedIn="UserService.userNotLoggedIn",e.networkError="UserService.networkError",e.decodingError="UserService.decodingError"})(Mu||(Mu={}));var Nh=class extends Error{constructor(e,t){super(t),this.name=e,this.type=e}},Gw=class{constructor(e){var t,r;this.userServiceEndpoint=(t=e==null?void 0:e.userServiceEndpoint)!==null&&t!==void 0?t:"https://archive.org/services/user.php?op=whoami",this.cache=e==null?void 0:e.cache,this.cacheTTL=e==null?void 0:e.cacheTTL,this.userCacheKey=(r=e==null?void 0:e.userCacheKey)!==null&&r!==void 0?r:"loggedInUserInfo"}getLoggedInUser(){return Vt(this,null,function*(){let e=pg.get("logged-in-user");if(e===!1)return{error:new Nh(Mu.userNotLoggedIn)};let t=yield this.getPersistedUser();if(t){let a=Ww.fromUserResponse(t);if(e===a.username)return{success:a}}if(this.fetchPromise)return this.fetchPromise=this.fetchPromise.then(a=>a),this.fetchPromise;this.fetchPromise=this.fetchUser();let r=yield this.fetchPromise;return this.fetchPromise=void 0,r})}fetchUser(){return Vt(this,null,function*(){let e;try{e=yield fetch(this.userServiceEndpoint,{credentials:"include"})}catch(l){return{error:new Nh(Mu.networkError,l.message)}}let t;try{t=yield e.json()}catch(l){return{error:new Nh(Mu.decodingError,l.message)}}if(!t.success||!t.value)return{error:new Nh(Mu.userNotLoggedIn,t.error)};let r=t.value,a=Ww.fromUserResponse(r);return yield this.persistUser(r),{success:a}})}getPersistedUser(){return Vt(this,null,function*(){var e;return(e=this.cache)===null||e===void 0?void 0:e.get(this.userCacheKey)})}persistUser(e){return Vt(this,null,function*(){var t;yield(t=this.cache)===null||t===void 0?void 0:t.set({key:this.userCacheKey,value:e,ttl:this.cacheTTL})})}};Zi();ti();Ar();Zi();ti();Ar();ti();ti();ti();ti();var Z7=class{fetchApiResponse(e,t){return Vt(this,null,function*(){let r={};return t!=null&&t.includeCredentials&&(r.credentials="include"),t!=null&&t.method&&(r.method=t.method),t!=null&&t.body&&(r.body=t.body),t!=null&&t.headers&&(r.headers=t.headers),yield(yield fetch(e,r)).json()})}},J7="https://archive.org",Yw={create(e){let{serviceUrl:t,serviceProtocol:r="https://"}=e,a=t?`${r}${t}`:J7;return new Ih({fetchHandler:new Z7,searchService:Vc.default,userService:new Gw,baseUrl:a})}};function X7(e,t,r){return Vt(this,null,function*(){let a=document.querySelector("modal-manager");if(!a){let o=document.querySelector("body");a=document.createElement("modal-manager"),o==null||o.appendChild(a)}let l=()=>{let o=a!=null?a:document.querySelector("modal-manager");o==null||o.showModal({config:new ac,customModalContent:void 0,userClosedModalCallback:void 0}),o==null||o.closeModal(),a==null||a.removeAttribute("id")};a==null||a.setAttribute("id","create-user-list-modal"),a.showModal({config:new ac({title:we`List settings`,headerColor:"#194880",showCloseButton:!0,showHeaderLogo:!1,closeOnBackdropClick:!0}),userClosedModalCallback:()=>l(),customModalContent:we`
      <iaux-userlist-settings
        .userList=${{id:void 0,list_name:"",description:"",is_private:!1}}
        .userListsService=${e}
        @listModalClosed=${()=>l()}
        @userListError=${o=>{var u,n,c,d;let f=(d=(n=(u=o.detail.error)===null||u===void 0?void 0:u.reason)!==null&&n!==void 0?n:(c=o.detail.error)===null||c===void 0?void 0:c.message)!==null&&d!==void 0?d:"Unknown error from iaux-userlist-settings";console==null||console.error("userListSettingsError",f)}}
        @userListSaving=${()=>Vt(this,null,function*(){t==null||t()})}
        @userListSaved=${o=>Vt(this,null,function*(){yield r==null?void 0:r(o.detail.id),l()})}
      ></iaux-userlist-settings>
    `})})}var Zw=ln`<svg
      viewBox="0 0 100 100"
      xmlns="http://www.w3.org/2000/svg"
      >
    <g fill="currentColor" fill-rule="nonzero">
      <path d="m49.9459358 0c13.7978412 0 25.5896453 4.88776371 35.3754122 14.6632911 9.7857669 9.7755275 14.678652 21.554993 14.678652 35.3383967 0 13.7800281-4.8928851 25.5594936-14.678652 35.3350211-9.7857669 9.7755274-21.577571 14.6632911-35.3754122 14.6632911s-25.5716235-4.8877637-35.3213471-14.6632911c-9.74972353-9.7755275-14.6245887-21.554993-14.6245887-35.3383967-.00224931-9.0014064 2.23243779-17.3524613 6.70406469-25.0531645 4.47162691-7.7007033 10.54380341-13.7834037 18.21652941-18.24810129 7.6727261-4.46469761 16.0145067-6.69704641 25.0253417-6.69704641zm0 6c-7.9548389 0-15.2549008 1.95357387-22.0076943 5.8829701-6.7720278 3.9405885-12.0963254 9.2741139-16.0455165 16.0751171-3.93842488 6.7824623-5.89471047 14.0931257-5.89272481 22.040225 0 12.1941053 4.24437231 22.4500702 12.87283241 31.1013666 8.6242501 8.6470752 18.8695883 12.9003212 31.0731032 12.9003212 12.2065273 0 22.4734846-4.2557068 31.1349929-12.9081521 8.6603017-8.6512398 12.9190715-18.9040965 12.9190715-31.0935357l-.0036695-.6147591c-.1419586-11.9183989-4.4018851-21.9707923-12.915402-30.475401-8.6615083-8.6524453-18.9284656-12.9081521-31.1349929-12.9081521z" />
      <path d="m56 23v22h22v11h-22v22h-11l-.001-22h-21.999v-11h21.999l.001-22z" />
    </g>
  </svg>`,Jw=ln`<svg viewBox="0 0 100 100"
xmlns="http://www.w3.org/2000/svg"
>
<path
  d="m33.3333333 90-33.3333333-33.3333333 13.3333333-13.3333334 20 20 53.3333334-53.3333333 13.3333333 13.3333333z"
  fill-rule="evenodd" fill="currentColor"
/>
</svg>`,Yc=class extends Yt{constructor(){super(...arguments),this.itemId="",this.lists=[],this.closeDropdown=()=>{this.dispatchEvent(new CustomEvent("closeDropdown",{bubbles:!0,composed:!0}))},this.selectDropdown=()=>{this.dispatchEvent(new CustomEvent("selectDropdown",{bubbles:!0,composed:!0}))},this.updateDropdown=()=>{this.dispatchEvent(new CustomEvent("updateDropdown",{bubbles:!0,composed:!0}))},this.optionClicked=(e,t)=>{var r;e.stopPropagation(),(r=t.selectedHandler)===null||r===void 0||r.call(t,t)},this.onSelected=e=>Vt(this,null,function*(){this.selectDropdown();let t=this.lists.find(r=>e.id===r.id)||{};t.item_is_member?yield this.removeMember(t.id,t.member_id):yield this.addMember(t.id),this.updateDropdown()}),this.addCreatedList=e=>Vt(this,null,function*(){yield this.addMember(e),this.dispatchEvent(new CustomEvent("listCreated",{detail:{totalLists:this.lists.length}})),this.updateDropdown()}),this.createList=()=>{this.closeDropdown(),X7(this.userListsService,this.selectDropdown,this.addCreatedList)},this.userListOptions=()=>{let e=[];return e=this.lists.map(t=>this.listOption(t)),e.push(this.newListOption),e}}listOption(e){return{id:e.id,label:this.labelTemplate(e),isSelected:e.item_is_member,selectedHandler:t=>this.onSelected(t)}}get newListOption(){return{id:"create-new-list",label:we` <ia-icon-label>
        <div slot="icon" class="icon-size">${Zw}</div>
        Create new list
      </ia-icon-label>`,selectedHandler:()=>this.createList()}}addMember(e){return Vt(this,null,function*(){var t;yield(t=this.userListsService)===null||t===void 0?void 0:t.addMemberToList(e,{identifier:this.itemId}),this.dispatchEvent(new CustomEvent("addMember",{detail:{listId:e,itemId:this.itemId}}))})}removeMember(e,t){return Vt(this,null,function*(){var r;yield(r=this.userListsService)===null||r===void 0?void 0:r.removeMemberFromList(e,t),this.dispatchEvent(new CustomEvent("removeMember",{detail:{listId:e,itemId:this.itemId}}))})}labelTemplate(e){let{item_is_member:t,list_name:r}=e;return we`
      <ia-icon-label>
        <div slot="icon" class="icon-size">
          ${t?Jw:ei}
        </div>
        <div class="truncate">${r}</div>
      </ia-icon-label>
    `}optionTemplate(e){return we` <li class="${e.isSelected?"selected":""}">
      ${this.buttonTemplate(e)}
    </li>`}buttonTemplate(e){return we`
      <button @click=${t=>this.optionClicked(t,e)}>
        ${e.label}
      </button>
    `}render(){return we` ${this.userListOptions().map(e=>this.optionTemplate(e))} `}static get styles(){return Le`
      :host {
        display: inline;
        background-color: #fff;
      }

      li:hover {
        list-style: none;
        cursor: pointer;
      }

      li {
        background: #fff;
        list-style: none;
        height: 30px;
        cursor: pointer;
        border-bottom: 1px #f1f1f1 solid;
        color: #2c2c2c;
        width: 140px;
        text-overflow: ellipsis;
      }

      li button {
        background: none;
        color: inherit;
        border: none;
        font: inherit;
        cursor: pointer;
        width: 100%;
        padding: 0px 10px;
        font-size: 12px;
        --iconLabelGutterWidth: 8px;
        --iconWidth: 12px;
        margin: 0;
      }

      /* cover the list with the label */
      li > * > :first-child {
        margin: 0;
        display: inline-block;
        height: 30px;
        box-sizing: border-box;
        text-align: left;
        line-height: initial;
      }

      /* color opacity calculator: https://codepen.io/quyenvsp/pen/jOLBBmX
        foreground: #2c2c2c 44;
        background: #fff;
      */
      button:hover {
        /* 10% 234 */
        background-color: #eaeaea;
      }

      button:focus,
      button:focus-visible {
        /* 20% 213 */
        background-color: #d5d5d5;
      }

      button:active {
        /* 30% 192 */
        background-color: #c0c0c0;
      }

      .icon-size {
        width: 12px;
        height: 12px;
      }
    `}};Y([St({type:String})],Yc.prototype,"itemId",void 0);Y([St({type:Array})],Yc.prototype,"lists",void 0);Y([St({type:Object})],Yc.prototype,"userListsService",void 0);Yc=Y([Fi("item-user-lists")],Yc);var Kw=we`<img
  src="https://archive.org/images/loading.gif"
  alt="Loading..."
/>`,Ra=class extends Yt{constructor(){super(...arguments),this.baseHost="archive.org",this.item="",this.selectedCount=0,this.userListData=[],this.dataAction="initial",this.userListsService=Yw.create({serviceUrl:this.baseHost}),this.listID="",this.closeListener=()=>{this.dropdown.open=!1},this.selectListener=()=>{this.dropdown.open=!1,this.dataActionTask.run(["initial"])},this.updateListener=()=>{this.dataActionTask.run(["load"])},this.dataActionTask=new Km(this,{task:t=>Vt(this,[t],function*([e]){if(!this.item||!this.userListsService)return Dc;switch(e){case"load":return this.updateSelectedCount();default:return Dc}}),args:()=>[this.dataAction],autoRun:!1})}dropdownClicked(e){return Vt(this,null,function*(){e.preventDefault(),this.dropdown.open?this.dropdown.open=!1:(yield this.dataActionTask.run(["load"]),this.dropdown.open=!0)})}firstUpdated(){return Vt(this,null,function*(){var e;yield new Promise(t=>setTimeout(t,0)),this.addEventListener("closeDropdown",this.closeListener),this.addEventListener("selectDropdown",this.selectListener),this.addEventListener("updateDropdown",this.updateListener),(e=this.dataActionTask.run(["load"]))===null||e===void 0||e.then(()=>{this.dispatchEvent(new CustomEvent("userItemListDataReceived",{detail:{total_lists:this.userListData.length}}))})})}updated(e){e.has("baseHost")&&this.baseHost&&e.get("baseHost")&&this.reloadService()}reloadService(){this.userListsService=Yw.create({serviceUrl:this.baseHost}),this.dataActionTask.run(["load"])}updateItemUserList(){return Vt(this,null,function*(){var e;let t=yield this.userListsService.fetchOwnListsContainingItem(this.item);if(!t.success)throw new Error((e=t.error)===null||e===void 0?void 0:e.message);return this.userListData=t.success,this.userListData})}updateSelectedCount(){return Vt(this,null,function*(){let e=yield this.updateItemUserList();return this.selectedCount=e.filter(t=>t.item_is_member).length,this.selectedCount})}renderIcon(e){return we`
      <div slot="icon" class="icon-img">${e}</div>
      <div class="label">
        <div class="def">Add to list</div>
        <div class="sm">Lists</div>
      </div>
    `}renderError(){return we`
      <div class="label">User Lists<br />Load Error</div>
      <div class="label-sm">Load<br />Error</div>
    `}mainButton(e){return we`
      <div class="action-bar-text">
        <ia-icon-label>
          ${e?this.renderIcon(e):this.renderError()}
        </ia-icon-label>
      </div>
    `}get isFetched(){return this.dataActionTask.status===Eh.COMPLETE}get isDisabled(){return this.dataActionTask.status!==Eh.COMPLETE}get itemUserListsTemplate(){return we`
      <item-user-lists
        slot="list"
        .itemId=${this.item}
        .lists=${this.userListData}
        .userListsService=${this.userListsService}
        @addMember=${e=>this.dispatchEvent(new CustomEvent("memberAdded",{detail:Ir(ur({},e.detail),{total_items:this.selectedCount})}))}
        @removeMember=${e=>this.dispatchEvent(new CustomEvent("memberRemoved",{detail:Ir(ur({},e.detail),{total_items:this.selectedCount})}))}
        @userListError=${e=>{this.dispatchEvent(new CustomEvent("userListError",{detail:ur({},e.detail)}))}}
        @listCreated=${e=>{this.dispatchEvent(new CustomEvent("listCreated",{detail:Ir(ur({},e.detail),{total_lists:this.selectedCount})}))}}
      >
      </item-user-lists>
    `}render(){return we`
      <div class="list-container">
        <ia-dropdown
          class="list-dropdown"
          ?isDisabled=${this.isDisabled}
          ?openViaCaret=${!1}
          ?isCustomList=${!0}
          ?closeOnEscape=${!0}
          ?closeOnBackdropClick=${!0}
          ?hasCustomClickHandler=${!0}
          @click=${this.isDisabled?ei:this.dropdownClicked}
        >
          <div class="list-title" slot="dropdown-label">
            ${this.dataActionTask.render({initial:()=>this.mainButton(Kw),pending:()=>this.mainButton(Kw),complete:e=>this.mainButton(e===0?Zw:Jw),error:()=>this.mainButton(void 0)})}
          </div>
          ${this.itemUserListsTemplate}
        </ia-dropdown>
      </div>
    `}};Ra.styles=Le`
    :host {
      display: block;
    }

    ia-icon-label {
      cursor: pointer;
      display: flex;
    }

    .icon-img {
      height: 16px;
      width: 16px;
      padding-bottom: 2px;
    }

    div.list-title {
      font-weight: 600;
      color: #2c2c2c;
    }

    ia-dropdown {
      --dropdownBgColor: #fff;
      --dropdownItemPaddingRight: 0;
      --dropdownItemPaddingLeft: 2px;
      --dropdownBorderColor: #2c2c2c;
      --dropdownBorderWidth: 2px;
      --iconLabelGutterWidth: 4px;
      --iconWidth: 10px;
      --dropdownOffsetTop: 2px;
      --buttonSlotPaddingRight: 0;
      --dropdownMainButtonFlexDirection: column;
      --dropdownMainButtonPadding: 6px 4px;
      --dropdownMainButtonHoverBgColor: rgba(44, 44, 44, 0.1);
      --dropdownMainButtonActiveBgColor: rgba(44, 44, 44, 0.3);
      --iconLabelGutterWidth: 0;
      --iconWidth: 16px;
      --dropdownMainButtonBorder: 2px solid #2c2c2c;
      --dropdownMainButtonBorderRadius: 3px;
    }

    .action-bar-text {
      font-size: 14px;
      font-weight: normal;
      -webkit-user-select: none;
      user-select: none;
      --iconLabelFlexDirection: column;
      --iconLabelGutterWidth: 0;
      --iconWidth: 16px;
      font-family: inherit;
    }

    .action-bar-text .label {
      display: flex;
      align-items: center;
    }

    /* inside button.click-main, classname from details.inc buttons */
    @media (min-width: 992px) {
      .action-bar-text .label {
        height: 20px;
      }
      .action-bar-text .label .sm {
        display: none;
      }
    }

    /* List button */
    @media (max-width: 991px) {
      .action-bar-text .label {
        height: 15px;
      }
      .action-bar-text .label .def {
        display: none;
      }
      .action-bar-text .label .sm {
        font-size: 13px;
      }
    }

    .click-backdrop {
      position: fixed;
      top: 0px;
      left: 0px;
      width: 100vw;
      height: 100vh;
      z-index: 1;
      background-color: transparent;
    }
  `;Y([St({type:String})],Ra.prototype,"baseHost",void 0);Y([St({type:String})],Ra.prototype,"item",void 0);Y([Er()],Ra.prototype,"selectedCount",void 0);Y([Er({hasChanged(e,t){if((e==null?void 0:e.length)!==(t==null?void 0:t.length))return!0;for(let r=0;r<e.length;r+=1)if(e[r].item_is_member!==t[r].item_is_member)return!0;return!1}})],Ra.prototype,"userListData",void 0);Y([Er()],Ra.prototype,"dataAction",void 0);Y([Er()],Ra.prototype,"userListsService",void 0);Y([wr("ia-dropdown")],Ra.prototype,"dropdown",void 0);Ra=Y([Fi("ia-item-user-lists")],Ra);No();document.addEventListener("DOMContentLoaded",()=>{var o;let e=document.querySelector("ia-item-user-lists");if(!e)return;if(window.archive_analytics){let u=(o=archive_analytics.mediaType)!=null?o:"unknown mediatype",n="DetailsPageUserLists";e.addEventListener("userItemListDataReceived",c=>{var f,p;let d=(p=(f=c.detail)==null?void 0:f.listCount)!=null?p:0;ir("UserLists - onload, we send total lists",c.detail),archive_analytics.send_event(n,"onload",d)}),e.addEventListener("memberAdded",c=>{ir("UserLists - memberAdded, we send mediatype",u),archive_analytics.send_event(n,"memberAdded",u)}),e.addEventListener("memberRemoved",c=>{ir("UserLists - memberRemoved, we send mediatype",u),archive_analytics.send_event(n,"memberRemoved",u)}),e.addEventListener("listCreated",()=>{ir("UserLists - listCreated, we send mediatype",u),archive_analytics.send_event(n,"listCreated",u)})}let t="UserLists-itemBtnCalloutDismissed",r=document.querySelector("#item-user-lists > .callout");function a(){var u;(u=window.localStorage)==null||u.setItem(t,!0),r==null||r.remove(),e==null||e.setAttribute("aria-label","Add to list"),e==null||e.removeEventListener("click",a)}function l(){var n;!!((n=window.localStorage)!=null&&n.getItem(t))||(e==null||e.setAttribute("aria-label","New feature: Add to list"),r==null||r.toggleAttribute("hidden",!1),e==null||e.addEventListener("click",a),r==null||r.addEventListener("click",a))}l()});window.$=Ke;function _T(e,t=15e3,r=100){return Vt(this,null,function*(){let a=t,l=document;for(let o=0;o<e.length;o++){let u=null;for(;!(u=l.querySelector(e[o]));){if(a<=0)throw new Error(`Timeout waiting for selector ${e[o]}`);a-=r,yield new Promise(n=>setTimeout(n,r))}l=u.shadowRoot||u}return l.host||l})}var kv=class extends Sn{constructor(){super(),Vm(this)}static get styles(){return Le`
      ${Sn.styles}

      :host {
        --featureFeedbackBetaButtonTextColor: currentColor;
        --featureFeedbackPopupBackgroundColor: transparent;
        --featureFeedbackPopupBlockerColor: transparent;
        --featureFeedbackCancelButtonColor: transparent;
      }


      #beta-button {
        border-color: currentColor;
      }

      #container {
        width: 100%;
        display: inline;
      }

      #popup-background {
        position: unset;
        background-color: unset;
        overflow: unset;
        margin-top: 10px;
      }

      #popup-background.closed {
        display: none;
      }

      #popup {
        position: unset;
        background-color: unset;
        border: unset;
        box-shadow: unset;
        padding: unset;
        margin: unset;
      }

      .beta-button-thumb svg {
        fill: currentColor;
        filter: unset;
        opacity: 0.8;
      }

      #comments {
        background-color: revert;
        border: revert;
      }
    `}};customElements.define("br-feature-feedback",kv);(function(){if(!window.archive_analytics)return;let t=document.head.querySelector('meta[property="mediatype"]');if(!t||t.getAttribute("content")!=="texts")return;function a(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)}setTimeout(()=>{let l=document.getElementsByClassName("BRpagecontainer")||[];for(let o=0;o<l.length;o++)if(a(l[o]))return;window.archive_analytics.send_event("BookReader","SlowLoad8s")},8e3)})();Ke(function(){return Vt(this,null,function*(){var a,l;let t=!Ke(".js-bookreader").length,r=/_demo=translate/i.test(window.location.search);if(yield Promise.resolve().then(()=>(i2(),t2)),yield Promise.all([Promise.resolve().then(()=>(s2(),a2)),Promise.resolve().then(()=>(h2(),d2))]),!t){let o=((a=document.head.querySelector('meta[name="AB:BrExperimentsPanel"]'))==null?void 0:a.getAttribute("content"))==="On";yield Promise.resolve().then(()=>(v2(),g2)),yield Promise.all([Promise.resolve().then(()=>(k2(),_2)),Promise.resolve().then(()=>(E2(),C2)),Promise.resolve().then(()=>(M2(),O2)),Promise.resolve().then(()=>(j2(),R2)),Promise.resolve().then(()=>(H2(),z2)),r&&Promise.resolve().then(()=>(a_(),o_)),o&&Promise.resolve().then(()=>(d_(),c_))])}yield Promise.resolve().then(()=>(h_(),xC)),yield Promise.resolve().then(()=>(yk(),bk)),ir("** BR Resources loaded **",(l=window.BookReader)==null?void 0:l.version),t?(yield Promise.resolve().then(()=>(u5(),l5)),ir("** Liner Notes loaded **")):(yield Promise.all([Promise.resolve().then(()=>(A5(),S5)),Promise.resolve().then(()=>(C5(),yT)),Promise.resolve().then(()=>(E5(),wT))]),ir("** BR Resources loaded **"),r&&(_T(["ia-book-theater","ia-bookreader","iaux-item-navigator"]).then(o=>{o.openMenu="translate",o.menuOpened=!0}),document.addEventListener("BRJSIA:PostInit",()=>{window.br.plugins.experiments&&(window.br.plugins.experiments.allExperiments.find(o=>o.name==="translate").enabled=!0,window.br.plugins.experiments._saveExperimentStates())},{once:!0}))),Ke(".js-bookreader").each((o,u)=>{let n=JSON.parse(Ke(u).val());Ke.ajax({url:n.url,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(c=>{let d=Br.paramsToJSON(),f=we`
        Translations are in <b>beta</b>.

        <br-feature-feedback
          featureIdentifier="BookReaderTranslations"
          displayMode="button"
          prompt="Translations Feedback"
          buttonText="Feedback"
        ></br-feature-feedback>
      `,p={el:"#BookReader",urlHistoryBasePath:n.urlHistoryBasePath,urlMode:"history",urlTrackedParams:["page","search","mode"],enableBookTitleLink:!1,bookUrlText:null,startFullscreen:d.view==="theater",onePage:{autofit:n.autofit},showToolbar:!1,autoResize:!1,enableFSLogoShortcut:!0,enableBookmarks:!0,enableMultipleBooks:!1,purchaseUrl:n.purchase_url,plugins:{resume:{cookiePath:n.resumeCookiePath},search:{initialSearchTerm:n.initialSearchTerm},translate:{panelDisclaimerText:f}}};n.br_ui==="embed"&&(p.mode=1,p.ui="embed",p.enableFSLogoShortcut=!1),n.has_multiple_readable_files&&(p.enableMultipleBooks=!0,p.multipleBooksList=n.multipleBooksList),window.BookReaderJSIAinit(c.data,p);let v=decodeURIComponent(d.options).split("|");(d.wrapper==="false"||v.indexOf("view-only")>-1)&&p.ui!=="embed"&&Ke("#IABookReaderMessageWrapper").remove(),window.archive_analytics&&(window.archive_analytics.values.bookreader="open")})})})});})();
/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.6.1
   * https://jquery.com/
   *
   * Includes Sizzle.js
   * https://sizzlejs.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2022-08-26T17:52Z
   *)
*/
/*!
JW Player version 8.22.0
Copyright (c) 2021, JW Player, All Rights Reserved 
https://github.com/jwplayer/jwplayer/blob/v8.22.0/README.md

This source code and its use and distribution is subject to the terms and conditions of the applicable license agreement. 
https://www.jwplayer.com/tos/

This product includes portions of other software. For the full text of licenses, see below:

JW Player Third Party Software Notices and/or Additional Terms and Conditions

**************************************************************************************************
The following software is used under Apache License 2.0
**************************************************************************************************

vtt.js v0.13.0
Copyright (c) 2021 Mozilla (http://mozilla.org)
https://github.com/mozilla/vtt.js/blob/v0.13.0/LICENSE

* * *

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.

You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and
limitations under the License.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under MIT license
**************************************************************************************************

Underscore.js v1.6.0
Copyright (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative
https://github.com/jashkenas/underscore/blob/1.6.0/LICENSE

Backbone backbone.events.js v1.1.2
Copyright (c) 2010-2014 Jeremy Ashkenas, DocumentCloud
https://github.com/jashkenas/backbone/blob/1.1.2/LICENSE

Promise Polyfill v7.1.1
Copyright (c) 2014 Taylor Hakes and Forbes Lindesay
https://github.com/taylorhakes/promise-polyfill/blob/v7.1.1/LICENSE

can-autoplay.js v3.0.0
Copyright (c) 2017 video-dev
https://github.com/video-dev/can-autoplay/blob/v3.0.0/LICENSE

focus-options-polyfill v1.5.0
Copyright (c) 2018 Juan Valencia
https://github.com/calvellido/focus-options-polyfill/blob/v1.5.0/LICENSE

* * *

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under W3C license
**************************************************************************************************

Intersection Observer v0.5.0
Copyright (c) 2016 Google Inc. (http://google.com)
https://github.com/w3c/IntersectionObserver/blob/v0.5.0/LICENSE.md

* * *

W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE
Status: This license takes effect 13 May, 2015.

This work is being provided by the copyright holders under the following license.

License
By obtaining and/or copying this work, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions.

Permission to copy, modify, and distribute this work, with or without modification, for any purpose and without fee or royalty is hereby granted, provided that you include the following on ALL copies of the work or portions thereof, including modifications:

The full text of this NOTICE in a location viewable to users of the redistributed or derivative work.

Any pre-existing intellectual property disclaimers, notices, or terms and conditions. If none exist, the W3C Software and Document Short Notice should be included.

Notice of any changes or modifications, through a copyright statement on the new code or document such as "This software or document includes material copied from or derived from [title and URI of the W3C document]. Copyright  [YEAR] W3C (MIT, ERCIM, Keio, Beihang)."

Disclaimers
THIS WORK IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE OR DOCUMENT WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENT.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to the work without specific, written prior permission. Title to copyright in this work will at all times remain with copyright holders.
*/
/*! Bundled license information:

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/style-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

jqueryui/jquery-ui.min.js:
  (*! jQuery UI - v1.11.1 - 2014-08-13
  * http://jqueryui.com
  * Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
  * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

tablesorter/dist/js/jquery.tablesorter.combined.js:
  (*! tablesorter (FORK) - updated 2024-08-13 (v2.32.0)*)
  (*! TableSorter (FORK) v2.32.0 *)
  (*! Widget: storage - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: uitheme - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: columns - updated 5/24/2017 (v2.28.11) *)
  (*! Widget: filter - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) *)
  (*! Widget: resizable - updated 2018-03-26 (v2.30.2) *)
  (*! Widget: saveSort - updated 2018-03-19 (v2.30.1) *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/BookReader.js:
  (*! For license information please see BookReader.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.search.js:
  (*! For license information please see plugin.search.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.tts.js:
  (*! For license information please see plugin.tts.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.chapters.js:
  (*! For license information please see plugin.chapters.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.text_selection.js:
  (*! For license information please see plugin.text_selection.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.translate.js:
  (*! For license information please see plugin.translate.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.experiments.js:
  (*! For license information please see plugin.experiments.js.LICENSE.txt *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/cache.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/
/*! Bundled license information:

@lit/localize/internal/str-tag.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/default-msg.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/locale-status-event.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/types.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/localized-controller.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/localized-decorator.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/deferred.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/fnv1a64.js:
  (**
   * @license
   * Copyright 2014 Travis Webb
   * SPDX-License-Identifier: MIT
   *)

@lit/localize/internal/id-generation.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/runtime-msg.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/init/runtime.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/init/transform.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/lit-localize.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT  Zeno Rocha
   *)
*/
/*! Bundled license information:

magic-snowflakes/dist/snowflakes.esm.js:
  (*! Snowflakes |  2023 Denis Seleznev | MIT License | https://github.com/hcodes/snowflakes/ *)
*/
/*! Bundled license information:

currency.js/dist/currency.es.js:
  (*!
   * currency.js - v2.0.4
   * http://scurker.github.io/currency.js
   *
   * Copyright (c) 2021 Jason Wilson
   * Released under MIT license
   *)
*/
/*! Bundled license information:

@lit/localize/internal/locale-status-event.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/str-tag.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/types.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/default-msg.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/localized-controller.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/localized-decorator.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/deferred.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/fnv1a64.js:
  (**
   * @license
   * Copyright 2014 Travis Webb
   * SPDX-License-Identifier: MIT
   *)

@lit/localize/internal/id-generation.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/runtime-msg.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/init/runtime.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/init/transform.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/lit-localize.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE *)
*/
/*! Bundled license information:

@lit/task/task.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
// @license-end
//# sourceMappingURL=details-bookreader.min.js.map
